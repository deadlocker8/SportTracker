/*! For license information please see libs.js.LICENSE.txt */
(()=>{var t,e,n,r,i={76:t=>{"use strict";t.exports=Function.prototype.call},414:t=>{"use strict";t.exports=Math.round},453:(t,e,n)=>{"use strict";var r,i=n(9612),a=n(9383),o=n(1237),s=n(9290),l=n(9538),c=n(8068),u=n(9675),h=n(5345),d=n(1514),f=n(8968),p=n(6188),m=n(8002),g=n(5880),v=n(414),y=n(3093),_=Function,x=function(t){try{return _('"use strict"; return ('+t+").constructor;")()}catch(t){}},b=n(5795),w=n(655),M=function(){throw new u},T=b?function(){try{return M}catch(t){try{return b(arguments,"callee").get}catch(t){return M}}}():M,k=n(4039)(),A=n(3628),L=n(1064),C=n(8648),S=n(1002),P=n(76),D={},O="undefined"!=typeof Uint8Array&&A?A(Uint8Array):r,E={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":k&&A?A([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"undefined"==typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":D,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":k&&A?A(A([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&k&&A?A((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&k&&A?A((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":k&&A?A(""[Symbol.iterator]()):r,"%Symbol%":k?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":T,"%TypedArray%":O,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":P,"%Function.prototype.apply%":S,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":L,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":v,"%Math.sign%":y,"%Reflect.getPrototypeOf%":C};if(A)try{null.error}catch(t){var I=A(A(t));E["%Error.prototype%"]=I}var z=function t(e){var n;if("%AsyncFunction%"===e)n=x("async function () {}");else if("%GeneratorFunction%"===e)n=x("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=x("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&A&&(n=A(i.prototype))}return E[e]=n,n},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=n(6743),F=n(9957),j=R.call(P,Array.prototype.concat),B=R.call(S,Array.prototype.splice),H=R.call(P,String.prototype.replace),U=R.call(P,String.prototype.slice),Z=R.call(P,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Y=/\\(\\)?/g,W=function(t,e){var n,r=t;if(F(N,r)&&(r="%"+(n=N[r])[0]+"%"),F(E,r)){var i=E[r];if(i===D&&(i=z(r)),void 0===i&&!e)throw new u("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new c("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new u('"allowMissing" argument must be a boolean');if(null===Z(/^%?[^%]*%?$/,t))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=U(t,0,1),n=U(t,-1);if("%"===e&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return H(t,V,(function(t,e,n,i){r[r.length]=n?H(i,Y,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=W("%"+r+"%",e),a=i.name,o=i.value,s=!1,l=i.alias;l&&(r=l[0],B(n,j([0,1],l)));for(var h=1,d=!0;h<n.length;h+=1){var f=n[h],p=U(f,0,1),m=U(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&d||(s=!0),F(E,a="%"+(r+="."+f)+"%"))o=E[a];else if(null!=o){if(!(f in o)){if(!e)throw new u("base intrinsic for "+t+" exists, but the property is not available.");return}if(b&&h+1>=n.length){var g=b(o,f);o=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:o[f]}else d=F(o,f),o=o[f];d&&!s&&(E[a]=o)}}return o}},475:t=>{function e(t){return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}e.keys=()=>[],e.resolve=e,e.id=475,t.exports=e},507:(t,e,n)=>{"use strict";var r=n(453),i=n(6556),a=n(8859),o=n(9675),s=r("%Map%",!0),l=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),u=i("Map.prototype.has",!0),h=i("Map.prototype.delete",!0),d=i("Map.prototype.size",!0);t.exports=!!s&&function(){var t,e={assert:function(t){if(!e.has(t))throw new o("Side channel does not contain "+a(t))},delete:function(e){if(t){var n=h(t,e);return 0===d(t)&&(t=void 0),n}return!1},get:function(e){if(t)return l(t,e)},has:function(e){return!!t&&u(t,e)},set:function(e,n){t||(t=new s),c(t,e,n)}};return e}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},601:(t,e,n)=>{"use strict";t.exports=n.p+"26d37ca54a5d551da22c.gif"},655:t=>{"use strict";var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}t.exports=e},877:(t,e,n)=>{"use strict";t.exports=n.p+"80aa8fdf6f5a0bcb6a92.png"},920:(t,e,n)=>{"use strict";var r=n(9675),i=n(8859),a=n(4803),o=n(507),s=n(2271)||o||a;t.exports=function(){var t,e={assert:function(t){if(!e.has(t))throw new r("Side channel does not contain "+i(t))},delete:function(e){return!!t&&t.delete(e)},get:function(e){return t&&t.get(e)},has:function(e){return!!t&&t.has(e)},set:function(e,n){t||(t=s()),t.set(e,n)}};return e}},1002:t=>{"use strict";t.exports=Function.prototype.apply},1064:(t,e,n)=>{"use strict";var r=n(9612);t.exports=r.getPrototypeOf||null},1081:(t,e,n)=>{"use strict";n.d(e,{A:()=>g});var r=n(1601),i=n.n(r),a=n(6314),o=n.n(a),s=n(4417),l=n.n(s),c=new URL(n(2425),n.b),u=new URL(n(9842),n.b),h=new URL(n(6991),n.b),d=o()(i()),f=l()(c),p=l()(u),m=l()(h);d.push([t.id,`/* required styles */\n\n.leaflet-pane,\n.leaflet-tile,\n.leaflet-marker-icon,\n.leaflet-marker-shadow,\n.leaflet-tile-container,\n.leaflet-pane > svg,\n.leaflet-pane > canvas,\n.leaflet-zoom-box,\n.leaflet-image-layer,\n.leaflet-layer {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\t}\n.leaflet-container {\n\toverflow: hidden;\n\t}\n.leaflet-tile,\n.leaflet-marker-icon,\n.leaflet-marker-shadow {\n\t-webkit-user-select: none;\n\t   -moz-user-select: none;\n\t        user-select: none;\n\t  -webkit-user-drag: none;\n\t}\n/* Prevents IE11 from highlighting tiles in blue */\n.leaflet-tile::selection {\n\tbackground: transparent;\n}\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\n.leaflet-safari .leaflet-tile {\n\timage-rendering: -webkit-optimize-contrast;\n\t}\n/* hack that prevents hw layers "stretching" when loading new tiles */\n.leaflet-safari .leaflet-tile-container {\n\twidth: 1600px;\n\theight: 1600px;\n\t-webkit-transform-origin: 0 0;\n\t}\n.leaflet-marker-icon,\n.leaflet-marker-shadow {\n\tdisplay: block;\n\t}\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\n.leaflet-container .leaflet-overlay-pane svg {\n\tmax-width: none !important;\n\tmax-height: none !important;\n\t}\n.leaflet-container .leaflet-marker-pane img,\n.leaflet-container .leaflet-shadow-pane img,\n.leaflet-container .leaflet-tile-pane img,\n.leaflet-container img.leaflet-image-layer,\n.leaflet-container .leaflet-tile {\n\tmax-width: none !important;\n\tmax-height: none !important;\n\twidth: auto;\n\tpadding: 0;\n\t}\n\n.leaflet-container img.leaflet-tile {\n\t/* See: https://bugs.chromium.org/p/chromium/issues/detail?id=600120 */\n\tmix-blend-mode: plus-lighter;\n}\n\n.leaflet-container.leaflet-touch-zoom {\n\t-ms-touch-action: pan-x pan-y;\n\ttouch-action: pan-x pan-y;\n\t}\n.leaflet-container.leaflet-touch-drag {\n\t-ms-touch-action: pinch-zoom;\n\t/* Fallback for FF which doesn't support pinch-zoom */\n\ttouch-action: none;\n\ttouch-action: pinch-zoom;\n}\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\n\t-ms-touch-action: none;\n\ttouch-action: none;\n}\n.leaflet-container {\n\t-webkit-tap-highlight-color: transparent;\n}\n.leaflet-container a {\n\t-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);\n}\n.leaflet-tile {\n\tfilter: inherit;\n\tvisibility: hidden;\n\t}\n.leaflet-tile-loaded {\n\tvisibility: inherit;\n\t}\n.leaflet-zoom-box {\n\twidth: 0;\n\theight: 0;\n\t-moz-box-sizing: border-box;\n\t     box-sizing: border-box;\n\tz-index: 800;\n\t}\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\n.leaflet-overlay-pane svg {\n\t-moz-user-select: none;\n\t}\n\n.leaflet-pane         { z-index: 400; }\n\n.leaflet-tile-pane    { z-index: 200; }\n.leaflet-overlay-pane { z-index: 400; }\n.leaflet-shadow-pane  { z-index: 500; }\n.leaflet-marker-pane  { z-index: 600; }\n.leaflet-tooltip-pane   { z-index: 650; }\n.leaflet-popup-pane   { z-index: 700; }\n\n.leaflet-map-pane canvas { z-index: 100; }\n.leaflet-map-pane svg    { z-index: 200; }\n\n.leaflet-vml-shape {\n\twidth: 1px;\n\theight: 1px;\n\t}\n.lvml {\n\tbehavior: url(#default#VML);\n\tdisplay: inline-block;\n\tposition: absolute;\n\t}\n\n\n/* control positioning */\n\n.leaflet-control {\n\tposition: relative;\n\tz-index: 800;\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\n\tpointer-events: auto;\n\t}\n.leaflet-top,\n.leaflet-bottom {\n\tposition: absolute;\n\tz-index: 1000;\n\tpointer-events: none;\n\t}\n.leaflet-top {\n\ttop: 0;\n\t}\n.leaflet-right {\n\tright: 0;\n\t}\n.leaflet-bottom {\n\tbottom: 0;\n\t}\n.leaflet-left {\n\tleft: 0;\n\t}\n.leaflet-control {\n\tfloat: left;\n\tclear: both;\n\t}\n.leaflet-right .leaflet-control {\n\tfloat: right;\n\t}\n.leaflet-top .leaflet-control {\n\tmargin-top: 10px;\n\t}\n.leaflet-bottom .leaflet-control {\n\tmargin-bottom: 10px;\n\t}\n.leaflet-left .leaflet-control {\n\tmargin-left: 10px;\n\t}\n.leaflet-right .leaflet-control {\n\tmargin-right: 10px;\n\t}\n\n\n/* zoom and fade animations */\n\n.leaflet-fade-anim .leaflet-popup {\n\topacity: 0;\n\t-webkit-transition: opacity 0.2s linear;\n\t   -moz-transition: opacity 0.2s linear;\n\t        transition: opacity 0.2s linear;\n\t}\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\n\topacity: 1;\n\t}\n.leaflet-zoom-animated {\n\t-webkit-transform-origin: 0 0;\n\t    -ms-transform-origin: 0 0;\n\t        transform-origin: 0 0;\n\t}\nsvg.leaflet-zoom-animated {\n\twill-change: transform;\n}\n\n.leaflet-zoom-anim .leaflet-zoom-animated {\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\n\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\n\t}\n.leaflet-zoom-anim .leaflet-tile,\n.leaflet-pan-anim .leaflet-tile {\n\t-webkit-transition: none;\n\t   -moz-transition: none;\n\t        transition: none;\n\t}\n\n.leaflet-zoom-anim .leaflet-zoom-hide {\n\tvisibility: hidden;\n\t}\n\n\n/* cursors */\n\n.leaflet-interactive {\n\tcursor: pointer;\n\t}\n.leaflet-grab {\n\tcursor: -webkit-grab;\n\tcursor:    -moz-grab;\n\tcursor:         grab;\n\t}\n.leaflet-crosshair,\n.leaflet-crosshair .leaflet-interactive {\n\tcursor: crosshair;\n\t}\n.leaflet-popup-pane,\n.leaflet-control {\n\tcursor: auto;\n\t}\n.leaflet-dragging .leaflet-grab,\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\n.leaflet-dragging .leaflet-marker-draggable {\n\tcursor: move;\n\tcursor: -webkit-grabbing;\n\tcursor:    -moz-grabbing;\n\tcursor:         grabbing;\n\t}\n\n/* marker & overlays interactivity */\n.leaflet-marker-icon,\n.leaflet-marker-shadow,\n.leaflet-image-layer,\n.leaflet-pane > svg path,\n.leaflet-tile-container {\n\tpointer-events: none;\n\t}\n\n.leaflet-marker-icon.leaflet-interactive,\n.leaflet-image-layer.leaflet-interactive,\n.leaflet-pane > svg path.leaflet-interactive,\nsvg.leaflet-image-layer.leaflet-interactive path {\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\n\tpointer-events: auto;\n\t}\n\n/* visual tweaks */\n\n.leaflet-container {\n\tbackground: #ddd;\n\toutline-offset: 1px;\n\t}\n.leaflet-container a {\n\tcolor: #0078A8;\n\t}\n.leaflet-zoom-box {\n\tborder: 2px dotted #38f;\n\tbackground: rgba(255,255,255,0.5);\n\t}\n\n\n/* general typography */\n.leaflet-container {\n\tfont-family: "Helvetica Neue", Arial, Helvetica, sans-serif;\n\tfont-size: 12px;\n\tfont-size: 0.75rem;\n\tline-height: 1.5;\n\t}\n\n\n/* general toolbar styles */\n\n.leaflet-bar {\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\n\tborder-radius: 4px;\n\t}\n.leaflet-bar a {\n\tbackground-color: #fff;\n\tborder-bottom: 1px solid #ccc;\n\twidth: 26px;\n\theight: 26px;\n\tline-height: 26px;\n\tdisplay: block;\n\ttext-align: center;\n\ttext-decoration: none;\n\tcolor: black;\n\t}\n.leaflet-bar a,\n.leaflet-control-layers-toggle {\n\tbackground-position: 50% 50%;\n\tbackground-repeat: no-repeat;\n\tdisplay: block;\n\t}\n.leaflet-bar a:hover,\n.leaflet-bar a:focus {\n\tbackground-color: #f4f4f4;\n\t}\n.leaflet-bar a:first-child {\n\tborder-top-left-radius: 4px;\n\tborder-top-right-radius: 4px;\n\t}\n.leaflet-bar a:last-child {\n\tborder-bottom-left-radius: 4px;\n\tborder-bottom-right-radius: 4px;\n\tborder-bottom: none;\n\t}\n.leaflet-bar a.leaflet-disabled {\n\tcursor: default;\n\tbackground-color: #f4f4f4;\n\tcolor: #bbb;\n\t}\n\n.leaflet-touch .leaflet-bar a {\n\twidth: 30px;\n\theight: 30px;\n\tline-height: 30px;\n\t}\n.leaflet-touch .leaflet-bar a:first-child {\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n\t}\n.leaflet-touch .leaflet-bar a:last-child {\n\tborder-bottom-left-radius: 2px;\n\tborder-bottom-right-radius: 2px;\n\t}\n\n/* zoom control */\n\n.leaflet-control-zoom-in,\n.leaflet-control-zoom-out {\n\tfont: bold 18px 'Lucida Console', Monaco, monospace;\n\ttext-indent: 1px;\n\t}\n\n.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\n\tfont-size: 22px;\n\t}\n\n\n/* layers control */\n\n.leaflet-control-layers {\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\n\tbackground: #fff;\n\tborder-radius: 5px;\n\t}\n.leaflet-control-layers-toggle {\n\tbackground-image: url(${f});\n\twidth: 36px;\n\theight: 36px;\n\t}\n.leaflet-retina .leaflet-control-layers-toggle {\n\tbackground-image: url(${p});\n\tbackground-size: 26px 26px;\n\t}\n.leaflet-touch .leaflet-control-layers-toggle {\n\twidth: 44px;\n\theight: 44px;\n\t}\n.leaflet-control-layers .leaflet-control-layers-list,\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\n\tdisplay: none;\n\t}\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\n\tdisplay: block;\n\tposition: relative;\n\t}\n.leaflet-control-layers-expanded {\n\tpadding: 6px 10px 6px 6px;\n\tcolor: #333;\n\tbackground: #fff;\n\t}\n.leaflet-control-layers-scrollbar {\n\toverflow-y: scroll;\n\toverflow-x: hidden;\n\tpadding-right: 5px;\n\t}\n.leaflet-control-layers-selector {\n\tmargin-top: 2px;\n\tposition: relative;\n\ttop: 1px;\n\t}\n.leaflet-control-layers label {\n\tdisplay: block;\n\tfont-size: 13px;\n\tfont-size: 1.08333em;\n\t}\n.leaflet-control-layers-separator {\n\theight: 0;\n\tborder-top: 1px solid #ddd;\n\tmargin: 5px -10px 5px -6px;\n\t}\n\n/* Default icon URLs */\n.leaflet-default-icon-path { /* used only in path-guessing heuristic, see L.Icon.Default */\n\tbackground-image: url(${m});\n\t}\n\n\n/* attribution and scale controls */\n\n.leaflet-container .leaflet-control-attribution {\n\tbackground: #fff;\n\tbackground: rgba(255, 255, 255, 0.8);\n\tmargin: 0;\n\t}\n.leaflet-control-attribution,\n.leaflet-control-scale-line {\n\tpadding: 0 5px;\n\tcolor: #333;\n\tline-height: 1.4;\n\t}\n.leaflet-control-attribution a {\n\ttext-decoration: none;\n\t}\n.leaflet-control-attribution a:hover,\n.leaflet-control-attribution a:focus {\n\ttext-decoration: underline;\n\t}\n.leaflet-attribution-flag {\n\tdisplay: inline !important;\n\tvertical-align: baseline !important;\n\twidth: 1em;\n\theight: 0.6669em;\n\t}\n.leaflet-left .leaflet-control-scale {\n\tmargin-left: 5px;\n\t}\n.leaflet-bottom .leaflet-control-scale {\n\tmargin-bottom: 5px;\n\t}\n.leaflet-control-scale-line {\n\tborder: 2px solid #777;\n\tborder-top: none;\n\tline-height: 1.1;\n\tpadding: 2px 5px 1px;\n\twhite-space: nowrap;\n\t-moz-box-sizing: border-box;\n\t     box-sizing: border-box;\n\tbackground: rgba(255, 255, 255, 0.8);\n\ttext-shadow: 1px 1px #fff;\n\t}\n.leaflet-control-scale-line:not(:first-child) {\n\tborder-top: 2px solid #777;\n\tborder-bottom: none;\n\tmargin-top: -2px;\n\t}\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\n\tborder-bottom: 2px solid #777;\n\t}\n\n.leaflet-touch .leaflet-control-attribution,\n.leaflet-touch .leaflet-control-layers,\n.leaflet-touch .leaflet-bar {\n\tbox-shadow: none;\n\t}\n.leaflet-touch .leaflet-control-layers,\n.leaflet-touch .leaflet-bar {\n\tborder: 2px solid rgba(0,0,0,0.2);\n\tbackground-clip: padding-box;\n\t}\n\n\n/* popup */\n\n.leaflet-popup {\n\tposition: absolute;\n\ttext-align: center;\n\tmargin-bottom: 20px;\n\t}\n.leaflet-popup-content-wrapper {\n\tpadding: 1px;\n\ttext-align: left;\n\tborder-radius: 12px;\n\t}\n.leaflet-popup-content {\n\tmargin: 13px 24px 13px 20px;\n\tline-height: 1.3;\n\tfont-size: 13px;\n\tfont-size: 1.08333em;\n\tmin-height: 1px;\n\t}\n.leaflet-popup-content p {\n\tmargin: 17px 0;\n\tmargin: 1.3em 0;\n\t}\n.leaflet-popup-tip-container {\n\twidth: 40px;\n\theight: 20px;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-top: -1px;\n\tmargin-left: -20px;\n\toverflow: hidden;\n\tpointer-events: none;\n\t}\n.leaflet-popup-tip {\n\twidth: 17px;\n\theight: 17px;\n\tpadding: 1px;\n\n\tmargin: -10px auto 0;\n\tpointer-events: auto;\n\n\t-webkit-transform: rotate(45deg);\n\t   -moz-transform: rotate(45deg);\n\t    -ms-transform: rotate(45deg);\n\t        transform: rotate(45deg);\n\t}\n.leaflet-popup-content-wrapper,\n.leaflet-popup-tip {\n\tbackground: white;\n\tcolor: #333;\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\n\t}\n.leaflet-container a.leaflet-popup-close-button {\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tborder: none;\n\ttext-align: center;\n\twidth: 24px;\n\theight: 24px;\n\tfont: 16px/24px Tahoma, Verdana, sans-serif;\n\tcolor: #757575;\n\ttext-decoration: none;\n\tbackground: transparent;\n\t}\n.leaflet-container a.leaflet-popup-close-button:hover,\n.leaflet-container a.leaflet-popup-close-button:focus {\n\tcolor: #585858;\n\t}\n.leaflet-popup-scrolled {\n\toverflow: auto;\n\t}\n\n.leaflet-oldie .leaflet-popup-content-wrapper {\n\t-ms-zoom: 1;\n\t}\n.leaflet-oldie .leaflet-popup-tip {\n\twidth: 24px;\n\tmargin: 0 auto;\n\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\n\t}\n\n.leaflet-oldie .leaflet-control-zoom,\n.leaflet-oldie .leaflet-control-layers,\n.leaflet-oldie .leaflet-popup-content-wrapper,\n.leaflet-oldie .leaflet-popup-tip {\n\tborder: 1px solid #999;\n\t}\n\n\n/* div icon */\n\n.leaflet-div-icon {\n\tbackground: #fff;\n\tborder: 1px solid #666;\n\t}\n\n\n/* Tooltip */\n/* Base styles for the element that has a tooltip */\n.leaflet-tooltip {\n\tposition: absolute;\n\tpadding: 6px;\n\tbackground-color: #fff;\n\tborder: 1px solid #fff;\n\tborder-radius: 3px;\n\tcolor: #222;\n\twhite-space: nowrap;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none;\n\tpointer-events: none;\n\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\n\t}\n.leaflet-tooltip.leaflet-interactive {\n\tcursor: pointer;\n\tpointer-events: auto;\n\t}\n.leaflet-tooltip-top:before,\n.leaflet-tooltip-bottom:before,\n.leaflet-tooltip-left:before,\n.leaflet-tooltip-right:before {\n\tposition: absolute;\n\tpointer-events: none;\n\tborder: 6px solid transparent;\n\tbackground: transparent;\n\tcontent: "";\n\t}\n\n/* Directions */\n\n.leaflet-tooltip-bottom {\n\tmargin-top: 6px;\n}\n.leaflet-tooltip-top {\n\tmargin-top: -6px;\n}\n.leaflet-tooltip-bottom:before,\n.leaflet-tooltip-top:before {\n\tleft: 50%;\n\tmargin-left: -6px;\n\t}\n.leaflet-tooltip-top:before {\n\tbottom: 0;\n\tmargin-bottom: -12px;\n\tborder-top-color: #fff;\n\t}\n.leaflet-tooltip-bottom:before {\n\ttop: 0;\n\tmargin-top: -12px;\n\tmargin-left: -6px;\n\tborder-bottom-color: #fff;\n\t}\n.leaflet-tooltip-left {\n\tmargin-left: -6px;\n}\n.leaflet-tooltip-right {\n\tmargin-left: 6px;\n}\n.leaflet-tooltip-left:before,\n.leaflet-tooltip-right:before {\n\ttop: 50%;\n\tmargin-top: -6px;\n\t}\n.leaflet-tooltip-left:before {\n\tright: 0;\n\tmargin-right: -12px;\n\tborder-left-color: #fff;\n\t}\n.leaflet-tooltip-right:before {\n\tleft: 0;\n\tmargin-left: -12px;\n\tborder-right-color: #fff;\n\t}\n\n/* Printing */\n\n@media print {\n\t/* Prevent printers from removing background-images of controls. */\n\t.leaflet-control {\n\t\t-webkit-print-color-adjust: exact;\n\t\tprint-color-adjust: exact;\n\t\t}\n\t}\n`,""]);const g=d},1113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},1237:t=>{"use strict";t.exports=EvalError},1270:function(t,e,n){var r;t=n.nmd(t),function(){e&&e.nodeType,t&&t.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var a,o=2147483647,s=36,l=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,f=String.fromCharCode;function p(t){throw new RangeError(h[t])}function m(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function g(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+m((t=t.replace(u,".")).split("."),e).join(".")}function v(t){for(var e,n,r=[],i=0,a=t.length;i<a;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<a?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function y(t){return m(t,(function(t){var e="";return t>65535&&(e+=f((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+f(t)})).join("")}function _(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,n){var r=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;r+=s)t=d(t/35);return d(r+36*t/(t+38))}function b(t){var e,n,r,i,a,l,c,u,h,f,m,g=[],v=t.length,_=0,b=128,w=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&p("not-basic"),g.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(a=_,l=1,c=s;i>=v&&p("invalid-input"),((u=(m=t.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:s)>=s||u>d((o-_)/l))&&p("overflow"),_+=u*l,!(u<(h=c<=w?1:c>=w+26?26:c-w));c+=s)l>d(o/(f=s-h))&&p("overflow"),l*=f;w=x(_-a,e=g.length+1,0==a),d(_/e)>o-b&&p("overflow"),b+=d(_/e),_%=e,g.splice(_++,0,b)}return y(g)}function w(t){var e,n,r,i,a,l,c,u,h,m,g,y,b,w,M,T=[];for(y=(t=v(t)).length,e=128,n=0,a=72,l=0;l<y;++l)(g=t[l])<128&&T.push(f(g));for(r=i=T.length,i&&T.push("-");r<y;){for(c=o,l=0;l<y;++l)(g=t[l])>=e&&g<c&&(c=g);for(c-e>d((o-n)/(b=r+1))&&p("overflow"),n+=(c-e)*b,e=c,l=0;l<y;++l)if((g=t[l])<e&&++n>o&&p("overflow"),g==e){for(u=n,h=s;!(u<(m=h<=a?1:h>=a+26?26:h-a));h+=s)M=u-m,w=s-m,T.push(f(_(m+M%w,0))),u=d(M/w);T.push(f(_(u,0))),a=x(n,b,r==i),n=0,++r}++n,++e}return T.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:y},decode:b,encode:w,toASCII:function(t){return g(t,(function(t){return c.test(t)?"xn--"+w(t):t}))},toUnicode:function(t){return g(t,(function(t){return l.test(t)?b(t.slice(4).toLowerCase()):t}))}},void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}()},1333:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(t,e);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},1514:t=>{"use strict";t.exports=Math.abs},1601:t=>{"use strict";t.exports=function(t){return t[1]}},2025:t=>{"use strict";t.exports="data:image/gif;base64,R0lGODlhEAAQAPQAAP///wAAAPDw8IqKiuDg4EZGRnp6egAAAFhYWCQkJKysrL6+vhQUFJycnAQEBDY2NmhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAFdyAgAgIJIeWoAkRCCMdBkKtIHIngyMKsErPBYbADpkSCwhDmQCBethRB6Vj4kFCkQPG4IlWDgrNRIwnO4UKBXDufzQvDMaoSDBgFb886MiQadgNABAokfCwzBA8LCg0Egl8jAggGAA1kBIA1BAYzlyILczULC2UhACH5BAAKAAEALAAAAAAQABAAAAV2ICACAmlAZTmOREEIyUEQjLKKxPHADhEvqxlgcGgkGI1DYSVAIAWMx+lwSKkICJ0QsHi9RgKBwnVTiRQQgwF4I4UFDQQEwi6/3YSGWRRmjhEETAJfIgMFCnAKM0KDV4EEEAQLiF18TAYNXDaSe3x6mjidN1s3IQAh+QQACgACACwAAAAAEAAQAAAFeCAgAgLZDGU5jgRECEUiCI+yioSDwDJyLKsXoHFQxBSHAoAAFBhqtMJg8DgQBgfrEsJAEAg4YhZIEiwgKtHiMBgtpg3wbUZXGO7kOb1MUKRFMysCChAoggJCIg0GC2aNe4gqQldfL4l/Ag1AXySJgn5LcoE3QXI3IQAh+QQACgADACwAAAAAEAAQAAAFdiAgAgLZNGU5joQhCEjxIssqEo8bC9BRjy9Ag7GILQ4QEoE0gBAEBcOpcBA0DoxSK/e8LRIHn+i1cK0IyKdg0VAoljYIg+GgnRrwVS/8IAkICyosBIQpBAMoKy9dImxPhS+GKkFrkX+TigtLlIyKXUF+NjagNiEAIfkEAAoABAAsAAAAABAAEAAABWwgIAICaRhlOY4EIgjH8R7LKhKHGwsMvb4AAy3WODBIBBKCsYA9TjuhDNDKEVSERezQEL0WrhXucRUQGuik7bFlngzqVW9LMl9XWvLdjFaJtDFqZ1cEZUB0dUgvL3dgP4WJZn4jkomWNpSTIyEAIfkEAAoABQAsAAAAABAAEAAABX4gIAICuSxlOY6CIgiD8RrEKgqGOwxwUrMlAoSwIzAGpJpgoSDAGifDY5kopBYDlEpAQBwevxfBtRIUGi8xwWkDNBCIwmC9Vq0aiQQDQuK+VgQPDXV9hCJjBwcFYU5pLwwHXQcMKSmNLQcIAExlbH8JBwttaX0ABAcNbWVbKyEAIfkEAAoABgAsAAAAABAAEAAABXkgIAICSRBlOY7CIghN8zbEKsKoIjdFzZaEgUBHKChMJtRwcWpAWoWnifm6ESAMhO8lQK0EEAV3rFopIBCEcGwDKAqPh4HUrY4ICHH1dSoTFgcHUiZjBhAJB2AHDykpKAwHAwdzf19KkASIPl9cDgcnDkdtNwiMJCshACH5BAAKAAcALAAAAAAQABAAAAV3ICACAkkQZTmOAiosiyAoxCq+KPxCNVsSMRgBsiClWrLTSWFoIQZHl6pleBh6suxKMIhlvzbAwkBWfFWrBQTxNLq2RG2yhSUkDs2b63AYDAoJXAcFRwADeAkJDX0AQCsEfAQMDAIPBz0rCgcxky0JRWE1AmwpKyEAIfkEAAoACAAsAAAAABAAEAAABXkgIAICKZzkqJ4nQZxLqZKv4NqNLKK2/Q4Ek4lFXChsg5ypJjs1II3gEDUSRInEGYAw6B6zM4JhrDAtEosVkLUtHA7RHaHAGJQEjsODcEg0FBAFVgkQJQ1pAwcDDw8KcFtSInwJAowCCA6RIwqZAgkPNgVpWndjdyohACH5BAAKAAkALAAAAAAQABAAAAV5ICACAimc5KieLEuUKvm2xAKLqDCfC2GaO9eL0LABWTiBYmA06W6kHgvCqEJiAIJiu3gcvgUsscHUERm+kaCxyxa+zRPk0SgJEgfIvbAdIAQLCAYlCj4DBw0IBQsMCjIqBAcPAooCBg9pKgsJLwUFOhCZKyQDA3YqIQAh+QQACgAKACwAAAAAEAAQAAAFdSAgAgIpnOSonmxbqiThCrJKEHFbo8JxDDOZYFFb+A41E4H4OhkOipXwBElYITDAckFEOBgMQ3arkMkUBdxIUGZpEb7kaQBRlASPg0FQQHAbEEMGDSVEAA1QBhAED1E0NgwFAooCDWljaQIQCE5qMHcNhCkjIQAh+QQACgALACwAAAAAEAAQAAAFeSAgAgIpnOSoLgxxvqgKLEcCC65KEAByKK8cSpA4DAiHQ/DkKhGKh4ZCtCyZGo6F6iYYPAqFgYy02xkSaLEMV34tELyRYNEsCQyHlvWkGCzsPgMCEAY7Cg04Uk48LAsDhRA8MVQPEF0GAgqYYwSRlycNcWskCkApIyEAOwAAAAAAAAAAAA=="},2271:(t,e,n)=>{"use strict";var r=n(453),i=n(6556),a=n(8859),o=n(507),s=n(9675),l=r("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("WeakMap.prototype.delete",!0);t.exports=l?function(){var t,e,n={assert:function(t){if(!n.has(t))throw new s("Side channel does not contain "+a(t))},delete:function(n){if(l&&n&&("object"==typeof n||"function"==typeof n)){if(t)return d(t,n)}else if(o&&e)return e.delete(n);return!1},get:function(n){return l&&n&&("object"==typeof n||"function"==typeof n)&&t?c(t,n):e&&e.get(n)},has:function(n){return l&&n&&("object"==typeof n||"function"==typeof n)&&t?h(t,n):!!e&&e.has(n)},set:function(n,r){l&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new l),u(t,n,r)):o&&(e||(e=o()),e.set(n,r))}};return n}:o},2425:(t,e,n)=>{"use strict";t.exports=n.p+"6d5ba9a15bef9cdf3d82.png"},2634:()=>{},2642:(t,e,n)=>{"use strict";var r=n(7720),i=Object.prototype.hasOwnProperty,a=Array.isArray,o={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},l=function(t,e,n){if(t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&n>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(1===e.arrayLimit?"":"s")+" allowed in an array.");return t},c=function(t,e,n,a){if(t){var o=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,c=n.depth>0&&/(\[[^[\]]*])/.exec(o),u=c?o.slice(0,c.index):o,h=[];if(u){if(!n.plainObjects&&i.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var d=0;n.depth>0&&null!==(c=s.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}if(c){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");h.push("["+o.slice(c.index)+"]")}return function(t,e,n,i){var a=0;if(t.length>0&&"[]"===t[t.length-1]){var o=t.slice(0,-1).join("");a=Array.isArray(e)&&e[o]?e[o].length:0}for(var s=i?e:l(e,n,a),c=t.length-1;c>=0;--c){var u,h=t[c];if("[]"===h&&n.parseArrays)u=n.allowEmptyArrays&&(""===s||n.strictNullHandling&&null===s)?[]:r.combine([],s);else{u=n.plainObjects?{__proto__:null}:{};var d="["===h.charAt(0)&&"]"===h.charAt(h.length-1)?h.slice(1,-1):h,f=n.decodeDotInKeys?d.replace(/%2E/g,"."):d,p=parseInt(f,10);n.parseArrays||""!==f?!isNaN(p)&&h!==f&&String(p)===f&&p>=0&&n.parseArrays&&p<=n.arrayLimit?(u=[])[p]=s:"__proto__"!==f&&(u[f]=s):u={0:s}}s=u}return s}(h,e,n,a)}};t.exports=function(t,e){var n=function(t){if(!t)return o;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.decodeDotInKeys&&"boolean"!=typeof t.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(void 0!==t.throwOnLimitExceeded&&"boolean"!=typeof t.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var e=void 0===t.charset?o.charset:t.charset,n=void 0===t.duplicates?o.duplicates:t.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===t.allowDots?!0===t.decodeDotInKeys||o.allowDots:!!t.allowDots,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:o.allowEmptyArrays,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:o.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decodeDotInKeys:"boolean"==typeof t.decodeDotInKeys?t.decodeDotInKeys:o.decodeDotInKeys,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,duplicates:n,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictDepth:"boolean"==typeof t.strictDepth?!!t.strictDepth:o.strictDepth,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling,throwOnLimitExceeded:"boolean"==typeof t.throwOnLimitExceeded&&t.throwOnLimitExceeded}}(e);if(""===t||null==t)return n.plainObjects?{__proto__:null}:{};for(var u="string"==typeof t?function(t,e){var n={__proto__:null},c=e.ignoreQueryPrefix?t.replace(/^\?/,""):t;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u=e.parameterLimit===1/0?void 0:e.parameterLimit,h=c.split(e.delimiter,e.throwOnLimitExceeded?u+1:u);if(e.throwOnLimitExceeded&&h.length>u)throw new RangeError("Parameter limit exceeded. Only "+u+" parameter"+(1===u?"":"s")+" allowed.");var d,f=-1,p=e.charset;if(e.charsetSentinel)for(d=0;d<h.length;++d)0===h[d].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[d]?p="utf-8":"utf8=%26%2310003%3B"===h[d]&&(p="iso-8859-1"),f=d,d=h.length);for(d=0;d<h.length;++d)if(d!==f){var m,g,v=h[d],y=v.indexOf("]="),_=-1===y?v.indexOf("="):y+1;-1===_?(m=e.decoder(v,o.decoder,p,"key"),g=e.strictNullHandling?null:""):(m=e.decoder(v.slice(0,_),o.decoder,p,"key"),g=r.maybeMap(l(v.slice(_+1),e,a(n[m])?n[m].length:0),(function(t){return e.decoder(t,o.decoder,p,"value")}))),g&&e.interpretNumericEntities&&"iso-8859-1"===p&&(g=s(String(g))),v.indexOf("[]=")>-1&&(g=a(g)?[g]:g);var x=i.call(n,m);x&&"combine"===e.duplicates?n[m]=r.combine(n[m],g):x&&"last"!==e.duplicates||(n[m]=g)}return n}(t,n):t,h=n.plainObjects?{__proto__:null}:{},d=Object.keys(u),f=0;f<d.length;++f){var p=d[f],m=c(p,u[p],n,"string"==typeof t);h=r.merge(h,m,n)}return!0===n.allowSparse?h:r.compact(h)}},3056:(t,e,n)=>{"use strict";t.exports=n.p+"aae06d482faf5717621c.svg"},3093:(t,e,n)=>{"use strict";var r=n(4459);t.exports=function(t){return r(t)||0===t?t:t<0?-1:1}},3126:(t,e,n)=>{"use strict";var r=n(6743),i=n(9675),a=n(76),o=n(3144);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new i("a function is required");return o(r,a,t)}},3144:(t,e,n)=>{"use strict";var r=n(6743),i=n(1002),a=n(76),o=n(7119);t.exports=o||r.call(a,i)},3481:function(t,e){!function(t){"use strict";function e(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function r(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var i=0;function a(t){return"_leaflet_id"in t||(t._leaflet_id=++i),t._leaflet_id}function o(t,e,n){var r,i,a,o;return o=function(){r=!1,i&&(a.apply(n,i),i=!1)},a=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(o,e),r=!0)},a}function s(t,e,n){var r=e[1],i=e[0],a=r-i;return t===r&&n?t:((t-i)%a+a)%a+i}function l(){return!1}function c(t,e){if(!1===e)return t;var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function h(t){return u(t).split(/\s+/)}function d(t,e){for(var r in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?n(t.options):{}),e)t.options[r]=e[r];return t.options}function f(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var p=/\{ *([\w_ -]+) *\}/g;function m(t,e){return t.replace(p,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r}))}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function v(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function b(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var w=window.requestAnimationFrame||_("RequestAnimationFrame")||b,M=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,n){if(!n||w!==b)return w.call(window,r(t,e));t.call(e)}function k(t){t&&M.call(window,t)}var A={__proto__:null,extend:e,create:n,bind:r,get lastId(){return i},stamp:a,throttle:o,wrapNum:s,falseFn:l,formatNum:c,trim:u,splitWords:h,setOptions:d,getParamString:f,template:m,isArray:g,indexOf:v,emptyImageUrl:y,requestFn:w,cancelFn:M,requestAnimFrame:T,cancelAnimFrame:k};function C(){}C.extend=function(t){var r=function(){d(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=r.__super__=this.prototype,a=n(i);for(var o in a.constructor=r,r.prototype=a,this)Object.prototype.hasOwnProperty.call(this,o)&&"prototype"!==o&&"__super__"!==o&&(r[o]=this[o]);return t.statics&&e(r,t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[a].concat(t.includes))),e(a,t),delete a.statics,delete a.includes,a.options&&(a.options=i.options?n(i.options):{},e(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=a._initHooks.length;t<e;t++)a._initHooks[t].call(this)}},r},C.include=function(t){var n=this.prototype.options;return e(this.prototype,t),t.options&&(this.prototype.options=n,this.mergeOptions(t.options)),this},C.mergeOptions=function(t){return e(this.prototype.options,t),this},C.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var S={on:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,a=(t=h(t)).length;i<a;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(arguments.length)if("object"==typeof t)for(var r in t)this._off(r,t[r],e);else{t=h(t);for(var i=1===arguments.length,a=0,o=t.length;a<o;a++)i?this._off(t[a]):this._off(t[a],e,n)}else delete this._events;return this},_on:function(t,e,n,r){if("function"==typeof e){if(!1===this._listens(t,e,n)){n===this&&(n=void 0);var i={fn:e,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(i)}}else console.warn("wrong listener type: "+typeof e)},_off:function(t,e,n){var r,i,a;if(this._events&&(r=this._events[t]))if(1!==arguments.length)if("function"==typeof e){var o=this._listens(t,e,n);if(!1!==o){var s=r[o];this._firingCount&&(s.fn=l,this._events[t]=r=r.slice()),r.splice(o,1)}}else console.warn("wrong listener type: "+typeof e);else{if(this._firingCount)for(i=0,a=r.length;i<a;i++)r[i].fn=l;delete this._events[t]}},fire:function(t,n,r){if(!this.listens(t,r))return this;var i=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var a=this._events[t];if(a){this._firingCount=this._firingCount+1||1;for(var o=0,s=a.length;o<s;o++){var l=a[o],c=l.fn;l.once&&this.off(t,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e,n,r){"string"!=typeof t&&console.warn('"string" type argument expected');var i=e;"function"!=typeof e&&(r=!!e,i=void 0,n=void 0);var a=this._events&&this._events[t];if(a&&a.length&&!1!==this._listens(t,i,n))return!0;if(r)for(var o in this._eventParents)if(this._eventParents[o].listens(t,e,n,r))return!0;return!1},_listens:function(t,e,n){if(!this._events)return!1;var r=this._events[t]||[];if(!e)return!!r.length;n===this&&(n=void 0);for(var i=0,a=r.length;i<a;i++)if(r[i].fn===e&&r[i].ctx===n)return i;return!1},once:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e,!0);else for(var i=0,a=(t=h(t)).length;i<a;i++)this._on(t[i],e,n,!0);return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};S.addEventListener=S.on,S.removeEventListener=S.clearAllEventListeners=S.off,S.addOneTimeEventListener=S.once,S.fireEvent=S.fire,S.hasEventListeners=S.listens;var P=C.extend(S);function D(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var O=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function E(t,e,n){return t instanceof D?t:g(t)?new D(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new D(t.x,t.y):new D(t,e,n)}function I(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(t,e){return!t||t instanceof I?t:new I(t,e)}function N(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function R(t,e){return t instanceof N?t:new N(t,e)}function F(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function j(t,e,n){return t instanceof F?t:g(t)&&"object"!=typeof t[0]?3===t.length?new F(t[0],t[1],t[2]):2===t.length?new F(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new F(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new F(t,e,n)}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(t){return this.clone()._add(E(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(E(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new D(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new D(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(t){var e=(t=E(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=E(t)).x===this.x&&t.y===this.y},contains:function(t){return t=E(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},I.prototype={extend:function(t){var e,n;if(!t)return this;if(t instanceof D||"number"==typeof t[0]||"x"in t)e=n=E(t);else if(e=(t=z(t)).min,n=t.max,!e||!n)return this;return this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=e.clone(),this.max=n.clone()),this},getCenter:function(t){return E((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return E(this.min.x,this.max.y)},getTopRight:function(){return E(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof D?E(t):z(t))instanceof I?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=z(t);var e=this.min,n=this.max,r=t.min,i=t.max,a=i.x>=e.x&&r.x<=n.x,o=i.y>=e.y&&r.y<=n.y;return a&&o},overlaps:function(t){t=z(t);var e=this.min,n=this.max,r=t.min,i=t.max,a=i.x>e.x&&r.x<n.x,o=i.y>e.y&&r.y<n.y;return a&&o},isValid:function(){return!(!this.min||!this.max)},pad:function(t){var e=this.min,n=this.max,r=Math.abs(e.x-n.x)*t,i=Math.abs(e.y-n.y)*t;return z(E(e.x-r,e.y-i),E(n.x+r,n.y+i))},equals:function(t){return!!t&&(t=z(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight()))}},N.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof F)e=t,n=t;else{if(!(t instanceof N))return t?this.extend(j(t)||R(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(e.lat,e.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new N(new F(e.lat-r,e.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof F||"lat"in t?j(t):R(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof N?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=R(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),a=i.lat>=e.lat&&r.lat<=n.lat,o=i.lng>=e.lng&&r.lng<=n.lng;return a&&o},overlaps:function(t){t=R(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),a=i.lat>e.lat&&r.lat<n.lat,o=i.lng>e.lng&&r.lng<n.lng;return a&&o},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=R(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(t,e){return!!t&&(t=j(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return U.distance(this,j(t))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return R([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var B,H={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new I(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?s(t.lng,this.wrapLng,!0):t.lng;return new F(this.wrapLat?s(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var a=t.getSouthWest(),o=t.getNorthEast();return new N(new F(a.lat-r,a.lng-i),new F(o.lat-r,o.lng-i))}},U=e({},H,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,a=Math.sin((e.lat-t.lat)*n/2),o=Math.sin((e.lng-t.lng)*n/2),s=a*a+Math.cos(r)*Math.cos(i)*o*o,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),Z=6378137,V={R:Z,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new D(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new F((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(B=Z*Math.PI,new I([-B,-B],[B,B]))};function Y(t,e,n,r){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function W(t,e,n,r){return new Y(t,e,n,r)}Y.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new D((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=e({},U,{code:"EPSG:3857",projection:V,transformation:function(){var t=.5/(Math.PI*V.R);return W(t,.5,-t,.5)}()}),q=e({},G,{code:"EPSG:900913"});function X(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var n,r,i,a,o,s,l="";for(n=0,i=t.length;n<i;n++){for(r=0,a=(o=t[n]).length;r<a;r++)l+=(r?"L":"M")+(s=o[r]).x+" "+s.y;l+=e?It.svg?"z":"x":""}return l||"M0 0"}var K,$=document.documentElement.style,Q="ActiveXObject"in window,tt=Q&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),nt=Et("webkit"),rt=Et("android"),it=Et("android 2")||Et("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ot=rt&&Et("Google")&&at<537&&!("AudioNode"in window),st=!!window.opera,lt=!et&&Et("chrome"),ct=Et("gecko")&&!nt&&!st&&!Q,ut=!lt&&Et("safari"),ht=Et("phantom"),dt="OTransition"in $,ft=0===navigator.platform.indexOf("Win"),pt=Q&&"transition"in $,mt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!it,gt="MozPerspective"in $,vt=!window.L_DISABLE_3D&&(pt||mt||gt)&&!dt&&!ht,yt="undefined"!=typeof orientation||Et("mobile"),_t=yt&&nt,xt=yt&&mt,bt=!window.PointerEvent&&window.MSPointerEvent,wt=!(!window.PointerEvent&&!bt),Mt="ontouchstart"in window||!!window.TouchEvent,Tt=!window.L_NO_TOUCH&&(Mt||wt),kt=yt&&st,At=yt&&ct,Lt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ct=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(t){}return t}(),St=!!document.createElement("canvas").getContext,Pt=!(!document.createElementNS||!X("svg").createSVGRect),Dt=!!Pt&&((K=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(K.firstChild&&K.firstChild.namespaceURI)),Ot=!Pt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Et(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var It={ie:Q,ielt9:tt,edge:et,webkit:nt,android:rt,android23:it,androidStock:ot,opera:st,chrome:lt,gecko:ct,safari:ut,phantom:ht,opera12:dt,win:ft,ie3d:pt,webkit3d:mt,gecko3d:gt,any3d:vt,mobile:yt,mobileWebkit:_t,mobileWebkit3d:xt,msPointer:bt,pointer:wt,touch:Tt,touchNative:Mt,mobileOpera:kt,mobileGecko:At,retina:Lt,passiveEvents:Ct,canvas:St,svg:Pt,vml:Ot,inlineSvg:Dt,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},zt=It.msPointer?"MSPointerDown":"pointerdown",Nt=It.msPointer?"MSPointerMove":"pointermove",Rt=It.msPointer?"MSPointerUp":"pointerup",Ft=It.msPointer?"MSPointerCancel":"pointercancel",jt={touchstart:zt,touchmove:Nt,touchend:Rt,touchcancel:Ft},Bt={touchstart:function(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&Re(e),Gt(t,e)},touchmove:Gt,touchend:Gt,touchcancel:Gt},Ht={},Ut=!1;function Zt(t,e,n){return"touchstart"===e&&(Ut||(document.addEventListener(zt,Vt,!0),document.addEventListener(Nt,Yt,!0),document.addEventListener(Rt,Wt,!0),document.addEventListener(Ft,Wt,!0),Ut=!0)),Bt[e]?(n=Bt[e].bind(this,n),t.addEventListener(jt[e],n,!1),n):(console.warn("wrong event specified:",e),l)}function Vt(t){Ht[t.pointerId]=t}function Yt(t){Ht[t.pointerId]&&(Ht[t.pointerId]=t)}function Wt(t){delete Ht[t.pointerId]}function Gt(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in e.touches=[],Ht)e.touches.push(Ht[n]);e.changedTouches=[e],t(e)}}var qt,Xt,Jt,Kt,$t,Qt=me(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),te=me(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ee="webkitTransition"===te||"OTransition"===te?te+"End":"transitionend";function ne(t){return"string"==typeof t?document.getElementById(t):t}function re(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function ie(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function ae(t){var e=t.parentNode;e&&e.removeChild(t)}function oe(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function se(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function le(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=fe(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ue(t,e){if(void 0!==t.classList)for(var n=h(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!ce(t,e)){var a=fe(t);de(t,(a?a+" ":"")+e)}}function he(t,e){void 0!==t.classList?t.classList.remove(e):de(t,u((" "+fe(t)+" ").replace(" "+e+" "," ")))}function de(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function fe(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function pe(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)}function me(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ge(t,e,n){var r=e||new D(0,0);t.style[Qt]=(It.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function ve(t,e){t._leaflet_pos=e,It.any3d?ge(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ye(t){return t._leaflet_pos||new D(0,0)}if("onselectstart"in document)qt=function(){Le(window,"selectstart",Re)},Xt=function(){Se(window,"selectstart",Re)};else{var _e=me(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qt=function(){if(_e){var t=document.documentElement.style;Jt=t[_e],t[_e]="none"}},Xt=function(){_e&&(document.documentElement.style[_e]=Jt,Jt=void 0)}}function xe(){Le(window,"dragstart",Re)}function be(){Se(window,"dragstart",Re)}function we(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Me(),Kt=t,$t=t.style.outlineStyle,t.style.outlineStyle="none",Le(window,"keydown",Me))}function Me(){Kt&&(Kt.style.outlineStyle=$t,Kt=void 0,$t=void 0,Se(window,"keydown",Me))}function Te(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function ke(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ae={__proto__:null,TRANSFORM:Qt,TRANSITION:te,TRANSITION_END:ee,get:ne,getStyle:re,create:ie,remove:ae,empty:oe,toFront:se,toBack:le,hasClass:ce,addClass:ue,removeClass:he,setClass:de,getClass:fe,setOpacity:pe,testProp:me,setTransform:ge,setPosition:ve,getPosition:ye,get disableTextSelection(){return qt},get enableTextSelection(){return Xt},disableImageDrag:xe,enableImageDrag:be,preventOutline:we,restoreOutline:Me,getSizedParentNode:Te,getScale:ke};function Le(t,e,n,r){if(e&&"object"==typeof e)for(var i in e)Oe(t,i,e[i],n);else for(var a=0,o=(e=h(e)).length;a<o;a++)Oe(t,e[a],n,r);return this}var Ce="_leaflet_events";function Se(t,e,n,r){if(1===arguments.length)Pe(t),delete t[Ce];else if(e&&"object"==typeof e)for(var i in e)Ee(t,i,e[i],n);else if(e=h(e),2===arguments.length)Pe(t,(function(t){return-1!==v(e,t)}));else for(var a=0,o=e.length;a<o;a++)Ee(t,e[a],n,r);return this}function Pe(t,e){for(var n in t[Ce]){var r=n.split(/\d/)[0];e&&!e(r)||Ee(t,r,null,null,n)}}var De={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Oe(t,e,n,r){var i=e+a(n)+(r?"_"+a(r):"");if(t[Ce]&&t[Ce][i])return this;var o=function(e){return n.call(r||t,e||window.event)},s=o;!It.touchNative&&It.pointer&&0===e.indexOf("touch")?o=Zt(t,e,o):It.touch&&"dblclick"===e?o=function(t,e){t.addEventListener("dblclick",e);var n,r=0;function i(t){if(1===t.detail){if("mouse"!==t.pointerType&&(!t.sourceCapabilities||t.sourceCapabilities.firesTouchEvents)){var i=je(t);if(!i.some((function(t){return t instanceof HTMLLabelElement&&t.attributes.for}))||i.some((function(t){return t instanceof HTMLInputElement||t instanceof HTMLSelectElement}))){var a=Date.now();a-r<=200?2==++n&&e(function(t){var e,n,r={};for(n in t)e=t[n],r[n]=e&&e.bind?e.bind(t):e;return t=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}(t)):n=1,r=a}}}else n=t.detail}return t.addEventListener("click",i),{dblclick:e,simDblclick:i}}(t,o):"addEventListener"in t?"touchstart"===e||"touchmove"===e||"wheel"===e||"mousewheel"===e?t.addEventListener(De[e]||e,o,!!It.passiveEvents&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(o=function(e){e=e||window.event,Ze(t,e)&&s(e)},t.addEventListener(De[e],o,!1)):t.addEventListener(e,s,!1):t.attachEvent("on"+e,o),t[Ce]=t[Ce]||{},t[Ce][i]=o}function Ee(t,e,n,r,i){i=i||e+a(n)+(r?"_"+a(r):"");var o=t[Ce]&&t[Ce][i];if(!o)return this;!It.touchNative&&It.pointer&&0===e.indexOf("touch")?function(t,e,n){jt[e]?t.removeEventListener(jt[e],n,!1):console.warn("wrong event specified:",e)}(t,e,o):It.touch&&"dblclick"===e?function(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}(t,o):"removeEventListener"in t?t.removeEventListener(De[e]||e,o,!1):t.detachEvent("on"+e,o),t[Ce][i]=null}function Ie(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ze(t){return Oe(t,"wheel",Ie),this}function Ne(t){return Le(t,"mousedown touchstart dblclick contextmenu",Ie),t._leaflet_disable_click=!0,this}function Re(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Fe(t){return Re(t),Ie(t),this}function je(t){if(t.composedPath)return t.composedPath();for(var e=[],n=t.target;n;)e.push(n),n=n.parentNode;return e}function Be(t,e){if(!e)return new D(t.clientX,t.clientY);var n=ke(e),r=n.boundingClientRect;return new D((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var He=It.linux&&It.chrome?window.devicePixelRatio:It.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ue(t){return It.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/He:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Ze(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ve={__proto__:null,on:Le,off:Se,stopPropagation:Ie,disableScrollPropagation:ze,disableClickPropagation:Ne,preventDefault:Re,stop:Fe,getPropagationPath:je,getMousePosition:Be,getWheelDelta:Ue,isExternalTarget:Ze,addListener:Le,removeListener:Se},Ye=P.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),ve(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),We=P.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=d(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=te&&It.any3d&&!It.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Le(this._proxy,ee,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){return n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(j(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=e({animate:r.animate},r.zoom),r.pan=e({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,n,r.pan&&r.pan.noMoveStart),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(It.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),a=(t instanceof D?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),o=this.containerPointToLatLng(i.add(a));return this.setView(o,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():R(t);var n=E(e.paddingTopLeft||e.padding||[0,0]),r=E(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"==typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var a=r.subtract(n).divideBy(2),o=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(o.add(s).divideBy(2).add(a),i),zoom:i}},fitBounds:function(t,e){if(!(t=R(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=E(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ye,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ue(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!It.any3d)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),i=this.project(t),a=this.getSize(),o=this._zoom;t=j(t),e=void 0===e?o:e;var s=Math.max(a.x,a.y),l=s*this.getZoomScale(o,e),c=i.distanceTo(r)||1,u=1.42,h=2.0164;function d(t){var e=(l*l-s*s+(t?-1:1)*h*h*c*c)/(2*(t?l:s)*h*c),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function f(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0);function g(t){return s*(p(m)*(f(e=m+u*t)/p(e))-f(m))/h;var e}var v=Date.now(),y=(d(1)-m)/u,_=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var a=(Date.now()-v)/_,l=function(t){return 1-Math.pow(1-t,1.5)}(a)*y;a<=1?(this._flyToFrame=T(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(g(l)/c)),o),this.getScaleZoom(s/function(t){return s*(p(m)/p(m+u*t))}(l),o),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=R(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,R(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=E((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=E(e.paddingBottomRight||e.padding||[0,0]),i=this.project(this.getCenter()),a=this.project(t),o=this.getPixelBounds(),s=z([o.min.add(n),o.max.subtract(r)]),l=s.getSize();if(!s.contains(a)){this._enforcingBounds=!0;var c=a.subtract(s.getCenter()),u=s.extend(a).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),a=n.divideBy(2).round(),o=i.divideBy(2).round(),s=a.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,i,t):navigator.geolocation.getCurrentPosition(n,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=new F(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var a={latlng:e,bounds:n,timestamp:t.timestamp};for(var o in t.coords)"number"==typeof t.coords[o]&&(a[o]=t.coords[o]);this.fire("locationfound",a)}},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ae(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ie("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new N(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=R(t),n=E(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),a=this.getMaxZoom(),o=t.getNorthWest(),s=t.getSouthEast(),l=this.getSize().subtract(n),c=z(this.project(s,r),this.project(o,r)).getSize(),u=It.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,f=e?Math.max(h,d):Math.min(h,d);return r=this.getScaleZoom(f,r),u&&(r=Math.round(r/(u/100))*(u/100),r=e?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(a,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new I(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(E(t),e)},layerPointToLatLng:function(t){var e=E(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(j(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(R(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return E(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return E(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(E(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Be(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=ne(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Le(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&It.any3d,ue(t,"leaflet-container"+(It.touch?" leaflet-touch":"")+(It.retina?" leaflet-retina":"")+(It.ielt9?" leaflet-oldie":"")+(It.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=re(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&"sticky"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ve(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ue(t.markerPane,"leaflet-zoom-hide"),ue(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,n){ve(this._mapPane,new D(0,0));var r=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,n)._move(t,e)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n,r){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ve(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Se:Le;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),It.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],i="mouseout"===e||"mouseover"===e,o=t.target||t.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===e||"preclick"===e)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(i&&!Ze(o,t))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(e,!0)||(r=[this]),r},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||"click"===t.type&&this._isClickDisabled(e))){var n=t.type;"mousedown"===n&&we(e),this._fireDOMEvent(t,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){if("click"===t.type){var i=e({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var a=this._findEventTargets(t,n);if(r){for(var o=[],s=0;s<r.length;s++)r[s].listens(n,!0)&&o.push(r[s]);a=o.concat(a)}if(a.length){"contextmenu"===n&&Re(t);var l=a[0],c={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(t),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<a.length;s++)if(a[s].fire(n,c,!0),c.originalEvent._stopped||!1===a[s].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new D(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return z([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),a=new I(r.subtract(i),r.add(i)),o=this._getBoundsOffset(a,n,e);return Math.abs(o.x)<=1&&Math.abs(o.y)<=1?t:this.unproject(r.add(o),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new I(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=z(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),a=r.max.subtract(t.max);return new D(this._rebound(i.x,-a.x),this._rebound(i.y,-a.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=It.any3d?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){he(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ie("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=Qt,n=this._proxy.style[e];ge(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ge(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i)||(T((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ue(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&he(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Ge=C.extend({options:{position:"topright"},initialize:function(t){d(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return ue(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),qe=function(t){return new Ge(t)};We.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ie("div",e+"control-container",this._container);function r(r,i){var a=e+r+" "+e+i;t[r+i]=ie("div",a,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ae(this._controlCorners[t]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xe=Ge.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ge.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ue(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(ue(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):he(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return he(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ie("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ne(e),ze(e);var r=this._section=ie("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Le(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=ie("a",t+"-toggle",e);i.href="#",i.title="Layers",i.setAttribute("role","button"),Le(i,{keydown:function(t){13===t.keyCode&&this._expandSafely()},click:function(t){Re(t),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ie("div",t+"-base",r),this._separator=ie("div",t+"-separator",r),this._overlaysList=ie("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oe(this._baseLayersList),oe(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Le(e,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+t.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var a=n.length-1;a>=0;a--)t=n[a],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(a=0;a<i.length;a++)this._map.hasLayer(i[a])&&this._map.removeLayer(i[a]);for(a=0;a<r.length;a++)this._map.hasLayer(r[a])||this._map.addLayer(r[a]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Le(t,"click",Re),this.expand();var e=this;setTimeout((function(){Se(t,"click",Re),e._preventClick=!1}))}}),Je=Ge.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ie("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var a=ie("a",n,r);return a.innerHTML=t,a.href="#",a.title=e,a.setAttribute("role","button"),a.setAttribute("aria-label",e),Ne(a),Le(a,"click",Fe),Le(a,"click",i,this),Le(a,"click",this._refocusOnMap,this),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";he(this._zoomInButton,e),he(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(ue(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(ue(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});We.mergeOptions({zoomControl:!0}),We.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Je,this.addControl(this.zoomControl))}));var Ke=Ge.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=ie("div",e),r=this.options;return this._addScales(r,e+"-line",n),t.on(r.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ie("div",e,n)),t.imperial&&(this._iScale=ie("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),$e=Ge.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(It.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(t){d(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ie("div","leaflet-control-attribution"),Ne(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",(function(){this.removeAttribution(t.layer.getAttribution())}),this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});We.mergeOptions({attributionControl:!0}),We.addInitHook((function(){this.options.attributionControl&&(new $e).addTo(this)}));Ge.Layers=Xe,Ge.Zoom=Je,Ge.Scale=Ke,Ge.Attribution=$e,qe.layers=function(t,e,n){return new Xe(t,e,n)},qe.zoom=function(t){return new Je(t)},qe.scale=function(t){return new Ke(t)},qe.attribution=function(t){return new $e(t)};var Qe=C.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(t,e){return t.addHandler(e,this),this};var tn={Events:S},en=It.touch?"touchstart mousedown":"mousedown",nn=P.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){d(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Le(this._dragStartTarget,en,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nn._dragging===this&&this.finishDrag(!0),Se(this._dragStartTarget,en,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim")))if(t.touches&&1!==t.touches.length)nn._dragging===this&&this.finishDrag();else if(!(nn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(nn._dragging=this,this._preventOutline&&we(this._element),xe(),qt(),this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Te(this._element);this._startPoint=new D(e.clientX,e.clientY),this._startPos=ye(this._element),this._parentScale=ke(n);var r="mousedown"===t.type;Le(document,r?"mousemove":"touchmove",this._onMove,this),Le(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(t){if(this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new D(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Re(t),this._moved||(this.fire("dragstart"),this._moved=!0,ue(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ue(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=t,this._updatePosition()))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ve(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){he(document.body,"leaflet-dragging"),this._lastTarget&&(he(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Se(document,"mousemove touchmove",this._onMove,this),Se(document,"mouseup touchend touchcancel",this._onUp,this),be(),Xt();var e=this._moved&&this._moving;this._moving=!1,nn._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function rn(t,e,n){var r,i,a,o,s,l,c,u,h,d=[1,4,2,8];for(i=0,c=t.length;i<c;i++)t[i]._code=pn(t[i],e);for(o=0;o<4;o++){for(u=d[o],r=[],i=0,a=(c=t.length)-1;i<c;a=i++)s=t[i],l=t[a],s._code&u?l._code&u||((h=fn(l,s,u,e,n))._code=pn(h,e),r.push(h)):(l._code&u&&((h=fn(l,s,u,e,n))._code=pn(h,e),r.push(h)),r.push(s));t=r}return t}function an(t,e){var n,r,i,a,o,s,l,c,u;if(!t||0===t.length)throw new Error("latlngs not passed");vn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var h=j([0,0]),d=R(t);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(h=on(t));var f=t.length,p=[];for(n=0;n<f;n++){var m=j(t[n]);p.push(e.project(j([m.lat-h.lat,m.lng-h.lng])))}for(s=l=c=0,n=0,r=f-1;n<f;r=n++)i=p[n],a=p[r],o=i.y*a.x-a.y*i.x,l+=(i.x+a.x)*o,c+=(i.y+a.y)*o,s+=3*o;u=0===s?p[0]:[l/s,c/s];var g=e.unproject(E(u));return j([g.lat+h.lat,g.lng+h.lng])}function on(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var a=j(t[i]);e+=a.lat,n+=a.lng,r++}return j([e/r,n/r])}var sn,ln={__proto__:null,clipPolygon:rn,polygonCenter:an,centroid:on};function cn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,hn(t,r,e,0,n-1);var i,a=[];for(i=0;i<n;i++)r[i]&&a.push(t[i]);return a}(t=function(t,e){for(var n=[t[0]],r=1,i=0,a=t.length;r<a;r++)mn(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<a-1&&n.push(t[a-1]),n}(t,n),n)}function un(t,e,n){return Math.sqrt(gn(t,e,n,!0))}function hn(t,e,n,r,i){var a,o,s,l=0;for(o=r+1;o<=i-1;o++)(s=gn(t[o],t[r],t[i],!0))>l&&(a=o,l=s);l>n&&(e[a]=1,hn(t,e,n,r,a),hn(t,e,n,a,i))}function dn(t,e,n,r,i){var a,o,s,l=r?sn:pn(t,n),c=pn(e,n);for(sn=c;;){if(!(l|c))return[t,e];if(l&c)return!1;s=pn(o=fn(t,e,a=l||c,n,i),n),a===l?(t=o,l=s):(e=o,c=s)}}function fn(t,e,n,r,i){var a,o,s=e.x-t.x,l=e.y-t.y,c=r.min,u=r.max;return 8&n?(a=t.x+s*(u.y-t.y)/l,o=u.y):4&n?(a=t.x+s*(c.y-t.y)/l,o=c.y):2&n?(a=u.x,o=t.y+l*(u.x-t.x)/s):1&n&&(a=c.x,o=t.y+l*(c.x-t.x)/s),new D(a,o,i)}function pn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function mn(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function gn(t,e,n,r){var i,a=e.x,o=e.y,s=n.x-a,l=n.y-o,c=s*s+l*l;return c>0&&((i=((t.x-a)*s+(t.y-o)*l)/c)>1?(a=n.x,o=n.y):i>0&&(a+=s*i,o+=l*i)),s=t.x-a,l=t.y-o,r?s*s+l*l:new D(a,o)}function vn(t){return!g(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function yn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),vn(t)}function _n(t,e){var n,r,i,a,o,s,l,c;if(!t||0===t.length)throw new Error("latlngs not passed");vn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var u=j([0,0]),h=R(t);h.getNorthWest().distanceTo(h.getSouthWest())*h.getNorthEast().distanceTo(h.getNorthWest())<1700&&(u=on(t));var d=t.length,f=[];for(n=0;n<d;n++){var p=j(t[n]);f.push(e.project(j([p.lat-u.lat,p.lng-u.lng])))}for(n=0,r=0;n<d-1;n++)r+=f[n].distanceTo(f[n+1])/2;if(0===r)c=f[0];else for(n=0,a=0;n<d-1;n++)if(o=f[n],s=f[n+1],(a+=i=o.distanceTo(s))>r){l=(a-r)/i,c=[s.x-l*(s.x-o.x),s.y-l*(s.y-o.y)];break}var m=e.unproject(E(c));return j([m.lat+u.lat,m.lng+u.lng])}var xn={__proto__:null,simplify:cn,pointToSegmentDistance:un,closestPointOnSegment:function(t,e,n){return gn(t,e,n)},clipSegment:dn,_getEdgeIntersection:fn,_getBitCode:pn,_sqClosestPointOnSegment:gn,isFlat:vn,_flat:yn,polylineCenter:_n},bn={project:function(t){return new D(t.lng,t.lat)},unproject:function(t){return new F(t.y,t.x)},bounds:new I([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new I([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,a=Math.sqrt(1-i*i),o=a*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-o)/(1+o),a/2);return r=-n*Math.log(Math.max(s,1e-10)),new D(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,a=Math.sqrt(1-i*i),o=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(o),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)e=a*Math.sin(s),e=Math.pow((1-e)/(1+e),a/2),s+=c=Math.PI/2-2*Math.atan(o*e)-s;return new F(s*n,t.x*n/r)}},Mn={__proto__:null,LonLat:bn,Mercator:wn,SphericalMercator:V},Tn=e({},U,{code:"EPSG:3395",projection:wn,transformation:function(){var t=.5/(Math.PI*wn.R);return W(t,.5,-t,.5)}()}),kn=e({},U,{code:"EPSG:4326",projection:bn,transformation:W(1/180,1,-1/180,.5)}),An=e({},H,{projection:bn,transformation:W(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});H.Earth=U,H.EPSG3395=Tn,H.EPSG3857=G,H.EPSG900913=q,H.EPSG4326=kn,H.Simple=An;var Ln=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});We.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?g(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Cn=Ln.extend({initialize:function(t,e){var n,r;if(d(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),Sn=Cn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Cn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Cn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new N;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Pn=C.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){d(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var i=E(r),a=E("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return It.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});var Dn=Pn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return"string"!=typeof Dn.imagePath&&(Dn.imagePath=this._detectIconPath()),(this.options.imagePath||Dn.imagePath)+Pn.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(t,e,n){var r=e.exec(t);return r&&r[n]};return(t=e(t,/^url\((['"])?(.+)\1\)$/,2))&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=ie("div","leaflet-default-icon-path",document.body),e=re(t,"background-image")||re(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e))return e;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),On=Qe.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new nn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ue(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&he(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,a=ye(e._icon),o=n.getPixelBounds(),s=n.getPixelOrigin(),l=z(o.min._subtract(s).add(i),o.max._subtract(s).subtract(i));if(!l.contains(a)){var c=E((Math.max(l.max.x,a.x)-l.max.x)/(o.max.x-l.max.x)-(Math.min(l.min.x,a.x)-l.min.x)/(o.min.x-l.min.x),(Math.max(l.max.y,a.y)-l.max.y)/(o.max.y-l.max.y)-(Math.min(l.min.y,a.y)-l.min.y)/(o.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),ve(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=ye(e._icon),i=e._map.layerPointToLatLng(r);n&&ve(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),En=Ln.extend({options:{icon:new Dn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){d(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ue(n,e),t.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Le(n,"focus",this._panOnFocus,this);var i=t.icon.createShadow(this._shadow),a=!1;i!==this._shadow&&(this._removeShadow(),a=!0),i&&(ue(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&a&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Se(this._icon,"focus",this._panOnFocus,this),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ve(this._icon,t),this._shadow&&ve(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ue(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),On)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new On(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&pe(this._icon,t),this._shadow&&pe(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,n=e.iconSize?E(e.iconSize):E(0,0),r=e.iconAnchor?E(e.iconAnchor):E(0,0);t.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var In=Ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return d(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zn=In.extend({options:{fill:!0,radius:10},initialize:function(t,e){d(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return In.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new I(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Nn=zn.extend({initialize:function(t,n,r){if("number"==typeof n&&(n=e({},r,{radius:n})),d(this,n),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:In.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===U.distance){var i=Math.PI/180,a=this._mRadius/U.R/i,o=n.project([e+a,t]),s=n.project([e-a,t]),l=o.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(a*i)-Math.sin(e*i)*Math.sin(c*i))/(Math.cos(e*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=a/Math.cos(Math.PI/180*e)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,t-u]).x,this._radiusY=l.y-o.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});var Rn=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){d(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,a=gn,o=0,s=this._parts.length;o<s;o++)for(var l=this._parts[o],c=1,u=l.length;c<u;c++){var h=a(t,e=l[c-1],n=l[c],!0);h<r&&(r=h,i=a(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _n(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new N,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return vn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=vn(t),r=0,i=t.length;r<i;r++)n?(e[r]=j(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new I;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new D(t,t);this._rawPxBounds&&(this._pxBounds=new I([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,n){var r,i,a=t[0]instanceof F,o=t.length;if(a){for(i=[],r=0;r<o;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<o;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,a,o,s,l=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,a=(s=this._rings[e]).length;n<a-1;n++)(o=dn(s[n],s[n+1],t,n,!0))&&(l[r]=l[r]||[],l[r].push(o[0]),o[1]===s[n+1]&&n!==a-2||(l[r].push(o[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=cn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,a,o,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,a=this._parts.length;n<a;n++)for(r=0,i=(o=(s=this._parts[n]).length)-1;r<o;i=r++)if((e||0!==r)&&un(t,s[i],s[r])<=l)return!0;return!1}});Rn._flat=yn;var Fn=Rn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return an(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=Rn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof F&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Rn.prototype._setLatLngs.call(this,t),vn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return vn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new D(e,e);if(t=new I(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,a=this._rings.length;i<a;i++)(r=rn(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,a,o,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(a=0,o=(l=(e=this._parts[i]).length)-1;a<l;o=a++)n=e[a],r=e[o],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||Rn.prototype._containsPoint.call(this,t,!0)}});var jn=Sn.extend({initialize:function(t,e){d(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=g(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var a=this.options;if(a.filter&&!a.filter(t))return this;var o=Bn(t,a);return o?(o.feature=Gn(t),o.defaultOptions=o.options,this.resetStyle(o),a.onEachFeature&&a.onEachFeature(t,o),this.addLayer(o)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function Bn(t,e){var n,r,i,a,o="Feature"===t.type?t.geometry:t,s=o?o.coordinates:null,l=[],c=e&&e.pointToLayer,u=e&&e.coordsToLatLng||Un;if(!s&&!o)return null;switch(o.type){case"Point":return Hn(c,t,n=u(s),e);case"MultiPoint":for(i=0,a=s.length;i<a;i++)n=u(s[i]),l.push(Hn(c,t,n,e));return new Sn(l);case"LineString":case"MultiLineString":return r=Zn(s,"LineString"===o.type?0:1,u),new Rn(r,e);case"Polygon":case"MultiPolygon":return r=Zn(s,"Polygon"===o.type?1:2,u),new Fn(r,e);case"GeometryCollection":for(i=0,a=o.geometries.length;i<a;i++){var h=Bn({geometry:o.geometries[i],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new Sn(l);case"FeatureCollection":for(i=0,a=o.features.length;i<a;i++){var d=Bn(o.features[i],e);d&&l.push(d)}return new Sn(l);default:throw new Error("Invalid GeoJSON object.")}}function Hn(t,e,n,r){return t?t(e,n):new En(n,r&&r.markersInheritOptions&&r)}function Un(t){return new F(t[1],t[0],t[2])}function Zn(t,e,n){for(var r,i=[],a=0,o=t.length;a<o;a++)r=e?Zn(t[a],e-1,n):(n||Un)(t[a]),i.push(r);return i}function Vn(t,e){return void 0!==(t=j(t)).alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Yn(t,e,n,r){for(var i=[],a=0,o=t.length;a<o;a++)i.push(e?Yn(t[a],vn(t[a])?0:e-1,n,r):Vn(t[a],r));return!e&&n&&i.length>0&&i.push(i[0].slice()),i}function Wn(t,n){return t.feature?e({},t.feature,{geometry:n}):Gn(n)}function Gn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var qn={toGeoJSON:function(t){return Wn(this,{type:"Point",coordinates:Vn(this.getLatLng(),t)})}};function Xn(t,e){return new jn(t,e)}En.include(qn),Nn.include(qn),zn.include(qn),Rn.include({toGeoJSON:function(t){var e=!vn(this._latlngs);return Wn(this,{type:(e?"Multi":"")+"LineString",coordinates:Yn(this._latlngs,e?1:0,!1,t)})}}),Fn.include({toGeoJSON:function(t){var e=!vn(this._latlngs),n=e&&!vn(this._latlngs[0]),r=Yn(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),Wn(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Cn.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),Wn(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var a=Gn(i);"FeatureCollection"===a.type?r.push.apply(r,a.features):r.push(a)}}})),n?Wn(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Jn=Xn,Kn=Ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=R(e),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ue(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&se(this._image),this},bringToBack:function(){return this._map&&le(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=R(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ie("img");ue(e,"leaflet-image-layer"),this._zoomAnimated&&ue(e,"leaflet-zoom-animated"),this.options.className&&ue(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=r(this.fire,this,"load"),e.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ge(this._image,n,e)},_reset:function(){var t=this._image,e=new I(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();ve(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){pe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),$n=Kn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ie("video");if(ue(e,"leaflet-image-layer"),this._zoomAnimated&&ue(e,"leaflet-zoom-animated"),this.options.className&&ue(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=r(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],a=0;a<n.length;a++)i.push(n[a].src);this._url=n.length>0?i:[e.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var s=ie("source");s.src=this._url[o],e.appendChild(s)}}}});var Qn=Kn.extend({_initImage:function(){var t=this._image=this._url;ue(t,"leaflet-image-layer"),this._zoomAnimated&&ue(t,"leaflet-zoom-animated"),this.options.className&&ue(t,this.options.className),t.onselectstart=l,t.onmousemove=l}});var tr=Ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof F||g(t))?(this._latlng=j(t),d(this,e)):(d(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return(t=arguments.length?t:this._source._map).hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&pe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&pe(this._container,1),this.bringToFront(),this.options.interactive&&(ue(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(pe(this._container,0),this._removeTimeout=setTimeout(r(ae,void 0,this._container),200)):ae(this._container),this.options.interactive&&(he(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&se(this._container),this},bringToBack:function(){return this._map&&le(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof Sn){e=null;var n=this._source._layers;for(var r in n)if(n[r]._map){e=n[r];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else{if(!e.getBounds)throw new Error("Unable to get source layer LatLng.");t=e.getBounds().getCenter()}return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=E(this.options.offset),n=this._getAnchor();this._zoomAnimated?ve(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});We.include({_initOverlay:function(t,e,n,r){var i=e;return i instanceof t||(i=new t(r).setContent(e)),n&&i.setLatLng(n),i}}),Ln.include({_initOverlay:function(t,e,n,r){var i=n;return i instanceof t?(d(i,r),i._source=this):(i=e&&!r?e:new t(r,this)).setContent(n),i}});var er=tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return!(t=arguments.length?t:this._source._map).hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,tr.prototype.openOn.call(this,t)},onAdd:function(t){tr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",Ie))},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",Ie))},getEvents:function(){var t=tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=ie("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ie("div",t+"-content-wrapper",e);if(this._contentNode=ie("div",t+"-content",n),Ne(e),ze(this._contentNode),Le(e,"contextmenu",Ie),this._tipContainer=ie("div",t+"-tip-container",e),this._tip=ie("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ie("a",t+"-close-button",e);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Le(r,"click",(function(t){Re(t),this.close()}),this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight,a="leaflet-popup-scrolled";i&&r>i?(e.height=i+"px",ue(t,a)):he(t,a),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();ve(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var t=this._map,e=parseInt(re(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new D(this._containerLeft,-n-this._containerBottom);i._add(ye(this._container));var a=t.layerPointToContainerPoint(i),o=E(this.options.autoPanPadding),s=E(this.options.autoPanPaddingTopLeft||o),l=E(this.options.autoPanPaddingBottomRight||o),c=t.getSize(),u=0,h=0;a.x+r+l.x>c.x&&(u=a.x+r-c.x+l.x),a.x-u-s.x<0&&(u=a.x-s.x),a.y+n+l.y>c.y&&(h=a.y+n-c.y+l.y),a.y-h-s.y<0&&(h=a.y-s.y),(u||h)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([u,h]))}},_getAnchor:function(){return E(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});We.mergeOptions({closePopupOnClick:!0}),We.include({openPopup:function(t,e,n){return this._initOverlay(er,t,e,n).openOn(this),this},closePopup:function(t){return(t=arguments.length?t:this._popup)&&t.close(),this}}),Ln.include({bindPopup:function(t,e){return this._popup=this._initOverlay(er,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Sn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(this._popup&&this._map){Fe(t);var e=t.layer||t.target;this._popup._source!==e||e instanceof In?(this._popup._source=e,this.openPopup(t.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var nr=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){tr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=tr.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ie("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n,r=this._map,i=this._container,a=r.latLngToContainerPoint(r.getCenter()),o=r.layerPointToContainerPoint(t),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=E(this.options.offset),h=this._getAnchor();"top"===s?(e=l/2,n=c):"bottom"===s?(e=l/2,n=0):"center"===s?(e=l/2,n=c/2):"right"===s?(e=0,n=c/2):"left"===s?(e=l,n=c/2):o.x<a.x?(s="right",e=0,n=c/2):(s="left",e=l+2*(u.x+h.x),n=c/2),t=t.subtract(E(e,n,!0)).add(u).add(h),he(i,"leaflet-tooltip-right"),he(i,"leaflet-tooltip-left"),he(i,"leaflet-tooltip-top"),he(i,"leaflet-tooltip-bottom"),ue(i,"leaflet-tooltip-"+s),ve(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&pe(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return E(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});We.include({openTooltip:function(t,e,n){return this._initOverlay(nr,t,e,n).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ln.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(nr,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Sn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&(Le(e,"focus",(function(){this._tooltip._source=t,this.openTooltip()}),this),Le(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e="function"==typeof t.getElement&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",(function(){e._openOnceFlag=!1,e._openTooltip(t)}))}else this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var rr=Pn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(oe(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=E(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Pn.Default=Dn;var ir=Ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){d(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ae(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(se(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof D?t:new D(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,a=n.length;i<a;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!It.ielt9){pe(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var a=Math.min(1,(t-i.loaded)/200);pe(i.el,a),a<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ie("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(ae(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=ie("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ae(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),a=Math.floor(e/2),o=n-1,s=new D(+i,+a);s.z=+o;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),o>r&&this._retainParent(i,a,o,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var a=2*e;a<2*e+2;a++){var o=new D(i,a);o.z=n+1;var s=this._tileCoordsToKey(o),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,a,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=Math.round(e);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var a=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!a||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();It.any3d?ge(t.el,i,r):ve(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),a=e.getSize().divideBy(2*r);return new I(i.subtract(a),i.add(a))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),a=i.getCenter(),o=[],s=this.options.keepBuffer,l=new I(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new D(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var d=i.min.x;d<=i.max.x;d++){var f=new D(d,h);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:o.push(f)}}if(o.sort((function(t,e){return t.distanceTo(a)-e.distanceTo(a)})),0!==o.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<o.length;d++)this._addTile(o[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return R(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new N(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new D(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(ae(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ue(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,It.ielt9&&this.options.opacity<1&&pe(t,this.options.opacity)},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),a=this.createTile(this._wrapCoords(t),r(this._tileReady,this,t));this._initTile(a),this.createTile.length<2&&T(r(this._tileReady,this,t,null,a)),ve(a,n),this._tiles[i]={el:a,coords:t,current:!0},e.appendChild(a),this.fire("tileloadstart",{tile:a,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(pe(n.el,0),k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(ue(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),It.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new D(this._wrapX?s(t.x,this._wrapX):t.x,this._wrapY?s(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new I(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});var ar=ir.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,(e=d(this,e)).detectRetina&&It.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Le(n,"load",r(this._tileOnLoad,this,e,n)),Le(n,"error",r(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var n={r:It.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=r),n["-y"]=r}return m(this._url,e(n,this.options))},_tileOnLoad:function(t,e){It.ielt9?setTimeout(r(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,!e.complete)){e.src=y;var n=this._tiles[t].coords;ae(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:n})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",y),ir.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==y))return ir.prototype._tileReady.call(this,t,e,n)}});function or(t,e){return new ar(t,e)}var sr=ar.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=e({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);var a=(n=d(this,n)).detectRetina&&It.retina?2:1,o=this.getTileSize();r.width=o.x*a,r.height=o.y*a,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ar.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=z(n.project(e[0]),n.project(e[1])),i=r.min,a=r.max,o=(this._wmsVersion>=1.3&&this._crs===kn?[i.y,i.x,a.y,a.x]:[i.x,i.y,a.x,a.y]).join(","),s=ar.prototype.getTileUrl.call(this,t);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+o},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});ar.WMS=sr,or.wms=function(t,e){return new sr(t,e)};var lr=Ln.extend({options:{padding:.1},initialize:function(t){d(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ue(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,e),a=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(t,e));It.any3d?ge(this._container,a,n):ve(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new I(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cr=lr.extend({options:{tolerance:0},getEvents:function(){var t=lr.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Le(t,"mousemove",this._onMouseMove,this),Le(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Le(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,ae(this._container),Se(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){lr.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=It.retina?2:1;ve(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",It.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new I,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,a,o=t._parts,s=o.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=o[n].length;r<i;r++)a=o[n][r],l[r?"lineTo":"moveTo"](a.x,a.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&("click"!==t.type&&"preclick"!==t.type||!this._map._draggableMoved(e))&&(n=e);this._fireEvent(!!n&&[n],t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(he(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,a=this._drawFirst;a;a=a.next)(n=a.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&(ue(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function ur(t){return It.canvas?new cr(t):null}var hr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dr={_initContainer:function(){this._container=ie("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(lr.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=hr("shape");ue(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=hr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ae(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=hr("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=hr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){se(t._container)},_bringToBack:function(t){le(t._container)}},fr=It.vml?hr:X,pr=lr.extend({_initContainer:function(){this._container=fr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Se(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){lr.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),ve(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=fr("path");t.options.className&&ue(e,t.options.className),t.options.interactive&&ue(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){se(t._path)},_bringToBack:function(t){le(t._path)}});function mr(t){return It.svg||It.vml?new pr(t):null}It.vml&&pr.include(dr),We.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&ur(t)||mr(t)}});var gr=Fn.extend({initialize:function(t,e){Fn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=R(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pr.create=fr,pr.pointsToPath=J,jn.geometryToLayer=Bn,jn.coordsToLatLng=Un,jn.coordsToLatLngs=Zn,jn.latLngToCoords=Vn,jn.latLngsToCoords=Yn,jn.getFeature=Wn,jn.asFeature=Gn,We.mergeOptions({boxZoom:!0});var vr=Qe.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Le(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),qt(),xe(),this._startPoint=this._map.mouseEventToContainerPoint(t),Le(document,{contextmenu:Fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ie("div","leaflet-zoom-box",this._container),ue(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new I(this._point,this._startPoint),n=e.getSize();ve(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ae(this._box),he(this._container,"leaflet-crosshair")),Xt(),be(),Se(document,{contextmenu:Fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var e=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});We.addInitHook("addHandler","boxZoom",vr),We.mergeOptions({doubleClickZoom:!0});var yr=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});We.addInitHook("addHandler","doubleClickZoom",yr),We.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _r=Qe.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new nn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ue(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){he(this._map._container,"leaflet-grab"),he(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=R(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,a=(r+e+n)%t-e-n,o=Math.abs(i+n)<Math.abs(a+n)?i:a;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=o},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,o=n.easeLinearity,s=i.multiplyBy(o/a),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),h=c/(n.inertiaDeceleration*o),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),T((function(){e.panBy(d,{duration:h,easeLinearity:o,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});We.addInitHook("addHandler","dragging",_r),We.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xr=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Le(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Se(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){Le(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(e=this._panKeys[n],t.shiftKey&&(e=E(e).multiplyBy(3)),r.options.maxBounds&&(e=r._limitOffset(E(e),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(e)));r.panTo(i)}else r.panBy(e)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Fe(t)}}});We.addInitHook("addHandler","keyboard",xr),We.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var br=Qe.extend({addHooks:function(){Le(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ue(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Fe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,a=n?Math.ceil(i/n)*n:i,o=t._limitZoom(e+(this._delta>0?a:-a))-e;this._delta=0,this._startTime=null,o&&("center"===t.options.scrollWheelZoom?t.setZoom(e+o):t.setZoomAround(this._lastMousePos,e+o))}});We.addInitHook("addHandler","scrollWheelZoom",br);We.mergeOptions({tapHold:It.touchNative&&It.safari&&It.mobile,tapTolerance:15});var wr=Qe.extend({addHooks:function(){Le(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),1===t.touches.length){var e=t.touches[0];this._startPos=this._newPos=new D(e.clientX,e.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(Le(document,"touchend",Re),Le(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))}),this),600),Le(document,"touchend touchcancel contextmenu",this._cancel,this),Le(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Se(document,"touchend",Re),Se(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Se(document,"touchend touchcancel contextmenu",this._cancel,this),Se(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new D(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var n=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});n._simulated=!0,e.target.dispatchEvent(n)}});We.addInitHook("addHandler","tapHold",wr),We.mergeOptions({touchZoom:It.touch,bounceAtZoomLimits:!0});var Mr=Qe.extend({addHooks:function(){ue(this._map._container,"leaflet-touch-zoom"),Le(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Le(document,"touchmove",this._onTouchMove,this),Le(document,"touchend touchcancel",this._onTouchEnd,this),Re(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),a=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(a,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&a<1||this._zoom>e.getMaxZoom()&&a>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===a)return}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===a&&0===o.x&&0===o.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var s=r(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(s,this,!0),Re(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});We.addInitHook("addHandler","touchZoom",Mr),We.BoxZoom=vr,We.DoubleClickZoom=yr,We.Drag=_r,We.Keyboard=xr,We.ScrollWheelZoom=br,We.TapHold=wr,We.TouchZoom=Mr,t.Bounds=I,t.Browser=It,t.CRS=H,t.Canvas=cr,t.Circle=Nn,t.CircleMarker=zn,t.Class=C,t.Control=Ge,t.DivIcon=rr,t.DivOverlay=tr,t.DomEvent=Ve,t.DomUtil=Ae,t.Draggable=nn,t.Evented=P,t.FeatureGroup=Sn,t.GeoJSON=jn,t.GridLayer=ir,t.Handler=Qe,t.Icon=Pn,t.ImageOverlay=Kn,t.LatLng=F,t.LatLngBounds=N,t.Layer=Ln,t.LayerGroup=Cn,t.LineUtil=xn,t.Map=We,t.Marker=En,t.Mixin=tn,t.Path=In,t.Point=D,t.PolyUtil=ln,t.Polygon=Fn,t.Polyline=Rn,t.Popup=er,t.PosAnimation=Ye,t.Projection=Mn,t.Rectangle=gr,t.Renderer=lr,t.SVG=pr,t.SVGOverlay=Qn,t.TileLayer=ar,t.Tooltip=nr,t.Transformation=Y,t.Util=A,t.VideoOverlay=$n,t.bind=r,t.bounds=z,t.canvas=ur,t.circle=function(t,e,n){return new Nn(t,e,n)},t.circleMarker=function(t,e){return new zn(t,e)},t.control=qe,t.divIcon=function(t){return new rr(t)},t.extend=e,t.featureGroup=function(t,e){return new Sn(t,e)},t.geoJSON=Xn,t.geoJson=Jn,t.gridLayer=function(t){return new ir(t)},t.icon=function(t){return new Pn(t)},t.imageOverlay=function(t,e,n){return new Kn(t,e,n)},t.latLng=j,t.latLngBounds=R,t.layerGroup=function(t,e){return new Cn(t,e)},t.map=function(t,e){return new We(t,e)},t.marker=function(t,e){return new En(t,e)},t.point=E,t.polygon=function(t,e){return new Fn(t,e)},t.polyline=function(t,e){return new Rn(t,e)},t.popup=function(t,e){return new er(t,e)},t.rectangle=function(t,e){return new gr(t,e)},t.setOptions=d,t.stamp=a,t.svg=mr,t.svgOverlay=function(t,e,n){return new Qn(t,e,n)},t.tileLayer=or,t.tooltip=function(t,e){return new nr(t,e)},t.transformation=W,t.version="1.9.4",t.videoOverlay=function(t,e,n){return new $n(t,e,n)};var Tr=window.L;t.noConflict=function(){return window.L=Tr,this},window.L=t}(e)},3495:()=>{!function(){function t(t,e){var n,r;this.title=t.title,this.stateName=t.stateName?t.stateName:"unnamed-state",this.icon=L.DomUtil.create("span",""),L.DomUtil.addClass(this.icon,"button-state state-"+this.stateName.replace(/(^\s*|\s*$)/g,"")),this.icon.innerHTML=((n=t.icon).match(/[&;=<>"']/)?r=n:(n=n.replace(/(^\s*|\s*$)/g,""),r=L.DomUtil.create("span",""),0===n.indexOf("fa-")?L.DomUtil.addClass(r,"fa "+n):0===n.indexOf("glyphicon-")?L.DomUtil.addClass(r,"glyphicon "+n):L.DomUtil.addClass(r,n),r=r.outerHTML),r),this.onClick=L.Util.bind(t.onClick?t.onClick:function(){},e)}L.Control.EasyBar=L.Control.extend({options:{position:"topleft",id:null,leafletClasses:!0},initialize:function(t,e){e&&L.Util.setOptions(this,e),this._buildContainer(),this._buttons=[];for(var n=0;n<t.length;n++)t[n]._bar=this,t[n]._container=t[n].button,this._buttons.push(t[n]),this.container.appendChild(t[n].button)},_buildContainer:function(){this._container=this.container=L.DomUtil.create("div",""),this.options.leafletClasses&&L.DomUtil.addClass(this.container,"leaflet-bar easy-button-container leaflet-control"),this.options.id&&(this.container.id=this.options.id)},enable:function(){return L.DomUtil.addClass(this.container,"enabled"),L.DomUtil.removeClass(this.container,"disabled"),this.container.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.container,"disabled"),L.DomUtil.removeClass(this.container,"enabled"),this.container.setAttribute("aria-hidden","true"),this},onAdd:function(){return this.container},addTo:function(t){this._map=t;for(var e=0;e<this._buttons.length;e++)this._buttons[e]._map=t;var n=this._container=this.onAdd(t),r=this.getPosition(),i=t._controlCorners[r];return L.DomUtil.addClass(n,"leaflet-control"),-1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this}}),L.easyBar=function(){for(var t=[L.Control.EasyBar],e=0;e<arguments.length;e++)t.push(arguments[e]);return new(Function.prototype.bind.apply(L.Control.EasyBar,t))},L.Control.EasyButton=L.Control.extend({options:{position:"topleft",id:null,type:"replace",states:[],leafletClasses:!0,tagName:"button"},initialize:function(e,n,r,i){this.options.states=[],null!=i&&(this.options.id=i),this.storage={},"object"==typeof arguments[arguments.length-1]&&L.Util.setOptions(this,arguments[arguments.length-1]),0===this.options.states.length&&"string"==typeof e&&"function"==typeof n&&this.options.states.push({icon:e,onClick:n,title:"string"==typeof r?r:""}),this._states=[];for(var a=0;a<this.options.states.length;a++)this._states.push(new t(this.options.states[a],this));this._buildButton(),this._activateState(this._states[0])},_buildButton:function(){if(this.button=L.DomUtil.create(this.options.tagName,""),"button"===this.options.tagName&&this.button.setAttribute("type","button"),this.options.id&&(this.button.id=this.options.id),this.options.leafletClasses&&L.DomUtil.addClass(this.button,"easy-button-button leaflet-bar-part leaflet-interactive"),L.DomEvent.addListener(this.button,"dblclick",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mousedown",L.DomEvent.stop),L.DomEvent.addListener(this.button,"mouseup",L.DomEvent.stop),L.DomEvent.addListener(this.button,"click",(function(t){L.DomEvent.stop(t),this._currentState.onClick(this,this._map?this._map:null),this._map&&this._map.getContainer().focus()}),this),"replace"==this.options.type)this.button.appendChild(this._currentState.icon);else for(var t=0;t<this._states.length;t++)this.button.appendChild(this._states[t].icon)},_currentState:{stateName:"unnamed",icon:document.createElement("span")},_states:null,state:function(t){return 0===arguments.length?this._currentState.stateName:("string"==typeof t?this._activateStateNamed(t):"number"==typeof t&&this._activateState(this._states[t]),this)},_activateStateNamed:function(t){for(var e=0;e<this._states.length;e++)this._states[e].stateName==t&&this._activateState(this._states[e])},_activateState:function(t){if(t!==this._currentState){"replace"==this.options.type&&(this.button.appendChild(t.icon),this.button.removeChild(this._currentState.icon)),t.title?this.button.title=t.title:this.button.removeAttribute("title");for(var e=0;e<this._states.length;e++)L.DomUtil.removeClass(this._states[e].icon,this._currentState.stateName+"-active"),L.DomUtil.addClass(this._states[e].icon,t.stateName+"-active");L.DomUtil.removeClass(this.button,this._currentState.stateName+"-active"),L.DomUtil.addClass(this.button,t.stateName+"-active"),this._currentState=t}},enable:function(){return L.DomUtil.addClass(this.button,"enabled"),L.DomUtil.removeClass(this.button,"disabled"),this.button.setAttribute("aria-hidden","false"),this},disable:function(){return L.DomUtil.addClass(this.button,"disabled"),L.DomUtil.removeClass(this.button,"enabled"),this.button.setAttribute("aria-hidden","true"),this},onAdd:function(t){var e=L.easyBar([this],{position:this.options.position,leafletClasses:this.options.leafletClasses});return this._anonymousBar=e,this._container=e.container,this._anonymousBar.container},removeFrom:function(t){return this._map===t&&this.remove(),this}}),L.easyButton=function(){var t=Array.prototype.concat.apply([L.Control.EasyButton],arguments);return new(Function.prototype.bind.apply(L.Control.EasyButton,t))}}()},3628:(t,e,n)=>{"use strict";var r=n(8648),i=n(1064),a=n(7176);t.exports=r?function(t){return r(t)}:i?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return i(t)}:a?function(t){return a(t)}:null},3730:(t,e,n)=>{"use strict";t.exports=n.p+"f72efb874d428c48fdf2.svg"},4039:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(1333);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},4091:(t,e,n)=>{"use strict";t.exports=n.p+"ac04e13b7ee0e3884deb.png"},4417:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},4459:t=>{"use strict";t.exports=Number.isNaN||function(t){return t!=t}},4622:(t,e,n)=>{"use strict";t.exports=n.p+"c5ab332f0d64fc8dc60a.svg"},4765:t=>{"use strict";var e=String.prototype.replace,n=/%20/g,r="RFC3986";t.exports={default:r,formatters:{RFC1738:function(t){return e.call(t,n,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:r}},4771:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var r=n(1601),i=n.n(r),a=n(6314),o=n.n(a),s=n(4417),l=n.n(s),c=new URL(n(3056),n.b),u=new URL(n(3730),n.b),h=o()(i()),d=l()(c),f=l()(u);h.push([t.id,`.leaflet-hidden {\n  visibility: hidden;\n}\n\n.legend {\n  cursor: pointer;\n}\n\n.leaflet-container {\n  z-index: 0;\n  /* prevent overlapping the .elevation-detached chart */\n}\n\n.elevation-control .background {\n  background-color: var(--ele-bg, rgba(70, 130, 180, 0.2));\n  border-radius: 5px;\n  overflow: visible;\n  display: block;\n  touch-action: none;\n  user-select: none;\n  max-width: 100%;\n}\n\n.elevation-control .grid,\n.elevation-control .area > foreignObject,\n.elevation-control .axis,\n.elevation-control .tooltip,\n.height-focus.line {\n  pointer-events: none;\n}\n\n.elevation-control .axis line,\n.elevation-control .axis path {\n  stroke: var(--ele-axis, #2D1130);\n  stroke-width: 1;\n  fill: none;\n}\n\n.elevation-control .grid .tick line {\n  stroke: var(--ele-grid, #EEE);\n  stroke-width: 1px;\n  shape-rendering: crispEdges;\n}\n\n.elevation-control .grid path {\n  stroke-width: 0;\n}\n\n.elevation-control .axis text,\n.elevation-control .legend text,\n.elevation-control .point text {\n  fill: #000;\n  font-weight: 700;\n  paint-order: stroke fill;\n  stroke: #fff;\n  stroke-width: 2px\n}\n\n.elevation-control .y.axis text {\n  text-anchor: end;\n}\n\n.elevation-control .area {\n  fill: var(--ele-area, #4682B4);\n  stroke: var(--ele-stroke, #000);\n  stroke-width: 1.2;\n  paint-order: stroke fill;\n}\n\n.elevation-control .horizontal-drag-line {\n  cursor: row-resize;\n  stroke: transparent;\n  stroke-dasharray: 5;\n  stroke-width: 1.1;\n}\n\n.elevation-control .active .horizontal-drag-line {\n  stroke: #000;\n}\n\n.elevation-control .horizontal-drag-label {\n  fill: #000;\n  font-weight: 700;\n  paint-order: stroke;\n  stroke: #FFF;\n  stroke-width: 2px;\n}\n\n.elevation-control .ruler {\n  color: #000;\n  cursor: row-resize;\n}\n\n.elevation-control .mouse-focus-line {\n  stroke: #000;\n  stroke-width: 1;\n}\n\n.elevation-control .mouse-focus-label-rect {\n  fill: #000;\n  fill-opacity: 0.75;\n  stroke-width: 1;\n  stroke: #444;\n}\n\n.elevation-control .mouse-focus-label-text {\n  fill: #FFF;\n  font-size: 10px;\n}\n\n.elevation-control .brush .overlay {\n  cursor: unset;\n}\n\n.elevation-control .brush .selection {\n  fill: var(--ele-brush, rgba(23, 74, 117, 0.4));\n  stroke: none;\n  fill-opacity: unset;\n}\n\n.elevation-summary {\n  font-family: "Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif;\n  font-size: 12px;\n  margin: var(--ele-sum-margin, 0 auto);\n  text-shadow: var(--ele-sum-shadow, 1px 0 0 #FFF, -1px 0 0 #FFF, 0 1px 0 #FFF, 0 -1px 0 #FFF, 1px 1px #FFF, -1px -1px 0 #FFF, 1px -1px 0 #FFF, -1px 1px 0 #FFF);\n}\n\n.elevation-summary>span:not(:last-child):after {\n  content: var(--ele-sum-sep, '');\n}\n\n.multiline-summary>span {\n  display: block;\n}\n\n.multiline-summary .download {\n  float: right;\n  margin-top: -3em;\n  margin-right: 2em;\n  font-weight: bold;\n  font-size: 1.2em;\n}\n\n.elevation-summary .summaryvalue {\n  font-weight: bold;\n}\n\n.elevation-toggle-icon {\n  background-color: #fff;\n  right: 5px;\n  top: 5px;\n  height: var(--ele-toggle-size, 36px);\n  width: var(--ele-toggle-size, 36px);\n  cursor: pointer;\n  box-shadow: 0 1px 7px rgba(0, 0, 0, 0.4);\n  border-radius: 5px;\n  display: inline-block;\n  position: var(--ele-toggle-pos, relative);\n}\n\n.elevation-toggle-icon:before {\n  content: '\\2716';\n  display: var(--ele-close-btn, none);\n  color: #000;\n  width: 100%;\n  line-height: 20px;\n  text-align: center;\n  font-weight: bold;\n  font-size: 15px;\n}\n\n.leaflet-elevation-pane .height-focus,\n.leaflet-overlay-pane .height-focus {\n  stroke: #000;\n  fill: var(--ele-circle, var(--ele-area, #FFF));\n}\n\n.leaflet-elevation-pane .height-focus.line,\n.leaflet-overlay-pane .height-focus.line {\n  stroke-width: 2;\n}\n\n.leaflet-elevation-pane .height-focus-label,\n.leaflet-overlay-pane .height-focus-label {\n  font-size: 12px;\n  font-weight: 600;\n  fill: #000;\n  paint-order: stroke;\n  stroke: #FFF;\n  stroke-width: 2px;\n}\n\n.elevation-waypoint-icon:before,\n.elevation-position-icon:before {\n  content: "";\n  width: 100%;\n  height: 100%;\n  display: inline-block;\n  background: var(--ele-marker) no-repeat center center / contain;\n}\n\n.elevation-polyline {\n  stroke: var(--ele-poly, var(--ele-area, #000));\n  filter: drop-shadow(1px 1px 0 #FFF) drop-shadow(-1px -1px 0 #FFF) drop-shadow(1px -1px 0 #FFF) drop-shadow(-1px 1px 0 #FFF);\n}\n\n/* CHART STATES /////////////////////////////////////////////////// */\n\n.elevation-detached {\n  font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n  height: auto;\n  width: 100%;\n  position: relative;\n  z-index: 0;\n}\n\n.elevation-detached .area {\n  fill-opacity: var(--ele-alpha, 0.8);\n}\n\n.elevation-detached.elevation-collapsed .elevation-summary {\n  display: block;\n}\n\n.elevation-detached.elevation-collapsed .elevation-toggle-icon {\n  top: 5px;\n  right: 9px;\n  bottom: 5px;\n  margin: auto;\n}\n\n.elevation-control.elevation-collapsed > * {\n  display: none;\n}\n\n.elevation-control.elevation-collapsed > .elevation-toggle-icon {\n  display: inline-block;\n}\n\n.elevation-detached {\n  --ele-sum-margin: 12px 35px;\n  --ele-sum-shadow: none;\n  --ele-toggle-pos: absolute;\n}\n\n.elevation-expanded {\n  --ele-close-btn: inline-block;\n  --ele-toggle-bg: none;\n  --ele-toggle-pos: absolute;\n  --ele-toggle-size: 20px;\n}\n\n.inline-summary {\n  --ele-sum-sep: "\\0020\\2014\\0020";\n}\n\n.elevation-waypoint-icon {\n  --ele-marker: url(${d});\n}\n\n.elevation-position-icon {\n  --ele-marker: url(${f});\n}\n\n/* LIME THEME ///////////////////////////////////////////////////// */\n\n.lime-theme {\n  --ele-bg: rgba(156, 194, 34, 0.2);\n  --ele-axis: #566B13;\n  --ele-area: #9CC222;\n  --ele-grid: #CCC;\n  --ele-brush: rgba(99, 126, 11, 0.4);\n  --ele-poly: #566B13;\n  --ele-line: #70ab00;\n}\n\n/* STEELBLUE THEME //////////////////////////////////////////////// */\n\n.steelblue-theme {\n  --ele-axis: #0D1821;\n  --ele-area: #4682B4;\n  --ele-brush: rgba(23, 74, 117, 0.4);\n  --ele-line: #174A75;\n}\n\n/* PURPLE THEME /////////////////////////////////////////////////// */\n\n.purple-theme {\n  --ele-bg: rgba(115, 44, 123, 0.2);\n  --ele-area: #732C7B;\n  --ele-brush: rgba(74, 14, 80, 0.4);\n  --ele-line: #732c7b;\n}\n\n/* YELLOW THEME /////////////////////////////////////////////////// */\n\n.yellow-theme {\n  --ele-area: #FF0;\n}\n\n/* RED THEME ////////////////////////////////////////////////////// */\n\n.red-theme {\n  --ele-area: #F00;\n}\n\n/* MAGENTA THEME ////////////////////////////////////////////////// */\n\n.magenta-theme {\n  --ele-bg: rgba(255, 255, 255, 0.47);\n  --ele-area: #FF005E;\n}\n\n/* LIGHTBLUE THEME //////////////////////////////////////////////// */\n\n.lightblue-theme {\n  --ele-area: #3366CC;\n  --ele-alpha: 0.45;\n  --ele-stroke: #4682B4;\n  --ele-circle: #fff;\n  --ele-line: #000;\n}\n\n.elevation-detached.lightblue-theme .area {\n  stroke: #3366CC;\n}\n\n/* leaflet-distance-markers */\n\n.dist-marker {\n  font-size: 0.5rem;\n  border: 1px solid #777;\n  border-radius: 10px;\n  text-align: center;\n  color: #000;\n  background: #fff;\n}\n`,""]);const p=h},4803:(t,e,n)=>{"use strict";var r=n(8859),i=n(9675),a=function(t,e,n){for(var r,i=t;null!=(r=i.next);i=r)if(r.key===e)return i.next=r.next,n||(r.next=t.next,t.next=r),r};t.exports=function(){var t,e={assert:function(t){if(!e.has(t))throw new i("Side channel does not contain "+r(t))},delete:function(e){var n=t&&t.next,r=function(t,e){if(t)return a(t,e,!0)}(t,e);return r&&n&&n===r&&(t=void 0),!!r},get:function(e){return function(t,e){if(t){var n=a(t,e);return n&&n.value}}(t,e)},has:function(e){return function(t,e){return!!t&&!!a(t,e)}(t,e)},set:function(e,n){t||(t={next:void 0}),function(t,e,n){var r=a(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}}(t,e,n)}};return e}},4882:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var r=n(1601),i=n.n(r),a=n(6314),o=n.n(a)()(i());o.push([t.id,".leaflet-bar button,\n.leaflet-bar button:hover {\n  background-color: #fff;\n  border: none;\n  border-bottom: 1px solid #ccc;\n  width: 26px;\n  height: 26px;\n  line-height: 26px;\n  display: block;\n  text-align: center;\n  text-decoration: none;\n  color: black;\n}\n\n.leaflet-bar button {\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  overflow: hidden;\n  display: block;\n}\n\n.leaflet-bar button:hover {\n  background-color: #f4f4f4;\n}\n\n.leaflet-bar button:first-of-type {\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n\n.leaflet-bar button:last-of-type {\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  border-bottom: none;\n}\n\n.leaflet-bar.disabled,\n.leaflet-bar button.disabled {\n  cursor: default;\n  pointer-events: none;\n  opacity: .4;\n}\n\n.easy-button-button .button-state{\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n\n\n.leaflet-touch .leaflet-bar button {\n  width: 30px;\n  height: 30px;\n  line-height: 30px;\n}\n",""]);const s=o},5056:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},5072:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},o=[],s=0;s<t.length;s++){var l=t[s],c=r.base?l[0]+r.base:l[0],u=a[c]||0,h="".concat(c," ").concat(u);a[c]=u+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var p=i(f,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var a=r(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<a.length;o++){var s=n(a[o]);e[s].references--}for(var l=r(t,i),c=0;c<a.length;c++){var u=n(a[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=l}}},5097:t=>{"use strict";t.exports="data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNMTI4LDMyaDI1NnY2NEgxMjhWMzJ6IE00ODAsMTI4SDMyYy0xNy42LDAtMzIsMTQuNC0zMiwzMnYxNjBjMCwxNy42LDE0LjM5OCwzMiwzMiwzMmg5NnYxMjhoMjU2VjM1Mmg5NiAgIGMxNy42LDAsMzItMTQuNCwzMi0zMlYxNjBDNTEyLDE0Mi40LDQ5Ny42LDEyOCw0ODAsMTI4eiBNMzUyLDQ0OEgxNjBWMjg4aDE5MlY0NDh6IE00ODcuMTk5LDE3NmMwLDEyLjgxMy0xMC4zODcsMjMuMi0yMy4xOTcsMjMuMiAgIGMtMTIuODEyLDAtMjMuMjAxLTEwLjM4Ny0yMy4yMDEtMjMuMnMxMC4zODktMjMuMiwyMy4xOTktMjMuMkM0NzYuODE0LDE1Mi44LDQ4Ny4xOTksMTYzLjE4Nyw0ODcuMTk5LDE3NnoiIGZpbGw9IiMwMDAwMDAiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K"},5345:t=>{"use strict";t.exports=URIError},5373:(t,e,n)=>{"use strict";var r=n(8636),i=n(2642),a=n(4765);t.exports={formats:a,parse:i,stringify:r}},5795:(t,e,n)=>{"use strict";var r=n(6549);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},5819:(t,e,n)=>{"use strict";n.d(e,{A:()=>I});var r=n(1601),i=n.n(r),a=n(6314),o=n.n(a),s=n(4417),l=n.n(s),c=new URL(n(8434),n.b),u=new URL(n(7466),n.b),h=new URL(n(9211),n.b),d=new URL(n(4622),n.b),f=new URL(n(7982),n.b),p=new URL(n(6602),n.b),m=new URL(n(9276),n.b),g=new URL(n(4091),n.b),v=new URL(n(2025),n.b),y=new URL(n(601),n.b),_=new URL(n(877),n.b),x=new URL(n(5097),n.b),b=o()(i()),w=l()(c),M=l()(u),T=l()(h),k=l()(d),A=l()(f),L=l()(p),C=l()(m),S=l()(g),P=l()(v),D=l()(y),O=l()(_),E=l()(x);b.push([t.id,`.pano-canvas{position:absolute!important;width:100%;height:100%;top:0;right:0;bottom:0;left:0;margin:0;padding:0;z-index:1000;display:none}.pegman-control{width:30px;height:30px;background-color:#fff;box-shadow:0 1px 4px rgba(0,0,0,.3);cursor:grab}.pegman-control.dragging{cursor:grabbing}.pegman-control .pegman-button{position:relative;width:100%;height:100%;background-image:url(${w});background-position:-145px -23px;background-repeat:no-repeat}.pegman-control:hover .pegman-button{background-position:-145px -75px}.pegman-control.active .pegman-button,.pegman-control.dragging .pegman-button{background-position:-145px -50px}.pegman-control.active .pegman-button:before{position:absolute;width:100%;height:100%;content:" ";display:block;z-index:-1;opacity:.5;background:linear-gradient(#d1d1d1,#f5f5f5,#fbfbfb)}.pegman-control.streetview-layer-active{background:linear-gradient(#d1d1d1,#f5f5f5,#fbfbfb);background-clip:padding-box}.pegman{position:absolute;z-index:9999999;display:block;width:100%;height:100%;opacity:0}.pegman:before{position:relative;z-index:5;display:block;width:19px;height:32px;content:" ";background-image:url(${w});background-repeat:no-repeat;background-position:-112px -4px}.pegman:after{position:absolute;width:22px;height:22px;content:" ";bottom:-18px;left:50%;margin-left:-11px;z-index:4;display:block;overflow:visible;visibility:visible;border:1px dotted rgba(51,51,51,.9);border-radius:30px;background-color:rgba(105,185,70,.7);box-shadow:3px 10px 25px rgba(105,185,70,.9)}.pegman.active{opacity:1!important}.pegman.active.left:before{background-position:-119px -55px}.pegman.active.right:before{background-position:-114px -158px}.pegman.active.bottom:before,.pegman.active.top:before{background-position:-112px -4px}.pegman.dropped{opacity:1}.pegman.dropped:before{background-position:-112px -4px}.pegman-marker{background:transparent url(${w}) no-repeat scroll 0 -364px}.pegman-marker:not(.leaflet-drag-target){transition:transform .2s linear}.leaflet-left .pegman-control:hover .pegman-button{transform:scaleX(-1)}.leaflet-pegman-v3-default .pegman-control{width:40px;height:40px}.leaflet-pegman-v3-default .pegman-control .pegman-button{background-image:url(${M});background-position:-3px -55px;background-size:45px}.leaflet-pegman-v3-default .pegman-control.streetview-layer-active .pegman-button{background-position:-3px -7px}.leaflet-pegman-v3-default .pegman-control:hover .pegman-button{background-position:-3px -152px}.leaflet-pegman-v3-default .pegman-control.dragging .pegman-button{background-position:-3px -104px}.leaflet-pegman-v3-small .pegman-control{width:30px;height:30px}.leaflet-pegman-v3-small .pegman-control .pegman-button{background-image:url(${T});background-position:2px -27px;background-size:25px}.leaflet-pegman-v3-small .pegman-control.streetview-layer-active .pegman-button{background-position:2px 0}.leaflet-pegman-v3-small .pegman-control:hover .pegman-button{background-position:2px -79px}.leaflet-pegman-v3-small .pegman-control.dragging .pegman-button{background-position:2px -53px}.leaflet-container:not(.leaflet-touch).leaflet-pegman-v3-small .pegman-control{width:26px;height:26px;box-shadow:0 1px 5px rgba(0,0,0,.65)}.leaflet-container:not(.leaflet-touch).leaflet-pegman-v3-small .pegman-control .pegman-button{background-position:0 -29px}.leaflet-container:not(.leaflet-touch).leaflet-pegman-v3-small .pegman-control:hover .pegman-button{background-position:0 -81px}.leaflet-container:not(.leaflet-touch).leaflet-pegman-v3-default .pegman-control{width:36px;height:36px;box-shadow:0 1px 5px rgba(0,0,0,.65)}.leaflet-container:not(.leaflet-touch).leaflet-pegman-v3-default .pegman-control .pegman-button{background-position:-3px -53px;background-size:42px}.leaflet-container:not(.leaflet-touch).leaflet-pegman-v3-default .pegman-control:hover .pegman-button{background-position:-3px -143px}.leaflet-control-locate a{cursor:pointer}.leaflet-control-locate a .leaflet-control-locate-location-arrow{-webkit-mask-image:url(${k});mask-image:url(${k})}.leaflet-control-locate a .leaflet-control-locate-location-arrow,.leaflet-control-locate a .leaflet-control-locate-spinner{display:inline-block;width:16px;height:16px;margin:7px;background-color:#000;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-position:center;mask-position:center}.leaflet-control-locate a .leaflet-control-locate-spinner{-webkit-mask-image:url(${A});mask-image:url(${A});animation:leaflet-control-locate-spin 2s linear infinite}.leaflet-control-locate.active a .leaflet-control-locate-location-arrow{background-color:#2074b6}.leaflet-control-locate.following a .leaflet-control-locate-location-arrow{background-color:#fc8428}.leaflet-touch .leaflet-bar .leaflet-locate-text-active{width:100%;max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding:0 10px}.leaflet-touch .leaflet-bar .leaflet-locate-text-active .leaflet-locate-icon{padding:0 5px 0 0}.leaflet-control-locate-location circle{animation:leaflet-control-locate-throb 4s ease infinite}@keyframes leaflet-control-locate-throb{0%{stroke-width:1}50%{stroke-width:3;transform:scale(.8)}to{stroke-width:1}}@keyframes leaflet-control-locate-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.fullscreen-icon{background-image:url(${L});background-size:26px 52px}.fullscreen-icon.leaflet-fullscreen-on{background-position:0 -26px}.leaflet-touch .fullscreen-icon{background-position:2px 2px}.leaflet-touch .fullscreen-icon.leaflet-fullscreen-on{background-position:2px -24px}.leaflet-container:-webkit-full-screen{width:100%!important;height:100%!important;z-index:99999}.leaflet-container:-ms-fullscreen{width:100%!important;height:100%!important;z-index:99999}.leaflet-container:full-screen,.leaflet-container:fullscreen,.leaflet-pseudo-fullscreen{width:100%!important;height:100%!important;z-index:99999}.leaflet-pseudo-fullscreen{position:fixed!important;top:0!important;left:0!important}.leaflet-gesture-handling:after{color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:1001;pointer-events:none;text-align:center;transition:opacity .8s ease-in-out;opacity:0;content:""}.leaflet-gesture-handling-warning:after{transition-duration:.3s;opacity:1}.leaflet-gesture-handling-touch:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll:after{content:attr(data-gesture-handling-scroll-content)}.leaflet-edit-osm.leaflet-control a{padding-right:5px}.leaflet-edit-osm.leaflet-control-attribution.leaflet-control{clear:both}.leaflet-edit-osm~.leaflet-control-attribution.leaflet-control{clear:none}.leaflet-control-layers-inline{margin:0;padding:0}.leaflet-control-layers-inline.leaflet-control-layers{border:transparent;background-color:transparent}.leaflet-control-layers-inline .leaflet-control-layers-base{margin:0;padding:0}.leaflet-control-layers-inline .leaflet-control-layers-base input{display:none}.leaflet-control-layers-inline .leaflet-control-layers-base span{display:inline-block;padding:9.5px;font-size:15px;font-weight:600}.leaflet-control-layers-inline .leaflet-control-layers-base label{display:inline-block;cursor:pointer;box-shadow:0 1px 4px -1px rgba(0,0,0,.3);background-color:#fff;background-clip:padding-box;border:2px solid rgba(0,0,0,.2);border-right:none;border-left:none}.leaflet-control-layers-inline .leaflet-control-layers-base label:hover{background-color:#f4f4f4}.leaflet-control-layers-inline .leaflet-control-layers-base label:first-of-type{border-left:2px solid rgba(0,0,0,.2);border-top-left-radius:4px;border-bottom-left-radius:4px}.leaflet-control-layers-inline .leaflet-control-layers-base label:last-of-type{border-right:2px solid rgba(0,0,0,.2);border-top-right-radius:4px;border-bottom-right-radius:4px}.leaflet-control-layers-inline .leaflet-control-layers-base input+span{color:#565656}.leaflet-control-layers-inline .leaflet-control-layers-base input:checked+span{font-weight:700;color:inherit}.leaflet-container:not(.leaflet-touch) .leaflet-control-layers-inline .leaflet-control-layers-base span{padding:8px;font-size:14px}.leaflet-container:not(.leaflet-touch) .leaflet-control-layers-inline .leaflet-control-layers-base label{border:none}.leaflet-control-minimap{border:solid #fff;box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:3px;background:#f8f8f9;transition:all .6s}.leaflet-control-minimap a{background-color:#fff;background-repeat:no-repeat;z-index:99999;transition:all .6s}.leaflet-control-minimap a.minimized-bottomright{-webkit-transform:rotate(180deg);transform:rotate(180deg);border-radius:0}.leaflet-control-minimap a.minimized-topleft{-webkit-transform:rotate(0deg);transform:rotate(0deg);border-radius:0}.leaflet-control-minimap a.minimized-bottomleft{-webkit-transform:rotate(270deg);transform:rotate(270deg);border-radius:0}.leaflet-control-minimap a.minimized-topright{-webkit-transform:rotate(90deg);transform:rotate(90deg);border-radius:0}.leaflet-control-minimap-toggle-display{background-image:url(${C});background-size:cover;position:absolute;border-radius:3px 0 0}.leaflet-oldie .leaflet-control-minimap-toggle-display{background-image:url(${S})}.leaflet-control-minimap-toggle-display-bottomright{bottom:0;right:0}.leaflet-control-minimap-toggle-display-topleft{top:0;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.leaflet-control-minimap-toggle-display-bottomleft{bottom:0;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.leaflet-control-minimap-toggle-display-topright{top:0;right:0;-webkit-transform:rotate(270deg);transform:rotate(270deg)}.leaflet-oldie .leaflet-control-minimap{border:1px solid #999}.leaflet-oldie .leaflet-control-minimap a{background-color:#fff}.leaflet-oldie .leaflet-control-minimap a.minimized{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2)}.leaflet-control-loading:empty{background-image:url(${P});background-repeat:no-repeat}.leaflet-control-layer-container,.leaflet-control-loading,.leaflet-control-zoom a.leaflet-control-loading,.leaflet-control-zoomslider a.leaflet-control-loading{display:none}.leaflet-control-layer-container.is-loading,.leaflet-control-loading.is-loading,.leaflet-control-zoom a.leaflet-control-loading.is-loading,.leaflet-control-zoomslider a.leaflet-control-loading.is-loading{display:block}.leaflet-bar-part-bottom{border-bottom:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.leaflet-container .leaflet-control-search{position:relative;float:left;background:#fff;color:#1978cf;border:2px solid rgba(0,0,0,.2);background-clip:padding-box;-moz-border-radius:4px;-webkit-border-radius:4px;border-radius:4px;background-color:hsla(0,0%,100%,.8);z-index:1000;margin-left:10px;margin-top:10px}.leaflet-control-search.search-exp{background:#fff;border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-control-search .search-input{display:block;float:left;background:#fff;border:1px solid #666;border-radius:2px;height:22px;padding:0 20px 0 2px;margin:4px 0 4px 4px}.leaflet-control-search.search-load .search-input{background:url(${D}) no-repeat 100% #fff}.leaflet-control-search.search-load .search-cancel{visibility:hidden}.leaflet-control-search .search-cancel{display:block;width:22px;height:22px;position:absolute;right:28px;margin:6px 0;background:url(${O}) no-repeat 0 -46px;text-decoration:none;filter:alpha(opacity=80);opacity:.8}.leaflet-control-search .search-cancel:hover{filter:alpha(opacity=100);opacity:1}.leaflet-control-search .search-cancel span{display:none;font-size:18px;line-height:20px;color:#ccc;font-weight:700}.leaflet-control-search .search-cancel:hover span{color:#aaa}.leaflet-control-search .search-button{display:block;float:left;width:30px;height:30px;background:url(${O}) no-repeat 4px 4px #fff;border-radius:4px}.leaflet-control-search .search-button:hover{background:url(${O}) no-repeat 4px -20px #fafafa}.leaflet-control-search .search-tooltip{position:absolute;top:100%;left:0;float:left;list-style:none;padding-left:0;min-width:120px;max-height:122px;box-shadow:1px 1px 6px rgba(0,0,0,.4);background-color:rgba(0,0,0,.25);z-index:1010;overflow-y:auto;overflow-x:hidden;cursor:pointer}.leaflet-control-search .search-tip{margin:2px;padding:2px 4px;display:block;color:#000;background:#eee;border-radius:.25em;text-decoration:none;white-space:nowrap;vertical-align:center}.leaflet-control-search .search-button:hover{background-color:#f4f4f4}.leaflet-control-search .search-tip-select,.leaflet-control-search .search-tip:hover{background-color:#fff}.leaflet-control-search .search-alert{cursor:pointer;clear:both;font-size:.75em;margin-bottom:5px;padding:0 .25em;color:#e00;font-weight:700;border-radius:.25em}.leaflet-control-resizer-corner-e,.leaflet-control-resizer-corner-s,.leaflet-control-resizer-corner-se{z-index:1000;position:absolute}.leaflet-control-resizer-corner-e{right:0;height:100%}.leaflet-control-resizer-corner-s{bottom:0;width:100%}.leaflet-control-resizer-corner-se{right:0;bottom:0}.leaflet-control-resizer-transparent{background-color:transparent;user-select:none;transition:.5s}.leaflet-control-resizer-transparent:after{border-color:transparent;transition:.5s}.leaflet-control-resizer-opaque,.leaflet-control-resizer-transparent-fakedhover,.leaflet-control-resizer-transparent:hover{background-color:rgba(255,250,170,.8)}.leaflet-control-resizer-opaque:after,.leaflet-control-resizer-transparent-fakedhover:after,.leaflet-control-resizer-transparent:hover:after{border-color:rgba(85,85,85,.9)}.leaflet-control-resizer-e{width:25px;height:50px;border-top-left-radius:25px;border-bottom-left-radius:25px;cursor:e-resize;right:0;top:50%;transform:translateY(-50%)}.leaflet-control-resizer-s{width:50px;height:25px;border-top-left-radius:25px;border-top-right-radius:25px;cursor:s-resize;left:50%;bottom:0;transform:translateX(-50%)}.leaflet-control-resizer-se{width:35px;height:35px;border-top-left-radius:35px;cursor:se-resize;right:0;bottom:0;position:absolute}.leaflet-control-resizer-e:after,.leaflet-control-resizer-s:after,.leaflet-control-resizer-se:after{content:"";position:absolute;z-index:999;border-width:1px;bottom:20%;right:20%}.leaflet-control-resizer-e:after,.leaflet-control-resizer-s:after{width:60%;height:60%}.leaflet-control-resizer-se:after{width:40%;height:40%}.leaflet-control-resizer-e:after,.leaflet-control-resizer-se:after{border-right-style:solid}.leaflet-control-resizer-s:after,.leaflet-control-resizer-se:after{border-bottom-style:solid}.leaflet-visualclick-icon{border-radius:100%;pointer-events:none}.leaflet-visualclick-icon:after{height:60px;width:60px;margin-left:-30px;margin-top:-30px;-webkit-animation:visualclick-pulsate .7s ease-out;animation:visualclick-pulsate .7s ease-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-delay:0s;animation-delay:0s}.leaflet-visualclick-icon-touch:after,.leaflet-visualclick-icon:after{content:"";border-radius:100%;position:absolute;pointer-events:none;box-shadow:inset 0 0 25px -1px #e1e3e4,0 0 10px -1px #c5c5c5;opacity:0}.leaflet-visualclick-icon-touch:after{height:140px;width:140px;margin-left:-70px;margin-top:-70px;-webkit-animation:visualclick-pulsate-touch .7s ease-out;animation:visualclick-pulsate-touch .7s ease-out;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-delay:0s;animation-delay:0s}@-webkit-keyframes visualclick-pulsate{0%{-webkit-transform:scale(.5);transform:scale(.5);opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}@keyframes visualclick-pulsate{0%{-webkit-transform:scale(.5);transform:scale(.5);opacity:1}to{-webkit-transform:scale(1.3);transform:scale(1.3);opacity:0}}@-webkit-keyframes visualclick-pulsate-touch{0%{-webkit-transform:scale(1);transform:scale(1);opacity:.8}to{-webkit-transform:scale(.2);transform:scale(.2);opacity:0}}@keyframes visualclick-pulsate-touch{0%{-webkit-transform:scale(1);transform:scale(1);opacity:.8}to{-webkit-transform:scale(.2);transform:scale(.2);opacity:0}}.leaflet-pane.leaflet-ie10-visual-click-pane-pane{z-index:300}.leaflet-control-locate a .leaflet-control-locate-location-arrow{mask-image:url(https://unpkg.com/@raruto/leaflet-elevation@0.3.9/images/elevation-locate.png)}.leaflet-control-minimap.leaflet-control{cursor:pointer}.leaflet-control-layers-inline .leaflet-control-layers-base span{line-height:1}.leaflet-control-zoom~.leaflet-control-scale.leaflet-control{clear:both;margin:0}.leaflet-control-scale-line{line-height:1}.leaflet-control-scale~.leaflet-control-attribution.leaflet-control{clear:none}.leaflet-right .leaflet-control-search{float:right;margin-left:0;margin-top:0}.leaflet-control-search .search-input{width:215px}.leaflet-control-search .search-tooltip{width:260px}.leaflet-container:not(.leaflet-touch) .leaflet-control-search .search-button{width:26px;height:26px;background-position:2.5px 2.5px}.leaflet-container:not(.leaflet-touch) .leaflet-control-search{border:none;box-shadow:0 1px 5px rgba(0,0,0,.65)}.leaflet-container:not(.leaflet-touch) .leaflet-control-search.search-exp .search-button{margin:4px 0 0}.leaflet-control-easyPrint .leaflet-control-easyPrint-button-export{background-image:url(${E});background-size:16px 16px;cursor:pointer}.leaflet-control-resizer-opaque,.leaflet-control-resizer-transparent-fakedhover,.leaflet-control-resizer-transparent:hover{background-color:#fff;border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-control-resizer-s,.leaflet-control-resizer-se{border-bottom:none!important}.leaflet-control-resizer-e,.leaflet-control-resizer-se{border-right:none!important}.leaflet-control-resizer-opaque:after,.leaflet-control-resizer-transparent-fakedhover:after,.leaflet-control-resizer-transparent:hover:after{border-width:2px}.leaflet-control-resizer-corner-e,.leaflet-control-resizer-corner-s,.leaflet-control-resizer-corner-se{pointer-events:none}`,""]);const I=b},5880:t=>{"use strict";t.exports=Math.pow},6086:(t,e,n)=>{var r={"./leaflet-ui-src.js":[323,7,323],"./leaflet-ui.js":[8292,7],"./locales/ar.js":[4877,9,4877],"./locales/bg.js":[7465,9,7465],"./locales/bn.js":[3970,9,3970],"./locales/ca.js":[3794,9,3794],"./locales/cs.js":[5752,9,5752],"./locales/da.js":[857,9,857],"./locales/de.js":[3605,9,3605],"./locales/el.js":[7739,9,7739],"./locales/en-AU.js":[3384,9,3384],"./locales/en-GB.js":[6331,9,6331],"./locales/en.js":[3597,9,3597],"./locales/es.js":[6810,9,6810],"./locales/eu.js":[9100,9,9100],"./locales/fa.js":[2991,9,2991],"./locales/fi.js":[8791,9,8791],"./locales/fil.js":[1411,9,1411],"./locales/fr.js":[8066,9,8066],"./locales/gl.js":[8665,9,8665],"./locales/gu.js":[9202,9,9202],"./locales/hi.js":[9709,9,9709],"./locales/hr.js":[7996,9,7996],"./locales/hu.js":[6825,9,6825],"./locales/id.js":[5895,9,5895],"./locales/it-IT.js":[7517,9,7517],"./locales/it.js":[4103,9,4103],"./locales/iw.js":[378,9,378],"./locales/ja.js":[3787,9,3787],"./locales/kn.js":[2875,9,2875],"./locales/ko.js":[6996,9,6996],"./locales/lt.js":[6526,9,6526],"./locales/lv.js":[4132,9,4132],"./locales/ml.js":[8691,9,8691],"./locales/mr.js":[6689,9,6689],"./locales/nl.js":[4692,9,4692],"./locales/no.js":[2893,9,2893],"./locales/pl.js":[5754,9,5754],"./locales/pt-BR.js":[5239,9,5239],"./locales/pt-PT.js":[1143,9,1143],"./locales/pt.js":[338,9,338],"./locales/ro.js":[2609,9,2609],"./locales/ru.js":[4135,9,4135],"./locales/sk.js":[5760,9,5760],"./locales/sl.js":[6261,9,6261],"./locales/sr.js":[1487,9,1487],"./locales/sv.js":[731,9,731],"./locales/ta.js":[6777,9,6777],"./locales/te.js":[6565,9,6565],"./locales/th.js":[9058,9,9058],"./locales/tl.js":[1278,9,1278],"./locales/tr.js":[7520,9,7520],"./locales/uk.js":[6706,9,6706],"./locales/vi.js":[5959,9,5959],"./locales/zh-CN.js":[6976,9,6976],"./locales/zh-TW.js":[1384,9,1384]};function i(t){if(!n.o(r,t))return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=r[t],i=e[0];return Promise.all(e.slice(2).map(n.e)).then((()=>n.t(i,16|e[1])))}i.keys=()=>Object.keys(r),i.id=6086,t.exports=i},6188:t=>{"use strict";t.exports=Math.max},6314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);r&&o[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),e.push(u))}},e}},6411:(t,e,n)=>{var r;!function(i,a){if(i){for(var o,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},u={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)s[111+h]="f"+h;for(h=0;h<=9;++h)s[h+96]=h.toString();y.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},y.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},y.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},y.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},y.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(v(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var n=t.composedPath()[0];n!==t.target&&(e=n)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(s[e]=t[e]);o=null},y.init=function(){var t=y(a);for(var e in t)"_"!==e.charAt(0)&&(y[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},y.init(),i.Mousetrap=y,t.exports&&(t.exports=y),void 0===(r=function(){return y}.call(e,n,e,t))||(t.exports=r)}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function f(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return s[t.which]?s[t.which]:l[t.which]?l[t.which]:String.fromCharCode(t.which).toLowerCase()}function p(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function m(t,e,n){return n||(n=function(){if(!o)for(var t in o={},s)t>95&&t<112||s.hasOwnProperty(t)&&(o[s[t]]=t);return o}()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function g(t,e){var n,r,i,a=[];for(n=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),i=0;i<n.length;++i)r=n[i],u[r]&&(r=u[r]),e&&"keypress"!=e&&c[r]&&(r=c[r],a.push("shift")),p(r)&&a.push(r);return{key:r,modifiers:a,action:e=m(r,a,e)}}function v(t,e){return null!==t&&t!==a&&(t===e||v(t.parentNode,e))}function y(t){var e=this;if(t=t||a,!(e instanceof y))return new y(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},i=!1,o=!1,s=!1;function l(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(s=!1)}function c(t,n,i,a,o,s){var l,c,u,h,d=[],f=i.type;if(!e._callbacks[t])return[];for("keyup"==f&&p(t)&&(n=[t]),l=0;l<e._callbacks[t].length;++l)if(c=e._callbacks[t][l],(a||!c.seq||r[c.seq]==c.level)&&f==c.action&&("keypress"==f&&!i.metaKey&&!i.ctrlKey||(u=n,h=c.modifiers,u.sort().join(",")===h.sort().join(",")))){var m=!a&&c.combo==o,g=a&&c.seq==a&&c.level==s;(m||g)&&e._callbacks[t].splice(l,1),d.push(c)}return d}function u(t,n,r,i){e.stopCallback(n,n.target||n.srcElement,r,i)||!1===t(n,r)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(n),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(n))}function h(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n=f(t);n&&("keyup"!=t.type||i!==n?e.handleKey(n,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):i=!1)}function m(t,a,o,h,d){e._directMap[t+":"+o]=a;var p,v=(t=t.replace(/\s+/g," ")).split(" ");v.length>1?function(t,e,a,o){function c(e){return function(){s=e,++r[t],clearTimeout(n),n=setTimeout(l,1e3)}}function h(e){u(a,e,t),"keyup"!==o&&(i=f(e)),setTimeout(l,10)}r[t]=0;for(var d=0;d<e.length;++d){var p=d+1===e.length?h:c(o||g(e[d+1]).action);m(e[d],p,o,t,d)}}(t,v,a,o):(p=g(t,o),e._callbacks[p.key]=e._callbacks[p.key]||[],c(p.key,p.modifiers,{type:p.action},h,t,d),e._callbacks[p.key][h?"unshift":"push"]({callback:a,modifiers:p.modifiers,action:p.action,seq:h,level:d,combo:t}))}e._handleKey=function(t,e,n){var r,i=c(t,e,n),a={},h=0,d=!1;for(r=0;r<i.length;++r)i[r].seq&&(h=Math.max(h,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=h)continue;d=!0,a[i[r].seq]=1,u(i[r].callback,n,i[r].combo,i[r].seq)}else d||u(i[r].callback,n,i[r].combo);var f="keypress"==n.type&&o;n.type!=s||p(t)||f||l(a),o=d&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)m(t[r],e,n)},d(t,"keypress",h),d(t,"keydown",h),d(t,"keyup",h)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},6549:t=>{"use strict";t.exports=Object.getOwnPropertyDescriptor},6556:(t,e,n)=>{"use strict";var r=n(453),i=n(3126),a=i([r("%String.prototype.indexOf%")]);t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&a(t,".prototype.")>-1?i([n]):n}},6602:(t,e,n)=>{"use strict";t.exports=n.p+"226b0bbb1c19dc5ab2af.svg"},6743:(t,e,n)=>{"use strict";var r=n(9353);t.exports=Function.prototype.bind||r},6991:(t,e,n)=>{"use strict";t.exports=n.p+"de35b003b6a8d1bb27a1.png"},7119:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},7176:(t,e,n)=>{"use strict";var r,i=n(3126),a=n(5795);try{r=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var o=!!r&&a&&a(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;t.exports=o&&"function"==typeof o.get?i([o.get]):"function"==typeof l&&function(t){return l(null==t?t:s(t))}},7466:(t,e,n)=>{"use strict";t.exports=n.p+"85ce17f7624547d7ee55.png"},7659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7720:(t,e,n)=>{"use strict";var r=n(4765),i=Object.prototype.hasOwnProperty,a=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var n=e&&e.plainObjects?{__proto__:null}:{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},l=1024;t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var i=e[r],o=i.obj[i.prop],s=Object.keys(o),l=0;l<s.length;++l){var c=s[l],u=o[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(e.push({obj:o,prop:c}),n.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(a(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n,i,a){if(0===t.length)return t;var s=t;if("symbol"==typeof t?s=Symbol.prototype.toString.call(t):"string"!=typeof t&&(s=String(t)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;u+=l){for(var h=s.length>=l?s.slice(u,u+l):s,d=[],f=0;f<h.length;++f){var p=h.charCodeAt(f);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||a===r.RFC1738&&(40===p||41===p)?d[d.length]=h.charAt(f):p<128?d[d.length]=o[p]:p<2048?d[d.length]=o[192|p>>6]+o[128|63&p]:p<55296||p>=57344?d[d.length]=o[224|p>>12]+o[128|p>>6&63]+o[128|63&p]:(f+=1,p=65536+((1023&p)<<10|1023&h.charCodeAt(f)),d[d.length]=o[240|p>>18]+o[128|p>>12&63]+o[128|p>>6&63]+o[128|63&p])}c+=d.join("")}return c},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(a(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,r){if(!n)return e;if("object"!=typeof n&&"function"!=typeof n){if(a(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var o=e;return a(e)&&!a(n)&&(o=s(e,r)),a(e)&&a(n)?(n.forEach((function(n,a){if(i.call(e,a)){var o=e[a];o&&"object"==typeof o&&n&&"object"==typeof n?e[a]=t(o,n,r):e.push(n)}else e[a]=n})),e):Object.keys(n).reduce((function(e,a){var o=n[a];return i.call(e,a)?e[a]=t(e[a],o,r):e[a]=o,e}),o)}}},7825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},7982:(t,e,n)=>{"use strict";t.exports=n.p+"ce3ba308cdfc5a9d8a38.svg"},8002:t=>{"use strict";t.exports=Math.min},8068:t=>{"use strict";t.exports=SyntaxError},8292:(t,e,n)=>{var r,i,a,o,s,l,c="/index.js";s=function(){"use strict";!function(r,i){o=[n(3481)],void 0!==(l="function"==typeof(s=r)?s.apply(e,o):s)&&(t.exports=l),void 0!==i&&i.L&&r(i.L)}((function(t){return t.locales={},t.locale=null,t.registerLocale=function(e,n){t.locales[e]=t.Util.extend({},t.locales[e],n)},t.setLocale=function(e){t.locale=e},t.i18n=t._=function(e,n){t.locale&&t.locales[t.locale]&&t.locales[t.locale][e]&&(e=t.locales[t.locale][e]);try{e=t.Util.template(e,n)}catch(t){}return e}}),window);const u=L.extend({},L.DomUtil);L.extend(L.DomUtil,{setTransform:function(t,e,n,r,i){var a=e||new L.Point(0,0);if(!r)return e=a._round(),u.setTransform.call(this,t,e,n);a=a.rotateFrom(r,i),t.style[L.DomUtil.TRANSFORM]="translate3d("+a.x+"px,"+a.y+"px,0)"+(n?" scale("+n+")":"")+" rotate("+r+"rad)"},setPosition:function(t,e,n,r){if(!n)return u.setPosition.call(this,t,e);t._leaflet_pos=e,L.Browser.any3d?L.DomUtil.setTransform(t,e,void 0,n,r):(t.style.left=e.x+"px",t.style.top=e.y+"px")},DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI}),L.Draggable.include({updateMapBearing:function(t){this._mapBearing=t}}),L.extend(L.Point.prototype,{rotate:function(t){if(!t)return this;var e=Math.sin(t),n=Math.cos(t);return new L.Point(this.x*n-this.y*e,this.x*e+this.y*n)},rotateFrom:function(t,e){if(!t)return this;var n=Math.sin(t),r=Math.cos(t),i=e.x,a=e.y,o=this.x-i,s=this.y-a;return new L.Point(o*r-s*n+i,o*n+s*r+a)}});const h=L.extend({},L.DivOverlay.prototype);L.DivOverlay.include({getEvents:function(){return L.extend(h.getEvents.call(this),{rotate:this._updatePosition})},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=L.point(this.options.offset),n=this._getAnchor();this._zoomAnimated?(this._map._rotate&&(t=this._map.rotatedPointToMapPanePoint(t)),L.DomUtil.setPosition(this._container,t.add(n))):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}}});const d=L.extend({},L.Popup.prototype);L.Popup.include({_animateZoom:function(t){this._map._rotate||d._animateZoom.call(this,t);var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();e=this._map.rotatedPointToMapPanePoint(e),L.DomUtil.setPosition(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(L.DomUtil.getStyle(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new L.Point(this._containerLeft,-n-this._containerBottom);i._add(L.DomUtil.getPosition(this._container));var a=i._add(this._map._getMapPanePos()),o=L.point(this.options.autoPanPadding),s=L.point(this.options.autoPanPaddingTopLeft||o),l=L.point(this.options.autoPanPaddingBottomRight||o),c=t.getSize(),u=0,h=0;a.x+r+l.x>c.x&&(u=a.x+r-c.x+l.x),a.x-u-s.x<0&&(u=a.x-s.x),a.y+n+l.y>c.y&&(h=a.y+n-c.y+l.y),a.y-h-s.y<0&&(h=a.y-s.y),(u||h)&&t.fire("autopanstart").panBy([u,h])}}});const f=L.extend({},L.Tooltip.prototype);var p;L.Tooltip.include({_updatePosition:function(){if(!this._map._rotate)return f._updatePosition.call(this);var t=this._map.latLngToLayerPoint(this._latlng);t=this._map.rotatedPointToMapPanePoint(t),this._setPosition(t)},_animateZoom:function(t){if(!this._map._rotate)return f._animateZoom.call(this,t);var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);e=this._map.rotatedPointToMapPanePoint(e),this._setPosition(e)}}),L.extend({},L.Icon.prototype),L.Icon.include({_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var i=L.point(r),a=L.point("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),a&&(t.style.marginLeft=-a.x+"px",t.style.marginTop=-a.y+"px",t.style[L.DomUtil.TRANSFORM+"Origin"]=a.x+"px "+a.y+"px 0px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")}});var m={_onDragStart:function(){if(!this._marker._map._rotate)return p._onDragStart.call(this);this._draggable.updateMapBearing(this._marker._map._bearing)},_onDrag:function(t){var e=this._marker,n=e.options.rotation||e.options.rotateWithView,r=e._shadow,i=L.DomUtil.getPosition(e._icon);!n&&r&&L.DomUtil.setPosition(r,i),e._map._rotate&&(i=e._map.mapPanePointToRotatedPoint(i));var a=e._map.layerPointToLatLng(i);e._latlng=a,t.latlng=a,t.oldLatLng=this._oldLatLng,n?e.setLatLng(a):e.fire("move",t),e.fire("drag",t)},_onDragEnd:function(t){this._marker._map._rotate&&this._marker.update(),p._onDragEnd.call(this,t)}};const g=L.extend({},L.Marker.prototype);L.Marker.mergeOptions({rotation:0,rotateWithView:!1}),L.Marker.include({getEvents:function(){return L.extend(g.getEvents.call(this),{rotate:this.update})},onAdd:function(t){g.onAdd.call(this,t),t.on("rotate",this.update,this)},_initInteraction:function(){var t=g._initInteraction.call(this);return this.dragging&&this.dragging.enabled()&&this._map&&this._map._rotate&&(p=p||Object.getPrototypeOf(this.dragging),this.dragging._onDragStart=m._onDragStart.bind(this.dragging),this.dragging._onDrag=m._onDrag.bind(this.dragging),this.dragging._onDragEnd=m._onDragEnd.bind(this.dragging),this.dragging.disable(),this.dragging.enable()),t},_setPos:function(t){this._map._rotate&&(t=this._map.rotatedPointToMapPanePoint(t));var e=this.options.rotation||0;this.options.rotateWithView&&(e+=this._map._bearing),L.DomUtil.setPosition(this._icon,t,e,t),this._shadow&&L.DomUtil.setPosition(this._shadow,t,e,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){if(!this._map._rotate)return g._updateZIndex.call(this,t);this._icon.style.zIndex=Math.round(this._zIndex+t)},setRotation:function(t){this.options.rotation=t,this.update()}});const v=L.extend({},L.GridLayer.prototype);L.GridLayer.include({getEvents:function(){var t=v.getEvents.call(this);return this._map._rotate&&!this.options.updateWhenIdle&&(this._onRotate||(this._onRotate=L.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.rotate=this._onRotate),t},_getTiledPixelBounds:function(t){if(!this._map._rotate)return v._getTiledPixelBounds.call(this,t);var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),a=e.getSize(),o=new L.Bounds([e.containerPointToLayerPoint([0,0]).floor(),e.containerPointToLayerPoint([a.x,0]).floor(),e.containerPointToLayerPoint([0,a.y]).floor(),e.containerPointToLayerPoint([a.x,a.y]).floor()]).getSize().divideBy(2*r);return new L.Bounds(i.subtract(o),i.add(o))}});const y=L.extend({},L.Canvas.prototype);L.Canvas.include({onAdd:function(){y.onAdd.call(this),this._map.on("rotate",this._redraw,this)},onRemove:function(){y.onRemove.call(this),this._map.off("rotate",this._redraw,this)},_update:function(){y._update.call(this),this.fire("update")}});const _=L.extend({},L.Renderer.prototype);L.Renderer.include({onAdd:function(){_.onAdd.call(this)},onRemove:function(){_.onRemove.call(this)},_updateTransform:function(t,e){if(!this._map._rotate)return _._updateTransform.call(this,t,e);var n=this._map.getZoomScale(e,this._zoom),r=this._map._latLngToNewLayerPoint(this._topLeft,e,t);L.Browser.any3d?L.DomUtil.setTransform(this._container,r,n):L.DomUtil.setPosition(this._container,r)},_update:function(){if(!this._map._rotate)return _._update.call(this);var t=this.options.padding,e=this._map,n=this._map.getSize(),r=n.multiplyBy(-t),i=n.multiplyBy(1+t),a=new L.Bounds([e.containerPointToLayerPoint([r.x,r.y]).floor(),e.containerPointToLayerPoint([r.x,i.y]).floor(),e.containerPointToLayerPoint([i.x,r.y]).floor(),e.containerPointToLayerPoint([i.x,i.y]).floor()]);this._bounds=a,this._topLeft=this._map.layerPointToLatLng(a.min),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}});const x=L.extend({},L.SVG.prototype);L.SVG.include({_update:function(){x._update.call(this),this._map._rotate&&this.fire("update")}});const b=L.extend({},L.Map.prototype);var w;L.Map.mergeOptions({rotate:!1,bearing:0}),L.Map.include({initialize:function(t,e){e.rotate&&(this._rotate=!0,this._bearing=0),b.initialize.call(this,t,e),this.options.rotate&&this.setBearing(this.options.bearing)},containerPointToLayerPoint:function(t){return this._rotate?L.point(t).subtract(this._getMapPanePos()).rotateFrom(-this._bearing,this._getRotatePanePos()).subtract(this._getRotatePanePos()):b.containerPointToLayerPoint.call(this,t)},getBounds:function(){if(!this._rotate)return b.getBounds.call(this);var t=this.getSize(),e=this.layerPointToLatLng(this.containerPointToLayerPoint([0,0])),n=this.layerPointToLatLng(this.containerPointToLayerPoint([t.x,0])),r=this.layerPointToLatLng(this.containerPointToLayerPoint([t.x,t.y])),i=this.layerPointToLatLng(this.containerPointToLayerPoint([0,t.y]));return new L.LatLngBounds([e,n,r,i])},layerPointToContainerPoint:function(t){return this._rotate?L.point(t).add(this._getRotatePanePos()).rotateFrom(this._bearing,this._getRotatePanePos()).add(this._getMapPanePos()):b.layerPointToContainerPoint.call(this,t)},setBearing:function(t){if(L.Browser.any3d&&this._rotate){var e=this._getRotatePanePos(),n=this.getSize().divideBy(2);this._pivot=this._getMapPanePos().clone().multiplyBy(-1).add(n),e=e.rotateFrom(-this._bearing,this._pivot),this._bearing=t*L.DomUtil.DEG_TO_RAD,this._rotatePanePos=e.rotateFrom(this._bearing,this._pivot),L.DomUtil.setPosition(this._rotatePane,e,this._bearing,this._pivot),this.fire("rotate")}},getBearing:function(){return this._bearing*L.DomUtil.RAD_TO_DEG},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),L.DomUtil.setPosition(this._mapPane,new L.Point(0,0)),this._rotate?(this._rotatePane=this.createPane("rotatePane",this._mapPane),this._norotatePane=this.createPane("norotatePane",this._mapPane),this.createPane("tilePane",this._rotatePane),this.createPane("overlayPane",this._rotatePane),this.createPane("shadowPane",this._norotatePane),this.createPane("markerPane",this._norotatePane),this.createPane("tooltipPane",this._norotatePane),this.createPane("popupPane",this._norotatePane)):(this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane")),this.options.markerZoomAnimation||(L.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),L.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},rotatedPointToMapPanePoint:function(t){return L.point(t).rotate(this._bearing)._add(this._getRotatePanePos())},mapPanePointToRotatedPoint:function(t){return L.point(t)._subtract(this._getRotatePanePos()).rotate(-this._bearing)},_getCenterOffset:function(t){var e=b._getCenterOffset.call(this,t);return this._rotate&&(e=e.rotate(this._bearing)),e},_getRotatePanePos:function(){return this._rotatePanePos||new L.Point(0,0)},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this._rotate||b._getNewPixelOrigin.call(this,t,e),this.project(t,e).rotate(this._bearing)._subtract(n)._add(this._getMapPanePos())._add(this._getRotatePanePos()).rotate(-this._bearing)._round()},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,r=t.coords.heading,i=new L.LatLng(e,n),a=i.toBounds(t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(a);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var l={latlng:i,bounds:a,timestamp:t.timestamp,heading:r};for(var c in t.coords)"number"==typeof t.coords[c]&&(l[c]=t.coords[c]);this.fire("locationfound",l)}}),L.Map.CompassBearing=L.Handler.extend({initialize:function(t){window.DeviceOrientationEvent?(this._capable=!0,this._map=t,this._throttled=L.Util.throttle(this._onDeviceOrientation,1e3,this)):this._capable=!1},addHooks:function(){this._capable&&this._map._rotate&&L.DomEvent.on(window,"deviceorientation",this._throttled,this)},removeHooks:function(){this._capable&&this._map._rotate&&L.DomEvent.off(window,"deviceorientation",this._throttled,this)},_onDeviceOrientation:function(t){null!==t.alpha&&this._map.setBearing(t.alpha-window.orientation)}}),L.Map.addInitHook("addHandler","compassBearing",L.Map.CompassBearing),L.Map.mergeOptions({trackContainerMutation:!1}),L.Map.ContainerMutation=L.Handler.extend({addHooks:function(){L.Browser.mutation&&(this._observer||(this._observer=new MutationObserver(L.Util.bind(this._onMutation,this))),this._observer.observe(this._map.getContainer(),{childList:!1,attributes:!0,characterData:!1,subtree:!1,attributeFilter:["style"]}))},removeHooks:function(){L.Browser.mutation&&this._observer.disconnect()},_onMutation:function(){this._map.invalidateSize()}}),L.Map.addInitHook("addHandler","trackContainerMutation",L.Map.ContainerMutation),L.Map.mergeOptions({bounceAtZoomLimits:!0}),L.Map.TouchGestures=L.Handler.extend({initialize:function(t){this._map=t,this.rotate=!!this._map.options.touchRotate,this.zoom=!!this._map.options.touchZoom},addHooks:function(){L.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){L.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming&&!this._rotating){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),i=n.subtract(r);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),this.zoom?("center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._zooming=!0):this._zooming=!1,this.rotate?(this._startTheta=Math.atan(i.x/i.y),this._startBearing=e.getBearing(),i.y<0&&(this._startBearing+=180),this._rotating=!0):this._rotating=!1,this._moved=!1,e.stop(),L.DomEvent.on(document,"touchmove",this._onTouchMove,this).on(document,"touchend",this._onTouchEnd,this),L.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&(this._zooming||this._rotating)){var e,n=this._map,r=n.mouseEventToContainerPoint(t.touches[0]),i=n.mouseEventToContainerPoint(t.touches[1]),a=r.subtract(i),o=r.distanceTo(i)/this._startDist;if(this._rotating){var s=(Math.atan(a.x/a.y)-this._startTheta)*L.DomUtil.RAD_TO_DEG;a.y<0&&(s+=180),s&&n.setBearing(this._startBearing-s)}if(this._zooming)if(this._zoom=n.getScaleZoom(o,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&o<1||this._zoom>n.getMaxZoom()&&o>1)&&(this._zoom=n._limitZoom(this._zoom)),"center"===n.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{if(e=r._add(i)._divideBy(2)._subtract(this._centerPoint),1===o&&0===e.x&&0===e.y)return;var l=-n.getBearing()*L.DomUtil.DEG_TO_RAD;this._center=n.unproject(n.project(this._pinchStartLatLng).subtract(e.rotate(l)))}this._moved||(n._moveStart(!0),this._moved=!0),L.Util.cancelAnimFrame(this._animRequest);var c=L.bind(n._move,n,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=L.Util.requestAnimFrame(c,this,!0),L.DomEvent.preventDefault(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,this._rotating=!1,L.Util.cancelAnimFrame(this._animRequest),L.DomEvent.off(document,"touchmove",this._onTouchMove).off(document,"touchend",this._onTouchEnd),this.zoom&&(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.snapZoom):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):this._zooming=!1}}),L.Map.addInitHook("addHandler","touchGestures",L.Map.TouchGestures),L.Map.mergeOptions({touchRotate:!1}),L.Map.TouchRotate=L.Handler.extend({addHooks:function(){this._map.touchGestures.enable(),this._map.touchGestures.rotate=!0},removeHooks:function(){this._map.touchGestures.rotate=!1}}),L.Map.addInitHook("addHandler","touchRotate",L.Map.TouchRotate),L.Map.mergeOptions({shiftKeyRotate:!0}),L.Map.ShiftKeyRotate=L.Handler.extend({addHooks:function(){L.DomEvent.on(this._map._container,"wheel",this._handleShiftScroll,this),this._map.shiftKeyRotate.rotate=!0},removeHooks:function(){L.DomEvent.off(this._map._container,"wheel",this._handleShiftScroll,this),this._map.shiftKeyRotate.rotate=!1},_handleShiftScroll:function(t){t.shiftKey?(t.preventDefault(),this._map.scrollWheelZoom.disable(),this._map.setBearing(this._map._bearing*L.DomUtil.RAD_TO_DEG+5*Math.sign(t.deltaY))):this._map.scrollWheelZoom.enable()}}),L.Map.addInitHook("addHandler","shiftKeyRotate",L.Map.ShiftKeyRotate),L.Map.addInitHook((function(){this.scrollWheelZoom.enabled()&&this.shiftKeyRotate.enabled()&&(this.scrollWheelZoom.disable(),this.scrollWheelZoom.enable())})),L.Map.mergeOptions({touchZoom:L.Browser.touch&&!L.Browser.android23,bounceAtZoomLimits:!1}),L.Map.TouchZoom=L.Handler.extend({addHooks:function(){L.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),this._map.touchGestures.enable(),this._map.touchGestures.zoom=!0},removeHooks:function(){L.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),this._map.touchGestures.zoom=!1}}),L.Map.addInitHook("addHandler","touchZoom",L.Map.TouchZoom),L.Control.Rotate=L.Control.extend({options:{position:"topleft",closeOnZeroBearing:!0},onAdd:function(t){this._onDeviceOrientation=L.Util.throttle(this._unthrottledOnDeviceOrientation,100,this);var e=this._container=L.DomUtil.create("div","leaflet-control-rotate leaflet-bar"),n=this._arrow=L.DomUtil.create("span","leaflet-control-rotate-arrow");n.style.backgroundImage="url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")",n.style.cursor="grab",n.style.display="block",n.style.width="100%",n.style.height="100%",n.style.backgroundRepeat="no-repeat",n.style.backgroundPosition="50%";var r=this._link=L.DomUtil.create("a","leaflet-control-rotate-toggle",e);return r.appendChild(n),r.href="#",r.title="Rotate map",L.DomEvent.on(r,"dblclick",L.DomEvent.stopPropagation).on(r,"mousedown",this._handleMouseDown,this).on(r,"click",L.DomEvent.stop).on(r,"click",this._cycleState,this).on(r,"click",this._refocusOnMap,this),L.Browser.any3d||L.DomUtil.addClass(r,"leaflet-disabled"),this._restyle(),t.on("rotate",this._restyle.bind(this)),this._follow=!1,this._canFollow=!1,this.options.closeOnZeroBearing&&0===t.getBearing()&&(e.style.display="none"),e},_handleMouseDown:function(t){L.DomEvent.stopPropagation(t),this.dragging=!0,this.dragstartX=t.pageX,this.dragstartY=t.pageY,L.DomEvent.on(document,"mousemove",this._handleMouseDrag,this).on(document,"mouseup",this._handleMouseUp,this)},_handleMouseUp:function(t){L.DomEvent.stopPropagation(t),this.dragging=!1,L.DomEvent.off(document,"mousemove",this._handleMouseDrag,this).off(document,"mouseup",this._handleMouseUp,this)},_handleMouseDrag:function(t){if(this.dragging){var e=t.clientX-this.dragstartX;this._map.setBearing(e)}},_cycleState:function(t){var e=this._map;e&&(e.touchRotate.enabled()||e.compassBearing.enabled()?e.compassBearing.enabled()?(e.compassBearing.disable(),e.setBearing(0),this.options.closeOnZeroBearing&&e.touchRotate.enable()):(e.touchRotate.disable(),e.compassBearing.enable()):e.touchRotate.enable(),this._restyle())},_restyle:function(){if(this._map.options.rotate){var t=this._map,e=t.getBearing();this.options.closeOnZeroBearing&&e&&(this._container.style.display="block");var n="rotate("+e+"deg)";this._arrow.style.transform=n,t.compassBearing.enabled()?this._link.style.backgroundColor="orange":t.touchRotate.enabled()?this._link.style.backgroundColor=null:(this._link.style.backgroundColor="grey",this.options.closeOnZeroBearing&&0===t.getBearing()&&(this._container.style.display="none"))}else L.DomUtil.addClass(this._link,"leaflet-disabled")}}),L.control.rotate=function(t){return new L.Control.Rotate(t)},L.Map.mergeOptions({rotateControl:!0}),L.Map.addInitHook((function(){if(this.options.rotateControl){var t="object"==typeof this.options.rotateControl?this.options.rotateControl:{};this.rotateControl=L.control.rotate(t),this.addControl(this.rotateControl)}})),function(r,i){o=[n(3481)],void 0!==(l="function"==typeof(s=r)?s.apply(e,o):s)&&(t.exports=l),void 0!==i&&i.L&&(i.L.Control.Locate=r(L))}((function(t){const e=(e,n,r)=>{(r=r.split(" ")).forEach((function(r){t.DomUtil[e].call(this,n,r)}))},n=(t,n)=>e("addClass",t,n),r=(t,n)=>e("removeClass",t,n),i=t.Marker.extend({initialize(e,n){t.Util.setOptions(this,n),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let n="";void 0!==e.color&&(n+=`stroke:${e.color};`),void 0!==e.weight&&(n+=`stroke-width:${e.weight};`),void 0!==e.fillColor&&(n+=`fill:${e.fillColor};`),void 0!==e.fillOpacity&&(n+=`fill-opacity:${e.fillOpacity};`),void 0!==e.opacity&&(n+=`opacity:${e.opacity};`);const r=this._getIconSVG(e,n);this._locationIcon=t.divIcon({className:r.className,html:r.svg,iconSize:[r.w,r.h]}),this.setIcon(this._locationIcon)},_getIconSVG(t,e){const n=t.radius,r=n+t.weight,i=2*r;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${i}" height="${i}" version="1.1" viewBox="-${r} -${r} ${i} ${i}"><circle r="`+n+'" style="'+e+'" /></svg>',w:i,h:i}},setStyle(e){t.Util.setOptions(this,e),this.createIcon()}}),a=i.extend({initialize(e,n,r){t.Util.setOptions(this,r),this._latlng=e,this._heading=n,this.createIcon()},setHeading(t){this._heading=t},_getIconSVG(t,e){const n=t.radius,r=t.width+t.weight,i=2*(n+t.depth+t.weight),a=`M0,0 l${t.width/2},${t.depth} l-${r},0 z`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="transform: rotate(${this._heading}deg)"><path d="`+a+'" style="'+e+'" /></svg>',w:r,h:i}}}),o=t.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds:t=>t.bounds,flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:i,compassClass:a,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,n){const r=t.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);r.title=n.strings.title,r.href="#",r.setAttribute("role","button");const i=t.DomUtil.create(n.iconElementTag,n.icon,r);return void 0!==n.strings.text&&(t.DomUtil.create(n.textElementTag,"leaflet-locate-text",r).textContent=n.strings.text,r.classList.add("leaflet-locate-text-active"),r.parentNode.style.display="flex",n.icon.length>0&&i.classList.add("leaflet-locate-icon")),{link:r,icon:i}},onLocationError(t,e){alert(t.message)},onLocationOutsideMapBounds(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const n in e)"object"==typeof this.options[n]?t.extend(this.options[n],e[n]):this.options[n]=e[n];this.options.followMarkerStyle=t.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=t.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=t.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const n=t.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=n,this._map=e,this._layer=this.options.layer||new t.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const r=this.options.createButtonCallback(n,this.options);return this._link=r.link,this._icon=r.icon,t.DomEvent.on(this._link,"click",(function(e){t.DomEvent.stopPropagation(e),t.DomEvent.preventDefault(e),this._onClick()}),this).on(this._link,"dblclick",t.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),n},_onClick(){this._justClicked=!0;const t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const e=this.options.clickBehavior;let n=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=t?e.inView:e.inViewNotFollowing),e[n]&&(n=e[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds)}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!this._active&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const n=this,r=function(){t.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",n._onDeviceOrientation,n)};DeviceOrientationEvent&&"function"==typeof DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then((function(t){"granted"===t&&r()})):r()}}},_deactivate(){this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?t.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&t.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&!1!==this.options.initialZoomLevel)(e=this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(e=this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{var e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),t.Util.requestAnimFrame((function(){this._ignoreEvent=!1}),this)}},_drawCompass(){if(!this._event)return;const t=this._event.latlng;if(this.options.showCompass&&t&&null!==this._compassHeading){const e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}!this._compass||this.options.showCompass&&null!==this._compassHeading||(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){void 0===this._event.accuracy&&(this._event.accuracy=0);const e=this._event.accuracy,n=this._event.latlng;if(this.options.drawCircle){const r=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(n).setRadius(e).setStyle(r):this._circle=t.circle(n,e,r).addTo(this._layer)}let r,i;if(this.options.metric?(r=e.toFixed(0),i=this.options.strings.metersUnit):(r=(3.2808399*e).toFixed(0),i=this.options.strings.feetUnit),this.options.drawMarker){const t=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(n),this._marker.setStyle&&this._marker.setStyle(t)):this._marker=new this.options.markerClass(n,t).addTo(this._layer)}this._drawCompass();const a=this.options.strings.popup;function o(){return"string"==typeof a?t.Util.template(a,{distance:r,unit:i}):"function"==typeof a?a({distance:r,unit:i}):a}this.options.showPopup&&a&&this._marker&&this._marker.bindPopup(o())._popup.setLatLng(n),this.options.showPopup&&a&&this._compass&&this._compass.bindPopup(o())._popup.setLatLng(n)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,t.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError(t){3==t.code&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound(t){if((!this._event||this._event.latlng.lat!==t.latlng.lat||this._event.latlng.lng!==t.latlng.lng||this._event.accuracy!==t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":this._userPanned||this._userZoomed||this.setView();break;case"always":this.setView()}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){return!!this._active&&("always"===this.options.setView||("untilPan"===this.options.setView?!this._userPanned:"untilPanOrZoom"===this.options.setView?!this._userPanned&&!this._userZoomed:void 0))},_isOutsideMapBounds(){return void 0!==this._event&&this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(t){"requesting"==t?(r(this._container,"active following"),n(this._container,"requesting"),r(this._icon,this.options.icon),n(this._icon,this.options.iconLoading)):"active"==t?(r(this._container,"requesting following"),n(this._container,"active"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)):"following"==t&&(r(this._container,"requesting"),n(this._container,"active following"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon))},_cleanClasses(){t.DomUtil.removeClass(this._container,"requesting"),t.DomUtil.removeClass(this._container,"active"),t.DomUtil.removeClass(this._container,"following"),r(this._icon,this.options.iconLoading),n(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});return t.control.locate=e=>new t.Control.Locate(e),o}),window),"undefined"!=typeof self?self:window,w=function(){var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},e=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),n={change:e.fullscreenchange,error:e.fullscreenerror},r={request:function(n,r){return new Promise(function(i,a){var o=function(){this.off("change",o),i()}.bind(this);this.on("change",o);var s=(n=n||t.documentElement)[e.requestFullscreen](r);s instanceof Promise&&s.then(o).catch(a)}.bind(this))},exit:function(){return new Promise(function(n,r){if(this.isFullscreen){var i=function(){this.off("change",i),n()}.bind(this);this.on("change",i);var a=t[e.exitFullscreen]();a instanceof Promise&&a.then(i).catch(r)}else n()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(e,r){var i=n[e];i&&t.addEventListener(i,r,!1)},off:function(e,r){var i=n[e];i&&t.removeEventListener(i,r,!1)},raw:e};return e?(Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(t[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[e.fullscreenEnabled])}}}),r):{isEnabled:!1}},"function"==typeof(i=w)?(a={id:"screenfull",exports:{},loaded:!1},r=i.call(a.exports,n,a.exports,a),a.loaded=!0,void 0===r&&(r=a.exports)):r=i,"undefined"!=typeof self?self:window,o=[n(3481),r],void 0===(l="function"==typeof(s=function(t,e){return t.Control.FullScreen=t.Control.extend({options:{position:"topleft",title:"Full Screen",titleCancel:"Exit Full Screen",forceSeparateButton:!1,forcePseudoFullscreen:!1,fullscreenElement:!1},_screenfull:e,onAdd:function(e){var n,r="leaflet-control-zoom-fullscreen",i="";return n=e.zoomControl&&!this.options.forceSeparateButton?e.zoomControl._container:t.DomUtil.create("div","leaflet-bar"),this.options.content?i=this.options.content:r+=" fullscreen-icon",this._createButton(this.options.title,r,i,n,this.toggleFullScreen,this),this._map.fullscreenControl=this,this._map.on("enterFullscreen exitFullscreen",this._toggleState,this),n},onRemove:function(){t.DomEvent.off(this.link,"click",t.DomEvent.stop).off(this.link,"click",this.toggleFullScreen,this),this._screenfull.isEnabled&&(t.DomEvent.off(this._container,this._screenfull.raw.fullscreenchange,t.DomEvent.stop).off(this._container,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,this),t.DomEvent.off(document,this._screenfull.raw.fullscreenchange,t.DomEvent.stop).off(document,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,this))},_createButton:function(e,n,r,i,a,o){return this.link=t.DomUtil.create("a",n,i),this.link.href="#",this.link.title=e,this.link.innerHTML=r,this.link.setAttribute("role","button"),this.link.setAttribute("aria-label",e),L.DomEvent.disableClickPropagation(i),t.DomEvent.on(this.link,"click",t.DomEvent.stop).on(this.link,"click",a,o),this._screenfull.isEnabled&&(t.DomEvent.on(i,this._screenfull.raw.fullscreenchange,t.DomEvent.stop).on(i,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,o),t.DomEvent.on(document,this._screenfull.raw.fullscreenchange,t.DomEvent.stop).on(document,this._screenfull.raw.fullscreenchange,this._handleFullscreenChange,o)),this.link},toggleFullScreen:function(){var e=this._map;e._exitFired=!1,e._isFullscreen?(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.exit():(t.DomUtil.removeClass(this.options.fullscreenElement?this.options.fullscreenElement:e._container,"leaflet-pseudo-fullscreen"),e.invalidateSize()),e.fire("exitFullscreen"),e._exitFired=!0,e._isFullscreen=!1):(this._screenfull.isEnabled&&!this.options.forcePseudoFullscreen?this._screenfull.request(this.options.fullscreenElement?this.options.fullscreenElement:e._container):(t.DomUtil.addClass(this.options.fullscreenElement?this.options.fullscreenElement:e._container,"leaflet-pseudo-fullscreen"),e.invalidateSize()),e.fire("enterFullscreen"),e._isFullscreen=!0)},_toggleState:function(){this.link.title=this._map._isFullscreen?this.options.title:this.options.titleCancel,this._map._isFullscreen?L.DomUtil.removeClass(this.link,"leaflet-fullscreen-on"):L.DomUtil.addClass(this.link,"leaflet-fullscreen-on")},_handleFullscreenChange:function(){var t=this._map;t.invalidateSize(),this._screenfull.isFullscreen||t._exitFired||(t.fire("exitFullscreen"),t._exitFired=!0,t._isFullscreen=!1)}}),t.Map.include({toggleFullscreen:function(){this.fullscreenControl.toggleFullScreen()}}),t.Map.addInitHook((function(){this.options.fullscreenControl&&this.addControl(t.control.fullscreen(this.options.fullscreenControlOptions))})),t.control.fullscreen=function(e){return new t.Control.FullScreen(e)},{leaflet:t,screenfull:e}})?s.apply(e,o):s)||(t.exports=l),L.Control.Pegman=L.Control.extend({includes:L.Evented?L.Evented.prototype:L.Mixin.Events,options:{position:"bottomright",theme:"leaflet-pegman-v3-default",debug:!1,apiKey:"",libraries:"",mutant:{attribution:'Map data: &copy; <a href="https://www.google.com/intl/en/help/terms_maps.html">Google</a>',pane:"overlayPane",type:null},pano:{enableCloseButton:!0,fullscreenControl:!1,imageDateControl:!0},marker:{draggable:!0,icon:L.icon({className:"pegman-marker",iconSize:[52,52],iconAnchor:[24,33],iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAFElEQVR4XgXAAQ0AAABAMP1L30IDCPwC/o5WcS4AAAAASUVORK5CYII="})}},__interactURL:"https://unpkg.com/interactjs@1.2.9/dist/interact.min.js",__gmapsURL:"https://maps.googleapis.com/maps/api/js?v=3",__mutantURL:"https://unpkg.com/leaflet.gridlayer.googlemutant@0.10.0/Leaflet.GoogleMutant.js",initialize:function(t){void 0!==t.logging&&(t.debug=t.logging),L.Util.setOptions(this,t),this._mousePos={direction:{},old:{}},this._pegmanMarkerCoords=null,this._streetViewCoords=null,this._streetViewLayerEnabled=!1,this._dropzoneMapOpts={accept:".draggable",overlap:.75,ondropactivate:L.bind(this.onDropZoneActivated,this),ondragenter:L.bind(this.onDropZoneDragEntered,this),ondragleave:L.bind(this.onDropZoneDragLeaved,this),ondrop:L.bind(this.onDropZoneDropped,this),ondropdeactivate:L.bind(this.onDropZoneDeactivated,this)},this._draggableMarkerOpts={inertia:!1,onmove:L.bind(this.onDraggableMove,this),onend:L.bind(this.onDraggableEnd,this)},this._lazyLoaderAdded=!1},onAdd:function(t){return this._map=t,this._container=L.DomUtil.create("div","leaflet-pegman pegman-control leaflet-bar"),this._pegman=L.DomUtil.create("div","pegman draggable drag-drop",this._container),this._pegmanButton=L.DomUtil.create("div","pegman-button",this._container),this._pegmanMarker=L.marker([0,0],this.options.marker),this._panoDiv=this.options.panoDiv?document.querySelector(this.options.panoDiv):L.DomUtil.create("div","",this._map._container),L.DomUtil.addClass(this._panoDiv,"pano-canvas"),L.DomUtil.addClass(this._map._container,this.options.theme),L.DomEvent.disableClickPropagation(this._panoDiv),L.DomEvent.on(this._container,"click mousedown dblclick",this._disableClickPropagation,this),this._container.addEventListener("touchstart",this._loadScripts.bind(this,!L.Browser.touch),{once:!0}),this._container.addEventListener("mousedown",this._loadScripts.bind(this,!0),{once:!0}),this._container.addEventListener("mouseover",this._loadScripts.bind(this,!1),{once:!0}),this._loadInteractHandlers(),this._loadGoogleHandlers(),L.DomEvent.on(document,"mousemove",this.mouseMoveTracking,this),L.DomEvent.on(document,"keyup",this.keyUpTracking,this),this._pegmanMarker.on("dragend",this.onPegmanMarkerDragged,this),this._map.on("click",this.onMapClick,this),this._map.on("layeradd",this.onMapLayerAdd,this),this._container},onRemove:function(t){this._googleStreetViewLayer&&this._googleStreetViewLayer.remove(),this._pegmanMarker&&this._pegmanMarker.remove(),L.DomUtil.remove(this._panoDiv),L.DomEvent.off(document,"mousemove",this.mouseMoveTracking,this),L.DomEvent.off(document,"keyup",this.keyUpTracking,this),t.off("mousemove",this._setMouseCursor,this)},_log:function(t){this.options.debug&&console.log(t)},_addClasses:function(t,e){for(var n in e=e.split(" "))L.DomUtil.addClass(t,e[n])},_removeClasses:function(t,e){for(var n in e=e.split(" "))L.DomUtil.removeClass(t,e[n])},_removeAttributes:function(t,e){for(var n in e)t.removeAttribute(e[n])},_insertAfter:function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},_translateElement:function(t,e,n){!1===e&&!1===n&&this._removeAttributes(this._pegman,["style","data-x","data-y"]);var r=(parseFloat(t.getAttribute("data-x"))||0)+e,i=(parseFloat(t.getAttribute("data-y"))||0)+n;t.style.webkitTransform=t.style.transform="translate("+r+"px, "+i+"px)",t.setAttribute("data-x",r),t.setAttribute("data-y",i)},_updateClasses:function(t){switch(t){case"pegman-dragging":this._removeClasses(this._pegman,"dropped"),this._addClasses(this._container,"dragging");break;case"pegman-dragged":this._removeClasses(this._pegman,"can-drop dragged left right active dropped"),this._removeAttributes(this._pegman,["style","data-x","data-y"]);break;case"dropzone-actived":this._addClasses(this._map._container,"drop-active");break;case"dropzone-drag-entered":this._addClasses(this._pegman,"active can-drop"),this._addClasses(this._map._container,"drop-target");break;case"dropzone-drag-leaved":this._removeClasses(this._map._container,"drop-target"),this._removeClasses(this._pegman,"can-drop");break;case"dropzone-drop":this._removeClasses(this._container,"dragging"),this._removeClasses(this._pegman,"active left right"),this._addClasses(this._pegman,"dropped"),this._removeClasses(this._pegman,"can-drop dragged left right active dropped");break;case"dropzone-deactivated":this._removeClasses(this._pegman,"active left right"),this._removeClasses(this._map._container,"drop-active drop-target");break;case"mousemove-top":this._addClasses(this._pegman,"top"),this._removeClasses(this._pegman,"bottom right left");break;case"mousemove-bottom":this._addClasses(this._pegman,"bottom"),this._removeClasses(this._pegman,"top right left");break;case"mousemove-left":this._addClasses(this._pegman,"left"),this._removeClasses(this._pegman,"right top bottom");break;case"mousemove-right":this._addClasses(this._pegman,"right"),this._removeClasses(this._pegman,"left top bottom");break;case"pegman-added":this._addClasses(this._container,"active");break;case"pegman-removed":this._removeClasses(this._container,"active");break;case"streetview-shown":this._addClasses(this._container,"streetview-layer-active");break;case"streetview-hidden":this._removeClasses(this._container,"streetview-layer-active");break;default:throw"Unhandled event:"+t}this.fire("svpc_"+t)},onDraggableMove:function(t){this.mouseMoveTracking(t),this.pegmanRemove(),this._updateClasses("pegman-dragging"),this._translateElement(this._pegman,t.dx,t.dy)},onDraggableEnd:function(t){this._pegmanMarkerCoords=this._map.mouseEventToLatLng(t),this.pegmanAdd(),this.findStreetViewData(this._pegmanMarkerCoords.lat,this._pegmanMarkerCoords.lng),this._updateClasses("pegman-dragged")},onDropZoneActivated:function(t){this._updateClasses("dropzone-actived")},onDropZoneDragEntered:function(t){this.showStreetViewLayer(),this._updateClasses("dropzone-drag-entered")},onDropZoneDragLeaved:function(t){this._updateClasses("dropzone-drag-leaved")},onDropZoneDropped:function(t){this._updateClasses("dropzone-drop"),this._translateElement(this._pegman,!1,!1)},onDropZoneDeactivated:function(t){this._updateClasses("dropzone-deactivated")},onPegmanMarkerDragged:function(t){this._pegmanMarkerCoords=this._pegmanMarker.getLatLng(),this.findStreetViewData(this._pegmanMarkerCoords.lat,this._pegmanMarkerCoords.lng)},onMapClick:function(t){this._streetViewLayerEnabled&&this.findStreetViewData(t.latlng.lat,t.latlng.lng)},onMapLayerAdd:function(t){this._googleStreetViewLayer&&this._googleStreetViewLayer.bringToFront()},onStreetViewPanoramaClose:function(){this.clear()},onPanoramaPositionChanged:function(){var t=this._panorama.getPosition();t=L.latLng(t.lat(),t.lng()),this._map&&!this._map.getBounds().pad(-.05).contains(t)&&this._map.panTo(t),this._pegmanMarker.setLatLng(t)},onPanoramaPovChanged:function(){var t=this._panorama.getPov();this._pegmanMarker.getElement().style.backgroundPosition="0 "+-Math.abs(Math.round(t.heading/22.5)%16*Math.round(835/16))+"px"},clear:function(){this.pegmanRemove(),this.hideStreetViewLayer(),this.closeStreetViewPanorama()},toggleStreetViewLayer:function(t){this._streetViewLayerEnabled?this.clear():this.showStreetViewLayer(),this._log("streetview-layer-toggled")},pegmanAdd:function(){this._pegmanMarker.addTo(this._map),this._pegmanMarker.setLatLng(this._pegmanMarkerCoords),this.findStreetViewData(this._pegmanMarkerCoords.lat,this._pegmanMarkerCoords.lng),this._updateClasses("pegman-added")},pegmanRemove:function(){this._pegmanMarker.removeFrom(this._map),this._updateClasses("pegman-removed")},closeStreetViewPanorama:function(){this._panoDiv.style.display="none"},openStreetViewPanorama:function(){this._panoDiv.style.display="block"},hideStreetViewLayer:function(){this._googleStreetViewLayer&&(this._googleStreetViewLayer.removeFrom(this._map),this._streetViewLayerEnabled=!1,this._updateClasses("streetview-hidden"))},showStreetViewLayer:function(){this._googleStreetViewLayer&&(this._googleStreetViewLayer.addTo(this._map),this._streetViewLayerEnabled=!0,this._updateClasses("streetview-shown"))},findStreetViewData:function(t,e){if("undefined"==typeof google)return this._loadScripts(!0),this.once("svpc_streetview-shown",L.bind(this.findStreetViewData,this,t,e));if(!this._pegmanMarker._map&&this._map)return this._pegmanMarkerCoords=L.latLng(t,e),this.pegmanAdd();this._streetViewCoords=new google.maps.LatLng(t,e);var n,r=this._map.getZoom();n=r<6?5e3:r<10?500:r<15?250:r>=17?50:100,this._streetViewService.getPanoramaByLocation(this._streetViewCoords,n,L.bind(this.processStreetViewServiceData,this))},processStreetViewServiceData:function(t,e){e==google.maps.StreetViewStatus.OK?(this.openStreetViewPanorama(),this._panorama.setPano(t.location.pano),this._panorama.setPov({heading:google.maps.geometry.spherical.computeHeading(t.location.latLng,this._streetViewCoords),pitch:0,zoom:0}),this._panorama.setVisible(!0)):console.warn("Street View data not found for this location.")},mouseMoveTracking:function(t){var e=this._mousePos;t.pageY<e.old.y?(e.direction.y="top",this._updateClasses("mousemove-top")):t.pageY>e.old.y&&(e.direction.y="bottom",this._updateClasses("mousemove-bottom")),t.pageX<e.old.x?(e.direction.x="left",this._updateClasses("mousemove-left")):t.pageX>e.old.x&&(e.direction.x="right",this._updateClasses("mousemove-right")),e.old.x=t.pageX,e.old.y=t.pageY},keyUpTracking:function(t){27==t.keyCode&&(this._log("escape pressed"),this.clear())},_disableClickPropagation:function(t){L.DomEvent.stopPropagation(t),L.DomEvent.preventDefault(t)},_loadGoogleHandlers:function(t){"object"==typeof google&&"object"==typeof google.maps&&"function"==typeof L.GridLayer.GoogleMutant&&(this._initGoogleMaps(t),this._initMouseTracker())},_initGoogleMaps:function(t){this._googleStreetViewLayer=L.gridLayer.googleMutant(this.options.mutant),this._googleStreetViewLayer.addGoogleLayer("StreetViewCoverageLayer"),this._panorama=new google.maps.StreetViewPanorama(this._panoDiv,this.options.pano),this._streetViewService=new google.maps.StreetViewService,this._panorama.addListener("closeclick",L.bind(this.onStreetViewPanoramaClose,this)),this._panorama.addListener("position_changed",L.bind(this.onPanoramaPositionChanged,this)),this._panorama.addListener("pov_changed",L.bind(this.onPanoramaPovChanged,this)),t&&this.showStreetViewLayer()},_initMouseTracker:function(){if(this._googleStreetViewLayer){var t=this._googleStreetViewLayer.getTileSize();this.tileWidth=t.x,this.tileHeight=t.y,this.defaultDraggableCursor=this._map._container.style.cursor,this._map.on("mousemove",this._setMouseCursor,this)}},_setMouseCursor:function(t){var e=this._getTileCoords(t.latlng.lat,t.latlng.lng,this._map.getZoom()),n=this._getTileImage(e),r=this._getTilePixelPoint(n,t.originalEvent),i=this._hasTileData(n,r);this._map._container.style.cursor=i?"pointer":this.defaultDraggableCursor},_getTileCoords:function(t,e,n){return{x:parseInt(Math.floor((e+180)/360*(1<<n))),y:parseInt(Math.floor((1-Math.log(Math.tan(this._toRad(t))+1/Math.cos(this._toRad(t)))/Math.PI)/2*(1<<n))),z:n}},_getTileImage:function(t){if(this._googleStreetViewLayer&&this._googleStreetViewLayer._tiles){var e=this._googleStreetViewLayer._tileCoordsToKey(t),n=this._googleStreetViewLayer._tiles[e];if(n){var r=n.el.querySelector("img");if(r)return this._downloadTile(r.src,this._tileLoaded),r}}},_getTilePixelPoint:function(t,e){if(t){var n=t.getBoundingClientRect(),r=(n.top+window.scrollY).toFixed(0),i=(n.left+window.scrollX).toFixed(0);return{x:e.pageX-i,y:e.pageY-r}}},_hasTileData:function(t,e){if(this.tileContext&&e)return 0!=this.tileContext.getImageData(e.x,e.y,1,1).data[3]},_toRad:function(t){return t*Math.PI/180},_downloadTile:function(t,e){if(t){var n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",e.bind(this,n),!1),n.src=t}},_tileLoaded:function(t){this.tileCanvas=document.createElement("canvas"),this.tileContext=this.tileCanvas.getContext("2d"),this.tileCanvas.width=this.tileWidth,this.tileCanvas.height=this.tileHeight,this.tileContext.drawImage(t,0,0)},_loadInteractHandlers:function(){"function"==typeof interact&&(this._draggable=interact(this._pegman).draggable(this._draggableMarkerOpts),this._dropzone=interact(this._map._container).dropzone(this._dropzoneMapOpts),this._draggable.styleCursor(!1),interact(this._container).on("tap",L.bind(this.toggleStreetViewLayer,this)),L.DomEvent.on(this._container,"touchstart",(function(t){this._map.dragging.disable()}),this),L.DomEvent.on(this._container,"touchend",(function(t){this._map.dragging.enable()}),this))},_loadScripts:function(t){this._lazyLoaderAdded||(this._lazyLoaderAdded=!0,this._loadJS(this.__interactURL,this._loadInteractHandlers.bind(this),"function"!=typeof interact),this._loadJS(this.__gmapsURL+"&key="+this.options.apiKey+"&libraries="+this.options.libraries+"&callback=?",this._loadGoogleHandlers.bind(this,t),"object"!=typeof google||"object"!=typeof google.maps),this._loadJS(this.__mutantURL,this._loadGoogleHandlers.bind(this,t),"function"!=typeof L.GridLayer.GoogleMutant))},_loadJS:function(t,e,n){if(n)if(-1!==t.indexOf("callback=?"))this._jsonp(t,e);else{var r=document.createElement("script");r.src=t;var i=function(){r.onload=r.onreadystatechange=null,this._log(t+" loaded"),e()}.bind(this);r.onload=r.onreadystatechange=i;var a=document.head||document.getElementsByTagName("head")[0]||document.documentElement;a.insertBefore(r,a.firstChild)}else e()},_jsonp:function(t,e,n){var r=-1===t.indexOf("?")?"?":"&";for(var i in n=n||{})n.hasOwnProperty(i)&&(r+=encodeURIComponent(i)+"="+encodeURIComponent(n[i])+"&");var a="json_call_"+(new Date).getUTCMilliseconds();window[a]=function(t){e(t),window[a]=void 0};var o=document.createElement("script");-1!==t.indexOf("callback=?")?o.src=t.replace("callback=?","callback="+a)+r.slice(0,-1):o.src=t+r+"callback="+a,o.async=!0,o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o.onload=o.onreadystatechange=null,o&&o.parentNode&&o.parentNode.removeChild(o))};var s=document.head||document.getElementsByTagName("head")[0]||document.documentElement;s.insertBefore(o,s.firstChild)}}),L.control.pegman=function(t){return new L.Control.Pegman(t)};var M={touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"};const T=(document.currentScript&&document.currentScript.src||{url:"undefined"==typeof document?new(n(8835).URL)("file:"+c).href:document.currentScript&&document.currentScript.src||new URL("leaflet-ui.js",document.baseURI).href}&&("undefined"==typeof document?new(n(8835).URL)("file:"+c).href:document.currentScript&&document.currentScript.src||new URL("leaflet-ui.js",document.baseURI).href)).split("/").slice(0,-1).join("/")+"/";var k,A,C,S,P=!1,D={text:{},duration:1700},O=L.Handler.extend({_isScrolling:!1,_isTouching:!1,_isFading:!1,addHooks:function(){this._handleTouch=L.bind(this._handleTouch,this),this._setGestureHandlingOptions(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map._container,"mouseenter",this._handleMouseOver,this),L.DomEvent.on(this._map._container,"mouseleave",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this),this._map.on("popupopen",this._handleScrollOnPopup,this),this._map.on("popupclose",this._handleScrollOnPopup,this),L.DomEvent.off(this._map,"enterFullscreen",this._onEnterFullscreen,this),L.DomEvent.off(this._map,"exitFullscreen",this._onExitFullscreen,this),L.DomEvent.on(this._map,"enterFullscreen",this._onEnterFullscreen,this),L.DomEvent.on(this._map,"exitFullscreen",this._onExitFullscreen,this),L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling")},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map._container,"mouseenter",this._handleMouseOver,this),L.DomEvent.off(this._map._container,"mouseleave",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this),this._map.off("popupopen",this._handleScrollOnPopup,this),this._map.off("popupclose",this._handleScrollOnPopup,this),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling")},_handleDragging:function(t){"movestart"==t.type||"move"==t.type?P=!0:"moveend"==t.type&&(P=!1)},_disableInteraction:function(t){this._map.options[t]&&this._map[t]&&this._map[t].disable()},_enableInteraction:function(t){this._map.options[t]&&this._map[t]&&this._map[t].enable()},_disableInteractions:function(){this._disableInteraction("dragging"),this._disableInteraction("scrollWheelZoom"),this._disableInteraction("tap")},_enableInteractions:function(){this._enableInteraction("dragging"),this._enableInteraction("scrollWheelZoom"),this._enableInteraction("tap")},_enableWarning:function(t){clearTimeout(this._isFading),L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-"+t),L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-warning")},_disableWarning:function(t,e){clearTimeout(this._isFading),this._isFading=setTimeout(L.bind((function(t){L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-"+t)}),this,t),e||this._map.options.gestureHandlingOptions.duration),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-warning")},_isLanguageContent:function(t){return t&&t.touch&&t.scroll&&t.scrollMac},_isMacUser:function(){return navigator.platform.toUpperCase().indexOf("MAC")>=0},_parseGestureHandlingOptions:function(){var t=this._map.options.gestureHandlingOptions.text||this._map.options.gestureHandlingText||D.text,e=this._map.options.gestureHandlingOptions.duration||this._map.options.gestureHandlingDuration||D.duration,n=L.extend(this._map.options.gestureHandlingOptions,D);return n.text=t,n.duration=e,n},_setGestureHandlingOptions:function(){var t=this._parseGestureHandlingOptions();(this._isLanguageContent(t.text)?Promise.resolve(t.text):this._getLanguageContent(t.locale)).then((t=>{this._map._container.setAttribute("data-gesture-handling-touch-content",t.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",t.scroll),this._touchWarning=t.touch,this._scrollWarning=t.scroll}))},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_getLanguageContent:function(t){t=t||this._getUserLanguage()||"en";var e,r=new Promise((t=>{e=t})),i=t=>{var n=t.default||{};n.scroll=this._isMacUser()?n.scrollMac:n.scroll,e(n)};return n(6086)(T+"./locales/"+t+".js").then(i).catch((e=>n(6086)(T+"./locales/"+t.split("-")[0]+".js").then(i).catch((t=>Promise.resolve({default:M}).then(i))))),r},_handleTouch:function(t){L.DomUtil.hasClass(t.target,"leaflet-interactive")||t.target.closest(".leaflet-control-container")||t.target.closest(".leaflet-popup-pane")?L.DomUtil.hasClass(t.target,"leaflet-interactive")&&"touchmove"===t.type&&1===t.touches.length?this._enableTouchWarning():this._disableTouchWarning():"touchmove"!==t.type&&"touchstart"!==t.type?this._disableTouchWarning():1===t.touches.length?this._enableTouchWarning():(t.preventDefault(),this._disableTouchWarning(),this._enableInteractions())},_enableTouchWarning:function(){this._enableWarning("touch"),this._disableInteractions()},_disableTouchWarning:function(t){clearTimeout(this._isTouching),this._isTouching=setTimeout(L.bind((function(){this._disableWarning("touch")}),this),t||0)},_enableScrollWarning:function(){this._enableWarning("scroll"),this._disableInteraction("scrollWheelZoom")},_disableScrollWarning:function(t){clearTimeout(this._isScrolling),this._isScrolling=setTimeout(L.bind((function(){this._disableWarning("scroll"),this._enableInteraction("scrollWheelZoom")}),this),t||0)},_handleScroll:function(t){this._map.scrollWheelZoom&&this._map.scrollWheelZoom.enabled()&&(t.metaKey||t.ctrlKey||t.shiftKey&&this._map._rotate?(t.preventDefault(),this._disableScrollWarning()):(this._enableScrollWarning(),this._disableScrollWarning(this._map.options.gestureHandlingOptions.duration)))},_handleScrollOnPopup:function(t){L.DomEvent["popupopen"==t.type?"on":"off"](t.popup._contentNode,"wheel",this._handleScroll,this)},_handleMouseOver:function(t){this._enableInteractions()},_handleMouseOut:function(t){P||this._disableInteractions()},_onExitFullscreen:function(){this._map.options.gestureHandling&&this._map.gestureHandling.enable()},_onEnterFullscreen:function(){this._map.options.gestureHandling&&this._map.gestureHandling.disable()}});L.Map.mergeOptions({gestureHandlingOptions:D}),L.Map.addInitHook("addHandler","gestureHandling",O),L.Control.EditInOSM=L.Control.extend({options:{position:"bottomright",editor:!1},_edit:function(){var t=this._map.getCenter(),e=this._map.getZoom(),n=this.options.editor?"&editor="+this.options.editor:"";window.open("http://www.openstreetmap.org/edit?zoom="+e+n+"&lat="+t.lat+"&lon="+t.lng)},onAdd:function(t){var e=L.DomUtil.create("div","leaflet-control-attribution leaflet-edit-osm"),n=L.DomUtil.create("a","",e);return n.href="#",n.innerHTML="✎ Edit",n.title="Edit in OpenStreetMap",L.DomEvent.on(n,"click",L.DomEvent.stopPropagation).on(n,"mousedown",L.DomEvent.stopPropagation).on(n,"dblclick",L.DomEvent.stopPropagation).on(n,"click",L.DomEvent.preventDefault).on(n,"click",L.bind(this._edit,this),this),e}}),L.control.editInOSM=function(t){return new L.Control.EditInOSM(t)},k=L.Control.Layers.prototype,A=k.initialize,C=k.onAdd,k.options.inline=!1,L.Control.Layers.include({initialize:function(t,e,n){n.inline&&(n.collapsed=!1),A.call(this,t,e,n)},onAdd:function(t){return C.call(this,t),this.options.inline&&(this.options.collapsed=!1,L.DomUtil.addClass(this._container,"leaflet-control-layers-inline")),this.options.className&&L.DomUtil.addClass(this._container,this.options.className),this._container}}),function(r,i){o=[n(3481)],void 0!==(l="function"==typeof(s=r)?s.apply(e,o):s)&&(t.exports=l),void 0!==i&&i.L&&(i.L.Control.MiniMap=r(L),i.L.control.minimap=function(t,e){return new i.L.Control.MiniMap(t,e)})}((function(t){var e=t.Control.extend({includes:t.Evented?t.Evented.prototype:t.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(e,n){t.Util.setOptions(this,n),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=e},onAdd:function(e){this._mainMap=e,this._container=t.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",t.DomEvent.disableClickPropagation(this._container),t.DomEvent.on(this._container,"mousewheel",t.DomEvent.stopPropagation);var n={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:e.options.crs};return n=t.Util.extend(this.options.mapOptions,n),this._miniMap=new t.Map(this._container,n),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(t.Util.bind((function(){this._aimingRect=t.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=t.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)}),this)),this._container},addTo:function(e){t.Control.prototype.addTo.call(this,e);var n=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(n,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(t){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(t){this._miniMap.removeLayer(this._layer),this._layer=t,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(e,n,r,i,a,o){var s=t.DomUtil.create("a",r,i);s.innerHTML=e,s.href="#",s.title=n;var l=t.DomEvent.stopPropagation;return t.DomEvent.on(s,"click",l).on(s,"mousedown",l).on(s,"dblclick",l).on(s,"click",t.DomEvent.preventDefault).on(s,"click",a,o),s},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(t){t!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(t){if(this._miniMapMoving)this._miniMapMoving=!1;else{var e=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(e,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(t){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(t){if(!this.options.centerFixed){var e=this._aimingRect.getBounds(),n=this._miniMap.latLngToContainerPoint(e.getSouthWest()),r=this._miniMap.latLngToContainerPoint(e.getNorthEast());this._lastAimingRectPosition={sw:n,ne:r}}},_onMiniMapMoving:function(e){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new t.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(t){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var t=this.options.zoomLevelFixed;return this._isDefined(t)&&this._isInteger(t)},_decideZoom:function(t){if(this._isZoomLevelFixed())return t?this.options.zoomLevelFixed:this._mainMap.getZoom();if(t)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var e,n=this._miniMap.getZoom()-this._mainMap.getZoom(),r=this._miniMap.getZoom()-this.options.zoomLevelOffset;return n>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(e=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):e=this._mainMap.getZoom():e=r,this._lastMiniMapZoom=this._miniMap.getZoom(),e},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(t){return"number"==typeof t},_isDefined:function(t){return void 0!==t},_onToggle:function(){t.Util.requestAnimFrame((function(){t.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),t.Browser.any3d||t.Util.requestAnimFrame(this._fireToggleEvents,this)}),this)},_fireToggleEvents:function(){t.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var e={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",e),this.fire("toggle",e)}});return t.Map.mergeOptions({miniMapControl:!1}),t.Map.addInitHook((function(){this.options.miniMapControl&&(this.miniMapControl=(new e).addTo(this))})),e}),window),function(){var r=window.console||{error:function(){},warn:function(){}};function i(t){t.Control.Loading=t.Control.extend({options:{delayIndicator:null,position:"topleft",separate:!1,zoomControl:null,spinjs:!1,spin:{lines:7,length:3,width:3,radius:5,rotate:13,top:"83%"}},initialize:function(e){t.setOptions(this,e),this._dataLoaders={},null!==this.options.zoomControl&&(this.zoomControl=this.options.zoomControl)},onAdd:function(e){if(this.options.spinjs&&"function"!=typeof Spinner)return r.error("Leaflet.loading cannot load because you didn't load spin.js (http://fgnass.github.io/spin.js/), even though you set it in options.");this._addLayerListeners(e),this._addMapListeners(e),this.options.separate||this.zoomControl||(e.zoomControl?this.zoomControl=e.zoomControl:e.zoomsliderControl&&(this.zoomControl=e.zoomsliderControl));var n,i="leaflet-control-loading";return this.zoomControl&&!this.options.separate?(n=this.zoomControl._container,i+=" leaflet-bar-part-bottom leaflet-bar-part last",t.DomUtil.addClass(this._getLastControlButton(),"leaflet-bar-part-bottom")):n=t.DomUtil.create("div","leaflet-control-zoom leaflet-control-layer-container leaflet-bar"),this._indicatorContainer=n,this._indicator=t.DomUtil.create("a",i,n),this.options.spinjs&&(this._spinner=new Spinner(this.options.spin).spin(),this._indicator.appendChild(this._spinner.el)),n},onRemove:function(t){this._removeLayerListeners(t),this._removeMapListeners(t)},removeFrom:function(e){return this.zoomControl&&!this.options.separate?(this._container.removeChild(this._indicator),this._map=null,this.onRemove(e),this):t.Control.prototype.removeFrom.call(this,e)},addLoader:function(t){if(this._dataLoaders[t]=!0,this.options.delayIndicator&&!this.delayIndicatorTimeout){var e=this;this.delayIndicatorTimeout=setTimeout((function(){e.updateIndicator(),e.delayIndicatorTimeout=null}),this.options.delayIndicator)}else this.updateIndicator()},removeLoader:function(t){delete this._dataLoaders[t],this.updateIndicator(),this.options.delayIndicator&&this.delayIndicatorTimeout&&!this.isLoading()&&(clearTimeout(this.delayIndicatorTimeout),this.delayIndicatorTimeout=null)},updateIndicator:function(){this.isLoading()?this._showIndicator():this._hideIndicator()},isLoading:function(){return this._countLoaders()>0},_countLoaders:function(){var t,e=0;for(t in this._dataLoaders)this._dataLoaders.hasOwnProperty(t)&&e++;return e},_showIndicator:function(){t.DomUtil.addClass(this._indicator,"is-loading"),t.DomUtil.addClass(this._indicatorContainer,"is-loading"),this.options.separate||(this.zoomControl instanceof t.Control.Zoom?t.DomUtil.removeClass(this._getLastControlButton(),"leaflet-bar-part-bottom"):"function"==typeof t.Control.Zoomslider&&this.zoomControl instanceof t.Control.Zoomslider&&t.DomUtil.removeClass(this.zoomControl._ui.zoomOut,"leaflet-bar-part-bottom"))},_hideIndicator:function(){t.DomUtil.removeClass(this._indicator,"is-loading"),t.DomUtil.removeClass(this._indicatorContainer,"is-loading"),this.options.separate||(this.zoomControl instanceof t.Control.Zoom?t.DomUtil.addClass(this._getLastControlButton(),"leaflet-bar-part-bottom"):"function"==typeof t.Control.Zoomslider&&this.zoomControl instanceof t.Control.Zoomslider&&t.DomUtil.addClass(this.zoomControl._ui.zoomOut,"leaflet-bar-part-bottom"))},_getLastControlButton:function(){for(var t=this.zoomControl._container,e=t.children.length-1;e>0;){var n=t.children[e];if(this._indicator!==n&&0!==n.offsetWidth&&0!==n.offsetHeight)break;e--}return t.children[e]},_handleLoading:function(t){this.addLoader(this.getEventId(t))},_handleBaseLayerChange:function(e){var n=this;e.layer&&e.layer.eachLayer&&"function"==typeof e.layer.eachLayer?e.layer.eachLayer((function(t){n._handleBaseLayerChange({layer:t})})):t.TileLayer.Canvas&&e.layer instanceof t.TileLayer.Canvas||n._handleLoading(e)},_handleLoad:function(t){this.removeLoader(this.getEventId(t))},getEventId:function(t){return t.id?t.id:t.layer?t.layer._leaflet_id:t.target._leaflet_id},_layerAdd:function(t){if(t.layer&&t.layer.on)try{t.layer.on({loading:this._handleLoading,load:this._handleLoad},this)}catch(e){r.warn("L.Control.Loading: Tried and failed to add  event handlers to layer",t.layer),r.warn("L.Control.Loading: Full details",e)}},_layerRemove:function(t){if(t.layer&&t.layer.off)try{t.layer.off({loading:this._handleLoading,load:this._handleLoad},this)}catch(e){r.warn("L.Control.Loading: Tried and failed to remove event handlers from layer",t.layer),r.warn("L.Control.Loading: Full details",e)}},_addLayerListeners:function(t){t.eachLayer((function(t){t.on&&t.on({loading:this._handleLoading,load:this._handleLoad},this)}),this),t.on("layeradd",this._layerAdd,this),t.on("layerremove",this._layerRemove,this)},_removeLayerListeners:function(t){t.eachLayer((function(t){t.off&&t.off({loading:this._handleLoading,load:this._handleLoad},this)}),this),t.off("layeradd",this._layerAdd,this),t.off("layerremove",this._layerRemove,this)},_addMapListeners:function(t){t.on({baselayerchange:this._handleBaseLayerChange,dataloading:this._handleLoading,dataload:this._handleLoad,layerremove:this._handleLoad},this)},_removeMapListeners:function(t){t.off({baselayerchange:this._handleBaseLayerChange,dataloading:this._handleLoading,dataload:this._handleLoad,layerremove:this._handleLoad},this)}}),t.Map.addInitHook((function(){this.options.loadingControl&&(this.loadingControl=new t.Control.Loading,this.addControl(this.loadingControl))})),t.Control.loading=function(e){return new t.Control.Loading(e)}}o=[n(3481)],l=function(t){i(t)}.apply(e,o),void 0===l||(t.exports=l)}(),o=[n(3481)],void 0===(l="function"==typeof(s=function(t){return t.Control.Search=t.Control.extend({includes:"1"===t.version[0]?t.Evented.prototype:t.Mixin.Events,options:{url:"",layer:null,sourceData:null,jsonpParam:null,propertyLoc:"loc",propertyName:"title",formatData:null,filterData:null,moveToLocation:null,buildTip:null,container:"",zoom:null,minLength:1,initial:!0,casesensitive:!1,autoType:!0,delayType:400,tooltipLimit:-1,tipAutoSubmit:!0,firstTipSubmit:!1,autoResize:!0,collapsed:!0,autoCollapse:!1,autoCollapseTime:1200,textErr:"Location not found",textCancel:"Cancel",textPlaceholder:"Search...",hideMarkerOnCollapse:!1,position:"topleft",marker:{icon:!1,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}}},_getPath:function(t,e){var n=e.split("."),r=n.pop(),i=n.length,a=n[0],o=1;if(i>0)for(;(t=t[a])&&o<i;)a=n[o++];if(t)return t[r]},_isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},initialize:function(e){t.Util.setOptions(this,e||{}),this._inputMinSize=this.options.textPlaceholder?this.options.textPlaceholder.length:10,this._layer=this.options.layer||new t.LayerGroup,this._filterData=this.options.filterData||this._defaultFilterData,this._formatData=this.options.formatData||this._defaultFormatData,this._moveToLocation=this.options.moveToLocation||this._defaultMoveToLocation,this._autoTypeTmp=this.options.autoType,this._countertips=0,this._recordsCache={},this._curReq=null},onAdd:function(e){return this._map=e,this._container=t.DomUtil.create("div","leaflet-control-search"),this._input=this._createInput(this.options.textPlaceholder,"search-input"),this._tooltip=this._createTooltip("search-tooltip"),this._cancel=this._createCancel(this.options.textCancel,"search-cancel"),this._button=this._createButton(this.options.textPlaceholder,"search-button"),this._alert=this._createAlert("search-alert"),!1===this.options.collapsed&&this.expand(this.options.collapsed),this.options.marker&&(this.options.marker instanceof t.Marker||this.options.marker instanceof t.CircleMarker?this._markerSearch=this.options.marker:this._isObject(this.options.marker)&&(this._markerSearch=new t.Control.Search.Marker([0,0],this.options.marker)),this._markerSearch._isMarkerSearch=!0),this.setLayer(this._layer),e.on({resize:this._handleAutoresize},this),this._container},addTo:function(e){return this.options.container?(this._container=this.onAdd(e),this._wrapper=t.DomUtil.get(this.options.container),this._wrapper.style.position="relative",this._wrapper.appendChild(this._container)):t.Control.prototype.addTo.call(this,e),this},onRemove:function(t){this._recordsCache={},t.off({resize:this._handleAutoresize},this)},setLayer:function(t){return this._layer=t,this._layer.addTo(this._map),this},showAlert:function(t){var e=this;return t=t||this.options.textErr,this._alert.style.display="block",this._alert.innerHTML=t,clearTimeout(this.timerAlert),this.timerAlert=setTimeout((function(){e.hideAlert()}),this.options.autoCollapseTime),this},hideAlert:function(){return this._alert.style.display="none",this},cancel:function(){return this._input.value="",this._handleKeypress({keyCode:8}),this._input.size=this._inputMinSize,this._input.focus(),this._cancel.style.display="none",this._hideTooltip(),this.fire("search:cancel"),this},expand:function(e){return e="boolean"!=typeof e||e,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),!1!==e&&(this._input.focus(),this._map.on("dragstart click",this.collapse,this)),this.fire("search:expanded"),this},collapse:function(){return this._hideTooltip(),this.cancel(),this._alert.style.display="none",this._input.blur(),this.options.collapsed&&(this._input.style.display="none",this._cancel.style.display="none",t.DomUtil.removeClass(this._container,"search-exp"),this.options.hideMarkerOnCollapse&&this._map.removeLayer(this._markerSearch),this._map.off("dragstart click",this.collapse,this)),this.fire("search:collapsed"),this},collapseDelayed:function(){var t=this;return this.options.autoCollapse?(clearTimeout(this.timerCollapse),this.timerCollapse=setTimeout((function(){t.collapse()}),this.options.autoCollapseTime),this):this},collapseDelayedStop:function(){return clearTimeout(this.timerCollapse),this},_createAlert:function(e){var n=t.DomUtil.create("div",e,this._container);return n.style.display="none",t.DomEvent.on(n,"click",t.DomEvent.stop,this).on(n,"click",this.hideAlert,this),n},_createInput:function(e,n){var r=this,i=t.DomUtil.create("label",n,this._container),a=t.DomUtil.create("input",n,this._container);return a.type="text",a.size=this._inputMinSize,a.value="",a.autocomplete="off",a.autocorrect="off",a.autocapitalize="off",a.placeholder=e,a.style.display="none",a.role="search",a.id=a.role+a.type+a.size,i.htmlFor=a.id,i.style.display="none",i.value=e,t.DomEvent.disableClickPropagation(a).on(a,"keyup",this._handleKeypress,this).on(a,"paste",(function(t){setTimeout((function(t){r._handleKeypress(t)}),10,t)}),this).on(a,"blur",this.collapseDelayed,this).on(a,"focus",this.collapseDelayedStop,this),a},_createCancel:function(e,n){var r=t.DomUtil.create("a",n,this._container);return r.href="#",r.title=e,r.style.display="none",r.innerHTML="<span>&otimes;</span>",t.DomEvent.on(r,"click",t.DomEvent.stop,this).on(r,"click",this.cancel,this),r},_createButton:function(e,n){var r=t.DomUtil.create("a",n,this._container);return r.href="#",r.title=e,t.DomEvent.on(r,"click",t.DomEvent.stop,this).on(r,"click",this._handleSubmit,this).on(r,"focus",this.collapseDelayedStop,this).on(r,"blur",this.collapseDelayed,this),r},_createTooltip:function(e){var n=this,r=t.DomUtil.create("ul",e,this._container);return r.style.display="none",t.DomEvent.disableClickPropagation(r).on(r,"blur",this.collapseDelayed,this).on(r,"mousewheel",(function(e){n.collapseDelayedStop(),t.DomEvent.stopPropagation(e)}),this).on(r,"mouseover",(function(t){n.collapseDelayedStop()}),this),r},_createTip:function(e,n){var r;if(this.options.buildTip){if("string"==typeof(r=this.options.buildTip.call(this,e,n))){var i=t.DomUtil.create("div");i.innerHTML=r,r=i.firstChild}}else(r=t.DomUtil.create("li","")).innerHTML=e;return t.DomUtil.addClass(r,"search-tip"),r._text=e,this.options.tipAutoSubmit&&t.DomEvent.disableClickPropagation(r).on(r,"click",t.DomEvent.stop,this).on(r,"click",(function(t){this._input.value=e,this._handleAutoresize(),this._input.focus(),this._hideTooltip(),this._handleSubmit()}),this),r},_getUrl:function(t){return"function"==typeof this.options.url?this.options.url(t):this.options.url},_defaultFilterData:function(t,e){var n,r,i,a={};if(""===(t=t.replace(/[.*+?^${}()|[\]\\]/g,"")))return[];for(var o in n=this.options.initial?"^":"",r=this.options.casesensitive?void 0:"i",i=new RegExp(n+t,r),e)i.test(o)&&(a[o]=e[o]);return a},showTooltip:function(t){if(this._countertips=0,this._tooltip.innerHTML="",this._tooltip.currentSelection=-1,this.options.tooltipLimit)for(var e in t){if(this._countertips===this.options.tooltipLimit)break;this._countertips++,this._tooltip.appendChild(this._createTip(e,t[e]))}return this._countertips>0?(this._tooltip.style.display="block",this._autoTypeTmp&&this._autoType(),this._autoTypeTmp=this.options.autoType):this._hideTooltip(),this._tooltip.scrollTop=0,this._countertips},_hideTooltip:function(){return this._tooltip.style.display="none",this._tooltip.innerHTML="",0},_defaultFormatData:function(e){var n,r=this,i=this.options.propertyName,a=this.options.propertyLoc,o={};if(t.Util.isArray(a))for(n in e)o[r._getPath(e[n],i)]=t.latLng(e[n][a[0]],e[n][a[1]]);else for(n in e)o[r._getPath(e[n],i)]=t.latLng(r._getPath(e[n],a));return o},_recordsFromJsonp:function(e,n){t.Control.Search.callJsonp=n;var r=t.DomUtil.create("script","leaflet-search-jsonp",document.getElementsByTagName("body")[0]),i=t.Util.template(this._getUrl(e)+"&"+this.options.jsonpParam+"=L.Control.Search.callJsonp",{s:e});return r.type="text/javascript",r.src=i,{abort:function(){r.parentNode.removeChild(r)}}},_recordsFromAjax:function(e,n){void 0===window.XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new ActiveXObject("Microsoft.XMLHTTP.6.0")}catch(t){try{return new ActiveXObject("Microsoft.XMLHTTP.3.0")}catch(t){throw new Error("XMLHttpRequest is not supported")}}});var r=t.Browser.ie&&!window.atob&&document.querySelector?new XDomainRequest:new XMLHttpRequest,i=t.Util.template(this._getUrl(e),{s:e});return r.open("GET",i),r.onload=function(){n(JSON.parse(r.responseText))},r.onreadystatechange=function(){4===r.readyState&&200===r.status&&this.onload()},r.send(),r},_searchInLayer:function(e,n,r){var i,a=this;e instanceof t.Control.Search.Marker||(e instanceof t.Marker||e instanceof t.CircleMarker?a._getPath(e.options,r)?((i=e.getLatLng()).layer=e,n[a._getPath(e.options,r)]=i):a._getPath(e.feature.properties,r)&&((i=e.getLatLng()).layer=e,n[a._getPath(e.feature.properties,r)]=i):e instanceof t.Path||e instanceof t.Polyline||e instanceof t.Polygon?a._getPath(e.options,r)?((i=e.getBounds().getCenter()).layer=e,n[a._getPath(e.options,r)]=i):a._getPath(e.feature.properties,r)&&((i=e.getBounds().getCenter()).layer=e,n[a._getPath(e.feature.properties,r)]=i):e.hasOwnProperty("feature")?e.feature.properties.hasOwnProperty(r)&&(e.getLatLng&&"function"==typeof e.getLatLng?((i=e.getLatLng()).layer=e,n[e.feature.properties[r]]=i):e.getBounds&&"function"==typeof e.getBounds&&((i=e.getBounds().getCenter()).layer=e,n[e.feature.properties[r]]=i)):e instanceof t.LayerGroup&&e.eachLayer((function(t){a._searchInLayer(t,n,r)})))},_recordsFromLayer:function(){var t=this,e={},n=this.options.propertyName;return this._layer.eachLayer((function(r){t._searchInLayer(r,e,n)})),e},_autoType:function(){var t=this._input.value.length,e=this._tooltip.firstChild?this._tooltip.firstChild._text:"",n=e.length;if(0===e.indexOf(this._input.value))if(this._input.value=e,this._handleAutoresize(),this._input.createTextRange){var r=this._input.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n),r.select()}else this._input.setSelectionRange?this._input.setSelectionRange(t,n):this._input.selectionStart&&(this._input.selectionStart=t,this._input.selectionEnd=n)},_hideAutoType:function(){var t;if((t=this._input.selection)&&t.empty)t.empty();else if(this._input.createTextRange){(t=this._input.createTextRange()).collapse(!0);var e=this._input.value.length;t.moveStart("character",e),t.moveEnd("character",e),t.select()}else this._input.getSelection&&this._input.getSelection().removeAllRanges(),this._input.selectionStart=this._input.selectionEnd},_handleKeypress:function(t){var e=this;switch(t.keyCode){case 27:this.collapse();break;case 13:(1==this._countertips||this.options.firstTipSubmit&&this._countertips>0)&&-1==this._tooltip.currentSelection&&this._handleArrowSelect(1),this._handleSubmit();break;case 38:this._handleArrowSelect(-1);break;case 40:this._handleArrowSelect(1);break;case 8:case 45:case 46:this._autoTypeTmp=!1;break;case 37:case 39:case 16:case 17:case 35:case 36:break;default:this._input.value.length?this._cancel.style.display="block":this._cancel.style.display="none",this._input.value.length>=this.options.minLength?(clearTimeout(this.timerKeypress),this.timerKeypress=setTimeout((function(){e._fillRecordsCache()}),this.options.delayType)):this._hideTooltip()}this._handleAutoresize()},searchText:function(e){var n=e.charCodeAt(e.length);this._input.value=e,this._input.style.display="block",t.DomUtil.addClass(this._container,"search-exp"),this._autoTypeTmp=!1,this._handleKeypress({keyCode:n})},_fillRecordsCache:function(){var e,n=this,r=this._input.value;this._curReq&&this._curReq.abort&&this._curReq.abort(),t.DomUtil.addClass(this._container,"search-load"),this.options.layer?(this._recordsCache=this._recordsFromLayer(),e=this._filterData(this._input.value,this._recordsCache),this.showTooltip(e),t.DomUtil.removeClass(this._container,"search-load")):(this.options.sourceData?this._retrieveData=this.options.sourceData:this.options.url&&(this._retrieveData=this.options.jsonpParam?this._recordsFromJsonp:this._recordsFromAjax),this._curReq=this._retrieveData.call(this,r,(function(r){n._recordsCache=n._formatData.call(n,r),e=n.options.sourceData?n._filterData(n._input.value,n._recordsCache):n._recordsCache,n.showTooltip(e),t.DomUtil.removeClass(n._container,"search-load")})))},_handleAutoresize:function(){var t;this._input.style.maxWidth!==this._map._container.offsetWidth&&(t=this._map._container.clientWidth,t-=83,this._input.style.maxWidth=t.toString()+"px"),this.options.autoResize&&this._container.offsetWidth+20<this._map._container.offsetWidth&&(this._input.size=this._input.value.length<this._inputMinSize?this._inputMinSize:this._input.value.length)},_handleArrowSelect:function(e){for(var n=this._tooltip.hasChildNodes()?this._tooltip.childNodes:[],r=0;r<n.length;r++)t.DomUtil.removeClass(n[r],"search-tip-select");if(1==e&&this._tooltip.currentSelection>=n.length-1)t.DomUtil.addClass(n[this._tooltip.currentSelection],"search-tip-select");else if(-1==e&&this._tooltip.currentSelection<=0)this._tooltip.currentSelection=-1;else if("none"!=this._tooltip.style.display){this._tooltip.currentSelection+=e,t.DomUtil.addClass(n[this._tooltip.currentSelection],"search-tip-select"),this._input.value=n[this._tooltip.currentSelection]._text;var i=n[this._tooltip.currentSelection].offsetTop;i+n[this._tooltip.currentSelection].clientHeight>=this._tooltip.scrollTop+this._tooltip.clientHeight?this._tooltip.scrollTop=i-this._tooltip.clientHeight+n[this._tooltip.currentSelection].clientHeight:i<=this._tooltip.scrollTop&&(this._tooltip.scrollTop=i)}},_handleSubmit:function(){if(this._hideAutoType(),this.hideAlert(),this._hideTooltip(),"none"==this._input.style.display)this.expand();else if(""===this._input.value)this.collapse();else{var t=this._getLocation(this._input.value);!1===t?this.showAlert():(this.showLocation(t,this._input.value),this.fire("search:locationfound",{latlng:t,text:this._input.value,layer:t.layer?t.layer:null}))}},_getLocation:function(t){return!!this._recordsCache.hasOwnProperty(t)&&this._recordsCache[t]},_defaultMoveToLocation:function(t,e,n){this.options.zoom?this._map.setView(t,this.options.zoom):this._map.panTo(t)},showLocation:function(t,e){var n=this;return n._map.once("moveend zoomend",(function(e){n._markerSearch&&n._markerSearch.addTo(n._map).setLatLng(t)})),n._moveToLocation(t,e,n._map),n.options.autoCollapse&&n.collapse(),n}}),t.Control.Search.Marker=t.Marker.extend({includes:"1"===t.version[0]?t.Evented.prototype:t.Mixin.Events,options:{icon:new t.Icon.Default,animate:!0,circle:{radius:10,weight:3,color:"#e03",stroke:!0,fill:!1}},initialize:function(e,n){t.setOptions(this,n),!0===n.icon&&(n.icon=new t.Icon.Default),t.Marker.prototype.initialize.call(this,e,n),t.Control.Search.prototype._isObject(this.options.circle)&&(this._circleLoc=new t.CircleMarker(e,this.options.circle))},onAdd:function(e){t.Marker.prototype.onAdd.call(this,e),this._circleLoc&&(e.addLayer(this._circleLoc),this.options.animate&&this.animate())},onRemove:function(e){t.Marker.prototype.onRemove.call(this,e),this._circleLoc&&e.removeLayer(this._circleLoc)},setLatLng:function(e){return t.Marker.prototype.setLatLng.call(this,e),this._circleLoc&&this._circleLoc.setLatLng(e),this},_initIcon:function(){this.options.icon&&t.Marker.prototype._initIcon.call(this)},_removeIcon:function(){this.options.icon&&t.Marker.prototype._removeIcon.call(this)},animate:function(){if(this._circleLoc){var t=this._circleLoc,e=parseInt(t._radius/5),n=this.options.circle.radius,r=2*t._radius,i=0;t._timerAnimLoc=setInterval((function(){r-=e+=i+=.5,t.setRadius(r),r<n&&(clearInterval(t._timerAnimLoc),t.setRadius(n))}),200)}return this}}),t.Map.addInitHook((function(){this.options.searchControl&&(this.searchControl=t.control.search(this.options.searchControl),this.addControl(this.searchControl))})),t.control.search=function(e){return new t.Control.Search(e)},t.Control.Search})?s.apply(e,o):s)||(t.exports=l),S=function(){function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},r=t((function(t){!function(){function e(t,e){return function(t){void 0===t.imagePlaceholder?h.impl.options.imagePlaceholder=u.imagePlaceholder:h.impl.options.imagePlaceholder=t.imagePlaceholder,void 0===t.cacheBust?h.impl.options.cacheBust=u.cacheBust:h.impl.options.cacheBust=t.cacheBust}(e=e||{}),Promise.resolve(t).then((function(t){return r(t,e.filter,!0)})).then(i).then(a).then((function(t){return e.bgcolor&&(t.style.backgroundColor=e.bgcolor),e.width&&(t.style.width=e.width+"px"),e.height&&(t.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach((function(n){t.style[n]=e.style[n]})),t})).then((function(n){return function(t,e,n){return Promise.resolve(t).then((function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)})).then(o.escapeXhtml).then((function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"})).then((function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+n+'">'+t+"</svg>"})).then((function(t){return"data:image/svg+xml;charset=utf-8,"+t}))}(n,e.width||o.width(t),e.height||o.height(t))}))}function n(t,n){function r(t){var e=document.createElement("canvas");if(e.width=n.width||o.width(t),e.height=n.height||o.height(t),n.bgcolor){var r=e.getContext("2d");r.fillStyle=n.bgcolor,r.fillRect(0,0,e.width,e.height)}return e}return e(t,n).then(o.makeImage).then(o.delay(100)).then((function(e){var n=r(t);return n.getContext("2d").drawImage(e,0,0),n}))}function r(t,e,n){return n||!e||e(t)?Promise.resolve(t).then((function(t){return t instanceof HTMLCanvasElement?o.makeImage(t.toDataURL()):t.cloneNode(!1)})).then((function(n){return function(t,e,n){var i=t.childNodes;return 0===i.length?Promise.resolve(e):function(t,e,n){var i=Promise.resolve();return e.forEach((function(e){i=i.then((function(){return r(e,n)})).then((function(e){e&&t.appendChild(e)}))})),i}(e,o.asArray(i),n).then((function(){return e}))}(t,n,e)})).then((function(e){return function(t,e){return e instanceof Element?Promise.resolve().then((function(){!function(t,e){t.cssText?e.cssText=t.cssText:function(t,e){o.asArray(t).forEach((function(n){e.setProperty(n,t.getPropertyValue(n),t.getPropertyPriority(n))}))}(t,e)}(window.getComputedStyle(t),e.style)})).then((function(){function n(n){var r=window.getComputedStyle(t,n),i=r.getPropertyValue("content");if(""!==i&&"none"!==i){var a=o.uid();e.className=e.className+" "+a;var s=document.createElement("style");s.appendChild(function(t,e,n){var r="."+t+":"+e,i=n.cssText?function(t){var e=t.getPropertyValue("content");return t.cssText+" content: "+e+";"}(n):function(t){return o.asArray(t).map((function(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")})).join("; ")+";"}(n);return document.createTextNode(r+"{"+i+"}")}(a,n,r)),e.appendChild(s)}}[":before",":after"].forEach((function(t){n(t)}))})).then((function(){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)})).then((function(){e instanceof SVGElement&&(e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e instanceof SVGRectElement&&["width","height"].forEach((function(t){var n=e.getAttribute(t);n&&e.style.setProperty(t,n)})))})).then((function(){return e})):e}(t,e)})):Promise.resolve()}function i(t){return l.resolveAll().then((function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t}))}function a(t){return c.inlineAll(t).then((function(){return t}))}var o=function(){function t(t){var e=/\.([^\.\/]*?)$/g.exec(t);return e?e[1]:""}function e(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:t,mimeType:function(e){var n=t(e).toLowerCase();return function(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[n]||""},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise((function(e){t.toBlob(e)})):function(t){return new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);e(new Blob([i],{type:"image/png"}))}))}(t)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var i=n.createElement("a");return n.body.appendChild(i),r.href=e,i.href=t,i.href},getAndEncode:function(t){return h.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise((function(e){function n(t){console.error(t),e("")}var r,i=new XMLHttpRequest;if(i.onreadystatechange=function(){if(4===i.readyState){if(200!==i.status)return void(r?e(r):n("cannot fetch resource: "+t+", status: "+i.status));var a=new FileReader;a.onloadend=function(){var t=a.result.split(/,/)[1];e(t)},a.readAsDataURL(i.response)}},i.ontimeout=function(){r?e(r):n("timeout of 30000ms occured while fetching resource: "+t)},i.responseType="blob",i.timeout=3e4,i.open("GET",t,!0),i.send(),h.impl.options.imagePlaceholder){var a=h.impl.options.imagePlaceholder.split(/,/);a&&a[1]&&(r=a[1])}}))},uid:function(){var t=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)+t++}}(),delay:function(t){return function(e){return new Promise((function(n){setTimeout((function(){n(e)}),t)}))}},asArray:function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src=t}))},width:function(t){var n=e(t,"border-left-width"),r=e(t,"border-right-width");return t.scrollWidth+n+r},height:function(t){var n=e(t,"border-top-width"),r=e(t,"border-bottom-width");return t.scrollHeight+n+r}}}(),s=function(){function t(t){return-1!==t.search(r)}function e(t){for(var e,n=[];null!==(e=r.exec(t));)n.push(e[1]);return n.filter((function(t){return!o.isDataUrl(t)}))}function n(t,e,n,r){return Promise.resolve(e).then((function(t){return n?o.resolveUrl(t,n):t})).then(r||o.getAndEncode).then((function(t){return o.dataAsUrl(t,o.mimeType(e))})).then((function(n){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+o.escape(t)+")(['\"]?\\))","g")}(e),"$1"+n+"$3")}))}var r=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(r,i,a){return t(r)?Promise.resolve(r).then(e).then((function(t){var e=Promise.resolve(r);return t.forEach((function(t){e=e.then((function(e){return n(e,t,i,a)}))})),e})):Promise.resolve(r)},shouldProcess:t,impl:{readUrls:e,inline:n}}}(),l=function(){function t(){function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return s.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}return Promise.resolve(o.asArray(document.styleSheets)).then((function(t){var e=[];return t.forEach((function(t){try{o.asArray(t.cssRules||[]).forEach(e.push.bind(e))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}})),e})).then((function(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return s.shouldProcess(t.style.getPropertyValue("src"))}))})).then((function(e){return e.map(t)}))}return{resolveAll:function(){return t().then((function(t){return Promise.all(t.map((function(t){return t.resolve()})))})).then((function(t){return t.join("\n")}))},impl:{readAll:t}}}(),c=function(){function t(t){return{inline:function(e){return o.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(e||o.getAndEncode).then((function(e){return o.dataAsUrl(e,o.mimeType(t.src))})).then((function(e){return new Promise((function(n,r){t.onload=n,t.onerror=r,t.src=e}))}))}}}return{inlineAll:function e(n){return n instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?s.inlineAll(e).then((function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))})).then((function(){return t})):Promise.resolve(t)}(n).then((function(){return n instanceof HTMLImageElement?t(n).inline():Promise.all(o.asArray(n.childNodes).map((function(t){return e(t)})))})):Promise.resolve(n)},impl:{newImage:t}}}(),u={imagePlaceholder:void 0,cacheBust:!1},h={toSvg:e,toPng:function(t,e){return n(t,e||{}).then((function(t){return t.toDataURL()}))},toJpeg:function(t,e){return n(t,e=e||{}).then((function(t){return t.toDataURL("image/jpeg",e.quality||1)}))},toBlob:function(t,e){return n(t,e||{}).then(o.canvasToBlob)},toPixelData:function(t,e){return n(t,e||{}).then((function(e){return e.getContext("2d").getImageData(0,0,o.width(t),o.height(t)).data}))},impl:{fontFaces:l,images:c,util:o,inliner:s,options:{}}};t.exports=h}()})),i=t((function(t){var n=n||function(t){if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,a=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},l=function(t){setTimeout((function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()}),4e4)},c=function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){s(t)}}},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},h=function(e,s,h){h||(e=u(e));var d,f=this,p="application/octet-stream"===e.type,m=function(){c(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,i)return d=n().createObjectURL(e),void setTimeout((function(){r.href=d,r.download=s,function(t){var e=new MouseEvent("click");t.dispatchEvent(e)}(r),m(),l(d),f.readyState=f.DONE}));!function(){if((o||p&&a)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=o?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,f.readyState=f.DONE,m()},r.readAsDataURL(e),void(f.readyState=f.INIT)}d||(d=n().createObjectURL(e)),p?t.location.href=d:t.open(d,"_blank")||(t.location.href=d),f.readyState=f.DONE,m(),l(d)}()},d=h.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(d.abort=function(){},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,function(t,e,n){return new h(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||e.content);t.exports&&(t.exports.saveAs=n)}));L.Control.EasyPrint=L.Control.extend({options:{title:"Print map",position:"topleft",sizeModes:["Current"],filename:"map",exportOnly:!1,hidden:!1,tileWait:500,hideControlContainer:!0,hideClasses:[],customWindowTitle:window.document.title,spinnerBgCOlor:"#0DC5C1",customSpinnerClass:"epLoader",defaultSizeTitles:{Current:"Current Size",A4Landscape:"A4 Landscape",A4Portrait:"A4 Portrait"}},onAdd:function(){this.mapContainer=this._map.getContainer(),this.options.sizeModes=this.options.sizeModes.map((function(t){return"Current"===t?{name:this.options.defaultSizeTitles.Current,className:"CurrentSize"}:"A4Landscape"===t?{height:this._a4PageSize.height,width:this._a4PageSize.width,name:this.options.defaultSizeTitles.A4Landscape,className:"A4Landscape page"}:"A4Portrait"===t?{height:this._a4PageSize.width,width:this._a4PageSize.height,name:this.options.defaultSizeTitles.A4Portrait,className:"A4Portrait page"}:t}),this);var t=L.DomUtil.create("div","leaflet-control-easyPrint leaflet-bar leaflet-control");if(!this.options.hidden){this._addCss(),L.DomEvent.addListener(t,"mouseover",this._togglePageSizeButtons,this),L.DomEvent.addListener(t,"mouseout",this._togglePageSizeButtons,this);var e="leaflet-control-easyPrint-button";this.options.exportOnly&&(e+="-export"),this.link=L.DomUtil.create("a",e,t),this.link.id="leafletEasyPrint",this.link.title=this.options.title,this.holder=L.DomUtil.create("ul","easyPrintHolder",t),this.options.sizeModes.forEach((function(t){var e=L.DomUtil.create("li","easyPrintSizeMode",this.holder);e.title=t.name,L.DomUtil.create("a",t.className,e),L.DomEvent.addListener(e,"click",this.printMap,this)}),this),L.DomEvent.disableClickPropagation(t)}return t},printMap:function(t,e){e&&(this.options.filename=e),this.options.exportOnly||(this._page=window.open("","_blank","toolbar=no,status=no,menubar=no,scrollbars=no,resizable=no,left=10, top=10, width=200, height=250, visible=none"),this._page.document.write(this._createSpinner(this.options.customWindowTitle,this.options.customSpinnerClass,this.options.spinnerBgCOlor))),this.originalState={mapWidth:this.mapContainer.style.width,widthWasAuto:!1,widthWasPercentage:!1,mapHeight:this.mapContainer.style.height,zoom:this._map.getZoom(),center:this._map.getCenter()},"auto"===this.originalState.mapWidth?(this.originalState.mapWidth=this._map.getSize().x+"px",this.originalState.widthWasAuto=!0):this.originalState.mapWidth.includes("%")&&(this.originalState.percentageWidth=this.originalState.mapWidth,this.originalState.widthWasPercentage=!0,this.originalState.mapWidth=this._map.getSize().x+"px"),this._map.fire("easyPrint-start",{event:t}),this.options.hidden||this._togglePageSizeButtons({type:null}),this.options.hideControlContainer&&this._toggleControls(),this.options.hideClasses.length>0&&this._toggleClasses(this.options.hideClasses);var n="string"!=typeof t?t.target.className:t;if("CurrentSize"===n)return this._printOpertion(n);this.outerContainer=this._createOuterContainer(this.mapContainer),this.originalState.widthWasAuto&&(this.outerContainer.style.width=this.originalState.mapWidth),this._createImagePlaceholder(n)},_createImagePlaceholder:function(t){var e=this;r.toPng(this.mapContainer,{width:parseInt(this.originalState.mapWidth.replace("px")),height:parseInt(this.originalState.mapHeight.replace("px"))}).then((function(n){e.blankDiv=document.createElement("div");var r=e.blankDiv;e.outerContainer.parentElement.insertBefore(r,e.outerContainer),r.className="epHolder",r.style.backgroundImage='url("'+n+'")',r.style.position="absolute",r.style.zIndex=1011,r.style.display="initial",r.style.width=e.originalState.mapWidth,r.style.height=e.originalState.mapHeight,e._resizeAndPrintMap(t)})).catch((function(t){console.error("oops, something went wrong!",t)}))},_resizeAndPrintMap:function(t){this.outerContainer.style.opacity=0;var e=this.options.sizeModes.filter((function(e){return e.className===t}));e=e[0],this.mapContainer.style.width=e.width+"px",this.mapContainer.style.height=e.height+"px",this.mapContainer.style.width>this.mapContainer.style.height?this.orientation="portrait":this.orientation="landscape",this._map.setView(this.originalState.center),this._map.setZoom(this.originalState.zoom),this._map.invalidateSize(),this.options.tileLayer?this._pausePrint(t):this._printOpertion(t)},_pausePrint:function(t){var e=this,n=setInterval((function(){e.options.tileLayer.isLoading()||(clearInterval(n),e._printOpertion(t))}),e.options.tileWait)},_printOpertion:function(t){var e=this,n=this.mapContainer.style.width;(this.originalState.widthWasAuto&&"CurrentSize"===t||this.originalState.widthWasPercentage&&"CurrentSize"===t)&&(n=this.originalState.mapWidth),r.toPng(e.mapContainer,{width:parseInt(n),height:parseInt(e.mapContainer.style.height.replace("px"))}).then((function(t){var n=e._dataURItoBlob(t);e.options.exportOnly?i.saveAs(n,e.options.filename+".png"):e._sendToBrowserPrint(t,e.orientation),e._toggleControls(!0),e._toggleClasses(e.options.hideClasses,!0),e.outerContainer&&(e.originalState.widthWasAuto?e.mapContainer.style.width="auto":e.originalState.widthWasPercentage?e.mapContainer.style.width=e.originalState.percentageWidth:e.mapContainer.style.width=e.originalState.mapWidth,e.mapContainer.style.height=e.originalState.mapHeight,e._removeOuterContainer(e.mapContainer,e.outerContainer,e.blankDiv),e._map.invalidateSize(),e._map.setView(e.originalState.center),e._map.setZoom(e.originalState.zoom)),e._map.fire("easyPrint-finished")})).catch((function(t){console.error("Print operation failed",t)}))},_sendToBrowserPrint:function(t,e){this._page.resizeTo(600,800);var n=this._createNewWindow(t,e,this);this._page.document.body.innerHTML="",this._page.document.write(n),this._page.document.close()},_createSpinner:function(t,e,n){return"<html><head><title>"+t+"</title></head><body><style>\n      body{\n        background: "+n+";\n      }\n      .epLoader,\n      .epLoader:before,\n      .epLoader:after {\n        border-radius: 50%;\n      }\n      .epLoader {\n        color: #ffffff;\n        font-size: 11px;\n        text-indent: -99999em;\n        margin: 55px auto;\n        position: relative;\n        width: 10em;\n        height: 10em;\n        box-shadow: inset 0 0 0 1em;\n        -webkit-transform: translateZ(0);\n        -ms-transform: translateZ(0);\n        transform: translateZ(0);\n      }\n      .epLoader:before,\n      .epLoader:after {\n        position: absolute;\n        content: '';\n      }\n      .epLoader:before {\n        width: 5.2em;\n        height: 10.2em;\n        background: #0dc5c1;\n        border-radius: 10.2em 0 0 10.2em;\n        top: -0.1em;\n        left: -0.1em;\n        -webkit-transform-origin: 5.2em 5.1em;\n        transform-origin: 5.2em 5.1em;\n        -webkit-animation: load2 2s infinite ease 1.5s;\n        animation: load2 2s infinite ease 1.5s;\n      }\n      .epLoader:after {\n        width: 5.2em;\n        height: 10.2em;\n        background: #0dc5c1;\n        border-radius: 0 10.2em 10.2em 0;\n        top: -0.1em;\n        left: 5.1em;\n        -webkit-transform-origin: 0px 5.1em;\n        transform-origin: 0px 5.1em;\n        -webkit-animation: load2 2s infinite ease;\n        animation: load2 2s infinite ease;\n      }\n      @-webkit-keyframes load2 {\n        0% {\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n          transform: rotate(360deg);\n        }\n      }\n      @keyframes load2 {\n        0% {\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n        }\n        100% {\n          -webkit-transform: rotate(360deg);\n          transform: rotate(360deg);\n        }\n      }\n      </style>\n    <div class=\""+e+'">Loading...</div></body></html>'},_createNewWindow:function(t,e,n){return"<html><head>\n        <style>@media print {\n          img { max-width: 98%!important; max-height: 98%!important; }\n          @page { size: "+e+";}}\n        </style>\n        <script>function step1(){\n        setTimeout('step2()', 10);}\n        function step2(){window.print();window.close()}\n        <\/script></head><body onload='step1()'>\n        <img src=\""+t+'" style="display:block; margin:auto;"></body></html>'},_createOuterContainer:function(t){var e=document.createElement("div");return t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),e.appendChild(t),e.style.width=t.style.width,e.style.height=t.style.height,e.style.display="inline-block",e.style.overflow="hidden",e},_removeOuterContainer:function(t,e,n){e.parentNode&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(n),e.parentNode.removeChild(e))},_addCss:function(){var t=document.createElement("style");t.type="text/css",t.innerHTML=".leaflet-control-easyPrint-button { \n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8cGF0aCBkPSJNMTI4LDMyaDI1NnY2NEgxMjhWMzJ6IE00ODAsMTI4SDMyYy0xNy42LDAtMzIsMTQuNC0zMiwzMnYxNjBjMCwxNy42LDE0LjM5OCwzMiwzMiwzMmg5NnYxMjhoMjU2VjM1Mmg5NiAgIGMxNy42LDAsMzItMTQuNCwzMi0zMlYxNjBDNTEyLDE0Mi40LDQ5Ny42LDEyOCw0ODAsMTI4eiBNMzUyLDQ0OEgxNjBWMjg4aDE5MlY0NDh6IE00ODcuMTk5LDE3NmMwLDEyLjgxMy0xMC4zODcsMjMuMi0yMy4xOTcsMjMuMiAgIGMtMTIuODEyLDAtMjMuMjAxLTEwLjM4Ny0yMy4yMDEtMjMuMnMxMC4zODktMjMuMiwyMy4xOTktMjMuMkM0NzYuODE0LDE1Mi44LDQ4Ny4xOTksMTYzLjE4Nyw0ODcuMTk5LDE3NnoiIGZpbGw9IiMwMDAwMDAiLz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);\n      background-size: 16px 16px; \n      cursor: pointer; \n    }\n    .leaflet-control-easyPrint-button-export { \n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDQzMy41IDQzMy41IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MzMuNSA0MzMuNTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxnIGlkPSJmaWxlLWRvd25sb2FkIj4KCQk8cGF0aCBkPSJNMzk1LjI1LDE1M2gtMTAyVjBoLTE1M3YxNTNoLTEwMmwxNzguNSwxNzguNUwzOTUuMjUsMTUzeiBNMzguMjUsMzgyLjV2NTFoMzU3di01MUgzOC4yNXoiIGZpbGw9IiMwMDAwMDAiLz4KCTwvZz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K);\n      background-size: 16px 16px; \n      cursor: pointer; \n    }\n    .easyPrintHolder a {\n      background-size: 16px 16px;\n      cursor: pointer;\n    }\n    .easyPrintHolder .CurrentSize{\n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTZweCIgdmVyc2lvbj0iMS4xIiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCA2NCA2NCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQgNjQiPgogIDxnPgogICAgPGcgZmlsbD0iIzFEMUQxQiI+CiAgICAgIDxwYXRoIGQ9Ik0yNS4yNTUsMzUuOTA1TDQuMDE2LDU3LjE0NVY0Ni41OWMwLTEuMTA4LTAuODk3LTIuMDA4LTIuMDA4LTIuMDA4QzAuODk4LDQ0LjU4MiwwLDQ1LjQ4MSwwLDQ2LjU5djE1LjQwMiAgICBjMCwwLjI2MSwwLjA1MywwLjUyMSwwLjE1NSwwLjc2N2MwLjIwMywwLjQ5MiwwLjU5NCwwLjg4MiwxLjA4NiwxLjA4N0MxLjQ4Niw2My45NDcsMS43NDcsNjQsMi4wMDgsNjRoMTUuNDAzICAgIGMxLjEwOSwwLDIuMDA4LTAuODk4LDIuMDA4LTIuMDA4cy0wLjg5OC0yLjAwOC0yLjAwOC0yLjAwOEg2Ljg1NWwyMS4yMzgtMjEuMjRjMC43ODQtMC43ODQsMC43ODQtMi4wNTUsMC0yLjgzOSAgICBTMjYuMDM5LDM1LjEyMSwyNS4yNTUsMzUuOTA1eiIgZmlsbD0iIzAwMDAwMCIvPgogICAgICA8cGF0aCBkPSJtNjMuODQ1LDEuMjQxYy0wLjIwMy0wLjQ5MS0wLjU5NC0wLjg4Mi0xLjA4Ni0xLjA4Ny0wLjI0NS0wLjEwMS0wLjUwNi0wLjE1NC0wLjc2Ny0wLjE1NGgtMTUuNDAzYy0xLjEwOSwwLTIuMDA4LDAuODk4LTIuMDA4LDIuMDA4czAuODk4LDIuMDA4IDIuMDA4LDIuMDA4aDEwLjU1NmwtMjEuMjM4LDIxLjI0Yy0wLjc4NCwwLjc4NC0wLjc4NCwyLjA1NSAwLDIuODM5IDAuMzkyLDAuMzkyIDAuOTA2LDAuNTg5IDEuNDIsMC41ODlzMS4wMjctMC4xOTcgMS40MTktMC41ODlsMjEuMjM4LTIxLjI0djEwLjU1NWMwLDEuMTA4IDAuODk3LDIuMDA4IDIuMDA4LDIuMDA4IDEuMTA5LDAgMi4wMDgtMC44OTkgMi4wMDgtMi4wMDh2LTE1LjQwMmMwLTAuMjYxLTAuMDUzLTAuNTIyLTAuMTU1LTAuNzY3eiIgZmlsbD0iIzAwMDAwMCIvPgogICAgPC9nPgogIDwvZz4KPC9zdmc+Cg==)\n    }\n    .easyPrintHolder .page {\n      background-image: url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTguMS4xLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ0NC44MzMgNDQ0LjgzMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDQ0LjgzMyA0NDQuODMzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPGc+Cgk8Zz4KCQk8cGF0aCBkPSJNNTUuMjUsNDQ0LjgzM2gzMzQuMzMzYzkuMzUsMCwxNy03LjY1LDE3LTE3VjEzOS4xMTdjMC00LjgxNy0xLjk4My05LjM1LTUuMzgzLTEyLjQ2N0wyNjkuNzMzLDQuNTMzICAgIEMyNjYuNjE3LDEuNywyNjIuMzY3LDAsMjU4LjExNywwSDU1LjI1Yy05LjM1LDAtMTcsNy42NS0xNywxN3Y0MTAuODMzQzM4LjI1LDQzNy4xODMsNDUuOSw0NDQuODMzLDU1LjI1LDQ0NC44MzN6ICAgICBNMzcyLjU4MywxNDYuNDgzdjAuODVIMjU2LjQxN3YtMTA4LjhMMzcyLjU4MywxNDYuNDgzeiBNNzIuMjUsMzRoMTUwLjE2N3YxMzAuMzMzYzAsOS4zNSw3LjY1LDE3LDE3LDE3aDEzMy4xNjd2MjI5LjVINzIuMjVWMzR6ICAgICIgZmlsbD0iIzAwMDAwMCIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=);\n    }\n    .easyPrintHolder .A4Landscape { \n      transform: rotate(-90deg);\n    }\n\n    .leaflet-control-easyPrint-button{\n      display: inline-block;\n    }\n    .easyPrintHolder{\n      margin-top:-31px;\n      margin-bottom: -5px;\n      margin-left: 30px;\n      padding-left: 0px;\n      display: none;\n    }\n\n    .easyPrintSizeMode {\n      display: inline-block;\n    }\n    .easyPrintHolder .easyPrintSizeMode a {\n      border-radius: 0px;\n    }\n\n    .easyPrintHolder .easyPrintSizeMode:last-child a{\n      border-top-right-radius: 2px;\n      border-bottom-right-radius: 2px;\n      margin-left: -1px;\n    }\n\n    .easyPrintPortrait:hover, .easyPrintLandscape:hover{\n      background-color: #757570;\n      cursor: pointer;\n    }",document.body.appendChild(t)},_dataURItoBlob:function(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),i=new DataView(r),a=0;a<e.length;a++)i.setUint8(a,e.charCodeAt(a));return new Blob([r],{type:n})},_togglePageSizeButtons:function(t){var e=this.holder.style,n=this.link.style;"mouseover"===t.type?(e.display="block",n.borderTopRightRadius="0",n.borderBottomRightRadius="0"):(e.display="none",n.borderTopRightRadius="2px",n.borderBottomRightRadius="2px")},_toggleControls:function(t){var e=document.getElementsByClassName("leaflet-control-container")[0];if(t)return e.style.display="block";e.style.display="none"},_toggleClasses:function(t,e){t.forEach((function(t){var n=document.getElementsByClassName(t)[0];if(e)return n.style.display="block";n.style.display="none"}))},_a4PageSize:{height:715,width:1045}}),L.easyPrint=function(t){return new L.Control.EasyPrint(t)}},S(),function(t){if(void 0===t)throw new Error("Leaflet must be included first");t.Control.Resizer=t.Control.extend({options:{direction:"e",onlyOnHover:!1,updateAlways:!0,pan:!1},_END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},_MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},initialize:function(e){t.Util.setOptions(this,e),this._initialOffsetX=0,this._initialOffsetY=0,this.options.position="leaflet-control-resizer-corner-"+this.options.direction,this.enable()},enable:function(){return this._enabled=!0,this},disable:function(){return this._enabled=!1,this},onAdd:function(e){this._prepareLocation(e);var n="leaflet-control-resizer",r=n+(this.options.onlyOnHover?"-transparent":"-opaque"),i=n+"-"+this.options.direction;this._container=t.DomUtil.create("div",n+" "+r+" "+i,e.getContainer());var a=this._container;return t.DomEvent.on(a,"mousedown mouseup click touchstart drag",t.DomEvent.stopPropagation),t.DomEvent.on(a,"mousedown touchstart",this._initResize,this),this._container},onRemove:function(e){t.DomEvent.off(this._container,"mousedown touchstart",this._initResize,this),t.DomEvent.off(this._container,"mousedown mouseup click touchstart drag",t.DomEvent.stopPropagation)},fakeHover:function(e){var n="leaflet-control-resizer-transparent-fakedhover",r=this._container;t.DomUtil.addClass(r,n),setTimeout((function(){t.DomUtil.removeClass(r,n)}),1e3|e)},_prepareLocation:function(e){var n=e._controlCorners,r="leaflet-control-resizer-corner-"+this.options.direction,i=e._controlContainer;n[r]=t.DomUtil.create("div",r,i)},_initResize:function(e){if(!e._simulated&&this._enabled&&!this._started){this._started=!0,this._moved=!1;var n=e.touches&&1===e.touches.length?e.touches[0]:e;t.DomUtil.disableImageDrag(),t.DomUtil.disableTextSelection(),this.fire("down",e);var r=this._map.getContainer();this._initialOffsetX=r.offsetWidth+r.offsetLeft-n.clientX,this._initialOffsetY=r.offsetHeight+r.offsetTop-n.clientY,t.DomEvent.on(document,this._END[e.type],this._stopResizing,this),t.DomEvent.on(this._container,this._END[e.type],this._stopResizing,this),t.DomEvent.on(document,this._MOVE[e.type],this._duringResizing,this)}},_duringResizing:function(e){if(!e._simulated){var n=e.touches&&1===e.touches.length?e.touches[0]:e;t.DomEvent.preventDefault(e),this._moved||this.fire("dragstart",e),this.fire("predrag",e);var r=this._map.getContainer();this.options.direction.indexOf("e")>=0&&(r.style.width=n.clientX-r.offsetLeft+this._initialOffsetX+"px",this._moved=!0),this.options.direction.indexOf("s")>=0&&(r.style.height=n.clientY-r.offsetTop+this._initialOffsetY+"px",this._moved=!0),this._moved=!0,this.options.updateAlways&&this._map.invalidateSize({pan:this.options.pan}),this.fire("drag",e)}},_stopResizing:function(e){if(!e._simulated){for(var n in this._MOVE)t.DomEvent.off(document,this._MOVE[n],this._duringResizing,this),t.DomEvent.off(document,this._END[n],this._stopResizing,this),t.DomEvent.off(this._container,this._END[n],this._stopResizing,this);this._map.invalidateSize({pan:this.options.pan}),t.DomUtil.enableImageDrag(),t.DomUtil.enableTextSelection(),this._started=!1,this.fire("dragend",e)}}}),t.Control.Resizer.include(t.Evented.prototype),t.control.resizer=function(e){return new t.Control.Resizer(e)}}(L),L.Map.VisualClick=L.Handler.extend({_makeVisualIcon:function(){var t="touch"===this._map.options.visualClickMode;return L.divIcon({className:"leaflet-visualclick-icon"+(t?"-touch":""),iconSize:[0,0],clickable:!1})},_visualIcon:null,_onClick:function(t){var e=this._map,n=t.latlng,r=L.marker(n,{pane:this._map.options.visualClickPane,icon:this._visualIcon,interactive:!1}).addTo(e);return window.setTimeout(function(){e&&e.removeLayer(r)}.bind(this),e.options.visualClick.removeTimeout||450),!0},addHooks:function(){null===this._visualIcon&&(this._visualIcon=this._makeVisualIcon()),"ie10-visual-click-pane"===this._map.options.visualClickPane&&this._map.createPane("ie10-visual-click-pane"),this._map.on(this._map.options.visualClickEvents,this._onClick,this)},removeHooks:function(){this._map.off(this._map.options.visualClickEvents,this._onClick,this)}}),L.Map.mergeOptions({visualClick:!!L.Browser.any3d,visualClickMode:L.Browser.touch&&L.Browser.mobile?"touch":"desktop",visualClickEvents:"click contextmenu",visualClickPane:L.Browser.ie&&10===document.documentMode?"ie10-visual-click-pane":"shadowPane"}),L.Map.addInitHook("addHandler","visualClick",L.Map.VisualClick),function(){let t=L.i18n.bind({});L.i18n=L._=(e,n)=>(L.locale&&L.locales[L.locale]&&""==L.locales[L.locale][e]&&(L.locales[L.locale][e]="​"),t.call(null,e,n))}(),function(){const t=document.currentScript,e="0.6.0+master.a8975e8e".split("+")[0].trim();let n={baseURL:"https://unpkg.com/",scripts:{},loadSyncScripts:function(t){return t.reduce(((t,e)=>t.then((()=>n.loadAsyncScripts(e)))),Promise.resolve())},loadAsyncScripts:function(t){return Promise.all(t.map((t=>n.loadScript(t))))},loadScript:function(e){return n.scripts[e]=n.scripts[e]?n.scripts[e]:new Promise(((r,i)=>{let a=e.split(".").pop().split("?")[0],o="css"==a?"link":"script",s=document.createElement(o),l=document.head,c=(l.contains(t)?t:l.lastChild)||l,u=n["prev_"+o]||("script"==o&&n.prev_link?n.prev_link:c),h=0===e.indexOf(".")||0===e.indexOf("/")||0===e.indexOf("http://")||0===e.indexOf("https://")?"":n.baseURL;"css"==a&&(s.rel="stylesheet"),s.addEventListener("load",r,{once:!0}),s.setAttribute("css"==a?"href":"src",h+e),u.parentNode&&u.nextSibling?u.parentNode.insertBefore(s,u.nextSibling):l.appendChild(s),n["prev_"+o]=s})),n.scripts[e]}},r={mapTypes:{atlas:{name:"Atlas",url:"https://{s}.tile.thunderforest.com/mobile-atlas/{z}/{x}/{y}.png",options:{maxZoom:24,maxNativeZoom:22,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | Map style: &copy; <a href="http://www.thunderforest.com/">Thunderforest</a>'}},streets:{name:"Streets",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",options:{maxZoom:24,maxNativeZoom:19,attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}},cycle:{name:"Cycle",url:"https://{s}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png",options:{maxZoom:24,maxNativeZoom:22,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | Map style: &copy; <a href="http://www.thunderforest.com/">Thunderforest</a>'}},terrain:{name:"Terrain",url:"https://{s}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png",options:{maxZoom:24,maxNativeZoom:22,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> | Map style: &copy; <a href="http://www.thunderforest.com/">Thunderforest</a>'}},satellite:{name:"Satellite",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{maxZoom:24,maxNativeZoom:18,attribution:'Map data: &copy; <a href="http://www.esri.com/">Esri</a> &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'}},topo:{name:"Topo",url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",options:{maxZoom:24,maxNativeZoom:17,attribution:'Map data: &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}}},zoomControl:{position:"bottomright"},rotateControl:{position:"bottomright"},scaleControl:{width:200,position:"bottomright",imperial:!1},pegmanControl:{position:"bottomright",theme:"leaflet-pegman-v3-small"},locateControl:{position:"bottomright"},fullscreenControl:{position:"topright",title:"Enter Fullscreen",titleCancel:"Exit Fullscreen",forceSeparateButton:!0},layersControl:{inline:!0,position:"topleft"},minimapControl:{position:"bottomleft",toggleDisplay:!1,toggleMapTypes:!0,width:75,height:75,aimingRectOptions:{color:"#000000",weight:1,opacity:0,fillOpacity:0},shadowRectOptions:{color:"#000000",weight:1,opacity:0,fillOpacity:0},mapOptions:{mapTypeId:"satellite",gestureHandling:!1,searchControl:!1,loadingControl:!1,_isMiniMap:!0,rotateControl:!1}},editInOSMControl:{position:"bottomright"},loadingControl:{separate:!0,position:"bottomright"},searchControl:{url:"https://nominatim.openstreetmap.org/search?format=json&accept-language={querylang}&q={s}",querylang:"en-US",detectUserLang:!0,jsonpParam:"json_callback",propertyName:"display_name",propertyLoc:["lat","lon"],markerLocation:!0,autoType:!1,autoCollapse:!0,firstTipSubmit:!0,minLength:1,zoom:10,position:"bottomright"},printControl:{position:"bottomright",hideControlContainer:!0,exportOnly:!0,sizeModes:["A4Portrait","A4Landscape"]},resizerControl:{direction:"s"},disableDefaultUI:!1,plugins:[],_isMiniMap:!1};function i(){this.zoomControl&&this.zoomControl.remove(),this.rotateControl&&this.rotateControl.remove(),this.fullscreenControl&&this.options.fullscreenControl&&!this.options.zoomControl&&this.fullscreenControl.remove(),this.searchControl&&this.options.searchControl&&this.searchControl.remove(),this.attributionControl&&this.attributionControl.remove()}function a(){let t=this.options;for(let e in r)!0===t[e]||void 0===t[e]?t[e]=r[e]:"object"==typeof this.options[e]&&t[e]instanceof Array==0&&(t[e]=d(r[e],t[e]));t.apiKeys&&(t.apiKeys.thunderforest&&(t.mapTypes.atlas.options.apikey=t.apiKeys.thunderforest,t.mapTypes.terrain.options.apikey=t.apiKeys.thunderforest,t.mapTypes.cycle.options.apikey=t.apiKeys.thunderforest),t.apiKeys.google&&(t.pegmanControl.apiKey=t.apiKeys.google));for(let e of["atlas","terrain","cycle"])t.mapTypes[e].options.apikey&&-1===t.mapTypes[e].url.indexOf("apikey=")&&(t.mapTypes[e].url+=(-1===t.mapTypes[e].url.indexOf("?")?"?":"&")+"apikey={apikey}");!1===t.mapTypeIds.includes(t.mapTypeId)&&t.mapTypeIds.length>0&&(t.mapTypeId=t.mapTypeIds[0]),t.searchControl&&t.searchControl.detectUserLang&&(t.searchControl.querylang=window.navigator.languages?window.navigator.languages[0]:window.navigator.userLanguage||window.navigator.language),t.searchControl&&t.searchControl.querylang&&(t.searchControl.url=t.searchControl.url.replace("{querylang}",t.searchControl.querylang)),!t.minimapControl||t.center||t.zoom||this.setView([0,0],0)}function o(){let t={},r={},i={},a=this.options;a.gestureHandling&&this.gestureHandling.enable();for(let t in a.mapTypeIds){let e=a.mapTypeIds[t];a.mapTypes[e]&&(i[a.mapTypes[e].name]=r[e]=new L.TileLayer(a.mapTypes[e].url,a.mapTypes[e].options),r[e].mapTypeId=e)}if(this._lastMapTypeId=a.mapTypeId,this._prevMapTypeId=a.mapTypeId,this.on("baselayerchange",(function(t){t&&t.layer&&t.layer.mapTypeId&&(this._prevMapTypeId=this._lastMapTypeId,this._lastMapTypeId=t.layer.mapTypeId)})),this.on("baselayerchange",(function(t){t&&t.layer&&t.layer.mapTypeId&&t.layer.bringToBack&&t.layer.bringToBack()})),a.layersControl&&(t.layers=new L.Control.Layers(i,null,a.layersControl),this.on("zoomend",l,this)),a.attributionControl&&this.attributionControl&&(this.attributionControl.addTo(this),t.attribution=this.attributionControl,this.on("baselayerchange",L.bind(s,this,this.attributionControl.options.prefix))),a.editInOSMControl&&(t.editInOSM=new L.Control.EditInOSM(a.editInOSMControl)),a.scaleControl&&(t.scale=new L.Control.Scale(a.scaleControl)),a.zoomControl&&this.zoomControl&&(this.zoomControl.setPosition(a.zoomControl.position),this.zoomControl.addTo(this),t.zoom=this.zoomControl),a.rotateControl&&this.rotateControl&&(this.rotateControl.setPosition(a.rotateControl.position),this.rotateControl.addTo(this),t.rotate=this.rotateControl),a.pegmanControl&&(t.pegman=new L.Control.Pegman(a.pegmanControl)),a.locateControl&&(t.locate=new L.Control.Locate(a.locateControl)),a.searchControl&&(t.search=this.searchControl=new L.Control.Search(a.searchControl)),a.printControl&&(t.print=new L.Control.EasyPrint(a.printControl)),a.loadingControl&&(t.loading=new L.Control.Loading(a.loadingControl)),a.fullscreenControl&&(t.fullscreen=this.fullscreenControl=new L.Control.FullScreen(a.fullscreenControl)),a.minimapControl){let e=a.minimapControl.mapOptions.mapTypeId,n=a.mapTypes[e];n&&(n=new L.TileLayer(n.url,n.options),n.mapTypeId=e,t.minimap=new L.Control.MiniMap(n,a.minimapControl),t.minimap._mainMapBaseLayers=i)}a.resizerControl&&(t.resizer=new L.Control.Resizer(a.resizerControl));for(let e in t)t[e].addTo&&t[e].addTo(this);if(this.controls=t,this.whenReady((function(){if(this.fire("idle"),a.mapTypeId){let t=a.mapTypes[a.mapTypeId];if(t&&i[t.name]){a.layers=a.layers.filter((e=>e._leaflet_id!==i[t.name]._leaflet_id));let e=i[t.name];e.setZIndex?e.setZIndex(0):e.bringToBack&&e.bringToBack()}}}),this),a.mapTypeId){let t=a.mapTypes[a.mapTypeId];t&&i[t.name]&&a.layers.unshift(i[t.name])}if(a.plugins){let t=[];if(a.includeLeafletUICSS&&t.unshift("leaflet-ui@"+e+"/dist/leaflet-ui.css"),window.L){if(a.includeLeafletCSS&&L.version){let e="leaflet@"+L.version+"/dist/leaflet.css",n=!1;for(let t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].href&&document.styleSheets[t].href.indexOf(e)>0){n=!0;break}n||t.unshift(e)}}else t.unshift("leaflet@1.3.4/dist/leaflet.css"),t.unshift("leaflet@1.3.4/dist/leaflet.js");if(this._initHooks){let t=this._initHooks.length;this.once("plugins_loaded",(function(){if(t<this._initHooks.length)for(let e=t,n=this._initHooks.length;e<n;e++)this._initHooks[e].call(this);this.fire("initHooks_called")}))}n.loadSyncScripts([t,a.plugins]).then((()=>this.fire("plugins_loaded")))}}function s(t,e){e&&e.layer&&this.attributionControl.setPrefix(!(L.GridLayer.GoogleMutant&&e.layer instanceof L.GridLayer.GoogleMutant)&&t)}function l(t){let e=this.getZoom(),n=this.controls.layers,r=n._layerControlInputs;for(let t in r){let i=r[t],a=n._getLayer(i.layerId).layer;if("satellite"==a.mapTypeId){if(e>=18&&!a._map&&!a._isAutoToggled){a._isAutoToggled=!0,i.click();break}if(e<18&&a._map&&a._isAutoToggled){for(let t in r){let e=r[t];if(n._getLayer(e.layerId).layer.mapTypeId==this._prevMapTypeId){e.click();break}}a._isAutoToggled=!1;break}if(e<18&&!a._map&&a._isAutoToggled){a._isAutoToggled=!1;break}}}}L.Map.mergeOptions({mapTypeId:"streets",mapTypeIds:["streets","terrain","satellite","topo"],mapTypes:void 0,gestureHandling:!0,visualClick:!0,zoomControl:!0,scaleControl:!0,pegmanControl:!0,locateControl:!0,fullscreenControl:!0,layersControl:!0,minimapControl:!0,editInOSMControl:!0,loadingControl:!0,searchControl:!0,printControl:!1,resizerControl:!1,disableDefaultUI:!1,includeLeafletCSS:!0,includeLeafletUICSS:!0,apiKeys:void 0,_isMiniMap:!1}),L.Map.addInitHook((function(){i.call(this),this.options._isMiniMap||this.options.disableDefaultUI||(a.call(this),o.call(this))}));let c=L.Control.MiniMap.prototype.onAdd;function u(t,e){return t.some((t=>e.includes(t)))}function h(t){return t&&"object"==typeof t&&!Array.isArray(t)}function d(t,...e){if(!e.length)return t;const n=e.shift();if(h(t)&&h(n))for(const e in n)h(n[e])?(t[e]||Object.assign(t,{[e]:{}}),d(t[e],n[e])):Object.assign(t,{[e]:n[e]});return d(t,...e)}L.Control.MiniMap.include({onAdd:function(t){let e=c.call(this,t);return this._miniMap&&(this._miniMap.doubleClickZoom.disable(),this._miniMap.touchZoom.disable(),this._miniMap.scrollWheelZoom.disable()),this.options.toggleMapTypes&&(L.DomEvent.on(t,"baselayerchange",this._handleMainMapTypeChange,this),L.DomEvent.on(this._container,"click",this._handleMiniMapTypeToggle,this)),e},_handleMainMapTypeChange:function(t){if(!this._handligMiniMapTypeToggle&&t&&t.layer){let e=this,n=this._mainMap,r=e._layer.mapTypeId,i=t.layer.mapTypeId;if(n.options.mapTypeIds.length>0&&u(n.options.mapTypeIds,i)){let t,a;i!=r&&(e._lastMapTypeId=i),"satellite"==i&&"satellite"==r?t=e._lastMapTypeId:"satellite"!=i&&"satellite"!=r&&(t="satellite"),a=n.options.mapTypes[t],a&&(a=new L.TileLayer(a.url,a.options),a.mapTypeId=t,e._lastMapTypeId=r,e.changeLayer(a))}}},_handleMiniMapTypeToggle:function(){if(this._handligMiniMapTypeToggle=!0,this._layer&&this._mainMapBaseLayers){let t,e=this,n=this._mainMap,r=this._layer.mapTypeId;for(let e in this._mainMapBaseLayers)if(n.hasLayer(this._mainMapBaseLayers[e])&&r!=this._mainMapBaseLayers[e].mapTypeId){t=this._mainMapBaseLayers[e].mapTypeId;break}if(n.options.mapTypeIds.length>0&&u(n.options.mapTypeIds,r)){let t,i;if(t=e._lastMapTypeId||n.options.mapTypeId,"satellite"!=e._lastMapTypeId&&"satellite"!=r&&(t="satellite"),i=n.options.mapTypes[t],i){i=new L.TileLayer(i.url,i.options),i.mapTypeId=t,e._lastMapTypeId=r,e.changeLayer(i);for(let t in this._mainMapBaseLayers)this._mainMapBaseLayers[t].remove(),e._lastMapTypeId==this._mainMapBaseLayers[t].mapTypeId&&this._mainMapBaseLayers[t].addTo(n)}}this._handligMiniMapTypeToggle=!1}}})}()},void 0===(l="function"==typeof s?s.call(e,n,e,t):s)||(t.exports=l)},8434:(t,e,n)=>{"use strict";t.exports=n.p+"bc51c99f9be45456060e.png"},8636:(t,e,n)=>{"use strict";var r=n(920),i=n(7720),a=n(4765),o=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,c=Array.prototype.push,u=function(t,e){c.apply(t,l(e)?e:[e])},h=Date.prototype.toISOString,d=a.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:d,formatter:a.formatters[d],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},p={},m=function t(e,n,a,o,s,c,h,d,m,g,v,y,_,x,b,w,M,T){for(var k,A=e,L=T,C=0,S=!1;void 0!==(L=L.get(p))&&!S;){var P=L.get(e);if(C+=1,void 0!==P){if(P===C)throw new RangeError("Cyclic object value");S=!0}void 0===L.get(p)&&(C=0)}if("function"==typeof g?A=g(n,A):A instanceof Date?A=_(A):"comma"===a&&l(A)&&(A=i.maybeMap(A,(function(t){return t instanceof Date?_(t):t}))),null===A){if(c)return m&&!w?m(n,f.encoder,M,"key",x):n;A=""}if("string"==typeof(k=A)||"number"==typeof k||"boolean"==typeof k||"symbol"==typeof k||"bigint"==typeof k||i.isBuffer(A))return m?[b(w?n:m(n,f.encoder,M,"key",x))+"="+b(m(A,f.encoder,M,"value",x))]:[b(n)+"="+b(String(A))];var D,O=[];if(void 0===A)return O;if("comma"===a&&l(A))w&&m&&(A=i.maybeMap(A,m)),D=[{value:A.length>0?A.join(",")||null:void 0}];else if(l(g))D=g;else{var E=Object.keys(A);D=v?E.sort(v):E}var I=d?String(n).replace(/\./g,"%2E"):String(n),z=o&&l(A)&&1===A.length?I+"[]":I;if(s&&l(A)&&0===A.length)return z+"[]";for(var N=0;N<D.length;++N){var R=D[N],F="object"==typeof R&&R&&void 0!==R.value?R.value:A[R];if(!h||null!==F){var j=y&&d?String(R).replace(/\./g,"%2E"):String(R),B=l(A)?"function"==typeof a?a(z,j):z:z+(y?"."+j:"["+j+"]");T.set(e,C);var H=r();H.set(p,T),u(O,t(F,B,a,o,s,c,h,d,"comma"===a&&w&&l(A)?null:m,g,v,y,_,x,b,w,M,H))}}return O};t.exports=function(t,e){var n,i=t,c=function(t){if(!t)return f;if(void 0!==t.allowEmptyArrays&&"boolean"!=typeof t.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==t.encodeDotInKeys&&"boolean"!=typeof t.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if(void 0!==t.format){if(!o.call(a.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r,i=a.formatters[n],c=f.filter;if(("function"==typeof t.filter||l(t.filter))&&(c=t.filter),r=t.arrayFormat in s?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":f.arrayFormat,"commaRoundTrip"in t&&"boolean"!=typeof t.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=void 0===t.allowDots?!0===t.encodeDotInKeys||f.allowDots:!!t.allowDots;return{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"==typeof t.allowEmptyArrays?!!t.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:r,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encodeDotInKeys:"boolean"==typeof t.encodeDotInKeys?t.encodeDotInKeys:f.encodeDotInKeys,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:c,format:n,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"==typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var h=[];if("object"!=typeof i||null===i)return"";var d=s[c.arrayFormat],p="comma"===d&&c.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var g=r(),v=0;v<n.length;++v){var y=n[v],_=i[y];c.skipNulls&&null===_||u(h,m(_,y,d,p,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var x=h.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),x.length>0?b+x:""}},8648:t=>{"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},8835:(t,e,n)=>{"use strict";var r=n(1270);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),u=["%","/","?",";","#"].concat(c),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(5373);i.prototype.parse=function(t,e,n){if("string"!=typeof t)throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),o=-1!==i&&i<t.indexOf("#")?"?":"#",l=t.split(o);l[0]=l[0].replace(/\\/g,"/");var y=t=l.join(o);if(y=y.trim(),!n&&1===t.split("#").length){var _=s.exec(y);if(_)return this.path=y,this.href=y,this.pathname=_[1],_[2]?(this.search=_[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=a.exec(y);if(x){var b=(x=x[0]).toLowerCase();this.protocol=b,y=y.substr(x.length)}if(n||x||y.match(/^\/\/[^@/]+@[^@/]+/)){var w="//"===y.substr(0,2);!w||x&&m[x]||(y=y.substr(2),this.slashes=!0)}if(!m[x]&&(w||x&&!g[x])){for(var M,T,k=-1,A=0;A<h.length;A++)-1!==(L=y.indexOf(h[A]))&&(-1===k||L<k)&&(k=L);for(-1!==(T=-1===k?y.lastIndexOf("@"):y.lastIndexOf("@",k))&&(M=y.slice(0,T),y=y.slice(T+1),this.auth=decodeURIComponent(M)),k=-1,A=0;A<u.length;A++){var L;-1!==(L=y.indexOf(u[A]))&&(-1===k||L<k)&&(k=L)}-1===k&&(k=y.length),this.host=y.slice(0,k),y=y.slice(k),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var S=this.hostname.split(/\./),P=(A=0,S.length);A<P;A++){var D=S[A];if(D&&!D.match(d)){for(var O="",E=0,I=D.length;E<I;E++)D.charCodeAt(E)>127?O+="x":O+=D[E];if(!O.match(d)){var z=S.slice(0,A),N=S.slice(A+1),R=D.match(f);R&&(z.push(R[1]),N.unshift(R[2])),N.length&&(y="/"+N.join(".")+y),this.hostname=z.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",j=this.hostname||"";this.host=j+F,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!p[b])for(A=0,P=c.length;A<P;A++){var B=c[A];if(-1!==y.indexOf(B)){var H=encodeURIComponent(B);H===B&&(H=escape(B)),y=y.split(B).join(H)}}var U=y.indexOf("#");-1!==U&&(this.hash=y.substr(U),y=y.slice(0,U));var Z=y.indexOf("?");if(-1!==Z?(this.search=y.substr(Z),this.query=y.substr(Z+1),e&&(this.query=v.parse(this.query)),y=y.slice(0,Z)):e&&(this.search="",this.query={}),y&&(this.pathname=y),g[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},i.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(a=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||g[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),e+i+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(o=o.replace("#","%23"))+r},i.prototype.resolve=function(t){return this.resolveObject(function(t,e,n){if(t&&"object"==typeof t&&t instanceof i)return t;var r=new i;return r.parse(t,e,n),r}(t,!1,!0)).format()},i.prototype.resolveObject=function(t){if("string"==typeof t){var e=new i;e.parse(t,!1,!0),t=e}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var o=r[a];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=t[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!g[t.protocol]){for(var u=Object.keys(t),h=0;h<u.length;h++){var d=u[h];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||m[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var p=n.pathname||"",v=n.search||"";n.path=p+v}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=_||y||n.host&&t.pathname,b=x,w=n.pathname&&n.pathname.split("/")||[],M=(f=t.pathname&&t.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(M&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),x=x&&(""===f[0]||""===w[0])),_)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,w=f;else if(f.length)w||(w=[]),w.pop(),w=w.concat(f),n.search=t.search,n.query=t.query;else if(null!=t.search)return M&&(n.host=w.shift(),n.hostname=n.host,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)),n.search=t.search,n.query=t.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var T=w.slice(-1)[0],k=(n.host||t.host||w.length>1)&&("."===T||".."===T)||""===T,A=0,L=w.length;L>=0;L--)"."===(T=w[L])?w.splice(L,1):".."===T?(w.splice(L,1),A++):A&&(w.splice(L,1),A--);if(!x&&!b)for(;A--;A)w.unshift("..");!x||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),k&&"/"!==w.join("/").substr(-1)&&w.push("");var C,S=""===w[0]||w[0]&&"/"===w[0].charAt(0);return M&&(n.hostname=S?"":w.length?w.shift():"",n.host=n.hostname,(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.hostname=C.shift(),n.host=n.hostname)),(x=x||n.host&&w.length)&&!S&&w.unshift(""),w.length>0?n.pathname=w.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},8859:(t,e,n)=>{var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,a=r&&i&&"function"==typeof i.get?i.get:null,o=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,_=String.prototype.replace,x=String.prototype.toUpperCase,b=String.prototype.toLowerCase,w=RegExp.prototype.test,M=Array.prototype.concat,T=Array.prototype.join,k=Array.prototype.slice,A=Math.floor,L="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,P="function"==typeof Symbol&&"object"==typeof Symbol.iterator,D="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,O=Object.prototype.propertyIsEnumerable,E=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||w.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-A(-t):A(t);if(r!==t){var i=String(r),a=y.call(e,i.length+1);return _.call(i,n,"$&_")+"."+_.call(_.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(e,n,"$&_")}var z=n(2634),N=z.custom,R=Y(N)?N:null,F={__proto__:null,double:'"',single:"'"},j={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function B(t,e,n){var r=n.quoteStyle||e,i=F[r];return i+t+i}function H(t){return _.call(String(t),/"/g,"&quot;")}function U(t){return!D||!("object"==typeof t&&(D in t||void 0!==t[D]))}function Z(t){return"[object Array]"===q(t)&&U(t)}function V(t){return"[object RegExp]"===q(t)&&U(t)}function Y(t){if(P)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!S)return!1;try{return S.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,i,s){var l=r||{};if(G(l,"quoteStyle")&&!G(F,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!G(l,"customInspect")||l.customInspect;if("boolean"!=typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var x=l.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return J(e,l);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var w=String(e);return x?I(e,w):w}if("bigint"==typeof e){var A=String(e)+"n";return x?I(e,A):A}var C=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=C&&C>0&&"object"==typeof e)return Z(e)?"[Array]":"[Object]";var N,j=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=T.call(Array(t.indent+1)," ")}return{base:n,prev:T.call(Array(e+1),n)}}(l,i);if(void 0===s)s=[];else if(X(s,e)>=0)return"[Circular]";function W(e,n,r){if(n&&(s=k.call(s)).push(n),r){var a={depth:l.depth};return G(l,"quoteStyle")&&(a.quoteStyle=l.quoteStyle),t(e,a,i+1,s)}return t(e,l,i+1,s)}if("function"==typeof e&&!V(e)){var K=function(t){if(t.name)return t.name;var e=v.call(g.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),rt=nt(e,W);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(rt.length>0?" { "+T.call(rt,", ")+" }":"")}if(Y(e)){var it=P?_.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):S.call(e);return"object"!=typeof e||P?it:$(it)}if((N=e)&&"object"==typeof N&&("undefined"!=typeof HTMLElement&&N instanceof HTMLElement||"string"==typeof N.nodeName&&"function"==typeof N.getAttribute)){for(var at="<"+b.call(String(e.nodeName)),ot=e.attributes||[],st=0;st<ot.length;st++)at+=" "+ot[st].name+"="+B(H(ot[st].value),"double",l);return at+=">",e.childNodes&&e.childNodes.length&&(at+="..."),at+"</"+b.call(String(e.nodeName))+">"}if(Z(e)){if(0===e.length)return"[]";var lt=nt(e,W);return j&&!function(t){for(var e=0;e<t.length;e++)if(X(t[e],"\n")>=0)return!1;return!0}(lt)?"["+et(lt,j)+"]":"[ "+T.call(lt,", ")+" ]"}if(function(t){return"[object Error]"===q(t)&&U(t)}(e)){var ct=nt(e,W);return"cause"in Error.prototype||!("cause"in e)||O.call(e,"cause")?0===ct.length?"["+String(e)+"]":"{ ["+String(e)+"] "+T.call(ct,", ")+" }":"{ ["+String(e)+"] "+T.call(M.call("[cause]: "+W(e.cause),ct),", ")+" }"}if("object"==typeof e&&m){if(R&&"function"==typeof e[R]&&z)return z(e,{depth:C-i});if("symbol"!==m&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!a||!t||"object"!=typeof t)return!1;try{a.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var ut=[];return o&&o.call(e,(function(t,n){ut.push(W(n,e,!0)+" => "+W(t,e))})),tt("Map",a.call(e),ut,j)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{a.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var ht=[];return u&&u.call(e,(function(t){ht.push(W(t,e))})),tt("Set",c.call(e),ht,j)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{d.call(t,d)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return Q("WeakMap");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t,d);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return Q("WeakSet");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{return f.call(t),!0}catch(t){}return!1}(e))return Q("WeakRef");if(function(t){return"[object Number]"===q(t)&&U(t)}(e))return $(W(Number(e)));if(function(t){if(!t||"object"!=typeof t||!L)return!1;try{return L.call(t),!0}catch(t){}return!1}(e))return $(W(L.call(e)));if(function(t){return"[object Boolean]"===q(t)&&U(t)}(e))return $(p.call(e));if(function(t){return"[object String]"===q(t)&&U(t)}(e))return $(W(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&e===globalThis||void 0!==n.g&&e===n.g)return"{ [object globalThis] }";if(!function(t){return"[object Date]"===q(t)&&U(t)}(e)&&!V(e)){var dt=nt(e,W),ft=E?E(e)===Object.prototype:e instanceof Object||e.constructor===Object,pt=e instanceof Object?"":"null prototype",mt=!ft&&D&&Object(e)===e&&D in e?y.call(q(e),8,-1):pt?"Object":"",gt=(ft||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(mt||pt?"["+T.call(M.call([],mt||[],pt||[]),": ")+"] ":"");return 0===dt.length?gt+"{}":j?gt+"{"+et(dt,j)+"}":gt+"{ "+T.call(dt,", ")+" }"}return String(e)};var W=Object.prototype.hasOwnProperty||function(t){return t in this};function G(t,e){return W.call(t,e)}function q(t){return m.call(t)}function X(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function J(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return J(y.call(t,0,e.maxStringLength),e)+r}var i=j[e.quoteStyle||"single"];return i.lastIndex=0,B(_.call(_.call(t,i,"\\$1"),/[\x00-\x1f]/g,K),"single",e)}function K(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+x.call(e.toString(16))}function $(t){return"Object("+t+")"}function Q(t){return t+" { ? }"}function tt(t,e,n,r){return t+" ("+e+") {"+(r?et(n,r):T.call(n,", "))+"}"}function et(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+T.call(t,","+n)+"\n"+e.prev}function nt(t,e){var n=Z(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=G(t,i)?e(t[i],t):""}var a,o="function"==typeof C?C(t):[];if(P){a={};for(var s=0;s<o.length;s++)a["$"+o[s]]=o[s]}for(var l in t)G(t,l)&&(n&&String(Number(l))===l&&l<t.length||P&&a["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?r.push(e(l,t)+": "+e(t[l],t)):r.push(l+": "+e(t[l],t))));if("function"==typeof C)for(var c=0;c<o.length;c++)O.call(t,o[c])&&r.push("["+e(o[c])+"]: "+e(t[o[c]],t));return r}},8956:function(t){var e,n;e="undefined"!=typeof self?self:this,n=()=>{"use strict";var t=(()=>{var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(t,e)=>()=>(t&&(e=t(t=0)),e),a=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),o=a((t=>{t.version="3.0.1"})),s=a(((t,e)=>{var n,r;n="Promise",(r="undefined"!=typeof window?window:t)[n]=r[n]||function(){var t,e,n,r=Object.prototype.toString,i="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(t,e,n,r){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(t,e,n){return t[e]=n,t}}function a(t,r){n.add(t,r),e||(e=i(n.drain))}function o(t){var e,n=typeof t;return null!=t&&("object"==n||"function"==n)&&(e=t.then),"function"==typeof e&&e}function s(){for(var t=0;t<this.chain.length;t++)l(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function l(t,e,n){var r,i;try{!1===e?n.reject(t.msg):(r=!0===e?t.msg:e.call(void 0,t.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(i=o(r))?i.call(r,n.resolve,n.reject):n.resolve(r)}catch(t){n.reject(t)}}function c(t){var e,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(e=o(t))?a((function(){var r=new d(n);try{e.call(t,(function(){c.apply(r,arguments)}),(function(){u.apply(r,arguments)}))}catch(t){u.call(r,t)}})):(n.msg=t,n.state=1,n.chain.length>0&&a(s,n))}catch(t){u.call(new d(n),t)}}}function u(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&a(s,e))}function h(t,e,n,r){for(var i=0;i<e.length;i++)!function(i){t.resolve(e[i]).then((function(t){n(i,t)}),r)}(i)}function d(t){this.def=t,this.triggered=!1}function f(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var e=new f(this);this.then=function(t,n){var r={success:"function"!=typeof t||t,failure:"function"==typeof n&&n};return r.promise=new this.constructor((function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");r.resolve=t,r.reject=e})),e.chain.push(r),0!==e.state&&a(s,e),r.promise},this.catch=function(t){return this.then(void 0,t)};try{t.call(void 0,(function(t){c.call(e,t)}),(function(t){u.call(e,t)}))}catch(t){u.call(e,t)}}n=function(){var t,n,r;function i(t,e){this.fn=t,this.self=e,this.next=void 0}return{add:function(e,a){r=new i(e,a),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var r=t;for(t=n=e=void 0;r;)r.fn.call(r.self),r=r.next}}}();var m=t({},"constructor",p,!1);return p.prototype=m,t(m,"__NPO__",0,!1),t(p,"resolve",(function(t){return t&&"object"==typeof t&&1===t.__NPO__?t:new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)}))})),t(p,"reject",(function(t){return new this((function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)}))})),t(p,"all",(function(t){var e=this;return"[object Array]"!=r.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var i=t.length,a=Array(i),o=0;h(e,t,(function(t,e){a[t]=e,++o===i&&n(a)}),r)}))})),t(p,"race",(function(t){var e=this;return"[object Array]"!=r.call(t)?e.reject(TypeError("Not an array")):new e((function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");h(e,t,(function(t,e){n(e)}),r)}))})),p}(),void 0!==e&&e.exports&&(e.exports=r[n])})),l=a(((t,e)=>{(function(){var t={version:"3.8.2"},n=[].slice,r=function(t){return n.call(t)},i=self.document;function a(t){return t&&(t.ownerDocument||t.document||t).documentElement}function o(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(i)try{r(i.documentElement.childNodes)[0].nodeType}catch(t){r=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var s=this.Element.prototype,l=s.setAttribute,c=s.setAttributeNS,u=this.CSSStyleDeclaration.prototype,h=u.setProperty;s.setAttribute=function(t,e){l.call(this,t,e+"")},s.setAttributeNS=function(t,e,n){c.call(this,t,e,n+"")},u.setProperty=function(t,e,n){h.call(this,t,e+"",n)}}function d(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function f(t){return null===t?NaN:+t}function p(t){return!isNaN(t)}function m(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}t.ascending=d,t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},t.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},t.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},t.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)p(n=+t[a])&&(r+=n);else for(;++a<i;)p(n=+e.call(t,t[a],a))&&(r+=n);return r},t.mean=function(t,e){var n,r=0,i=t.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)p(n=f(t[a]))?r+=n:--o;else for(;++a<i;)p(n=f(e.call(t,t[a],a)))?r+=n:--o;if(o)return r/o},t.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},t.median=function(e,n){var r,i=[],a=e.length,o=-1;if(1===arguments.length)for(;++o<a;)p(r=f(e[o]))&&i.push(r);else for(;++o<a;)p(r=f(n.call(e,e[o],o)))&&i.push(r);if(i.length)return t.quantile(i.sort(d),.5)},t.variance=function(t,e){var n,r,i=t.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)p(n=f(t[s]))&&(o+=(r=n-a)*(n-(a+=r/++l)));else for(;++s<i;)p(n=f(e.call(t,t[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++l)));if(l>1)return o/(l-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e&&Math.sqrt(e)};var g=m(d);function v(t){return t.length}t.bisectLeft=g.left,t.bisect=t.bisectRight=g.right,t.bisector=function(t){return m(1===t.length?function(e,n){return d(t(e),n)}:t)},t.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},t.transpose=function(e){if(!(a=e.length))return[];for(var n=-1,r=t.min(e,v),i=new Array(r);++n<r;)for(var a,o=-1,s=i[n]=new Array(a);++o<a;)s[o]=e[o][n];return i},t.zip=function(){return t.transpose(arguments)},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},t.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n};var y=Math.abs;function _(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function x(){this._=Object.create(null)}function b(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function w(t){return"\0"===(t+="")[0]?t.slice(1):t}function M(t){return b(t)in this._}function T(t){return(t=b(t))in this._&&delete this._[t]}function k(){var t=[];for(var e in this._)t.push(w(e));return t}function A(){var t=0;for(var e in this._)++t;return t}function L(){for(var t in this._)return!1;return!0}function C(){this._=Object.create(null)}function S(t){return t}function P(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function D(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=O.length;n<r;++n){var i=O[n]+e;if(i in t)return i}}t.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],a=function(t){for(var e=1;t*e%1;)e*=10;return e}(y(n)),o=-1;if(t*=a,e*=a,(n*=a)<0)for(;(r=t+n*++o)>e;)i.push(r/a);else for(;(r=t+n*++o)<e;)i.push(r/a);return i},t.map=function(t,e){var n=new x;if(t instanceof x)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n},_(x,{has:M,get:function(t){return this._[b(t)]},set:function(t,e){return this._[b(t)]=e},remove:T,keys:k,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:w(e),value:this._[e]});return t},size:A,empty:L,forEach:function(t){for(var e in this._)t.call(this,w(e),this._[e])}}),t.nest=function(){var e,n,r={},i=[],a=[];function o(t,a,s){if(s>=i.length)return n?n.call(r,a):e?a.sort(e):a;for(var l,c,u,h,d=-1,f=a.length,p=i[s++],m=new x;++d<f;)(h=m.get(l=p(c=a[d])))?h.push(c):m.set(l,[c]);return t?(c=t(),u=function(e,n){c.set(e,o(t,n,s))}):(c={},u=function(e,n){c[e]=o(t,n,s)}),m.forEach(u),c}function s(t,e){if(e>=i.length)return t;var n=[],r=a[e++];return t.forEach((function(t,r){n.push({key:t,values:s(r,e)})})),r?n.sort((function(t,e){return r(t.key,e.key)})):n}return r.map=function(t,e){return o(e,t,0)},r.entries=function(e){return s(o(t.map,e,0),0)},r.key=function(t){return i.push(t),r},r.sortKeys=function(t){return a[i.length-1]=t,r},r.sortValues=function(t){return e=t,r},r.rollup=function(t){return n=t,r},r},t.set=function(t){var e=new C;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},_(C,{has:M,add:function(t){return this._[b(t+="")]=!0,t},remove:T,values:k,size:A,empty:L,forEach:function(t){for(var e in this._)t.call(this,w(e))}}),t.behavior={},t.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=P(t,e,e[n]);return t};var O=["webkit","ms","moz","Moz","o","O"];function E(){}function I(){}function z(t){var e=[],n=new x;function r(){for(var n,r=e,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function N(){t.event.preventDefault()}function R(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function F(e){for(var n=new I,r=0,i=arguments.length;++r<i;)n[arguments[r]]=z(n);return n.of=function(r,i){return function(a){try{var o=a.sourceEvent=t.event;a.target=e,t.event=a,n[a.type].apply(r,i)}finally{t.event=o}}},n}t.dispatch=function(){for(var t=new I,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=z(t);return t},I.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},t.event=null,t.requote=function(t){return t.replace(j,"\\$&")};var j=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,B={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function H(t){return B(t,Y),t}var U=function(t,e){return e.querySelector(t)},Z=function(t,e){return e.querySelectorAll(t)},V=function(t,e){var n=t.matches||t[D(t,"matchesSelector")];return(V=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(U=function(t,e){return Sizzle(t,e)[0]||null},Z=Sizzle,V=Sizzle.matchesSelector),t.selection=function(){return t.select(i.documentElement)};var Y=t.selection.prototype=[];function W(t){return"function"==typeof t?t:function(){return U(t,this)}}function G(t){return"function"==typeof t?t:function(){return Z(t,this)}}Y.select=function(t){var e,n,r,i,a=[];t=W(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return H(a)},Y.selectAll=function(t){var e,n,i=[];t=G(t);for(var a=-1,o=this.length;++a<o;)for(var s=this[a],l=-1,c=s.length;++l<c;)(n=s[l])&&(i.push(e=r(t.call(n,n.__data__,l,a))),e.parentNode=n);return H(i)};var q="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function J(e,n){return e=t.ns.qualify(e),null==n?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof n?e.local?function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,n)}:function(){this.setAttribute(e,n)}}function K(t){return t.trim().replace(/\s+/g," ")}function $(e){return new RegExp("(?:^|\\s+)"+t.requote(e)+"(?:\\s+|$)","g")}function Q(t){return(t+"").trim().split(/^|\s+/)}function tt(t,e){var n=(t=Q(t).map(et)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function et(t){var e=$(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",K(i+" "+t))):n.setAttribute("class",K(i.replace(e," ")))}}function nt(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function rt(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function it(e){return"function"==typeof e?e:(e=t.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===q&&t.documentElement.namespaceURI===q?t.createElement(e):t.createElementNS(n,e)}}function at(){var t=this.parentNode;t&&t.removeChild(this)}function ot(t){return{__data__:t}}function st(t){return function(){return V(this,t)}}function lt(t){return arguments.length||(t=d),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function ct(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],o=0,s=a.length;o<s;o++)(i=a[o])&&e(i,o,n);return t}function ut(t){return B(t,ht),t}t.ns={prefix:X,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),X.hasOwnProperty(n)?{space:X[n],local:t}:t}},Y.attr=function(e,n){if(arguments.length<2){if("string"==typeof e){var r=this.node();return(e=t.ns.qualify(e)).local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(n in e)this.each(J(n,e[n]));return this}return this.each(J(e,n))},Y.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=Q(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!$(t[i]).test(e))return!1;return!0}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},Y.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(nt(n,t[n],e));return this}if(r<2){var i=this.node();return o(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(nt(t,e,n))},Y.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(rt(e,t[e]));return this}return this.each(rt(t,e))},Y.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Y.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Y.append=function(t){return t=it(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},Y.insert=function(t,e){return t=it(t),e=W(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},Y.remove=function(){return this.each(at)},Y.data=function(t,e){var n,r,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(t[i]=r.__data__);return t}function o(t,n){var r,i,a,o=t.length,u=n.length,h=Math.min(o,u),d=new Array(u),f=new Array(u),p=new Array(o);if(e){var m,g=new x,v=new Array(o);for(r=-1;++r<o;)(i=t[r])&&(g.has(m=e.call(i,i.__data__,r))?p[r]=i:g.set(m,i),v[r]=m);for(r=-1;++r<u;)(i=g.get(m=e.call(n,a=n[r],r)))?!0!==i&&(d[r]=i,i.__data__=a):f[r]=ot(a),g.set(m,!0);for(r=-1;++r<o;)r in v&&!0!==g.get(v[r])&&(p[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],a=n[r],i?(i.__data__=a,d[r]=i):f[r]=ot(a);for(;r<u;++r)f[r]=ot(n[r]);for(;r<o;++r)p[r]=t[r]}f.update=d,f.parentNode=d.parentNode=p.parentNode=t.parentNode,s.push(f),l.push(d),c.push(p)}var s=ut([]),l=H([]),c=H([]);if("function"==typeof t)for(;++i<a;)o(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)o(n=this[i],t);return l.enter=function(){return s},l.exit=function(){return c},l},Y.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Y.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=st(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return H(i)},Y.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Y.sort=function(t){t=lt.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Y.each=function(t){return ct(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},Y.call=function(t){var e=r(arguments);return t.apply(e[0]=this,e),this},Y.empty=function(){return!this.node()},Y.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},Y.size=function(){var t=0;return ct(this,(function(){++t})),t};var ht=[];function dt(e,n,i){var a="__on"+e,o=e.indexOf("."),s=pt;o>0&&(e=e.slice(0,o));var l=ft.get(e);function c(){var t=this[a];t&&(this.removeEventListener(e,t,t.$),delete this[a])}return l&&(e=l,s=mt),o?n?function(){var t=s(n,r(arguments));c.call(this),this.addEventListener(e,this[a]=t,t.$=i),t._=n}:c:n?E:function(){var n,r=new RegExp("^__on([^.]+)"+t.requote(e)+"$");for(var i in this)if(n=i.match(r)){var a=this[i];this.removeEventListener(n[1],a,a.$),delete this[i]}}}t.selection.enter=ut,t.selection.enter.prototype=ht,ht.append=Y.append,ht.empty=Y.empty,ht.node=Y.node,ht.call=Y.call,ht.size=Y.size,ht.select=function(t){for(var e,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c<u;)(a=i[c])?(e.push(r[c]=n=t.call(i.parentNode,a.__data__,c,s)),n.__data__=a.__data__):e.push(null)}return H(o)},ht.insert=function(t,e){return arguments.length<2&&(e=function(t){var e,n;return function(r,i,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<l;);return o}}(this)),Y.insert.call(this,t,e)},t.select=function(t){var e;return"string"==typeof t?(e=[U(t,i)]).parentNode=i.documentElement:(e=[t]).parentNode=a(t),H([e])},t.selectAll=function(t){var e;return"string"==typeof t?(e=r(Z(t,i))).parentNode=i.documentElement:(e=r(t)).parentNode=null,H([e])},Y.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(dt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(dt(t,e,n))};var ft=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});function pt(e,n){return function(r){var i=t.event;t.event=r,n[0]=this.__data__;try{e.apply(this,n)}finally{t.event=i}}}function mt(t,e){var n=pt(t,e);return function(t){var e=this,r=t.relatedTarget;(!r||r!==e&&!(8&r.compareDocumentPosition(e)))&&n.call(e,t)}}i&&ft.forEach((function(t){"on"+t in i&&ft.remove(t)}));var gt,vt=0;function yt(e){var n=".dragsuppress-"+ ++vt,r="click"+n,i=t.select(o(e)).on("touchmove"+n,N).on("dragstart"+n,N).on("selectstart"+n,N);if(null==gt&&(gt=!("onselectstart"in e)&&D(e.style,"userSelect")),gt){var s=a(e).style,l=s[gt];s[gt]="none"}return function(t){if(i.on(n,null),gt&&(s[gt]=l),t){var e=function(){i.on(r,null)};i.on(r,(function(){N(),e()}),!0),setTimeout(e,0)}}}t.mouse=function(t){return xt(t,R())};var _t=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function xt(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var i=r.createSVGPoint();if(_t<0){var a=o(e);if(a.scrollX||a.scrollY){var s=(r=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();_t=!(s.f||s.e),r.remove()}}return _t?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var l=e.getBoundingClientRect();return[n.clientX-l.left-e.clientLeft,n.clientY-l.top-e.clientTop]}function bt(){return t.event.changedTouches[0].identifier}t.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=R().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return xt(t,r)},t.behavior.drag=function(){var e=F(a,"drag","dragstart","dragend"),n=null,r=s(E,t.mouse,o,"mousemove","mouseup"),i=s(bt,t.touch,S,"touchmove","touchend");function a(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function s(r,i,a,o,s){return function(){var l,c=this,u=t.event.target.correspondingElement||t.event.target,h=c.parentNode,d=e.of(c,arguments),f=0,p=r(),m=".drag"+(null==p?"":"-"+p),g=t.select(a(u)).on(o+m,(function(){var t,e,n=i(h,p);n&&(t=n[0]-y[0],e=n[1]-y[1],f|=t|e,y=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:t,dy:e}))})).on(s+m,(function(){i(h,p)&&(g.on(o+m,null).on(s+m,null),v(f),d({type:"dragend"}))})),v=yt(u),y=i(h,p);l=n?[(l=n.apply(c,arguments)).x-y[0],l.y-y[1]]:[0,0],d({type:"dragstart"})}}return a.origin=function(t){return arguments.length?(n=t,a):n},t.rebind(a,e,"on")},t.touches=function(t,e){return arguments.length<2&&(e=R().touches),e?r(e).map((function(e){var n=xt(t,e);return n.identifier=e.identifier,n})):[]};var wt=1e-6,Mt=Math.PI,Tt=2*Mt,kt=Tt-wt,At=Mt/2,Lt=Mt/180,Ct=180/Mt;function St(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Pt(t){return t>1?At:t<-1?-At:Math.asin(t)}function Dt(t){return((t=Math.exp(t))+1/t)/2}var Ot=Math.SQRT2;t.interpolateZoom=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,h=l-a,d=u*u+h*h;if(d<1e-12)r=Math.log(c/o)/Ot,n=function(t){return[i+t*u,a+t*h,o*Math.exp(Ot*t*r)]};else{var f=Math.sqrt(d),p=(c*c-o*o+4*d)/(2*o*2*f),m=(c*c-o*o-4*d)/(2*c*2*f),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/Ot,n=function(t){var e=t*r,n=Dt(g),s=o/(2*f)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Ot*e+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+s*u,a+s*h,o*n/Dt(Ot*e+g)]}}return n.duration=1e3*r,n},t.behavior.zoom=function(){var e,n,r,a,s,l,c,u,h,d={x:0,y:0,k:1},f=[960,500],p=zt,m=250,g=0,v="mousedown.zoom",y="mousemove.zoom",_="mouseup.zoom",x="touchstart.zoom",b=F(w,"zoomstart","zoom","zoomend");function w(t){t.on(v,D).on(It+".zoom",E).on("dblclick.zoom",I).on(x,O)}function M(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function T(t){d.k=Math.max(p[0],Math.min(p[1],t))}function k(t,e){e=function(t){return[t[0]*d.k+d.x,t[1]*d.k+d.y]}(e),d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function A(e,r,i,a){e.__chart__={x:d.x,y:d.y,k:d.k},T(Math.pow(2,a)),k(n=r,i),e=t.select(e),m>0&&(e=e.transition().duration(m)),e.call(w.event)}function L(){c&&c.domain(l.range().map((function(t){return(t-d.x)/d.k})).map(l.invert)),h&&h.domain(u.range().map((function(t){return(t-d.y)/d.k})).map(u.invert))}function C(t){g++||t({type:"zoomstart"})}function S(t){L(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function P(t){--g||(t({type:"zoomend"}),n=null)}function D(){var e=this,n=b.of(e,arguments),r=0,i=t.select(o(e)).on(y,(function(){r=1,k(t.mouse(e),a),S(n)})).on(_,(function(){i.on(y,null).on(_,null),s(r),P(n)})),a=M(t.mouse(e)),s=yt(e);Wi.call(e),C(n)}function O(){var e,n=this,r=b.of(n,arguments),i={},a=0,o=".zoom-"+t.event.changedTouches[0].identifier,l="touchmove"+o,c="touchend"+o,u=[],h=t.select(n),f=yt(n);function p(){var r=t.touches(n);return e=d.k,r.forEach((function(t){t.identifier in i&&(i[t.identifier]=M(t))})),r}function m(){var e=t.event.target;t.select(e).on(l,g).on(c,y),u.push(e);for(var r=t.event.changedTouches,o=0,h=r.length;o<h;++o)i[r[o].identifier]=null;var f=p(),m=Date.now();if(1===f.length){if(m-s<500){var v=f[0];A(n,v,i[v.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),N()}s=m}else if(f.length>1){v=f[0];var _=f[1],x=v[0]-_[0],b=v[1]-_[1];a=x*x+b*b}}function g(){var o,l,c,u,h=t.touches(n);Wi.call(n);for(var d=0,f=h.length;d<f;++d,u=null)if(c=h[d],u=i[c.identifier]){if(l)break;o=c,l=u}if(u){var p=(p=c[0]-o[0])*p+(p=c[1]-o[1])*p,m=a&&Math.sqrt(p/a);o=[(o[0]+c[0])/2,(o[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],T(m*e)}s=null,k(o,l),S(r)}function y(){if(t.event.touches.length){for(var e=t.event.changedTouches,n=0,a=e.length;n<a;++n)delete i[e[n].identifier];for(var s in i)return void p()}t.selectAll(u).on(o,null),h.on(v,D).on(x,O),f(),P(r)}m(),C(r),h.on(v,null).on(x,m)}function E(){var i=b.of(this,arguments);a?clearTimeout(a):(Wi.call(this),e=M(n=r||t.mouse(this)),C(i)),a=setTimeout((function(){a=null,P(i)}),50),N(),T(Math.pow(2,.002*Et())*d.k),k(n,e),S(i)}function I(){var e=t.mouse(this),n=Math.log(d.k)/Math.LN2;A(this,e,M(e),t.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return It||(It="onwheel"in i?(Et=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(Et=function(){return t.event.wheelDelta},"mousewheel"):(Et=function(){return-t.event.detail},"MozMousePixelScroll")),w.event=function(e){e.each((function(){var e=b.of(this,arguments),r=d;Xi?t.select(this).transition().each("start.zoom",(function(){d=this.__chart__||{x:0,y:0,k:1},C(e)})).tween("zoom:zoom",(function(){var i=f[0],a=f[1],o=n?n[0]:i/2,s=n?n[1]:a/2,l=t.interpolateZoom([(o-d.x)/d.k,(s-d.y)/d.k,i/d.k],[(o-r.x)/r.k,(s-r.y)/r.k,i/r.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=d={x:o-n[0]*r,y:s-n[1]*r,k:r},S(e)}})).each("interrupt.zoom",(function(){P(e)})).each("end.zoom",(function(){P(e)})):(this.__chart__=d,C(e),S(e),P(e))}))},w.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},L(),w):[d.x,d.y]},w.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},T(+t),L(),w):d.k},w.scaleExtent=function(t){return arguments.length?(p=null==t?zt:[+t[0],+t[1]],w):p},w.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],w):r},w.size=function(t){return arguments.length?(f=t&&[+t[0],+t[1]],w):f},w.duration=function(t){return arguments.length?(m=+t,w):m},w.x=function(t){return arguments.length?(c=t,l=t.copy(),d={x:0,y:0,k:1},w):c},w.y=function(t){return arguments.length?(h=t,u=t.copy(),d={x:0,y:0,k:1},w):h},t.rebind(w,b,"on")};var Et,It,zt=[0,1/0];function Nt(){}function Rt(t,e,n){return this instanceof Rt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Rt?new Rt(t.h,t.s,t.l):ie(""+t,ae,Rt):new Rt(t,e,n)}t.color=Nt,Nt.prototype.toString=function(){return this.rgb()+""},t.hsl=Rt;var Ft=Rt.prototype=new Nt;function jt(t,e,n){var r,i;function a(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new Qt(a(t+120),a(t),a(t-120))}function Bt(e,n,r){return this instanceof Bt?(this.h=+e,this.c=+n,void(this.l=+r)):arguments.length<2?e instanceof Bt?new Bt(e.h,e.c,e.l):function(t,e,n){return t>0?new Bt(Math.atan2(n,e)*Ct,Math.sqrt(e*e+n*n),t):new Bt(NaN,NaN,t)}(e instanceof Zt?e.l:(e=oe((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Bt(e,n,r)}Ft.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Rt(this.h,this.s,this.l/t)},Ft.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Rt(this.h,this.s,t*this.l)},Ft.rgb=function(){return jt(this.h,this.s,this.l)},t.hcl=Bt;var Ht=Bt.prototype=new Nt;function Ut(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Zt(n,Math.cos(t*=Lt)*e,Math.sin(t)*e)}function Zt(t,e,n){return this instanceof Zt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Zt?new Zt(t.l,t.a,t.b):t instanceof Bt?Ut(t.h,t.c,t.l):oe((t=Qt(t)).r,t.g,t.b):new Zt(t,e,n)}Ht.brighter=function(t){return new Bt(this.h,this.c,Math.min(100,this.l+Vt*(arguments.length?t:1)))},Ht.darker=function(t){return new Bt(this.h,this.c,Math.max(0,this.l-Vt*(arguments.length?t:1)))},Ht.rgb=function(){return Ut(this.h,this.c,this.l).rgb()},t.lab=Zt;var Vt=18,Yt=.95047,Wt=1,Gt=1.08883,qt=Zt.prototype=new Nt;function Xt(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return new Qt($t(3.2404542*(i=Jt(i)*Yt)-1.5371385*(r=Jt(r)*Wt)-.4985314*(a=Jt(a)*Gt)),$t(-.969266*i+1.8760108*r+.041556*a),$t(.0556434*i-.2040259*r+1.0572252*a))}function Jt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function Kt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function $t(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function Qt(t,e,n){return this instanceof Qt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof Qt?new Qt(t.r,t.g,t.b):ie(""+t,Qt,jt):new Qt(t,e,n)}function te(t){return new Qt(t>>16,t>>8&255,255&t)}function ee(t){return te(t)+""}qt.brighter=function(t){return new Zt(Math.min(100,this.l+Vt*(arguments.length?t:1)),this.a,this.b)},qt.darker=function(t){return new Zt(Math.max(0,this.l-Vt*(arguments.length?t:1)),this.a,this.b)},qt.rgb=function(){return Xt(this.l,this.a,this.b)},t.rgb=Qt;var ne=Qt.prototype=new Nt;function re(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function ie(t,e,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(le(i[0]),le(i[1]),le(i[2]))}return(a=ce.get(t))?e(a.r,a.g,a.b):(null!=t&&"#"===t.charAt(0)&&!isNaN(a=parseInt(t.slice(1),16))&&(4===t.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function ae(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new Rt(r,i,l)}function oe(t,e,n){var r=Kt((.4124564*(t=se(t))+.3575761*(e=se(e))+.1804375*(n=se(n)))/Yt),i=Kt((.2126729*t+.7151522*e+.072175*n)/Wt);return Zt(116*i-16,500*(r-i),200*(i-Kt((.0193339*t+.119192*e+.9503041*n)/Gt)))}function se(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function le(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}ne.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new Qt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new Qt(i,i,i)},ne.darker=function(t){return new Qt((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},ne.hsl=function(){return ae(this.r,this.g,this.b)},ne.toString=function(){return"#"+re(this.r)+re(this.g)+re(this.b)};var ce=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function ue(t){return"function"==typeof t?t:function(){return t}}function he(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),de(e,n,t,r)}}function de(e,n,i,a){var o={},s=t.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function h(){var t,e=c.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(c)||e>=200&&e<300||304===e){try{t=i.call(o,c)}catch(t){return void s.error.call(o,t)}s.load.call(o,t)}else s.error.call(o,c)}return self.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=h:c.onreadystatechange=function(){c.readyState>3&&h()},c.onprogress=function(e){var n=t.event;t.event=e;try{s.progress.call(o,c)}finally{t.event=n}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?l[t]:(null==e?delete l[t]:l[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",o):n},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return i=t,o},["get","post"].forEach((function(t){o[t]=function(){return o.send.apply(o,[t].concat(r(arguments)))}})),o.send=function(t,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),c.open(t,e,!0),null!=n&&!("accept"in l)&&(l.accept=n+",*/*"),c.setRequestHeader)for(var a in l)c.setRequestHeader(a,l[a]);return null!=n&&c.overrideMimeType&&c.overrideMimeType(n),null!=u&&(c.responseType=u),null!=i&&o.on("error",i).on("load",(function(t){i(null,t)})),s.beforesend.call(o,c),c.send(null==r?null:r),o},o.abort=function(){return c.abort(),o},t.rebind(o,s,"on"),null==a?o:o.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(a))}ce.forEach((function(t,e){ce.set(t,te(e))})),t.functor=ue,t.xhr=he(S),t.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=de(t,e,null==n?a:o(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?a:o(t)):n},i}function a(t){return i.parse(t.responseText)}function o(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(l).join(t)}function l(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=function(e){for(var n={},r=t.length,i=0;i<r;++i)n[t[i]]=e[i];return n};n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,a={},o={},s=[],l=t.length,c=0,u=0;function h(){if(c>=l)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return c=n+2,13===(s=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++c):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<l;){var s,u=1;if(10===(s=t.charCodeAt(c++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&&(++c,++u);else if(s!==r)continue;return t.slice(e,c-u)}return t.slice(e)}for(;(n=h())!==o;){for(var d=[];n!==a&&n!==o;)d.push(n),n=h();e&&null==(d=e(d,u++))||s.push(d)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new C,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(l).join(t)].concat(e.map((function(e){return r.map((function(t){return l(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},t.csv=t.dsv(",","text/csv"),t.tsv=t.dsv("\t","text/tab-separated-values");var fe,pe,me,ge,ve=this[D(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function ye(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return pe?pe.n=i:fe=i,pe=i,me||(ge=clearTimeout(ge),me=1,ve(_e)),i}function _e(){var t=xe(),e=be()-t;e>24?(isFinite(e)&&(clearTimeout(ge),ge=setTimeout(_e,e)),me=0):(me=1,ve(_e))}function xe(){for(var t=Date.now(),e=fe;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function be(){for(var t,e=fe,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:fe=e.n;return pe=t,n}function we(t){return t[0]}function Me(t){return t[1]}function Te(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&St(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function ke(t,e){return t[0]-e[0]||t[1]-e[1]}t.timer=function(){ye.apply(this,arguments)},t.timer.flush=function(){xe(),be()},t.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},t.geom={},t.geom.hull=function(t){var e=we,n=Me;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ue(e),a=ue(n),o=t.length,s=[],l=[];for(r=0;r<o;r++)s.push([+i.call(this,t[r],r),+a.call(this,t[r],r),r]);for(s.sort(ke),r=0;r<o;r++)l.push([s[r][0],-s[r][1]]);var c=Te(s),u=Te(l),h=u[0]===c[0],d=u[u.length-1]===c[c.length-1],f=[];for(r=c.length-1;r>=0;--r)f.push(t[s[c[r]][2]]);for(r=+h;r<u.length-d;++r)f.push(t[s[u[r]][2]]);return f}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},t.geom.polygon=function(t){return B(t,Ae),t};var Ae=t.geom.polygon.prototype=[];function Le(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Ce(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,l=t[1],c=n[1],u=e[1]-l,h=r[1]-c,d=(s*(l-c)-h*(i-a))/(h*o-s*u);return[i+d*o,l+d*u]}function Se(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}Ae.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Ae.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},Ae.clip=function(t){for(var e,n,r,i,a,o,s=Se(t),l=-1,c=this.length-Se(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,i=this[l],a=e[(r=e.length-s)-1],n=-1;++n<r;)Le(o=e[n],u,i)?(Le(a,u,i)||t.push(Ce(a,o,u,i)),t.push(o)):Le(a,u,i)&&t.push(Ce(a,o,u,i)),a=o;s&&t.push(t[0]),u=i}return t};var Pe,De,Oe,Ee,Ie,ze=[],Ne=[];function Re(){nn(this),this.edge=this.site=this.circle=null}function Fe(t){var e=ze.pop()||new Re;return e.site=t,e}function je(t){qe(t),Oe.remove(t),ze.push(t),nn(t)}function Be(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];je(t);for(var l=a;l.circle&&y(n-l.circle.x)<wt&&y(r-l.circle.cy)<wt;)a=l.P,s.unshift(l),je(l),l=a;s.unshift(l),qe(l);for(var c=o;c.circle&&y(n-c.circle.x)<wt&&y(r-c.circle.cy)<wt;)o=c.N,s.push(c),je(c),c=o;s.push(c),qe(c);var u,h=s.length;for(u=1;u<h;++u)c=s[u],l=s[u-1],Qe(c.edge,l.site,c.site,i);l=s[0],(c=s[h-1]).edge=Ke(l.site,c.site,null,i),Ge(l),Ge(c)}function He(t){for(var e,n,r,i,a=t.x,o=t.y,s=Oe._;s;)if((r=Ue(s,o)-a)>wt)s=s.L;else{if(!((i=a-Ze(s,o))>wt)){r>-wt?(e=s.P,n=s):i>-wt?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Fe(t);if(Oe.insert(e,l),e||n){if(e===n)return qe(e),n=Fe(e.site),Oe.insert(l,n),l.edge=n.edge=Ke(e.site,l.site),Ge(e),void Ge(n);if(!n)return void(l.edge=Ke(e.site,l.site));qe(e),qe(n);var c=e.site,u=c.x,h=c.y,d=t.x-u,f=t.y-h,p=n.site,m=p.x-u,g=p.y-h,v=2*(d*g-f*m),y=d*d+f*f,_=m*m+g*g,x={x:(g*y-f*_)/v+u,y:(d*_-m*y)/v+h};Qe(n.edge,c,p,x),l.edge=Ke(c,t,null,x),n.edge=Ke(t,p,null,x),Ge(e),Ge(n)}}function Ue(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,c=l-e;if(!c)return s;var u=s-r,h=1/a-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+i-a/2)))/h+r:(r+s)/2}function Ze(t,e){var n=t.N;if(n)return Ue(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ve(t){this.site=t,this.edges=[]}function Ye(t,e){return e.angle-t.angle}function We(){nn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ge(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,c=r.y-s,u=a.x-o,h=2*(l*(g=a.y-s)-c*u);if(!(h>=-1e-12)){var d=l*l+c*c,f=u*u+g*g,p=(g*d-c*f)/h,m=(l*f-u*d)/h,g=m+s,v=Ne.pop()||new We;v.arc=t,v.site=i,v.x=p+o,v.y=g+Math.sqrt(p*p+m*m),v.cy=g,t.circle=v;for(var y=null,_=Ie._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Ie.insert(y,v),y||(Ee=v)}}}}function qe(t){var e=t.circle;e&&(e.P||(Ee=e.N),Ie.remove(e),Ne.push(e),nn(e),t.circle=null)}function Xe(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,h=t.r,d=u.x,f=u.y,p=h.x,m=h.y,g=(d+p)/2,v=(f+m)/2;if(m===f){if(g<o||g>=s)return;if(d>p){if(a){if(a.y>=c)return}else a={x:g,y:l};n={x:g,y:c}}else{if(a){if(a.y<l)return}else a={x:g,y:c};n={x:g,y:l}}}else if(i=v-(r=(d-p)/(m-f))*g,r<-1||r>1)if(d>p){if(a){if(a.y>=c)return}else a={x:(l-i)/r,y:l};n={x:(c-i)/r,y:c}}else{if(a){if(a.y<l)return}else a={x:(c-i)/r,y:c};n={x:(l-i)/r,y:l}}else if(f<m){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function Je(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ke(t,e,n,r){var i=new Je(t,e);return Pe.push(i),n&&Qe(i,t,e,n),r&&Qe(i,e,t,r),De[t.i].edges.push(new tn(i,t,e)),De[e.i].edges.push(new tn(i,e,t)),i}function $e(t,e,n){var r=new Je(t,null);return r.a=e,r.b=n,Pe.push(r),r}function Qe(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function tn(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function en(){this._=null}function nn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function rn(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function an(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function on(t){for(;t.L;)t=t.L;return t}function sn(t,e){var n,r,i,a=t.sort(ln).pop();for(Pe=[],De=new Array(t.length),Oe=new en,Ie=new en;;)if(i=Ee,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))(a.x!==n||a.y!==r)&&(De[a.i]=new Ve(a),He(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;Be(i.arc)}e&&(function(t){for(var e,n=Pe,r=function(t,e,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,c=o.y,u=0,h=1,d=s.x-l,f=s.y-c;if(a=t-l,d||!(a>0)){if(a/=d,d<0){if(a<u)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>u&&(u=a)}if(a=n-l,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>u&&(u=a)}else if(d>0){if(a<u)return;a<h&&(h=a)}if(a=e-c,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>u&&(u=a)}if(a=r-c,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<h&&(h=a)}return u>0&&(i.a={x:l+u*d,y:c+u*f}),h<1&&(i.b={x:l+h*d,y:c+h*f}),i}}}}}}(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Xe(e=n[i],t)||!r(e)||y(e.a.x-e.b.x)<wt&&y(e.a.y-e.b.y)<wt)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,a,o,s,l,c,u,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],m=De,g=m.length;g--;)if((a=m[g])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)r=(u=s[o].end()).x,i=u.y,e=(c=s[++o%l].start()).x,n=c.y,(y(r-e)>wt||y(i-n)>wt)&&(s.splice(o,0,new tn($e(a.site,u,y(r-h)<wt&&p-i>wt?{x:h,y:y(e-h)<wt?n:p}:y(i-p)<wt&&d-r>wt?{x:y(n-p)<wt?e:d,y:p}:y(r-d)<wt&&i-f>wt?{x:d,y:y(e-d)<wt?n:f}:y(i-f)<wt&&r-h>wt?{x:y(n-f)<wt?e:h,y:f}:null),a.site,null)),++l)}(e));var o={cells:De,edges:Pe};return Oe=Ie=Pe=De=null,o}function ln(t,e){return e.y-t.y||e.x-t.x}Ve.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(!(t=e[n].edge).b||!t.a)&&e.splice(n,1);return e.sort(Ye),e.length},tn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},en.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=on(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(rn(this,n),n=(t=n).U),n.C=!1,r.C=!0,an(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(an(this,n),n=(t=n).U),n.C=!1,r.C=!0,rn(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?on(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,rn(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){(!e.R||!e.R.C)&&(e.L.C=!1,e.C=!0,an(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,rn(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,an(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){(!e.L||!e.L.C)&&(e.R.C=!1,e.C=!0,rn(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,an(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},t.geom.voronoi=function(t){var e=we,n=Me,r=e,i=n,a=cn;if(t)return o(t);function o(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return sn(s(t),a).cells.forEach((function(a,s){var l=a.edges,c=a.site;(e[s]=l.length?l.map((function(t){var e=t.start();return[e.x,e.y]})):c.x>=n&&c.x<=i&&c.y>=r&&c.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[]).point=t[s]})),e}function s(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/wt)*wt,y:Math.round(i(t,e)/wt)*wt,i:e}}))}return o.links=function(t){return sn(s(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},o.triangles=function(t){var e=[];return sn(s(t)).cells.forEach((function(n,r){for(var i,a=n.site,o=n.edges.sort(Ye),s=-1,l=o.length,c=o[l-1].edge,u=c.l===a?c.r:c.l;++s<l;)i=u,u=(c=o[s].edge).l===a?c.r:c.l,r<i.i&&r<u.i&&un(a,i,u)<0&&e.push([t[r],t[i.i],t[u.i]])})),e},o.x=function(t){return arguments.length?(r=ue(e=t),o):e},o.y=function(t){return arguments.length?(i=ue(n=t),o):n},o.clipExtent=function(t){return arguments.length?(a=null==t?cn:t,o):a===cn?null:a},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):a===cn?null:a&&a[1]},o};var cn=[[-1e6,-1e6],[1e6,1e6]];function un(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function hn(t){return t.x}function dn(t){return t.y}function fn(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=e.nodes;l[0]&&fn(t,l[0],n,r,o,s),l[1]&&fn(t,l[1],o,r,i,s),l[2]&&fn(t,l[2],n,s,o,a),l[3]&&fn(t,l[3],o,s,i,a)}}function pn(e,n){e=t.rgb(e),n=t.rgb(n);var r=e.r,i=e.g,a=e.b,o=n.r-r,s=n.g-i,l=n.b-a;return function(t){return"#"+re(Math.round(r+o*t))+re(Math.round(i+s*t))+re(Math.round(a+l*t))}}function mn(t,e){var n,r={},i={};for(n in t)n in e?r[n]=xn(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function gn(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vn(t,e){var n,r,i,a=yn.lastIndex=_n.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=yn.exec(t))&&(r=_n.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:gn(n,r)})),a=_n.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(t,e,n,r,i){var a,o=we,s=Me;if(a=arguments.length)return o=hn,s=dn,3===a&&(i=n,r=e,n=e=0),l(t);function l(t){var l,c,u,h,d,f,p,m,g,v=ue(o),_=ue(s);if(null!=e)f=e,p=n,m=r,g=i;else if(m=g=-(f=p=1/0),c=[],u=[],d=t.length,a)for(h=0;h<d;++h)(l=t[h]).x<f&&(f=l.x),l.y<p&&(p=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),c.push(l.x),u.push(l.y);else for(h=0;h<d;++h){var x=+v(l=t[h],h),b=+_(l,h);x<f&&(f=x),b<p&&(p=b),x>m&&(m=x),b>g&&(g=b),c.push(x),u.push(b)}var w=m-f,M=g-p;function T(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(y(l-n)+y(c-r)<.01)k(t,e,n,r,i,a,o,s);else{var u=t.point;t.x=t.y=t.point=null,k(t,u,l,c,i,a,o,s),k(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else k(t,e,n,r,i,a,o,s)}function k(t,e,n,r,i,a,o,s){var l=.5*(i+o),c=.5*(a+s),u=n>=l,h=r>=c,d=h<<1|u;t.leaf=!1,u?i=l:o=l,h?a=c:s=c,T(t=t.nodes[d]||(t.nodes[d]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,a,o,s)}w>M?g=p+w:m=f+M;var A={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){T(A,t,+v(t,++h),+_(t,h),f,p,m,g)},visit:function(t){fn(t,A,f,p,m,g)},find:function(t){return function(t,e,n,r,i,a,o){var s,l=1/0;return function t(c,u,h,d,f){if(!(u>a||h>o||d<r||f<i)){if(p=c.point){var p,m=e-c.x,g=n-c.y,v=m*m+g*g;if(v<l){var y=Math.sqrt(l=v);r=e-y,i=n-y,a=e+y,o=n+y,s=p}}for(var _=c.nodes,x=.5*(u+d),b=.5*(h+f),w=(n>=b)<<1|e>=x,M=w+4;w<M;++w)if(c=_[3&w])switch(3&w){case 0:t(c,u,h,x,b);break;case 1:t(c,x,h,d,b);break;case 2:t(c,u,b,x,f);break;case 3:t(c,x,b,d,f)}}}(t,r,i,a,o),s}(A,t[0],t[1],f,p,m,g)}};if(h=-1,null==e){for(;++h<d;)T(A,t[h],c[h],u[h],f,p,m,g);--h}else t.forEach(A.add);return c=u=t=l=null,A}return l.x=function(t){return arguments.length?(o=t,l):o},l.y=function(t){return arguments.length?(s=t,l):s},l.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,n],[r,i]]},l.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),l):null==e?null:[r-e,i-n]},l},t.interpolateRgb=pn,t.interpolateObject=mn,t.interpolateNumber=gn,t.interpolateString=vn;var yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_n=new RegExp(yn.source,"g");function xn(e,n){for(var r,i=t.interpolators.length;--i>=0&&!(r=t.interpolators[i](e,n)););return r}function bn(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(xn(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}t.interpolate=xn,t.interpolators=[function(t,e){var n=typeof e;return("string"===n?ce.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?pn:vn:e instanceof Nt?pn:Array.isArray(e)?bn:"object"===n&&isNaN(e)?mn:gn)(t,e)}],t.interpolateArray=bn;var wn=function(){return S},Mn=t.map({linear:wn,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return Ln},cubic:function(){return Cn},sin:function(){return Pn},exp:function(){return Dn},circle:function(){return On},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Tt*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Tt/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return En}}),Tn=t.map({in:S,out:kn,"in-out":An,"out-in":function(t){return An(kn(t))}});function kn(t){return function(e){return 1-t(1-e)}}function An(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ln(t){return t*t}function Cn(t){return t*t*t}function Sn(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Pn(t){return 1-Math.cos(t*At)}function Dn(t){return Math.pow(2,10*(t-1))}function On(t){return 1-Math.sqrt(1-t*t)}function En(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function In(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function zn(t){var e=[t.a,t.b],n=[t.c,t.d],r=Rn(e),i=Nn(e,n),a=Rn(function(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Ct,this.translate=[t.e,t.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Ct:0}function Nn(t,e){return t[0]*e[0]+t[1]*e[1]}function Rn(t){var e=Math.sqrt(Nn(t,t));return e&&(t[0]/=e,t[1]/=e),e}t.ease=function(t){var e=t.indexOf("-"),r=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return r=Mn.get(r)||wn,function(t){return function(e){return e<=0?0:e>=1?1:t(e)}}((i=Tn.get(i)||S)(r.apply(null,n.call(arguments,1))))},t.interpolateHcl=function(e,n){e=t.hcl(e),n=t.hcl(n);var r=e.h,i=e.c,a=e.l,o=n.h-r,s=n.c-i,l=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.c:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(t){return Ut(r+o*t,i+s*t,a+l*t)+""}},t.interpolateHsl=function(e,n){e=t.hsl(e),n=t.hsl(n);var r=e.h,i=e.s,a=e.l,o=n.h-r,s=n.s-i,l=n.l-a;return isNaN(s)&&(s=0,i=isNaN(i)?n.s:i),isNaN(o)?(o=0,r=isNaN(r)?n.h:r):o>180?o-=360:o<-180&&(o+=360),function(t){return jt(r+o*t,i+s*t,a+l*t)+""}},t.interpolateLab=function(e,n){e=t.lab(e),n=t.lab(n);var r=e.l,i=e.a,a=e.b,o=n.l-r,s=n.a-i,l=n.b-a;return function(t){return Xt(r+o*t,i+s*t,a+l*t)+""}},t.interpolateRound=In,t.transform=function(e){var n=i.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new zn(e?e.matrix:Fn)})(e)},zn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Fn={a:1,b:0,c:0,d:1,e:0,f:0};function jn(t){return t.length?t.pop()+",":""}function Bn(e,n){var r=[],i=[];return e=t.transform(e),n=t.transform(n),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:gn(t[0],e[0])},{i:i-2,x:gn(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(e.translate,n.translate,r,i),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(jn(n)+"rotate(",null,")")-2,x:gn(t,e)})):e&&n.push(jn(n)+"rotate("+e+")")}(e.rotate,n.rotate,r,i),function(t,e,n,r){t!==e?r.push({i:n.push(jn(n)+"skewX(",null,")")-2,x:gn(t,e)}):e&&n.push(jn(n)+"skewX("+e+")")}(e.skew,n.skew,r,i),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(jn(n)+"scale(",null,",",null,")");r.push({i:i-4,x:gn(t[0],e[0])},{i:i-2,x:gn(t[1],e[1])})}else(1!==e[0]||1!==e[1])&&n.push(jn(n)+"scale("+e+")")}(e.scale,n.scale,r,i),e=n=null,function(t){for(var e,n=-1,a=i.length;++n<a;)r[(e=i[n]).i]=e.x(t);return r.join("")}}function Hn(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Un(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Zn(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=Vn(t),r=Vn(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Vn(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Yn(t){t.fixed|=2}function Wn(t){t.fixed&=-7}function Gn(t){t.fixed|=4,t.px=t.x,t.py=t.y}function qn(t){t.fixed&=-5}function Xn(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(Xn(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}t.interpolateTransform=Bn,t.layout={},t.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Zn(t[n]));return e}},t.layout.chord=function(){var e,n,r,i,a,o,s,l={},c=0;function u(){var l,u,d,f,p,m={},g=[],v=t.range(i),y=[];for(e=[],n=[],l=0,f=-1;++f<i;){for(u=0,p=-1;++p<i;)u+=r[f][p];g.push(u),y.push(t.range(i)),l+=u}for(a&&v.sort((function(t,e){return a(g[t],g[e])})),o&&y.forEach((function(t,e){t.sort((function(t,n){return o(r[e][t],r[e][n])}))})),l=(Tt-c*i)/l,u=0,f=-1;++f<i;){for(d=u,p=-1;++p<i;){var _=v[f],x=y[_][p],b=r[_][x],w=u,M=u+=b*l;m[_+"-"+x]={index:_,subindex:x,startAngle:w,endAngle:M,value:b}}n[_]={index:_,startAngle:d,endAngle:u,value:g[_]},u+=c}for(f=-1;++f<i;)for(p=f-1;++p<i;){var T=m[f+"-"+p],k=m[p+"-"+f];(T.value||k.value)&&e.push(T.value<k.value?{source:k,target:T}:{source:T,target:k})}s&&h()}function h(){e.sort((function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return l.matrix=function(t){return arguments.length?(i=(r=t)&&r.length,e=n=null,l):r},l.padding=function(t){return arguments.length?(c=t,e=n=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,e=n=null,l):a},l.sortSubgroups=function(t){return arguments.length?(o=t,e=null,l):o},l.sortChords=function(t){return arguments.length?(s=t,e&&h(),l):s},l.chords=function(){return e||u(),e},l.groups=function(){return n||u(),n},l},t.layout.force=function(){var e,n,r,i,a,o,s={},l=t.dispatch("start","tick","end"),c=[1,1],u=.9,h=Jn,d=Kn,f=-30,p=$n,m=.1,g=.64,v=[],y=[];function _(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,l=a*a+o*o;if(s*s/g<l){if(l<p){var c=e.charge/l;t.px-=a*c,t.py-=o*c}return!0}e.point&&l&&l<p&&(c=e.pointCharge/l,t.px-=a*c,t.py-=o*c)}return!e.charge}}function x(e){e.px=t.event.x,e.py=t.event.y,s.resume()}return s.tick=function(){if((r*=.99)<.005)return e=null,l.end({type:"end",alpha:r=0}),!0;var n,s,h,d,p,g,x,b,w,M=v.length,T=y.length;for(s=0;s<T;++s)d=(h=y[s]).source,(g=(b=(p=h.target).x-d.x)*b+(w=p.y-d.y)*w)&&(b*=g=r*a[s]*((g=Math.sqrt(g))-i[s])/g,w*=g,p.x-=b*(x=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=w*x,d.x+=b*(x=1-x),d.y+=w*x);if((x=r*m)&&(b=c[0]/2,w=c[1]/2,s=-1,x))for(;++s<M;)(h=v[s]).x+=(b-h.x)*x,h.y+=(w-h.y)*x;if(f)for(Xn(n=t.geom.quadtree(v),r,o),s=-1;++s<M;)(h=v[s]).fixed||n.visit(_(h));for(s=-1;++s<M;)(h=v[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*u,h.y-=(h.py-(h.py=h.y))*u);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(m=+t,s):m},s.theta=function(t){return arguments.length?(g=t*t,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:r=0})):t>0&&(l.start({type:"start",alpha:r=t}),e=ye(s.tick)),s):r},s.start=function(){var t,e,n,r=v.length,l=y.length,u=c[0],p=c[1];for(t=0;t<r;++t)(n=v[t]).index=t,n.weight=0;for(t=0;t<l;++t)"number"==typeof(n=y[t]).source&&(n.source=v[n.source]),"number"==typeof n.target&&(n.target=v[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<r;++t)n=v[t],isNaN(n.x)&&(n.x=m("x",u)),isNaN(n.y)&&(n.y=m("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof h)for(t=0;t<l;++t)i[t]=+h.call(this,y[t],t);else for(t=0;t<l;++t)i[t]=h;if(a=[],"function"==typeof d)for(t=0;t<l;++t)a[t]=+d.call(this,y[t],t);else for(t=0;t<l;++t)a[t]=d;if(o=[],"function"==typeof f)for(t=0;t<r;++t)o[t]=+f.call(this,v[t],t);else for(t=0;t<r;++t)o[t]=f;function m(n,i){if(!e){for(e=new Array(r),c=0;c<r;++c)e[c]=[];for(c=0;c<l;++c){var a=y[c];e[a.source.index].push(a.target),e[a.target.index].push(a.source)}}for(var o,s=e[t],c=-1,u=s.length;++c<u;)if(!isNaN(o=s[c][n]))return o;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(n||(n=t.behavior.drag().origin(S).on("dragstart.force",Yn).on("drag.force",x).on("dragend.force",Wn)),!arguments.length)return n;this.on("mouseover.force",Gn).on("mouseout.force",qn).call(n)},t.rebind(s,l,"on")};var Jn=20,Kn=1,$n=1/0;function Qn(e,n){return t.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=ar,e}function tr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function er(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function nr(t){return t.children}function rr(t){return t.value}function ir(t,e){return e.value-t.value}function ar(e){return t.merge(e.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}t.layout.hierarchy=function(){var t=ir,e=nr,n=rr;function r(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(c=e.call(r,a,a.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)o.push(u=c[l]),u.parent=a,u.depth=a.depth+1;n&&(a.value=0),a.children=c}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return er(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),s}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(tr(t,(function(t){t.children&&(t.value=0)})),er(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},t.layout.partition=function(){var e=t.layout.hierarchy(),n=[1,1];function r(t,e,n,i){var a=t.children;if(t.x=e,t.y=t.depth*i,t.dx=n,t.dy=i,a&&(o=a.length)){var o,s,l,c=-1;for(n=t.value?n/t.value:0;++c<o;)r(s=a[c],e,l=s.value*n,i),e+=l}}function i(t){var e=t.children,n=0;if(e&&(r=e.length))for(var r,a=-1;++a<r;)n=Math.max(n,i(e[a]));return 1+n}function a(t,a){var o=e.call(this,t,a);return r(o[0],0,n[0],n[1]/i(o[0])),o}return a.size=function(t){return arguments.length?(n=t,a):n},Qn(a,e)},t.layout.pie=function(){var e=Number,n=or,r=0,i=Tt,a=0;function o(s){var l,c=s.length,u=s.map((function(t,n){return+e.call(o,t,n)})),h=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-h,f=Math.min(Math.abs(d)/c,+("function"==typeof a?a.apply(this,arguments):a)),p=f*(d<0?-1:1),m=t.sum(u),g=m?(d-c*p)/m:0,v=t.range(c),y=[];return null!=n&&v.sort(n===or?function(t,e){return u[e]-u[t]}:function(t,e){return n(s[t],s[e])}),v.forEach((function(t){y[t]={data:s[t],value:l=u[t],startAngle:h,endAngle:h+=l*g+p,padAngle:f}})),y}return o.value=function(t){return arguments.length?(e=t,o):e},o.sort=function(t){return arguments.length?(n=t,o):n},o.startAngle=function(t){return arguments.length?(r=t,o):r},o.endAngle=function(t){return arguments.length?(i=t,o):i},o.padAngle=function(t){return arguments.length?(a=t,o):a},o};var or={};function sr(t){return t.x}function lr(t){return t.y}function cr(t,e,n){t.y0=e,t.y=n}t.layout.stack=function(){var e=S,n=dr,r=fr,i=cr,a=sr,o=lr;function s(l,c){if(!(f=l.length))return l;var u=l.map((function(t,n){return e.call(s,t,n)})),h=u.map((function(t){return t.map((function(t,e){return[a.call(s,t,e),o.call(s,t,e)]}))})),d=n.call(s,h,c);u=t.permute(u,d),h=t.permute(h,d);var f,p,m,g,v=r.call(s,h,c),y=u[0].length;for(m=0;m<y;++m)for(i.call(s,u[0][m],g=v[m],h[0][m][1]),p=1;p<f;++p)i.call(s,u[p][m],g+=h[p-1][m][1],h[p][m][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(t){return arguments.length?(n="function"==typeof t?t:ur.get(t)||dr,s):n},s.offset=function(t){return arguments.length?(r="function"==typeof t?t:hr.get(t)||fr,s):r},s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(o=t,s):o},s.out=function(t){return arguments.length?(i=t,s):i},s};var ur=t.map({"inside-out":function(e){var n,r,i=e.length,a=e.map(pr),o=e.map(mr),s=t.range(i).sort((function(t,e){return a[t]-a[e]})),l=0,c=0,u=[],h=[];for(n=0;n<i;++n)r=s[n],l<c?(l+=o[r],u.push(r)):(c+=o[r],h.push(r));return h.reverse().concat(u)},reverse:function(e){return t.range(e.length).reverse()},default:dr}),hr=t.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,i,a,o,s,l,c,u=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=c=0,n=1;n<d;++n){for(e=0,i=0;e<u;++e)i+=t[e][n][1];for(e=0,a=0,s=h[n][0]-h[n-1][0];e<u;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}f[n]=l-=i?a/i*s:0,l<c&&(c=l)}for(n=0;n<d;++n)f[n]-=c;return f},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:fr});function dr(e){return t.range(e.length)}function fr(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function pr(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function mr(t){return t.reduce(gr,0)}function gr(t,e){return t+e[1]}function vr(t,e){return yr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function yr(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function _r(e){return[t.min(e),t.max(e)]}function xr(t,e){return t.value-e.value}function br(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function wr(t,e){t._pack_next=e,e._pack_prev=t}function Mr(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function Tr(t){if((e=t.children)&&(l=e.length)){var e,n,r,i,a,o,s,l,c=1/0,u=-1/0,h=1/0,d=-1/0;if(e.forEach(kr),(n=e[0]).x=-n.r,n.y=0,_(n),l>1&&((r=e[1]).x=r.r,r.y=0,_(r),l>2))for(Cr(n,r,i=e[2]),_(i),br(n,i),n._pack_prev=i,br(i,r),r=n._pack_next,a=3;a<l;a++){Cr(n,r,i=e[a]);var f=0,p=1,m=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(Mr(o,i)){f=1;break}if(1==f)for(s=n._pack_prev;s!==o._pack_prev&&!Mr(s,i);s=s._pack_prev,m++);f?(p<m||p==m&&r.r<n.r?wr(n,r=o):wr(n=s,r),a--):(br(n,i),r=i,_(i))}var g=(c+u)/2,v=(h+d)/2,y=0;for(a=0;a<l;a++)(i=e[a]).x-=g,i.y-=v,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(Ar)}function _(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),h=Math.min(t.y-t.r,h),d=Math.max(t.y+t.r,d)}}function kr(t){t._pack_next=t._pack_prev=t}function Ar(t){delete t._pack_next,delete t._pack_prev}function Lr(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)Lr(i[a],e,n,r)}function Cr(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a,l=.5+((r*=r)-(o*=o))/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*i+c*a,n.y=t.y+l*a-c*i}else n.x=t.x+r,n.y=t.y}function Sr(t,e){return t.parent==e.parent?1:2}function Pr(t){var e=t.children;return e.length?e[0]:t.t}function Dr(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Or(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Er(t,e,n){return t.a.parent===e.parent?t.a:n}function Ir(t){var e=t.children;return e&&e.length?Ir(e[0]):t}function zr(t){var e,n=t.children;return n&&(e=n.length)?zr(n[e-1]):t}function Nr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Rr(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Fr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function jr(t){return t.rangeExtent?t.rangeExtent():Fr(t.range())}function Br(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function Hr(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Ur(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Zr}t.layout.histogram=function(){var e=!0,n=Number,r=_r,i=vr;function a(a,o){for(var s,l,c=[],u=a.map(n,this),h=r.call(this,u,o),d=i.call(this,h,u,o),f=(o=-1,u.length),p=d.length-1,m=e?1:1/f;++o<p;)(s=c[o]=[]).dx=d[o+1]-(s.x=d[o]),s.y=0;if(p>0)for(o=-1;++o<f;)(l=u[o])>=h[0]&&l<=h[1]&&((s=c[t.bisect(d,l,1,p)-1]).y+=m,s.push(a[o]));return c}return a.value=function(t){return arguments.length?(n=t,a):n},a.range=function(t){return arguments.length?(r=ue(t),a):r},a.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return yr(e,t)}:ue(t),a):i},a.frequency=function(t){return arguments.length?(e=!!t,a):e},a},t.layout.pack=function(){var e,n=t.layout.hierarchy().sort(xr),r=0,i=[1,1];function a(t,a){var o=n.call(this,t,a),s=o[0],l=i[0],c=i[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,er(s,(function(t){t.r=+u(t.value)})),er(s,Tr),r){var h=r*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;er(s,(function(t){t.r+=h})),er(s,Tr),er(s,(function(t){t.r-=h}))}return Lr(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),o}return a.size=function(t){return arguments.length?(i=t,a):i},a.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,a):e},a.padding=function(t){return arguments.length?(r=+t,a):r},Qn(a,n)},t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Sr,r=[1,1],i=null;function a(t,a){var c=e.call(this,t,a),u=c[0],h=function(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}(u);if(er(h,o),h.parent.m=-h.z,tr(h,s),i)tr(u,l);else{var d=u,f=u,p=u;tr(u,(function(t){t.x<d.x&&(d=t),t.x>f.x&&(f=t),t.depth>p.depth&&(p=t)}));var m=n(d,f)/2-d.x,g=r[0]/(f.x+n(f,d)/2+m),v=r[1]/(p.depth||1);tr(u,(function(t){t.x=(t.x+m)*g,t.y=t.depth*v}))}return c}function o(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e.length){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,a=t,o=t,s=e,l=a.parent.children[0],c=a.m,u=o.m,h=s.m,d=l.m;s=Dr(s),a=Pr(a),s&&a;)l=Pr(l),(o=Dr(o)).a=t,(i=s.z+h-a.z-c+n(s._,a._))>0&&(Or(Er(s,t,r),t,i),c+=i,u+=i),h+=s.m,c+=a.m,d+=l.m,u+=o.m;s&&!Dr(o)&&(o.t=s,o.m+=h-u),a&&!Pr(l)&&(l.t=a,l.m+=c-d,r=t)}return r}(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=r[0],t.y=t.depth*r[1]}return a.separation=function(t){return arguments.length?(n=t,a):n},a.size=function(t){return arguments.length?(i=null==(r=t)?l:null,a):i?null:r},a.nodeSize=function(t){return arguments.length?(i=null==(r=t)?null:l,a):i?r:null},Qn(a,e)},t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),n=Sr,r=[1,1],i=!1;function a(a,o){var s,l=e.call(this,a,o),c=l[0],u=0;er(c,(function(e){var r=e.children;r&&r.length?(e.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(r),e.y=function(e){return 1+t.max(e,(function(t){return t.y}))}(r)):(e.x=s?u+=n(e,s):0,e.y=0,s=e)}));var h=Ir(c),d=zr(c),f=h.x-n(h,d)/2,p=d.x+n(d,h)/2;return er(c,i?function(t){t.x=(t.x-c.x)*r[0],t.y=(c.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(p-f)*r[0],t.y=(1-(c.y?t.y/c.y:1))*r[1]}),l}return a.separation=function(t){return arguments.length?(n=t,a):n},a.size=function(t){return arguments.length?(i=null==(r=t),a):i?null:r},a.nodeSize=function(t){return arguments.length?(i=null!=(r=t),a):i?r:null},Qn(a,e)},t.layout.treemap=function(){var e,n=t.layout.hierarchy(),r=Math.round,i=[1,1],a=null,o=Nr,s=!1,l="squarify",c=.5*(1+Math.sqrt(5));function u(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function h(t){var e=t.children;if(e&&e.length){var n,r,i,a=o(t),s=[],c=e.slice(),d=1/0,m="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(u(c,a.dx*a.dy/t.value),s.area=0;(i=c.length)>0;)s.push(n=c[i-1]),s.area+=n.area,"squarify"!==l||(r=f(s,m))<=d?(c.pop(),d=r):(s.area-=s.pop().area,p(s,m,a,!1),m=Math.min(a.dx,a.dy),s.length=s.area=0,d=1/0);s.length&&(p(s,m,a,!0),s.length=s.area=0),e.forEach(h)}}function d(t){var e=t.children;if(e&&e.length){var n,r=o(t),i=e.slice(),a=[];for(u(i,r.dx*r.dy/t.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(p(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);e.forEach(d)}}function f(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*c/r,r/(e*a*c)):1/0}function p(t,e,n,i){var a,o=-1,s=t.length,l=n.x,c=n.y,u=e?r(t.area/e):0;if(e==n.dx){for((i||u>n.dy)&&(u=n.dy);++o<s;)(a=t[o]).x=l,a.y=c,a.dy=u,l+=a.dx=Math.min(n.x+n.dx-l,u?r(a.area/u):0);a.z=!0,a.dx+=n.x+n.dx-l,n.y+=u,n.dy-=u}else{for((i||u>n.dx)&&(u=n.dx);++o<s;)(a=t[o]).x=l,a.y=c,a.dx=u,c+=a.dy=Math.min(n.y+n.dy-c,u?r(a.area/u):0);a.z=!1,a.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function m(t){var r=e||n(t),a=r[0];return a.x=a.y=0,a.value?(a.dx=i[0],a.dy=i[1]):a.dx=a.dy=0,e&&n.revalue(a),u([a],a.dx*a.dy/a.value),(e?d:h)(a),s&&(e=r),r}return m.size=function(t){return arguments.length?(i=t,m):i},m.padding=function(t){return arguments.length?(o=null==(a=t)?Nr:"function"==(e=typeof t)?function(e){var n=t.call(m,e,e.depth);return null==n?Nr(e):Rr(e,"number"==typeof n?[n,n,n,n]:n)}:("number"===e&&(t=[t,t,t,t]),function(e){return Rr(e,t)}),m):a;var e},m.round=function(t){return arguments.length?(r=t?Math.round:Number,m):r!=Number},m.sticky=function(t){return arguments.length?(s=t,e=null,m):s},m.ratio=function(t){return arguments.length?(c=t,m):c},m.mode=function(t){return arguments.length?(l=t+"",m):l},Qn(m,n)},t.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=t.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},t.scale={};var Zr={floor:S,ceil:S};function Vr(e,n,r,i){var a=[],o=[],s=0,l=Math.min(e.length,n.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++s<=l;)a.push(r(e[s-1],e[s])),o.push(i(n[s-1],n[s]));return function(n){var r=t.bisect(e,n,1,l)-1;return o[r](a[r](n))}}function Yr(t,e,n,r){var i,a;function o(){var o=Math.min(t.length,e.length)>2?Vr:Br,l=r?Un:Hn;return i=o(t,e,l,n),a=o(e,t,l,xn),s}function s(t){return i(t)}return s.invert=function(t){return a(t)},s.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},s.range=function(t){return arguments.length?(e=t,o()):e},s.rangeRound=function(t){return s.range(t).interpolate(In)},s.clamp=function(t){return arguments.length?(r=t,o()):r},s.interpolate=function(t){return arguments.length?(n=t,o()):n},s.ticks=function(e){return Xr(t,e)},s.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},s.nice=function(e){return Gr(t,e),o()},s.copy=function(){return Yr(t,e,n,r)},o()}function Wr(e,n){return t.rebind(e,n,"range","rangeRound","interpolate","clamp")}function Gr(t,e){return Hr(t,Ur(qr(t,e)[2])),Hr(t,Ur(qr(t,e)[2])),t}function qr(t,e){null==e&&(e=10);var n=Fr(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Xr(e,n){return t.range.apply(t,qr(e,n))}function Jr(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(i(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),o):e},o.nice=function(){var e=Hr(r.map(i),n?Math:Kr);return t.domain(e),r=e.map(a),o},o.ticks=function(){var t=Fr(r),o=[],s=t[0],l=t[1],c=Math.floor(i(s)),u=Math.ceil(i(l)),h=e%1?2:e;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var d=1;d<h;d++)o.push(a(c)*d);o.push(a(c))}else for(o.push(a(c));c++<u;)for(d=h-1;d>0;d--)o.push(a(c)*d);for(c=0;o[c]<s;c++);for(u=o.length;o[u-1]>l;u--);o=o.slice(c,u)}return o},o.copy=function(){return Jr(t.copy(),e,n,r)},Wr(o,t)}t.scale.linear=function(){return Yr([0,1],[0,1],xn,!1)},t.scale.log=function(){return Jr(t.scale.linear().domain([0,1]),10,!0,[1,10])};var Kr={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function $r(t,e,n){var r=Qr(e),i=Qr(1/e);function a(e){return t(r(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),a):n},a.ticks=function(t){return Xr(n,t)},a.tickFormat=function(t,e){return d3_scale_linearTickFormat(n,t,e)},a.nice=function(t){return a.domain(Gr(n,t))},a.exponent=function(o){return arguments.length?(r=Qr(e=o),i=Qr(1/e),t.domain(n.map(r)),a):e},a.copy=function(){return $r(t.copy(),e,n)},Wr(a,t)}function Qr(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ti(e,n){var r,i,a;function o(t){return i[((r.get(t)||("range"===n.t?r.set(t,e.push(t)):NaN))-1)%i.length]}function s(n,r){return t.range(e.length).map((function(t){return n+r*t}))}return o.domain=function(t){if(!arguments.length)return e;e=[],r=new x;for(var i,a=-1,s=t.length;++a<s;)r.has(i=t[a])||r.set(i,e.push(i));return o[n.t].apply(o,n.a)},o.range=function(t){return arguments.length?(i=t,a=0,n={t:"range",a:arguments},o):i},o.rangePoints=function(t,r){arguments.length<2&&(r=0);var l=t[0],c=t[1],u=e.length<2?(l=(l+c)/2,0):(c-l)/(e.length-1+r);return i=s(l+u*r/2,u),a=0,n={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(t,r){arguments.length<2&&(r=0);var l=t[0],c=t[1],u=e.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(e.length-1+r)|0;return i=s(l+Math.round(u*r/2+(c-l-(e.length-1+r)*u)/2),u),a=0,n={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(t,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=t[1]<t[0],u=t[c-0],h=(t[1-c]-u)/(e.length-r+2*l);return i=s(u+h*l,h),c&&i.reverse(),a=h*(1-r),n={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(t,r,l){arguments.length<2&&(r=0),arguments.length<3&&(l=r);var c=t[1]<t[0],u=t[c-0],h=t[1-c],d=Math.floor((h-u)/(e.length-r+2*l));return i=s(u+Math.round((h-u-(e.length-r)*d)/2),d),c&&i.reverse(),a=Math.round(d*(1-r)),n={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return a},o.rangeExtent=function(){return Fr(n.a[0])},o.copy=function(){return ti(e,n)},o.domain(e)}t.scale.pow=function(){return $r(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return ti([],{t:"range",a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(ei)},t.scale.category20=function(){return t.scale.ordinal().range(ni)},t.scale.category20b=function(){return t.scale.ordinal().range(ri)},t.scale.category20c=function(){return t.scale.ordinal().range(ii)};var ei=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ee),ni=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ee),ri=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ee),ii=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ee);function ai(e,n){var r;function i(){var i=0,o=n.length;for(r=[];++i<o;)r[i-1]=t.quantile(e,i/o);return a}function a(e){if(!isNaN(e=+e))return n[t.bisect(r,e)]}return a.domain=function(t){return arguments.length?(e=t.map(f).filter(p).sort(d),i()):e},a.range=function(t){return arguments.length?(n=t,i()):n},a.quantiles=function(){return r},a.invertExtent=function(t){return(t=n.indexOf(t))<0?[NaN,NaN]:[t>0?r[t-1]:e[0],t<r.length?r[t]:e[e.length-1]]},a.copy=function(){return ai(e,n)},i()}function oi(t,e,n){var r,i;function a(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function o(){return r=n.length/(e-t),i=n.length-1,a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},a.range=function(t){return arguments.length?(n=t,o()):n},a.invertExtent=function(e){return[e=(e=n.indexOf(e))<0?NaN:e/r+t,e+1/r]},a.copy=function(){return oi(t,e,n)},o()}function si(e,n){function r(r){if(r<=r)return n[t.bisect(e,r)]}return r.domain=function(t){return arguments.length?(e=t,r):e},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(t){return t=n.indexOf(t),[e[t-1],e[t]]},r.copy=function(){return si(e,n)},r}function li(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Xr(t,e)},e.tickFormat=function(e,n){return d3_scale_linearTickFormat(t,e,n)},e.copy=function(){return li(t)},e}function ci(){return 0}t.scale.quantile=function(){return ai([],[])},t.scale.quantize=function(){return oi(0,1,[0,1])},t.scale.threshold=function(){return si([.5],[0,1])},t.scale.identity=function(){return li([0,1])},t.svg={},t.svg.arc=function(){var t=hi,e=di,n=ci,r=ui,i=fi,a=pi,o=mi;function s(){var s=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),u=i.apply(this,arguments)-At,h=a.apply(this,arguments)-At,d=Math.abs(h-u),f=u>h?0:1;if(c<s&&(p=c,c=s,s=p),d>=kt)return l(c,f)+(s?l(s,1-f):"")+"Z";var p,m,g,v,y,_,x,b,w,M,T,k,A=0,L=0,C=[];if((v=(+o.apply(this,arguments)||0)/2)&&(g=r===ui?Math.sqrt(s*s+c*c):+r.apply(this,arguments),f||(L*=-1),c&&(L=Pt(g/c*Math.sin(v))),s&&(A=Pt(g/s*Math.sin(v)))),c){y=c*Math.cos(u+L),_=c*Math.sin(u+L),x=c*Math.cos(h-L),b=c*Math.sin(h-L);var S=Math.abs(h-u-2*L)<=Mt?0:1;if(L&&gi(y,_,x,b)===f^S){var P=(u+h)/2;y=c*Math.cos(P),_=c*Math.sin(P),x=b=null}}else y=_=0;if(s){w=s*Math.cos(h-A),M=s*Math.sin(h-A),T=s*Math.cos(u+A),k=s*Math.sin(u+A);var D=Math.abs(u-h+2*A)<=Mt?0:1;if(A&&gi(w,M,T,k)===1-f^D){var O=(u+h)/2;w=s*Math.cos(O),M=s*Math.sin(O),T=k=null}}else w=M=0;if(d>wt&&(p=Math.min(Math.abs(c-s)/2,+n.apply(this,arguments)))>.001){m=s<c^f?0:1;var E=p,I=p;if(d<Mt){var z=null==T?[w,M]:null==x?[y,_]:Ce([y,_],[T,k],[x,b],[w,M]),N=y-z[0],R=_-z[1],F=x-z[0],j=b-z[1],B=1/Math.sin(Math.acos((N*F+R*j)/(Math.sqrt(N*N+R*R)*Math.sqrt(F*F+j*j)))/2),H=Math.sqrt(z[0]*z[0]+z[1]*z[1]);I=Math.min(p,(s-H)/(B-1)),E=Math.min(p,(c-H)/(B+1))}if(null!=x){var U=vi(null==T?[w,M]:[T,k],[y,_],c,E,f),Z=vi([x,b],[w,M],c,E,f);p===E?C.push("M",U[0],"A",E,",",E," 0 0,",m," ",U[1],"A",c,",",c," 0 ",1-f^gi(U[1][0],U[1][1],Z[1][0],Z[1][1]),",",f," ",Z[1],"A",E,",",E," 0 0,",m," ",Z[0]):C.push("M",U[0],"A",E,",",E," 0 1,",m," ",Z[0])}else C.push("M",y,",",_);if(null!=T){var V=vi([y,_],[T,k],s,-I,f),Y=vi([w,M],null==x?[y,_]:[x,b],s,-I,f);p===I?C.push("L",Y[0],"A",I,",",I," 0 0,",m," ",Y[1],"A",s,",",s," 0 ",f^gi(Y[1][0],Y[1][1],V[1][0],V[1][1]),",",1-f," ",V[1],"A",I,",",I," 0 0,",m," ",V[0]):C.push("L",Y[0],"A",I,",",I," 0 0,",m," ",V[0])}else C.push("L",w,",",M)}else C.push("M",y,",",_),null!=x&&C.push("A",c,",",c," 0 ",S,",",f," ",x,",",b),C.push("L",w,",",M),null!=T&&C.push("A",s,",",s," 0 ",D,",",1-f," ",T,",",k);return C.push("Z"),C.join("")}function l(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=ue(e),s):t},s.outerRadius=function(t){return arguments.length?(e=ue(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=ue(t),s):n},s.padRadius=function(t){return arguments.length?(r=t==ui?ui:ue(t),s):r},s.startAngle=function(t){return arguments.length?(i=ue(t),s):i},s.endAngle=function(t){return arguments.length?(a=ue(t),s):a},s.padAngle=function(t){return arguments.length?(o=ue(t),s):o},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-At;return[Math.cos(r)*n,Math.sin(r)*n]},s};var ui="auto";function hi(t){return t.innerRadius}function di(t){return t.outerRadius}function fi(t){return t.startAngle}function pi(t){return t.endAngle}function mi(t){return t&&t.padAngle}function gi(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function vi(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=t[0]+l,h=t[1]+c,d=e[0]+l,f=e[1]+c,p=(u+d)/2,m=(h+f)/2,g=d-u,v=f-h,y=g*g+v*v,_=n-r,x=u*f-d*h,b=(v<0?-1:1)*Math.sqrt(Math.max(0,_*_*y-x*x)),w=(x*v-g*b)/y,M=(-x*g-v*b)/y,T=(x*v+g*b)/y,k=(-x*g+v*b)/y,A=w-p,L=M-m,C=T-p,S=k-m;return A*A+L*L>C*C+S*S&&(w=T,M=k),[[w-l,M-c],[w*n/_,M*n/_]]}function yi(){return!0}function _i(t){var e=we,n=Me,r=yi,i=bi,a=i.key,o=.7;function s(a){var s,l=[],c=[],u=-1,h=a.length,d=ue(e),f=ue(n);function p(){l.push("M",i(t(c),o))}for(;++u<h;)r.call(this,s=a[u],u)?c.push([+d.call(this,s,u),+f.call(this,s,u)]):c.length&&(p(),c=[]);return c.length&&p(),l.length?l.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=xi.get(t)||bi).key,s):a},s.tension=function(t){return arguments.length?(o=t,s):o},s}t.svg.line=function(){return _i(S)};var xi=t.map({linear:bi,"linear-closed":wi,step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":Mi,"step-after":Ti,basis:Li,"basis-open":function(t){if(t.length<4)return bi(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(Ci(Di,a)+","+Ci(Di,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),Oi(n,a,o);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[Ci(Di,o),",",Ci(Di,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Oi(e,o,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,c=-1;++c<=n;)i=c/n,(r=t[c])[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*l);return Li(t)},cardinal:function(t,e){return t.length<3?bi(t):t[0]+ki(t,Ai(t,e))},"cardinal-open":function(t,e){return t.length<4?bi(t):t[1]+ki(t.slice(1,-1),Ai(t,e))},"cardinal-closed":function(t,e){return t.length<3?wi(t):t[0]+ki((t.push(t[0]),t),Ai([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?bi(t):t[0]+ki(t,function(t){for(var e,n,r,i,a=[],o=function(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=Ei(i,a);++e<n;)r[e]=(o+(o=Ei(i=a,a=t[e+1])))/2;return r[e]=o,r}(t),s=-1,l=t.length-1;++s<l;)e=Ei(t[s],t[s+1]),y(e)<wt?o[s]=o[s+1]=0:(i=(n=o[s]/e)*n+(r=o[s+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}(t))}});function bi(t){return t.length>1?t.join("L"):t+"Z"}function wi(t){return t.join("L")+"Z"}function Mi(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function Ti(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function ki(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return bi(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var c=2;c<e.length;c++,l++)a=t[l],s=e[c],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var u=t[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function Ai(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function Li(t){if(t.length<3)return bi(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",Ci(Di,o),",",Ci(Di,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Oi(l,o,s);return t.pop(),l.push("L",r),l.join("")}function Ci(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}xi.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var Si=[0,2/3,1/3,0],Pi=[0,1/3,2/3,0],Di=[0,1/6,2/3,1/6];function Oi(t,e,n){t.push("C",Ci(Si,e),",",Ci(Si,n),",",Ci(Pi,e),",",Ci(Pi,n),",",Ci(Di,e),",",Ci(Di,n))}function Ei(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ii(t){for(var e,n,r,i=-1,a=t.length;++i<a;)n=(e=t[i])[0],r=e[1]-At,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function zi(t){var e=we,n=we,r=0,i=Me,a=yi,o=bi,s=o.key,l=o,c="L",u=.7;function h(s){var h,d,f,p=[],m=[],g=[],v=-1,y=s.length,_=ue(e),x=ue(r),b=e===n?function(){return d}:ue(n),w=r===i?function(){return f}:ue(i);function M(){p.push("M",o(t(g),u),c,l(t(m.reverse()),u),"Z")}for(;++v<y;)a.call(this,h=s[v],v)?(m.push([d=+_.call(this,h,v),f=+x.call(this,h,v)]),g.push([+b.call(this,h,v),+w.call(this,h,v)])):m.length&&(M(),m=[],g=[]);return m.length&&M(),p.length?p.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(r=i=t,h):i},h.y0=function(t){return arguments.length?(r=t,h):r},h.y1=function(t){return arguments.length?(i=t,h):i},h.defined=function(t){return arguments.length?(a=t,h):a},h.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=xi.get(t)||bi).key,l=o.reverse||o,c=o.closed?"M":"L",h):s},h.tension=function(t){return arguments.length?(u=t,h):u},h}function Ni(t){return t.source}function Ri(t){return t.target}function Fi(t){return t.radius}function ji(t){return[t.x,t.y]}function Bi(){return 64}function Hi(){return"circle"}function Ui(t){var e=Math.sqrt(t/Mt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}t.svg.line.radial=function(){var t=_i(Ii);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Mi.reverse=Ti,Ti.reverse=Mi,t.svg.area=function(){return zi(S)},t.svg.area.radial=function(){var t=zi(Ii);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},t.svg.chord=function(){var t=Ni,e=Ri,n=Fi,r=fi,i=pi;function a(n,r){var i=o(this,t,n,r),a=o(this,e,n,r);return"M"+i.p0+s(i.r,i.p1,i.a1-i.a0)+(function(t,e){return t.a0==e.a0&&t.a1==e.a1}(i,a)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,a.r,a.p0)+s(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,i.r,i.p0))+"Z"}function o(t,e,a,o){var s=e.call(t,a,o),l=n.call(t,s,o),c=r.call(t,s,o)-At,u=i.call(t,s,o)-At;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Mt)+",1 "+e}function l(t,e,n,r){return"Q 0,0 "+r}return a.radius=function(t){return arguments.length?(n=ue(t),a):n},a.source=function(e){return arguments.length?(t=ue(e),a):t},a.target=function(t){return arguments.length?(e=ue(t),a):e},a.startAngle=function(t){return arguments.length?(r=ue(t),a):r},a.endAngle=function(t){return arguments.length?(i=ue(t),a):i},a},t.svg.diagonal=function(){var t=Ni,e=Ri,n=ji;function r(r,i){var a=t.call(this,r,i),o=e.call(this,r,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(e){return arguments.length?(t=ue(e),r):t},r.target=function(t){return arguments.length?(e=ue(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),n=ji,r=e.projection;return e.projection=function(t){return arguments.length?r(function(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-At;return[n*Math.cos(r),n*Math.sin(r)]}}(n=t)):n},e},t.svg.symbol=function(){var t=Hi,e=Bi;function n(n,r){return(Zi.get(t.call(this,n,r))||Ui)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ue(e),n):t},n.size=function(t){return arguments.length?(e=ue(t),n):e},n};var Zi=t.map({circle:Ui,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Yi)),n=e*Yi;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Vi),n=e*Vi/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Vi),n=e*Vi/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});t.svg.symbolTypes=Zi.keys();var Vi=Math.sqrt(3),Yi=Math.tan(30*Lt);Y.transition=function(t){for(var e,n,r=Xi||++$i,i=ea(t),a=[],o=Ji||{time:Date.now(),ease:Sn,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var c=this[s],u=-1,h=c.length;++u<h;)(n=c[u])&&na(n,u,i,r,o),e.push(n)}return qi(a,i,r)},Y.interrupt=function(t){return this.each(null==t?Wi:Gi(ea(t)))};var Wi=Gi(ea());function Gi(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function qi(t,e,n){return B(t,Ki),t.namespace=e,t.id=n,t}var Xi,Ji,Ki=[],$i=0;function Qi(t,e,n,r){var i=t.id,a=t.namespace;return ct(t,"function"==typeof n?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function ta(t){return null==t&&(t=""),function(){this.textContent=t}}function ea(t){return null==t?"__transition__":"__transition_"+t+"__"}function na(t,e,n,r,i){var a,o,s,l,c,u=t[n]||(t[n]={active:0,count:0}),h=u[r];function d(n){var i=u.active,d=u[i];for(var p in d&&(d.timer.c=null,d.timer.t=NaN,--u.count,delete u[i],d.event&&d.event.interrupt.call(t,t.__data__,d.index)),u)if(+p<r){var m=u[p];m.timer.c=null,m.timer.t=NaN,--u.count,delete u[p]}o.c=f,ye((function(){return o.c&&f(n||1)&&(o.c=null,o.t=NaN),1}),0,a),u.active=r,h.event&&h.event.start.call(t,t.__data__,e),c=[],h.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&c.push(r)})),l=h.ease,s=h.duration}function f(i){for(var a=i/s,o=l(a),d=c.length;d>0;)c[--d].call(t,o);if(a>=1)return h.event&&h.event.end.call(t,t.__data__,e),--u.count?delete u[r]:delete t[n],1}h||(a=i.time,o=ye((function(t){var e=h.delay;if(o.t=e+a,e<=t)return d(t-e);o.c=d}),0,a),h=u[r]={tween:new x,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++u.count)}Ki.call=Y.call,Ki.empty=Y.empty,Ki.node=Y.node,Ki.size=Y.size,t.transition=function(e,n){return e&&e.transition?Xi?e.transition(n):e:t.selection().transition(e)},t.transition.prototype=Ki,Ki.select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=W(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,h=c.length;++u<h;)(r=c[u])&&(n=t.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),na(n,u,a,i,r[a][i]),e.push(n)):e.push(null)}return qi(o,a,i)},Ki.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,l=[];t=G(t);for(var c=-1,u=this.length;++c<u;)for(var h=this[c],d=-1,f=h.length;++d<f;)if(r=h[d]){a=r[s][o],n=t.call(r,r.__data__,d,c),l.push(e=[]);for(var p=-1,m=n.length;++p<m;)(i=n[p])&&na(i,p,s,o,a),e.push(i)}return qi(l,s,o)},Ki.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=st(t));for(var i=0,a=this.length;i<a;i++){r.push(e=[]);for(var o,s=0,l=(o=this[i]).length;s<l;s++)(n=o[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return qi(r,this.namespace,this.id)},Ki.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):ct(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Ki.attr=function(e,n){if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var r="transform"==e?Bn:xn,i=t.ns.qualify(e);function a(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}return Qi(this,"attr."+e,n,i.local?function(t){return null==t?o:(t+="",function(){var e,n=this.getAttributeNS(i.space,i.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?a:(t+="",function(){var e,n=this.getAttribute(i);return n!==t&&(e=r(n,t),function(t){this.setAttribute(i,e(t))})})})},Ki.attrTween=function(e,n){var r=t.ns.qualify(e);return this.tween("attr."+e,r.local?function(t,e){var i=n.call(this,t,e,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,e){var i=n.call(this,t,e,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},Ki.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}return Qi(this,"style."+t,e,(function(e){return null==e?i:(e+="",function(){var r,i=o(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=xn(i,e),function(e){this.style.setProperty(t,r(e),n)})})}))},Ki.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,(function(r,i){var a=e.call(this,r,i,o(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}))},Ki.text=function(t){return Qi(this,"text",t,ta)},Ki.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Ki.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=t.ease.apply(t,arguments)),ct(this,(function(t){t[r][n].ease=e})))},Ki.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:ct(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},Ki.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:ct(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Ki.each=function(e,n){var r=this.id,i=this.namespace;if(arguments.length<2){var a=Ji,o=Xi;try{Xi=r,ct(this,(function(t,n,a){Ji=t[i][r],e.call(t,t.__data__,n,a)}))}finally{Ji=a,Xi=o}}else ct(this,(function(a){var o=a[i][r];(o.event||(o.event=t.dispatch("start","end","interrupt"))).on(e,n)}));return this},Ki.transition=function(){for(var t,e,n,r=this.id,i=++$i,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(t=[]);for(var c,u=0,h=(c=this[s]).length;u<h;u++)(e=c[u])&&na(e,u,a,i,{time:(n=e[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return qi(o,a,i)},t.svg.axis=function(){var e,n=t.scale.linear(),i=ra,a=6,o=6,s=3,l=[10],c=null;function u(r){r.each((function(){var r,u=t.select(this),h=this.__chart__||n,d=this.__chart__=n.copy(),f=null==c?d.ticks?d.ticks.apply(d,l):d.domain():c,p=null==e?d.tickFormat?d.tickFormat.apply(d,l):S:e,m=u.selectAll(".tick").data(f,d),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",wt),v=t.transition(m.exit()).style("opacity",wt).remove(),y=t.transition(m.order()).style("opacity",1),_=Math.max(a,0)+s,x=jr(d),b=u.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),t.transition(b));g.append("line"),g.append("text");var M,T,k,A,L=g.select("line"),C=y.select("line"),P=m.select("text").text(p),D=g.select("text"),O=y.select("text"),E="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(r=aa,M="x",k="y",T="x2",A="y2",P.attr("dy",E<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+E*o+"V0H"+x[1]+"V"+E*o)):(r=oa,M="y",k="x",T="y2",A="x2",P.attr("dy",".32em").style("text-anchor",E<0?"end":"start"),w.attr("d","M"+E*o+","+x[0]+"H0V"+x[1]+"H"+E*o)),L.attr(A,E*a),D.attr(k,E*_),C.attr(T,0).attr(A,E*a),O.attr(M,0).attr(k,E*_),d.rangeBand){var I=d,z=I.rangeBand()/2;h=d=function(t){return I(t)+z}}else h.rangeBand?h=d:v.call(r,d,h);g.call(r,h,d),y.call(r,d,d)}))}return u.scale=function(t){return arguments.length?(n=t,u):n},u.orient=function(t){return arguments.length?(i=t in ia?t+"":ra,u):i},u.ticks=function(){return arguments.length?(l=r(arguments),u):l},u.tickValues=function(t){return arguments.length?(c=t,u):c},u.tickFormat=function(t){return arguments.length?(e=t,u):e},u.tickSize=function(t){var e=arguments.length;return e?(a=+t,o=+arguments[e-1],u):a},u.innerTickSize=function(t){return arguments.length?(a=+t,u):a},u.outerTickSize=function(t){return arguments.length?(o=+t,u):o},u.tickPadding=function(t){return arguments.length?(s=+t,u):s},u.tickSubdivide=function(){return arguments.length&&u},u};var ra="bottom",ia={top:1,right:1,bottom:1,left:1};function aa(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function oa(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}t.svg.brush=function(){var e,n,r=F(d,"brushstart","brush","brushend"),i=null,a=null,s=[0,0],l=[0,0],c=!0,u=!0,h=la[0];function d(e){e.each((function(){var e=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),n=e.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(h,S);r.exit().remove(),r.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return sa[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",d.empty()?"none":null);var o,s=t.transition(e),l=t.transition(n);i&&(o=jr(i),l.attr("x",o[0]).attr("width",o[1]-o[0]),p(s)),a&&(o=jr(a),l.attr("y",o[0]).attr("height",o[1]-o[0]),m(s)),f(s)}))}function f(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+s[+/e$/.test(t)]+","+l[+/^s/.test(t)]+")"}))}function p(t){t.select(".extent").attr("x",s[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function m(t){t.select(".extent").attr("y",l[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function g(){var h,g,v=this,y=t.select(t.event.target),_=r.of(v,arguments),x=t.select(v),b=y.datum(),w=!/^(n|s)$/.test(b)&&i,M=!/^(e|w)$/.test(b)&&a,T=y.classed("extent"),k=yt(v),A=t.mouse(v),L=t.select(o(v)).on("keydown.brush",(function(){32==t.event.keyCode&&(T||(h=null,A[0]-=s[1],A[1]-=l[1],T=2),N())})).on("keyup.brush",(function(){32==t.event.keyCode&&2==T&&(A[0]+=s[1],A[1]+=l[1],T=0,N())}));if(t.event.changedTouches?L.on("touchmove.brush",P).on("touchend.brush",O):L.on("mousemove.brush",P).on("mouseup.brush",O),x.interrupt().selectAll("*").interrupt(),T)A[0]=s[0]-A[0],A[1]=l[0]-A[1];else if(b){var C=+/w$/.test(b),S=+/^n/.test(b);g=[s[1-C]-A[0],l[1-S]-A[1]],A[0]=s[C],A[1]=l[S]}else t.event.altKey&&(h=A.slice());function P(){var e=t.mouse(v),n=!1;g&&(e[0]+=g[0],e[1]+=g[1]),T||(t.event.altKey?(h||(h=[(s[0]+s[1])/2,(l[0]+l[1])/2]),A[0]=s[+(e[0]<h[0])],A[1]=l[+(e[1]<h[1])]):h=null),w&&D(e,i,0)&&(p(x),n=!0),M&&D(e,a,1)&&(m(x),n=!0),n&&(f(x),_({type:"brush",mode:T?"move":"resize"}))}function D(t,r,i){var a,o,d=jr(r),f=d[0],p=d[1],m=A[i],g=i?l:s,v=g[1]-g[0];if(T&&(f-=m,p-=v+m),a=(i?u:c)?Math.max(f,Math.min(p,t[i])):t[i],T?o=(a+=m)+v:(h&&(m=Math.max(f,Math.min(p,2*h[i]-a))),m<a?(o=a,a=m):o=m),g[0]!=a||g[1]!=o)return i?n=null:e=null,g[0]=a,g[1]=o,!0}function O(){P(),x.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),t.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),_({type:"brushend"})}x.style("pointer-events","none").selectAll(".resize").style("display",null),t.select("body").style("cursor",y.style("cursor")),_({type:"brushstart"}),P()}return d.event=function(i){i.each((function(){var i=r.of(this,arguments),a={x:s,y:l,i:e,j:n},o=this.__chart__||a;this.__chart__=a,Xi?t.select(this).transition().each("start.brush",(function(){e=o.i,n=o.j,s=o.x,l=o.y,i({type:"brushstart"})})).tween("brush:brush",(function(){var t=bn(s,a.x),r=bn(l,a.y);return e=n=null,function(e){s=a.x=t(e),l=a.y=r(e),i({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=a.i,n=a.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})})):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))}))},d.x=function(t){return arguments.length?(h=la[!(i=t)<<1|!a],d):i},d.y=function(t){return arguments.length?(h=la[!i<<1|!(a=t)],d):a},d.clamp=function(t){return arguments.length?(i&&a?(c=!!t[0],u=!!t[1]):i?c=!!t:a&&(u=!!t),d):i&&a?[c,u]:i?c:a?u:null},d.extent=function(t){var r,o,c,u,h;return arguments.length?(i&&(r=t[0],o=t[1],a&&(r=r[0],o=o[0]),e=[r,o],i.invert&&(r=i(r),o=i(o)),o<r&&(h=r,r=o,o=h),(r!=s[0]||o!=s[1])&&(s=[r,o])),a&&(c=t[0],u=t[1],i&&(c=c[1],u=u[1]),n=[c,u],a.invert&&(c=a(c),u=a(u)),u<c&&(h=c,c=u,u=h),(c!=l[0]||u!=l[1])&&(l=[c,u])),d):(i&&(e?(r=e[0],o=e[1]):(r=s[0],o=s[1],i.invert&&(r=i.invert(r),o=i.invert(o)),o<r&&(h=r,r=o,o=h))),a&&(n?(c=n[0],u=n[1]):(c=l[0],u=l[1],a.invert&&(c=a.invert(c),u=a.invert(u)),u<c&&(h=c,c=u,u=h))),i&&a?[[r,c],[o,u]]:i?[r,o]:a&&[c,u])},d.clear=function(){return d.empty()||(s=[0,0],l=[0,0],e=n=null),d},d.empty=function(){return!!i&&s[0]==s[1]||!!a&&l[0]==l[1]},t.rebind(d,r,"on")};var sa={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},la=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function ca(t){return JSON.parse(t.responseText)}function ua(t){var e=i.createRange();return e.selectNode(i.body),e.createContextualFragment(t.responseText)}t.text=he((function(t){return t.responseText})),t.json=function(t,e){return de(t,"application/json",ca,e)},t.html=function(t,e){return de(t,"text/html",ua,e)},t.xml=he((function(t){return t.responseXML})),"object"==typeof e&&e.exports?e.exports=t:this.d3=t}).apply(self)})),c=a(((t,e)=>{var n,r;n=t,r=function(t){var e=new Date,n=new Date;function r(t,i,a,o){function s(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return s.floor=function(e){return t(e=new Date(+e)),e},s.ceil=function(e){return t(e=new Date(e-1)),i(e,1),t(e),e},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return i(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(e,n,r){var a,o=[];if(e=s.ceil(e),r=null==r?1:Math.floor(r),!(e<n&&r>0))return o;do{o.push(a=new Date(+e)),i(e,r),t(e)}while(a<e&&e<n);return o},s.filter=function(e){return r((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,n){if(t>=t)if(n<0)for(;++n<=0;)for(;i(t,-1),!e(t););else for(;--n>=0;)for(;i(t,1),!e(t););}))},a&&(s.count=function(r,i){return e.setTime(+r),n.setTime(+i),t(e),t(n),Math.floor(a(e,n))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(o?function(e){return o(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}var i=r((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):i:null};var a=i.range,o=1e3,s=6e4,l=36e5,c=864e5,u=6048e5,h=r((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*o)}),(function(t,e){return(e-t)/o}),(function(t){return t.getUTCSeconds()})),d=h.range,f=r((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*o)}),(function(t,e){t.setTime(+t+e*s)}),(function(t,e){return(e-t)/s}),(function(t){return t.getMinutes()})),p=f.range,m=r((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*o-t.getMinutes()*s)}),(function(t,e){t.setTime(+t+e*l)}),(function(t,e){return(e-t)/l}),(function(t){return t.getHours()})),g=m.range,v=r((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/c}),(function(t){return t.getDate()-1})),y=v.range;function _(t){return r((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*s)/u}))}var x=_(0),b=_(1),w=_(2),M=_(3),T=_(4),k=_(5),A=_(6),L=x.range,C=b.range,S=w.range,P=M.range,D=T.range,O=k.range,E=A.range,I=r((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),z=I.range,N=r((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));N.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var R=N.range,F=r((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*s)}),(function(t,e){return(e-t)/s}),(function(t){return t.getUTCMinutes()})),j=F.range,B=r((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*l)}),(function(t,e){return(e-t)/l}),(function(t){return t.getUTCHours()})),H=B.range,U=r((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/c}),(function(t){return t.getUTCDate()-1})),Z=U.range;function V(t){return r((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/u}))}var Y=V(0),W=V(1),G=V(2),q=V(3),X=V(4),J=V(5),K=V(6),$=Y.range,Q=W.range,tt=G.range,et=q.range,nt=X.range,rt=J.range,it=K.range,at=r((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),ot=at.range,st=r((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));st.every=function(t){return isFinite(t=Math.floor(t))&&t>0?r((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var lt=st.range;t.timeDay=v,t.timeDays=y,t.timeFriday=k,t.timeFridays=O,t.timeHour=m,t.timeHours=g,t.timeInterval=r,t.timeMillisecond=i,t.timeMilliseconds=a,t.timeMinute=f,t.timeMinutes=p,t.timeMonday=b,t.timeMondays=C,t.timeMonth=I,t.timeMonths=z,t.timeSaturday=A,t.timeSaturdays=E,t.timeSecond=h,t.timeSeconds=d,t.timeSunday=x,t.timeSundays=L,t.timeThursday=T,t.timeThursdays=D,t.timeTuesday=w,t.timeTuesdays=S,t.timeWednesday=M,t.timeWednesdays=P,t.timeWeek=x,t.timeWeeks=L,t.timeYear=N,t.timeYears=R,t.utcDay=U,t.utcDays=Z,t.utcFriday=J,t.utcFridays=rt,t.utcHour=B,t.utcHours=H,t.utcMillisecond=i,t.utcMilliseconds=a,t.utcMinute=F,t.utcMinutes=j,t.utcMonday=W,t.utcMondays=Q,t.utcMonth=at,t.utcMonths=ot,t.utcSaturday=K,t.utcSaturdays=it,t.utcSecond=h,t.utcSeconds=d,t.utcSunday=Y,t.utcSundays=$,t.utcThursday=X,t.utcThursdays=nt,t.utcTuesday=G,t.utcTuesdays=tt,t.utcWednesday=q,t.utcWednesdays=et,t.utcWeek=Y,t.utcWeeks=$,t.utcYear=st,t.utcYears=lt,Object.defineProperty(t,"__esModule",{value:!0})},r("object"==typeof t&&void 0!==e?t:(n=n||self).d3=n.d3||{})})),u=a(((t,e)=>{var n,r;n=t,r=function(t,e){function n(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function r(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function a(t){var a=t.dateTime,o=t.date,l=t.time,c=t.periods,u=t.days,h=t.shortDays,d=t.months,yt=t.shortMonths,_t=f(c),xt=p(c),bt=f(u),wt=p(u),Mt=f(h),Tt=p(h),kt=f(d),At=p(d),Lt=f(yt),Ct=p(yt),St={a:function(t){return h[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return yt[t.getMonth()]},B:function(t){return d[t.getMonth()]},c:null,d:z,e:z,f:B,H:N,I:R,j:F,L:j,m:H,M:U,p:function(t){return c[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:gt,s:vt,S:Z,u:V,U:Y,V:W,w:G,W:q,x:null,X:null,y:X,Y:J,Z:K,"%":mt},Pt={a:function(t){return h[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return yt[t.getUTCMonth()]},B:function(t){return d[t.getUTCMonth()]},c:null,d:$,e:$,f:rt,H:Q,I:tt,j:et,L:nt,m:it,M:at,p:function(t){return c[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:gt,s:vt,S:ot,u:st,U:lt,V:ct,w:ut,W:ht,x:null,X:null,y:dt,Y:ft,Z:pt,"%":mt},Dt={a:function(t,e,n){var r=Mt.exec(e.slice(n));return r?(t.w=Tt[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=bt.exec(e.slice(n));return r?(t.w=wt[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=Lt.exec(e.slice(n));return r?(t.m=Ct[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=kt.exec(e.slice(n));return r?(t.m=At[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return It(t,a,e,n)},d:k,e:k,f:D,H:L,I:L,j:A,L:P,m:T,M:C,p:function(t,e,n){var r=_t.exec(e.slice(n));return r?(t.p=xt[r[0].toLowerCase()],n+r[0].length):-1},q:M,Q:E,s:I,S,u:g,U:v,V:y,w:m,W:_,x:function(t,e,n){return It(t,o,e,n)},X:function(t,e,n){return It(t,l,e,n)},y:b,Y:x,Z:w,"%":O};function Ot(t,e){return function(n){var r,i,a,o=[],l=-1,c=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++l<u;)37===t.charCodeAt(l)&&(o.push(t.slice(c,l)),null!=(i=s[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),c=l+1);return o.push(t.slice(c,l)),o.join("")}}function Et(t,a){return function(o){var s,l,c=i(1900,void 0,1);if(It(c,t,o+="",0)!=o.length)return null;if("Q"in c)return new Date(c.Q);if("s"in c)return new Date(1e3*c.s+("L"in c?c.L:0));if(a&&!("Z"in c)&&(c.Z=0),"p"in c&&(c.H=c.H%12+12*c.p),void 0===c.m&&(c.m="q"in c?c.q:0),"V"in c){if(c.V<1||c.V>53)return null;"w"in c||(c.w=1),"Z"in c?(l=(s=r(i(c.y,0,1))).getUTCDay(),s=l>4||0===l?e.utcMonday.ceil(s):e.utcMonday(s),s=e.utcDay.offset(s,7*(c.V-1)),c.y=s.getUTCFullYear(),c.m=s.getUTCMonth(),c.d=s.getUTCDate()+(c.w+6)%7):(l=(s=n(i(c.y,0,1))).getDay(),s=l>4||0===l?e.timeMonday.ceil(s):e.timeMonday(s),s=e.timeDay.offset(s,7*(c.V-1)),c.y=s.getFullYear(),c.m=s.getMonth(),c.d=s.getDate()+(c.w+6)%7)}else("W"in c||"U"in c)&&("w"in c||(c.w="u"in c?c.u%7:"W"in c?1:0),l="Z"in c?r(i(c.y,0,1)).getUTCDay():n(i(c.y,0,1)).getDay(),c.m=0,c.d="W"in c?(c.w+6)%7+7*c.W-(l+5)%7:c.w+7*c.U-(l+6)%7);return"Z"in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,r(c)):n(c)}}function It(t,e,n,r){for(var i,a,o=0,l=e.length,c=n.length;o<l;){if(r>=c)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=Dt[i in s?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return St.x=Ot(o,St),St.X=Ot(l,St),St.c=Ot(a,St),Pt.x=Ot(o,Pt),Pt.X=Ot(l,Pt),Pt.c=Ot(a,Pt),{format:function(t){var e=Ot(t+="",St);return e.toString=function(){return t},e},parse:function(t){var e=Et(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Ot(t+="",Pt);return e.toString=function(){return t},e},utcParse:function(t){var e=Et(t+="",!0);return e.toString=function(){return t},e}}}var o,s={"-":"",_:" ",0:"0"},l=/^\s*\d+/,c=/^%/,u=/[\\^$*+?|[\]().{}]/g;function h(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function d(t){return t.replace(u,"\\$&")}function f(t){return new RegExp("^(?:"+t.map(d).join("|")+")","i")}function p(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function m(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function g(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function v(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function y(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function x(t,e,n){var r=l.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function b(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function M(t,e,n){var r=l.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function T(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function k(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function A(t,e,n){var r=l.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function L(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function C(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function S(t,e,n){var r=l.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function P(t,e,n){var r=l.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function D(t,e,n){var r=l.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function O(t,e,n){var r=c.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function E(t,e,n){var r=l.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function I(t,e,n){var r=l.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function z(t,e){return h(t.getDate(),e,2)}function N(t,e){return h(t.getHours(),e,2)}function R(t,e){return h(t.getHours()%12||12,e,2)}function F(t,n){return h(1+e.timeDay.count(e.timeYear(t),t),n,3)}function j(t,e){return h(t.getMilliseconds(),e,3)}function B(t,e){return j(t,e)+"000"}function H(t,e){return h(t.getMonth()+1,e,2)}function U(t,e){return h(t.getMinutes(),e,2)}function Z(t,e){return h(t.getSeconds(),e,2)}function V(t){var e=t.getDay();return 0===e?7:e}function Y(t,n){return h(e.timeSunday.count(e.timeYear(t)-1,t),n,2)}function W(t,n){var r=t.getDay();return t=r>=4||0===r?e.timeThursday(t):e.timeThursday.ceil(t),h(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),n,2)}function G(t){return t.getDay()}function q(t,n){return h(e.timeMonday.count(e.timeYear(t)-1,t),n,2)}function X(t,e){return h(t.getFullYear()%100,e,2)}function J(t,e){return h(t.getFullYear()%1e4,e,4)}function K(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+h(e/60|0,"0",2)+h(e%60,"0",2)}function $(t,e){return h(t.getUTCDate(),e,2)}function Q(t,e){return h(t.getUTCHours(),e,2)}function tt(t,e){return h(t.getUTCHours()%12||12,e,2)}function et(t,n){return h(1+e.utcDay.count(e.utcYear(t),t),n,3)}function nt(t,e){return h(t.getUTCMilliseconds(),e,3)}function rt(t,e){return nt(t,e)+"000"}function it(t,e){return h(t.getUTCMonth()+1,e,2)}function at(t,e){return h(t.getUTCMinutes(),e,2)}function ot(t,e){return h(t.getUTCSeconds(),e,2)}function st(t){var e=t.getUTCDay();return 0===e?7:e}function lt(t,n){return h(e.utcSunday.count(e.utcYear(t)-1,t),n,2)}function ct(t,n){var r=t.getUTCDay();return t=r>=4||0===r?e.utcThursday(t):e.utcThursday.ceil(t),h(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),n,2)}function ut(t){return t.getUTCDay()}function ht(t,n){return h(e.utcMonday.count(e.utcYear(t)-1,t),n,2)}function dt(t,e){return h(t.getUTCFullYear()%100,e,2)}function ft(t,e){return h(t.getUTCFullYear()%1e4,e,4)}function pt(){return"+0000"}function mt(){return"%"}function gt(t){return+t}function vt(t){return Math.floor(+t/1e3)}function yt(e){return o=a(e),t.timeFormat=o.format,t.timeParse=o.parse,t.utcFormat=o.utcFormat,t.utcParse=o.utcParse,o}yt({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var _t="%Y-%m-%dT%H:%M:%S.%LZ",xt=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(_t),bt=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(_t);t.isoFormat=xt,t.isoParse=bt,t.timeFormatDefaultLocale=yt,t.timeFormatLocale=a,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==e?r(t,c()):r((n=n||self).d3=n.d3||{},n.d3)})),h=a(((t,e)=>{var n,r;n=t,r=function(t){function e(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function n(t){return(t=e(Math.abs(t)))?t[1]:NaN}var r,i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a(t){if(!(e=i.exec(t)))throw new Error("invalid format: "+t);var e;return new o({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function o(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function s(t,n){var r=e(t,n);if(!r)return t+"";var i=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}a.prototype=o.prototype,o.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var l={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return s(100*t,e)},r:s,s:function(t,n){var i=e(t,n);if(!i)return t+"";var a=i[0],o=i[1],s=o-(r=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,l=a.length;return s===l?a:s>l?a+new Array(s-l+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+e(t,Math.max(0,n+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function c(t){return t}var u,h=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function f(t){var e=void 0===t.grouping||void 0===t.thousands?c:function(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}(h.call(t.grouping,Number),t.thousands+""),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?c:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(h.call(t.numerals,String)),f=void 0===t.percent?"%":t.percent+"",p=void 0===t.minus?"-":t.minus+"",m=void 0===t.nan?"NaN":t.nan+"";function g(t){var n=(t=a(t)).fill,c=t.align,h=t.sign,g=t.symbol,v=t.zero,y=t.width,_=t.comma,x=t.precision,b=t.trim,w=t.type;"n"===w?(_=!0,w="g"):l[w]||(void 0===x&&(x=12),b=!0,w="g"),(v||"0"===n&&"="===c)&&(v=!0,n="0",c="=");var M="$"===g?i:"#"===g&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",T="$"===g?o:/[%p]/.test(w)?f:"",k=l[w],A=/[defgprs%]/.test(w);function L(t){var i,a,o,l=M,f=T;if("c"===w)f=k(t)+f,t="";else{var g=(t=+t)<0||1/t<0;if(t=isNaN(t)?m:k(Math.abs(t),x),b&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),g&&0==+t&&"+"!==h&&(g=!1),l=(g?"("===h?h:p:"-"===h||"("===h?"":h)+l,f=("s"===w?d[8+r/3]:"")+f+(g&&"("===h?")":""),A)for(i=-1,a=t.length;++i<a;)if(48>(o=t.charCodeAt(i))||o>57){f=(46===o?s+t.slice(i+1):t.slice(i))+f,t=t.slice(0,i);break}}_&&!v&&(t=e(t,1/0));var L=l.length+t.length+f.length,C=L<y?new Array(y-L+1).join(n):"";switch(_&&v&&(t=e(C+t,C.length?y-f.length:1/0),C=""),c){case"<":t=l+t+f+C;break;case"=":t=l+C+t+f;break;case"^":t=C.slice(0,L=C.length>>1)+l+t+f+C.slice(L);break;default:t=C+l+t+f}return u(t)}return x=void 0===x?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),L.toString=function(){return t+""},L}return{format:g,formatPrefix:function(t,e){var r=g(((t=a(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(n(e)/3))),o=Math.pow(10,-i),s=d[8+i/3];return function(t){return r(o*t)+s}}}}function p(e){return u=f(e),t.format=u.format,t.formatPrefix=u.formatPrefix,u}p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),t.FormatSpecifier=o,t.formatDefaultLocale=p,t.formatLocale=f,t.formatSpecifier=a,t.precisionFixed=function(t){return Math.max(0,-n(Math.abs(t)))},t.precisionPrefix=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(e)/3)))-n(Math.abs(t)))},t.precisionRound=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,n(e)-n(t))+1},Object.defineProperty(t,"__esModule",{value:!0})},r("object"==typeof t&&void 0!==e?t:(n="undefined"!=typeof globalThis?globalThis:n||self).d3=n.d3||{})})),d=a(((t,e)=>{e.exports=function(t){for(var e,n=t.length,r=0;r<n;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}})),f=a(((t,e)=>{var n=d();e.exports=function(t){var e=typeof t;if("string"===e){var r=t;if(0==(t=+t)&&n(r))return!1}else if("number"!==e)return!1;return t-t<1}})),p=a(((t,e)=>{e.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}})),m=a(((t,e)=>{var n,r;n=t,r=function(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"==typeof Uint8Array?[]:new Uint8Array(256),r=0;r<64;r++)n[e.charCodeAt(r)]=r;t.decode=function(t){var e,r,i,a,o,s=.75*t.length,l=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),h=new Uint8Array(u);for(e=0;e<l;e+=4)r=n[t.charCodeAt(e)],i=n[t.charCodeAt(e+1)],a=n[t.charCodeAt(e+2)],o=n[t.charCodeAt(e+3)],h[c++]=r<<2|i>>4,h[c++]=(15&i)<<4|a>>2,h[c++]=(3&a)<<6|63&o;return u},t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,a="";for(n=0;n<i;n+=3)a+=e[r[n]>>2],a+=e[(3&r[n])<<4|r[n+1]>>4],a+=e[(15&r[n+1])<<2|r[n+2]>>6],a+=e[63&r[n+2]];return i%3==2?a=a.substring(0,a.length-1)+"=":i%3==1&&(a=a.substring(0,a.length-2)+"=="),a},Object.defineProperty(t,"__esModule",{value:!0})},r("object"==typeof t&&void 0!==e?t:(n="undefined"!=typeof globalThis?globalThis:n||self)["base64-arraybuffer"]={})})),g=a(((t,e)=>{e.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t).hasOwnProperty("hasOwnProperty")}})),v=a((t=>{var e=m().decode,n=g(),r=Array.isArray,i=ArrayBuffer,a=DataView;function o(t){return i.isView(t)&&!(t instanceof a)}function s(t){return r(t)||o(t)}t.isTypedArray=o,t.isArrayOrTypedArray=s,t.isArray1D=function(t){return!s(t[0])},t.ensureArray=function(t,e){return r(t)||(t=[]),t.length=e,t};var l={u1c:"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,i1:"undefined"==typeof Int8Array?void 0:Int8Array,u1:"undefined"==typeof Uint8Array?void 0:Uint8Array,i2:"undefined"==typeof Int16Array?void 0:Int16Array,u2:"undefined"==typeof Uint16Array?void 0:Uint16Array,i4:"undefined"==typeof Int32Array?void 0:Int32Array,u4:"undefined"==typeof Uint32Array?void 0:Uint32Array,f4:"undefined"==typeof Float32Array?void 0:Float32Array,f8:"undefined"==typeof Float64Array?void 0:Float64Array};function c(t){return t.constructor===ArrayBuffer}function u(t,e,n){if(s(t)){if(s(t[0])){for(var r=n,i=0;i<t.length;i++)r=e(r,t[i].length);return r}return t.length}return 0}l.uint8c=l.u1c,l.uint8=l.u1,l.int8=l.i1,l.uint16=l.u2,l.int16=l.i2,l.uint32=l.u4,l.int32=l.i4,l.float32=l.f4,l.float64=l.f8,t.isArrayBuffer=c,t.decodeTypedArraySpec=function(t){var n=[],r=function(t){return{bdata:t.bdata,dtype:t.dtype,shape:t.shape}}(t),i=r.dtype,a=l[i];if(!a)throw new Error('Error in dtype: "'+i+'"');var o=a.BYTES_PER_ELEMENT,s=r.bdata;c(s)||(s=e(s));var u=void 0===r.shape?[s.byteLength/o]:(""+r.shape).split(",");u.reverse();var h,d,f=u.length,p=+u[0],m=o*p,g=0;if(1===f)n=new a(s);else if(2===f)for(h=+u[1],d=0;d<h;d++)n[d]=new a(s,g,p),g+=m;else{if(3!==f)throw new Error("ndim: "+f+'is not supported with the shape:"'+r.shape+'"');h=+u[1];for(var v=+u[2],y=0;y<v;y++)for(n[y]=[],d=0;d<h;d++)n[y][d]=new a(s,g,p),g+=m}return n.bdata=r.bdata,n.dtype=r.dtype,n.shape=u.reverse().join(","),t._inputArray=n,n},t.isTypedArraySpec=function(t){return n(t)&&t.hasOwnProperty("dtype")&&"string"==typeof t.dtype&&t.hasOwnProperty("bdata")&&("string"==typeof t.bdata||c(t.bdata))&&(void 0===t.shape||t.hasOwnProperty("shape")&&("string"==typeof t.shape||"number"==typeof t.shape))},t.concat=function(){var t,e,n,i,a,o,s,l,c=[],u=!0,h=0;for(n=0;n<arguments.length;n++)(o=(i=arguments[n]).length)&&(e?c.push(i):(e=i,a=o),r(i)?t=!1:(u=!1,h?t!==i.constructor&&(t=!1):t=i.constructor),h+=o);if(!h)return[];if(!c.length)return e;if(u)return e.concat.apply(e,c);if(t){for((s=new t(h)).set(e),n=0;n<c.length;n++)i=c[n],s.set(i,a),a+=i.length;return s}for(s=new Array(h),l=0;l<e.length;l++)s[l]=e[l];for(n=0;n<c.length;n++){for(i=c[n],l=0;l<i.length;l++)s[a+l]=i[l];a+=l}return s},t.maxRowLength=function(t){return u(t,Math.max,0)},t.minRowLength=function(t){return u(t,Math.min,1/0)}})),y=a(((t,e)=>{var n=f(),r=v().isArrayOrTypedArray;function i(t,e){return function(n){var a,o,s,l,c,u=t;for(l=0;l<e.length-1;l++){if(-1===(a=e[l])){for(o=!0,s=[],c=0;c<u.length;c++)s[c]=i(u[c],e.slice(l+1))(n),s[c]!==s[0]&&(o=!1);return o?s[0]:s}if("number"==typeof a&&!r(u)||"object"!=typeof(u=u[a])||null===u)return}if("object"==typeof u&&null!==u&&(s=u[e[l]],n||null!==s))return s}}e.exports=function(t,e){if(n(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";var r,a,o,l,c=e.split(".");for(l=0;l<c.length;l++)if("__"===String(c[l]).slice(0,2))throw"bad property string";for(l=0;l<c.length;){if(r=String(c[l]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(r[1])c[l]=r[1];else{if(0!==l)throw"bad property string";c.splice(0,1)}for(a=r[2].substr(1,r[2].length-2).split("]["),o=0;o<a.length;o++)l++,c.splice(l,0,Number(a[o]))}l++}return"object"!=typeof t?function(t,e,n){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:n,obj:t}}(t,e,c):{set:s(t,c,e),get:i(t,c),astr:e,parts:c,obj:t}};var a=/(^|\.)args\[/;function o(t,e){return void 0===t||null===t&&!e.match(a)}function s(t,e,n){return function(i){var a,s,h=t,d="",f=[[t,d]],p=o(i,n);for(s=0;s<e.length-1;s++){if("number"==typeof(a=e[s])&&!r(h))throw"array index but container is not an array";if(-1===a){if(p=!c(h,e.slice(s+1),i,n))break;return}if(!u(h,a,e[s+1],p))break;if("object"!=typeof(h=h[a])||null===h)throw"container is not an object";d=l(d,a),f.push([h,d])}if(p){if(s===e.length-1&&(delete h[e[s]],Array.isArray(h)&&+e[s]==h.length-1))for(;h.length&&void 0===h[h.length-1];)h.pop()}else h[e[s]]=i}}function l(t,e){var r=e;return n(e)?r="["+e+"]":t&&(r="."+e),t+r}function c(t,e,n,i){var a,l=r(n),c=!0,h=n,d=i.replace("-1",0),f=!l&&o(n,d),p=e[0];for(a=0;a<t.length;a++)d=i.replace("-1",a),l&&(f=o(h=n[a%n.length],d)),f&&(c=!1),u(t,a,p,f)&&s(t[a],e,i.replace("-1",a))(h);return c}function u(t,e,n,r){if(void 0===t[e]){if(r)return!1;t[e]="number"==typeof n?[]:{}}return!0}})),_=a(((t,e)=>{var n=y(),r=/^\w*$/;e.exports=function(t,e,i,a){i=i||"name",a=a||"value";var o,s,l,c={};e&&e.length?(l=n(t,e),s=l.get()):s=t,e=e||"";var u={};if(s)for(o=0;o<s.length;o++)u[s[o][i]]=o;var h=r.test(a),d={set:function(t,e){var r=null===e?4:0;if(!s){if(!l||4===r)return;s=[],l.set(s)}var o=u[t];if(void 0===o){if(4===r)return;r|=3,o=s.length,u[t]=o}else e!==(h?s[o][a]:n(s[o],a).get())&&(r|=2);var f=s[o]=s[o]||{};return f[i]=t,h?f[a]=e:n(f,a).set(e),null!==e&&(r&=-5),c[o]=c[o]|r,d},get:function(t){if(s){var e=u[t];if(void 0!==e)return h?s[e][a]:n(s[e],a).get()}},rename:function(t,e){var n=u[t];return void 0===n||(c[n]=1|c[n],u[e]=n,delete u[t],s[n][i]=e),d},remove:function(t){var e=u[t];if(void 0===e)return d;var r=s[e];if(Object.keys(r).length>2)return c[e]=2|c[e],d.set(t,null);if(h){for(o=e;o<s.length;o++)c[o]=3|c[o];for(o=e;o<s.length;o++)u[s[o][i]]--;s.splice(e,1),delete u[t]}else n(r,a).set(null),c[e]=6|c[e];return d},constructUpdate:function(){for(var t,r,o={},l=Object.keys(c),u=0;u<l.length;u++)r=l[u],t=e+"["+r+"]",s[r]?(1&c[r]&&(o[t+"."+i]=s[r][i]),2&c[r]&&(o[t+"."+a]=h?4&c[r]?null:s[r][a]:4&c[r]?null:n(s[r],a).get())):o[t]=null;return o}};return d}})),x=a(((t,e)=>{var n=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,r=/^[^\.\[\]]+$/;e.exports=function(t,e){for(;e;){var i=t.match(n);if(i)t=i[1];else{if(!t.match(r))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e}})),b=a(((t,e)=>{var n=f();e.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var r=Math.log(Math.min(e[0],e[1]))/Math.LN10;return n(r)||(r=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),r}})),w=a(((t,e)=>{var n=v().isArrayOrTypedArray,r=g();e.exports=function t(e,i){for(var a in i){var o=i[a],s=e[a];if(s!==o)if("_"===a.charAt(0)||"function"==typeof o){if(a in e)continue;e[a]=o}else if(n(o)&&n(s)&&r(o[0])){if("customdata"===a||"ids"===a)continue;for(var l=Math.min(o.length,s.length),c=0;c<l;c++)s[c]!==o[c]&&r(o[c])&&r(s[c])&&t(s[c],o[c])}else r(o)&&r(s)&&(t(s,o),Object.keys(s).length||delete e[a])}}})),M=a(((t,e)=>{e.exports={mod:function(t,e){var n=t%e;return n<0?n+e:n},modHalf:function(t,e){return Math.abs(t)>e/2?t-Math.round(t/e)*e:t}}})),T=a(((t,e)=>{!function(t){var n=/^\s+/,r=/\s+$/,i=0,a=t.round,o=t.min,s=t.max,l=t.random;function c(e,l){if(l=l||{},(e=e||"")instanceof c)return e;if(!(this instanceof c))return new c(e,l);var u=function(e){var i={r:0,g:0,b:0},a=1,l=null,c=null,u=null,h=!1,d=!1;return"string"==typeof e&&(e=function(t){t=t.replace(n,"").replace(r,"").toLowerCase();var e,i=!1;if(L[t])t=L[t],i=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=B.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=B.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=B.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=B.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=B.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=B.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=B.hex8.exec(t))?{r:O(e[1]),g:O(e[2]),b:O(e[3]),a:N(e[4]),format:i?"name":"hex8"}:(e=B.hex6.exec(t))?{r:O(e[1]),g:O(e[2]),b:O(e[3]),format:i?"name":"hex"}:(e=B.hex4.exec(t))?{r:O(e[1]+""+e[1]),g:O(e[2]+""+e[2]),b:O(e[3]+""+e[3]),a:N(e[4]+""+e[4]),format:i?"name":"hex8"}:!!(e=B.hex3.exec(t))&&{r:O(e[1]+""+e[1]),g:O(e[2]+""+e[2]),b:O(e[3]+""+e[3]),format:i?"name":"hex"}}(e)),"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(i=function(t,e,n){return{r:255*P(t,255),g:255*P(e,255),b:255*P(n,255)}}(e.r,e.g,e.b),h=!0,d="%"===String(e.r).substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(l=I(e.s),c=I(e.v),i=function(e,n,r){e=6*P(e,360),n=P(n,100),r=P(r,100);var i=t.floor(e),a=e-i,o=r*(1-n),s=r*(1-a*n),l=r*(1-(1-a)*n),c=i%6;return{r:255*[r,s,o,o,l,r][c],g:255*[l,r,r,s,o,o][c],b:255*[o,o,l,r,r,s][c]}}(e.h,l,c),h=!0,d="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(l=I(e.s),u=I(e.l),i=function(t,e,n){var r,i,a;function o(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=P(t,360),e=P(e,100),n=P(n,100),0===e)r=i=a=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;r=o(l,s,t+1/3),i=o(l,s,t),a=o(l,s,t-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,l,u),h=!0,d="hsl"),e.hasOwnProperty("a")&&(a=e.a)),a=S(a),{ok:h,format:e.format||d,r:o(255,s(i.r,0)),g:o(255,s(i.g,0)),b:o(255,s(i.b,0)),a}}(e);this._originalInput=e,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=a(100*this._a)/100,this._format=l.format||u.format,this._gradientType=l.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=u.ok,this._tc_id=i++}function u(t,e,n){t=P(t,255),e=P(e,255),n=P(n,255);var r,i,a=s(t,e,n),l=o(t,e,n),c=(a+l)/2;if(a==l)r=i=0;else{var u=a-l;switch(i=c>.5?u/(2-a-l):u/(a+l),a){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,l:c}}function h(t,e,n){t=P(t,255),e=P(e,255),n=P(n,255);var r,i,a=s(t,e,n),l=o(t,e,n),c=a,u=a-l;if(i=0===a?0:u/a,a==l)r=0;else{switch(a){case t:r=(e-n)/u+(e<n?6:0);break;case e:r=(n-t)/u+2;break;case n:r=(t-e)/u+4}r/=6}return{h:r,s:i,v:c}}function d(t,e,n,r){var i=[E(a(t).toString(16)),E(a(e).toString(16)),E(a(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(t,e,n,r){return[E(z(r)),E(a(t).toString(16)),E(a(e).toString(16)),E(a(n).toString(16))].join("")}function p(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s-=e/100,n.s=D(n.s),c(n)}function m(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s+=e/100,n.s=D(n.s),c(n)}function g(t){return c(t).desaturate(100)}function v(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l+=e/100,n.l=D(n.l),c(n)}function y(t,e){e=0===e?0:e||10;var n=c(t).toRgb();return n.r=s(0,o(255,n.r-a(-e/100*255))),n.g=s(0,o(255,n.g-a(-e/100*255))),n.b=s(0,o(255,n.b-a(-e/100*255))),c(n)}function _(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l-=e/100,n.l=D(n.l),c(n)}function x(t,e){var n=c(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,c(n)}function b(t){var e=c(t).toHsl();return e.h=(e.h+180)%360,c(e)}function w(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+120)%360,s:e.s,l:e.l}),c({h:(n+240)%360,s:e.s,l:e.l})]}function M(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+90)%360,s:e.s,l:e.l}),c({h:(n+180)%360,s:e.s,l:e.l}),c({h:(n+270)%360,s:e.s,l:e.l})]}function T(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+72)%360,s:e.s,l:e.l}),c({h:(n+216)%360,s:e.s,l:e.l})]}function k(t,e,n){e=e||6,n=n||30;var r=c(t).toHsl(),i=360/n,a=[c(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(c(r));return a}function A(t,e){e=e||6;for(var n=c(t).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/e;e--;)o.push(c({h:r,s:i,v:a})),a=(a+s)%1;return o}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,n,r,i=this.toRgb();return e=i.r/255,n=i.g/255,r=i.b/255,.2126*(e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:t.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4))},setAlpha:function(t){return this._a=S(t),this._roundA=a(100*this._a)/100,this},toHsv:function(){var t=h(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=h(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),r=a(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=a(360*t.h),n=a(100*t.s),r=a(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return d(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return function(t,e,n,r,i){var o=[E(a(t).toString(16)),E(a(e).toString(16)),E(a(n).toString(16)),E(z(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*P(this._r,255))+"%",g:a(100*P(this._g,255))+"%",b:a(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*P(this._r,255))+"%, "+a(100*P(this._g,255))+"%, "+a(100*P(this._b,255))+"%)":"rgba("+a(100*P(this._r,255))+"%, "+a(100*P(this._g,255))+"%, "+a(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(C[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=c(t);n="#"+f(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),("hex"===t||"hex6"===t)&&(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return c(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(y,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(x,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},c.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]="a"===r?t[r]:I(t[r]));t=n}return c(t,e)},c.equals=function(t,e){return!(!t||!e)&&c(t).toRgbString()==c(e).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})},c.mix=function(t,e,n){n=0===n?0:n||50;var r=c(t).toRgb(),i=c(e).toRgb(),a=n/100;return c({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},c.readability=function(e,n){var r=c(e),i=c(n);return(t.max(r.getLuminance(),i.getLuminance())+.05)/(t.min(r.getLuminance(),i.getLuminance())+.05)},c.isReadable=function(t,e,n){var r,i,a=c.readability(t,e);switch(i=!1,r=function(t){var e,n;return"AA"!==(e=((t=t||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==e&&(e="AA"),"small"!==(n=(t.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:e,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},c.mostReadable=function(t,e,n){var r,i,a,o,s=null,l=0;i=(n=n||{}).includeFallbackColors,a=n.level,o=n.size;for(var u=0;u<e.length;u++)(r=c.readability(t,e[u]))>l&&(l=r,s=c(e[u]));return c.isReadable(t,s,{level:a,size:o})||!i?s:(n.includeFallbackColors=!1,c.mostReadable(t,["#fff","#000"],n))};var L=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=c.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(L);function S(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function P(e,n){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(e)&&(e="100%");var r=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(e);return e=o(n,s(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),t.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function D(t){return o(1,s(0,t))}function O(t){return parseInt(t,16)}function E(t){return 1==t.length?"0"+t:""+t}function I(t){return t<=1&&(t=100*t+"%"),t}function z(e){return t.round(255*parseFloat(e)).toString(16)}function N(t){return O(t)/255}var R,F,j,B=(F="[\\s|\\(]+("+(R="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",j="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",{CSS_UNIT:new RegExp(R),rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(t){return!!B.CSS_UNIT.exec(t)}void 0!==e&&e.exports?e.exports=c:window.tinycolor=c}(Math)})),k=a((t=>{var e=g(),n=Array.isArray;function r(t,i,a,o){var s,l,c,u,h,d,f,p=t[0],m=t.length;if(2===m&&n(p)&&n(t[1])&&0===p.length){if(f=function(t,e){var n,r;for(n=0;n<t.length;n++){if(null!==(r=t[n])&&"object"==typeof r)return!1;void 0!==r&&(e[n]=r)}return!0}(t[1],p),f)return p;p.splice(0,p.length)}for(var g=1;g<m;g++)for(l in s=t[g])c=p[l],u=s[l],o&&n(u)?p[l]=u:i&&u&&(e(u)||(h=n(u)))?(h?(h=!1,d=c&&n(c)?c:[]):d=c&&e(c)?c:{},p[l]=r([d,u],i,a,o)):(void 0!==u||a)&&(p[l]=u);return p}t.extendFlat=function(){return r(arguments,!1,!1,!1)},t.extendDeep=function(){return r(arguments,!0,!1,!1)},t.extendDeepAll=function(){return r(arguments,!0,!0,!1)},t.extendDeepNoArrays=function(){return r(arguments,!0,!1,!0)}})),A=a(((t,e)=>{e.exports=function(t){var e=t.variantValues,n=t.editType,r=t.colorEditType;void 0===r&&(r=n);var i={editType:n,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};t.noNumericWeightValues&&(i.valType="enumerated",i.values=i.extras,i.extras=void 0,i.min=void 0,i.max=void 0);var a={family:{valType:"string",noBlank:!0,strict:!0,editType:n},size:{valType:"number",min:1,editType:n},color:{valType:"color",editType:r},weight:i,style:{editType:n,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:t.noFontVariant?void 0:{editType:n,valType:"enumerated",values:e||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:t.noFontTextcase?void 0:{editType:n,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:t.noFontLineposition?void 0:{editType:n,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:t.noFontShadow?void 0:{editType:n,valType:"string",dflt:t.autoShadowDflt?"auto":"none"},editType:n};return t.autoSize&&(a.size.dflt="auto"),t.autoColor&&(a.color.dflt="auto"),t.arrayOk&&(a.family.arrayOk=!0,a.weight.arrayOk=!0,a.style.arrayOk=!0,t.noFontVariant||(a.variant.arrayOk=!0),t.noFontTextcase||(a.textcase.arrayOk=!0),t.noFontLineposition||(a.lineposition.arrayOk=!0),t.noFontShadow||(a.shadow.arrayOk=!0),a.size.arrayOk=!0,a.color.arrayOk=!0),a}})),L=a(((t,e)=>{e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}})),C=a(((t,e)=>{var n=L(),r=A(),i=r({editType:"none"});i.family.dflt=n.HOVERFONT,i.size.dflt=n.HOVERFONTSIZE,e.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:i,grouptitlefont:r({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}})),S=a(((t,e)=>{var n=A(),r=C().hoverlabel,i=k().extendFlat;e.exports={hoverlabel:{bgcolor:i({},r.bgcolor,{arrayOk:!0}),bordercolor:i({},r.bordercolor,{arrayOk:!0}),font:n({arrayOk:!0,editType:"none"}),align:i({},r.align,{arrayOk:!0}),namelength:i({},r.namelength,{arrayOk:!0}),editType:"none"}}})),P=a(((t,e)=>{var n=A(),r=S();e.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:n({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}})),D=a(((t,e)=>{var n=T(),r={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=r.RdBu;function a(t){var e=0;if(!Array.isArray(t)||t.length<2||!t[0]||!t[t.length-1]||0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var r=0;r<t.length;r++){var i=t[r];if(2!==i.length||+i[0]<e||!n(i[1]).isValid())return!1;e=+i[0]}return!0}e.exports={scales:r,defaultScale:i,get:function(t,e){if(e||(e=i),!t)return e;function n(){try{t=r[t]||JSON.parse(t)}catch(n){t=e}}return"string"==typeof t&&(n(),"string"==typeof t&&n()),a(t)?t:e},isValid:function(t){return void 0!==r[t]||a(t)}}})),O=a((t=>{t.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],t.defaultLine="#444",t.lightLine="#eee",t.background="#fff",t.borderLine="#BEC8D9",t.lightFraction=1e3/11})),E=a(((t,e)=>{var n=T(),r=f(),i=v().isTypedArray,a=e.exports={},o=O();a.defaults=o.defaults;var s=a.defaultLine=o.defaultLine;a.lightLine=o.lightLine;var l=a.background=o.background;function c(t){if(r(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var n=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var i=n[1].trim().split(/\s*[\s,]\s*/),a="a"===e.charAt(3)&&4===i.length;if(!a&&3!==i.length)return t;for(var o=0;o<i.length;o++){if(!(i[o].length&&(i[o]=Number(i[o]),i[o]>=0)))return t;if(3===o)i[o]>1&&(i[o]=1);else if(i[o]>=1)return t}var s=Math.round(255*i[0])+", "+Math.round(255*i[1])+", "+Math.round(255*i[2]);return a?"rgba("+s+", "+i[3]+")":"rgb("+s+")"}a.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},a.rgb=function(t){return a.tinyRGB(n(t))},a.opacity=function(t){return t?n(t).getAlpha():0},a.addOpacity=function(t,e){var r=n(t).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+e+")"},a.combine=function(t,e){var r=n(t).toRgb();if(1===r.a)return n(t).toRgbString();var i=n(e||l).toRgb(),a=1===i.a?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a},o={r:a.r*(1-r.a)+r.r*r.a,g:a.g*(1-r.a)+r.g*r.a,b:a.b*(1-r.a)+r.b*r.a};return n(o).toRgbString()},a.interpolate=function(t,e,r){var i=n(t).toRgb(),a=n(e).toRgb(),o={r:r*i.r+(1-r)*a.r,g:r*i.g+(1-r)*a.g,b:r*i.b+(1-r)*a.b};return n(o).toRgbString()},a.contrast=function(t,e,r){var i=n(t);return 1!==i.getAlpha()&&(i=n(a.combine(t,l))),(i.isDark()?e?i.lighten(e):l:r?i.darken(r):s).toString()},a.stroke=function(t,e){var r=n(e);t.style({stroke:a.tinyRGB(r),"stroke-opacity":r.getAlpha()})},a.fill=function(t,e){var r=n(e);t.style({fill:a.tinyRGB(r),"fill-opacity":r.getAlpha()})},a.clean=function(t){if(t&&"object"==typeof t){var e,n,r,o,s=Object.keys(t);for(e=0;e<s.length;e++)if(o=t[r=s[e]],"color"===r.substr(r.length-5))if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=c(o[n]);else t[r]=c(o);else if("colorscale"===r.substr(r.length-10)&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=c(o[n][1]));else if(Array.isArray(o)){var l=o[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(n=0;n<o.length;n++)a.clean(o[n])}else o&&"object"==typeof o&&!i(o)&&a.clean(o)}}})),I=a(((t,e)=>{e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}})),z=a((t=>{t.counter=function(t,e,n,r){var i=(e||"")+(n?"":"$"),a=!1===r?"":"^";return"xy"===t?new RegExp(a+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(a+t+"([2-9]|[1-9][0-9]+)?"+i)}})),N=a((t=>{var e=f(),n=T(),r=k().extendFlat,i=P(),a=D(),o=E(),s=I().DESELECTDIM,l=y(),c=z().counter,u=M().modHalf,h=v().isArrayOrTypedArray,d=v().isTypedArraySpec,p=v().decodeTypedArraySpec;function m(e,n){var r=t.valObjectMeta[n.valType];if(n.arrayOk&&h(e))return!0;if(r.validateFunction)return r.validateFunction(e,n);var i={},a=i,o={set:function(t){a=t}};return r.coerceFunction(e,o,i,n),a!==i}t.valObjectMeta={data_array:{coerceFunction:function(t,e,n){e.set(h(t)?t:d(t)?p(t):n)}},enumerated:{coerceFunction:function(t,e,n,r){r.coerceNumber&&(t=+t),-1===r.values.indexOf(t)?e.set(n):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var n=e.values,r=0;r<n.length;r++){var i=String(n[r]);if("/"===i.charAt(0)&&"/"===i.charAt(i.length-1)){if(new RegExp(i.substr(1,i.length-2)).test(t))return!0}else if(t===n[r])return!0}return!1}},boolean:{coerceFunction:function(t,e,n){!0===t||!1===t?e.set(t):e.set(n)}},number:{coerceFunction:function(t,n,r,i){d(t)&&(t=p(t)),!e(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?n.set(r):n.set(+t)}},integer:{coerceFunction:function(t,n,r,i){-1===(i.extras||[]).indexOf(t)?(d(t)&&(t=p(t)),t%1||!e(t)||void 0!==i.min&&t<i.min||void 0!==i.max&&t>i.max?n.set(r):n.set(+t)):n.set(t)}},string:{coerceFunction:function(t,e,n,r){if("string"!=typeof t){var i="number"==typeof t;!0!==r.strict&&i?e.set(String(t)):e.set(n)}else r.noBlank&&!t?e.set(n):e.set(t)}},color:{coerceFunction:function(t,e,r){d(t)&&(t=p(t)),n(t).isValid()?e.set(t):e.set(r)}},colorlist:{coerceFunction:function(t,e,r){Array.isArray(t)&&t.length&&t.every((function(t){return n(t).isValid()}))?e.set(t):e.set(r)}},colorscale:{coerceFunction:function(t,e,n){e.set(a.get(t,n))}},angle:{coerceFunction:function(t,n,r){d(t)&&(t=p(t)),"auto"===t?n.set("auto"):e(t)?n.set(u(+t,360)):n.set(r)}},subplotid:{coerceFunction:function(t,e,n,r){var i=r.regex||c(n);"string"==typeof t&&i.test(t)?e.set(t):e.set(n)},validateFunction:function(t,e){var n=e.dflt;return t===n||"string"==typeof t&&!!c(n).test(t)}},flaglist:{coerceFunction:function(t,e,n,r){if(-1===(r.extras||[]).indexOf(t))if("string"==typeof t){for(var i=t.split("+"),a=0;a<i.length;){var o=i[a];-1===r.flags.indexOf(o)||i.indexOf(o)<a?i.splice(a,1):a++}i.length?e.set(i.join("+")):e.set(n)}else e.set(n);else e.set(t)}},any:{coerceFunction:function(t,e,n){void 0===t?e.set(n):e.set(d(t)?p(t):t)}},info_array:{coerceFunction:function(e,n,r,i){function a(e,n,r){var i,a={set:function(t){i=t}};return void 0===r&&(r=n.dflt),t.valObjectMeta[n.valType].coerceFunction(e,a,r,n),i}if(d(e)&&(e=p(e)),h(e)){var o,s,l,c,u,f,m=2===i.dimensions||"1-2"===i.dimensions&&Array.isArray(e)&&h(e[0]),g=i.items,v=[],y=Array.isArray(g),_=y&&m&&h(g[0]),x=m&&y&&!_,b=y&&!x?g.length:e.length;if(r=Array.isArray(r)?r:[],m)for(o=0;o<b;o++)for(v[o]=[],l=h(e[o])?e[o]:[],u=x?g.length:y?g[o].length:l.length,s=0;s<u;s++)c=x?g[s]:y?g[o][s]:g,void 0!==(f=a(l[s],c,(r[o]||[])[s]))&&(v[o][s]=f);else for(o=0;o<b;o++)void 0!==(f=a(e[o],y?g[o]:g,r[o]))&&(v[o]=f);n.set(v)}else n.set(r)},validateFunction:function(t,e){if(!h(t))return!1;var n=e.items,r=Array.isArray(n),i=2===e.dimensions;if(!e.freeLength&&t.length!==n.length)return!1;for(var a=0;a<t.length;a++)if(i){if(!h(t[a])||!e.freeLength&&t[a].length!==n[a].length)return!1;for(var o=0;o<t[a].length;o++)if(!m(t[a][o],r?n[a][o]:n))return!1}else if(!m(t[a],r?n[a]:n))return!1;return!0}}},t.coerce=function(e,n,r,i,a){var o=l(r,i).get(),s=l(e,i),c=l(n,i),u=s.get(),f=n._template;if(void 0===u&&f&&(u=l(f,i).get(),f=0),void 0===a&&(a=o.dflt),o.arrayOk){if(h(u))return c.set(u),u;if(d(u))return u=p(u),c.set(u),u}var g=t.valObjectMeta[o.valType].coerceFunction;g(u,c,a,o);var v=c.get();return f&&v===a&&!m(u,o)&&(g(u=l(f,i).get(),c,a,o),v=c.get()),v},t.coerce2=function(e,n,r,i,a){var o=l(e,i),s=t.coerce(e,n,r,i,a);return null!=o.get()&&s},t.coerceFont=function(t,e,n,i){i||(i={}),n=r({},n);var a={family:t(e+".family",(n=r(n,i.overrideDflt||{})).family),size:t(e+".size",n.size),color:t(e+".color",n.color),weight:t(e+".weight",n.weight),style:t(e+".style",n.style)};if(i.noFontVariant||(a.variant=t(e+".variant",n.variant)),i.noFontLineposition||(a.lineposition=t(e+".lineposition",n.lineposition)),i.noFontTextcase||(a.textcase=t(e+".textcase",n.textcase)),!i.noFontShadow){var o=n.shadow;"none"===o&&i.autoShadowDflt&&(o="auto"),a.shadow=t(e+".shadow",o)}return a},t.coercePattern=function(t,e,n,r){if(t(e+".shape")){t(e+".solidity"),t(e+".size");var i="overlay"===t(e+".fillmode");if(!r){var a=t(e+".bgcolor",i?n:void 0);t(e+".fgcolor",i?o.contrast(a):n)}t(e+".fgopacity",i?.5:1)}},t.coerceHoverinfo=function(e,n,r){var a,o=n._module.attributes,s=o.hoverinfo?o:i,l=s.hoverinfo;if(1===r._dataLength){var c="all"===l.dflt?l.flags.slice():l.dflt.split("+");c.splice(c.indexOf("name"),1),a=c.join("+")}return t.coerce(e,n,s,"hoverinfo",a)},t.coerceSelectionMarkerOpacity=function(t,e){if(t.marker){var n,r,i=t.marker.opacity;void 0!==i&&(!h(i)&&!t.selected&&!t.unselected&&(n=i,r=s*i),e("selected.marker.opacity",n),e("unselected.marker.opacity",r))}},t.validate=m})),R=a(((t,e)=>{var n={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},r={};!function t(e,n){for(var r in e){var i=e[r];i.valType?n[r]=i.dflt:(n[r]||(n[r]={}),t(i,n[r]))}}(n,r),e.exports={configAttributes:n,dfltConfig:r}})),F=a(((t,e)=>{var n=l(),r=f(),i=[];e.exports=function(t,e){if(-1===i.indexOf(t)){i.push(t);var a=1e3;r(e)?a=e:"long"===e&&(a=3e3);var o=n.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0),o.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(t){var r=n.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){r.transition().call(s)}));for(var i=r.append("p"),o=t.split(/<br\s*\/?>/g),l=0;l<o.length;l++)l&&i.append("br"),i.append("span").text(o[l]);"stick"===e?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(a).call(s)}))}function s(t){t.duration(700).style("opacity",0).each("end",(function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1),n.select(this).remove()}))}}})),j=a(((t,e)=>{var n=R().dfltConfig,r=F(),i=e.exports={};i.log=function(){var t;if(n.logging>1){var e=["LOG:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(n.notifyOnLogging>1){var i=[];for(t=0;t<arguments.length;t++)i.push(arguments[t]);r(i.join("<br>"),"long")}},i.warn=function(){var t;if(n.logging>0){var e=["WARN:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.trace.apply(console,e)}if(n.notifyOnLogging>0){var i=[];for(t=0;t<arguments.length;t++)i.push(arguments[t]);r(i.join("<br>"),"stick")}},i.error=function(){var t;if(n.logging>0){var e=["ERROR:"];for(t=0;t<arguments.length;t++)e.push(arguments[t]);console.error.apply(console,e)}if(n.notifyOnLogging>0){var i=[];for(t=0;t<arguments.length;t++)i.push(arguments[t]);r(i.join("<br>"),"stick")}}})),B=a(((t,e)=>{e.exports=function(){}})),H=a(((t,e)=>{e.exports=function(t,e){if(e instanceof RegExp){for(var n=e.toString(),r=0;r<t.length;r++)if(t[r]instanceof RegExp&&t[r].toString()===n)return t;t.push(e)}else(e||0===e)&&-1===t.indexOf(e)&&t.push(e);return t}})),U=a(((t,e)=>{e.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),Z=a(((t,e)=>{e.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}})),V=a(((t,e)=>{e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}})),Y=a(((t,e)=>{e.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),W=a(((t,e)=>{e.exports=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}})),G=a(((t,e)=>{e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],g=e[14],v=e[15],y=n*s-r*o,_=n*l-i*o,x=n*c-a*o,b=r*l-i*s,w=r*c-a*s,M=i*c-a*l,T=u*m-h*p,k=u*g-d*p,A=u*v-f*p,L=h*g-d*m,C=h*v-f*m,S=d*v-f*g,P=y*S-_*C+x*L+b*A-w*k+M*T;return P?(P=1/P,t[0]=(s*S-l*C+c*L)*P,t[1]=(i*C-r*S-a*L)*P,t[2]=(m*M-g*w+v*b)*P,t[3]=(d*w-h*M-f*b)*P,t[4]=(l*A-o*S-c*k)*P,t[5]=(n*S-i*A+a*k)*P,t[6]=(g*x-p*M-v*_)*P,t[7]=(u*M-d*x+f*_)*P,t[8]=(o*C-s*A+c*T)*P,t[9]=(r*A-n*C-a*T)*P,t[10]=(p*w-m*x+v*y)*P,t[11]=(h*x-u*w-f*y)*P,t[12]=(s*k-o*L-l*T)*P,t[13]=(n*L-r*k+i*T)*P,t[14]=(m*_-p*b-g*y)*P,t[15]=(u*b-h*_+d*y)*P,t):null}})),q=a(((t,e)=>{e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],f=e[11],p=e[12],m=e[13],g=e[14],v=e[15];return t[0]=s*(d*v-f*g)-h*(l*v-c*g)+m*(l*f-c*d),t[1]=-(r*(d*v-f*g)-h*(i*v-a*g)+m*(i*f-a*d)),t[2]=r*(l*v-c*g)-s*(i*v-a*g)+m*(i*c-a*l),t[3]=-(r*(l*f-c*d)-s*(i*f-a*d)+h*(i*c-a*l)),t[4]=-(o*(d*v-f*g)-u*(l*v-c*g)+p*(l*f-c*d)),t[5]=n*(d*v-f*g)-u*(i*v-a*g)+p*(i*f-a*d),t[6]=-(n*(l*v-c*g)-o*(i*v-a*g)+p*(i*c-a*l)),t[7]=n*(l*f-c*d)-o*(i*f-a*d)+u*(i*c-a*l),t[8]=o*(h*v-f*m)-u*(s*v-c*m)+p*(s*f-c*h),t[9]=-(n*(h*v-f*m)-u*(r*v-a*m)+p*(r*f-a*h)),t[10]=n*(s*v-c*m)-o*(r*v-a*m)+p*(r*c-a*s),t[11]=-(n*(s*f-c*h)-o*(r*f-a*h)+u*(r*c-a*s)),t[12]=-(o*(h*g-d*m)-u*(s*g-l*m)+p*(s*d-l*h)),t[13]=n*(h*g-d*m)-u*(r*g-i*m)+p*(r*d-i*h),t[14]=-(n*(s*g-l*m)-o*(r*g-i*m)+p*(r*l-i*s)),t[15]=n*(s*d-l*h)-o*(r*d-i*h)+u*(r*l-i*s),t}})),X=a(((t,e)=>{e.exports=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11],f=t[12],p=t[13],m=t[14],g=t[15];return(e*o-n*a)*(h*g-d*m)-(e*s-r*a)*(u*g-d*p)+(e*l-i*a)*(u*m-h*p)+(n*s-r*o)*(c*g-d*f)-(n*l-i*o)*(c*m-h*f)+(r*l-i*s)*(c*p-u*f)}})),J=a(((t,e)=>{e.exports=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=e[9],f=e[10],p=e[11],m=e[12],g=e[13],v=e[14],y=e[15],_=n[0],x=n[1],b=n[2],w=n[3];return t[0]=_*r+x*s+b*h+w*m,t[1]=_*i+x*l+b*d+w*g,t[2]=_*a+x*c+b*f+w*v,t[3]=_*o+x*u+b*p+w*y,_=n[4],x=n[5],b=n[6],w=n[7],t[4]=_*r+x*s+b*h+w*m,t[5]=_*i+x*l+b*d+w*g,t[6]=_*a+x*c+b*f+w*v,t[7]=_*o+x*u+b*p+w*y,_=n[8],x=n[9],b=n[10],w=n[11],t[8]=_*r+x*s+b*h+w*m,t[9]=_*i+x*l+b*d+w*g,t[10]=_*a+x*c+b*f+w*v,t[11]=_*o+x*u+b*p+w*y,_=n[12],x=n[13],b=n[14],w=n[15],t[12]=_*r+x*s+b*h+w*m,t[13]=_*i+x*l+b*d+w*g,t[14]=_*a+x*c+b*f+w*v,t[15]=_*o+x*u+b*p+w*y,t}})),K=a(((t,e)=>{e.exports=function(t,e,n){var r,i,a,o,s,l,c,u,h,d,f,p,m=n[0],g=n[1],v=n[2];return e===t?(t[12]=e[0]*m+e[4]*g+e[8]*v+e[12],t[13]=e[1]*m+e[5]*g+e[9]*v+e[13],t[14]=e[2]*m+e[6]*g+e[10]*v+e[14],t[15]=e[3]*m+e[7]*g+e[11]*v+e[15]):(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],d=e[9],f=e[10],p=e[11],t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=h,t[9]=d,t[10]=f,t[11]=p,t[12]=r*m+s*g+h*v+e[12],t[13]=i*m+l*g+d*v+e[13],t[14]=a*m+c*g+f*v+e[14],t[15]=o*m+u*g+p*v+e[15]),t}})),$=a(((t,e)=>{e.exports=function(t,e,n){var r=n[0],i=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}})),Q=a(((t,e)=>{e.exports=function(t,e,n,r){var i,a,o,s,l,c,u,h,d,f,p,m,g,v,y,_,x,b,w,M,T,k,A,L,C=r[0],S=r[1],P=r[2],D=Math.sqrt(C*C+S*S+P*P);return Math.abs(D)<1e-6?null:(C*=D=1/D,S*=D,P*=D,i=Math.sin(n),o=1-(a=Math.cos(n)),s=e[0],l=e[1],c=e[2],u=e[3],h=e[4],d=e[5],f=e[6],p=e[7],m=e[8],g=e[9],v=e[10],y=e[11],_=C*C*o+a,x=S*C*o+P*i,b=P*C*o-S*i,w=C*S*o-P*i,M=S*S*o+a,T=P*S*o+C*i,k=C*P*o+S*i,A=S*P*o-C*i,L=P*P*o+a,t[0]=s*_+h*x+m*b,t[1]=l*_+d*x+g*b,t[2]=c*_+f*x+v*b,t[3]=u*_+p*x+y*b,t[4]=s*w+h*M+m*T,t[5]=l*w+d*M+g*T,t[6]=c*w+f*M+v*T,t[7]=u*w+p*M+y*T,t[8]=s*k+h*A+m*L,t[9]=l*k+d*A+g*L,t[10]=c*k+f*A+v*L,t[11]=u*k+p*A+y*L,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}})),tt=a(((t,e)=>{e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],d=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*r,t[5]=o*i+u*r,t[6]=s*i+h*r,t[7]=l*i+d*r,t[8]=c*i-a*r,t[9]=u*i-o*r,t[10]=h*i-s*r,t[11]=d*i-l*r,t}})),et=a(((t,e)=>{e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],h=e[10],d=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-c*r,t[1]=o*i-u*r,t[2]=s*i-h*r,t[3]=l*i-d*r,t[8]=a*r+c*i,t[9]=o*r+u*i,t[10]=s*r+h*i,t[11]=l*r+d*i,t}})),nt=a(((t,e)=>{e.exports=function(t,e,n){var r=Math.sin(n),i=Math.cos(n),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],h=e[6],d=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*r,t[1]=o*i+u*r,t[2]=s*i+h*r,t[3]=l*i+d*r,t[4]=c*i-a*r,t[5]=u*i-o*r,t[6]=h*i-s*r,t[7]=d*i-l*r,t}})),rt=a(((t,e)=>{e.exports=function(t,e,n){var r,i,a,o=n[0],s=n[1],l=n[2],c=Math.sqrt(o*o+s*s+l*l);return Math.abs(c)<1e-6?null:(o*=c=1/c,s*=c,l*=c,r=Math.sin(e),a=1-(i=Math.cos(e)),t[0]=o*o*a+i,t[1]=s*o*a+l*r,t[2]=l*o*a-s*r,t[3]=0,t[4]=o*s*a-l*r,t[5]=s*s*a+i,t[6]=l*s*a+o*r,t[7]=0,t[8]=o*l*a+s*r,t[9]=s*l*a-o*r,t[10]=l*l*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}})),it=a(((t,e)=>{e.exports=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=r+r,l=i+i,c=a+a,u=r*s,h=r*l,d=r*c,f=i*l,p=i*c,m=a*c,g=o*s,v=o*l,y=o*c;return t[0]=1-(f+m),t[1]=h+y,t[2]=d-v,t[3]=0,t[4]=h-y,t[5]=1-(u+m),t[6]=p+g,t[7]=0,t[8]=d+v,t[9]=p-g,t[10]=1-(u+f),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}})),at=a(((t,e)=>{e.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),ot=a(((t,e)=>{e.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}})),st=a(((t,e)=>{e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),lt=a(((t,e)=>{e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),ct=a(((t,e)=>{e.exports=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),ut=a(((t,e)=>{e.exports=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,l=i+i,c=n*o,u=r*o,h=r*s,d=i*o,f=i*s,p=i*l,m=a*o,g=a*s,v=a*l;return t[0]=1-h-p,t[1]=u+v,t[2]=d-g,t[3]=0,t[4]=u-v,t[5]=1-c-p,t[6]=f+m,t[7]=0,t[8]=d+g,t[9]=f-m,t[10]=1-c-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}})),ht=a(((t,e)=>{e.exports=function(t,e,n,r,i,a,o){var s=1/(n-e),l=1/(i-r),c=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(n+e)*s,t[9]=(i+r)*l,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}})),dt=a(((t,e)=>{e.exports=function(t,e,n,r,i){var a=1/Math.tan(e/2),o=1/(r-i);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*o,t[15]=0,t}})),ft=a(((t,e)=>{e.exports=function(t,e,n,r){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(i+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*l*.5,t[9]=(i-a)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}})),pt=a(((t,e)=>{e.exports=function(t,e,n,r,i,a,o){var s=1/(e-n),l=1/(r-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(i+r)*l,t[14]=(o+a)*c,t[15]=1,t}})),mt=a(((t,e)=>{var n=Y();e.exports=function(t,e,r,i){var a,o,s,l,c,u,h,d,f,p,m=e[0],g=e[1],v=e[2],y=i[0],_=i[1],x=i[2],b=r[0],w=r[1],M=r[2];return Math.abs(m-b)<1e-6&&Math.abs(g-w)<1e-6&&Math.abs(v-M)<1e-6?n(t):(h=m-b,d=g-w,f=v-M,a=_*(f*=p=1/Math.sqrt(h*h+d*d+f*f))-x*(d*=p),o=x*(h*=p)-y*f,s=y*d-_*h,(p=Math.sqrt(a*a+o*o+s*s))?(a*=p=1/p,o*=p,s*=p):(a=0,o=0,s=0),l=d*s-f*o,c=f*a-h*s,u=h*o-d*a,(p=Math.sqrt(l*l+c*c+u*u))?(l*=p=1/p,c*=p,u*=p):(l=0,c=0,u=0),t[0]=a,t[1]=l,t[2]=h,t[3]=0,t[4]=o,t[5]=c,t[6]=d,t[7]=0,t[8]=s,t[9]=u,t[10]=f,t[11]=0,t[12]=-(a*m+o*g+s*v),t[13]=-(l*m+c*g+u*v),t[14]=-(h*m+d*g+f*v),t[15]=1,t)}})),gt=a(((t,e)=>{e.exports=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}})),vt=a(((t,e)=>{e.exports={create:U(),clone:Z(),copy:V(),identity:Y(),transpose:W(),invert:G(),adjoint:q(),determinant:X(),multiply:J(),translate:K(),scale:$(),rotate:Q(),rotateX:tt(),rotateY:et(),rotateZ:nt(),fromRotation:rt(),fromRotationTranslation:it(),fromScaling:at(),fromTranslation:ot(),fromXRotation:st(),fromYRotation:lt(),fromZRotation:ct(),fromQuat:ut(),frustum:ht(),perspective:dt(),perspectiveFromFieldOfView:ft(),ortho:pt(),lookAt:mt(),str:gt()}})),yt=a((t=>{var e=vt();t.init2dArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=new Array(e);return n},t.transposeRagged=function(t){var e,n,r=0,i=t.length;for(e=0;e<i;e++)r=Math.max(r,t[e].length);var a=new Array(r);for(e=0;e<r;e++)for(a[e]=new Array(i),n=0;n<i;n++)a[e][n]=t[n][e];return a},t.dot=function(e,n){if(!e.length||!n.length||e.length!==n.length)return null;var r,i,a=e.length;if(e[0].length)for(r=new Array(a),i=0;i<a;i++)r[i]=t.dot(e[i],n);else if(n[0].length){var o=t.transposeRagged(n);for(r=new Array(o.length),i=0;i<o.length;i++)r[i]=t.dot(e,o[i])}else for(r=0,i=0;i<a;i++)r+=e[i]*n[i];return r},t.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},t.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},t.rotationXYMatrix=function(e,n,r){return t.dot(t.dot(t.translationMatrix(n,r),t.rotationMatrix(e)),t.translationMatrix(-n,-r))},t.apply3DTransform=function(e){return function(){var n=arguments,r=1===arguments.length?n[0]:[n[0],n[1],n[2]||0];return t.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}},t.apply2DTransform=function(e){return function(){var n=arguments;3===n.length&&(n=n[0]);var r=1===arguments.length?n[0]:[n[0],n[1]];return t.dot(e,[r[0],r[1],1]).slice(0,2)}},t.apply2DTransform2=function(e){var n=t.apply2DTransform(e);return function(t){return n(t.slice(0,2)).concat(n(t.slice(2,4)))}},t.convertCssMatrix=function(t){if(t){var e=t.length;if(16===e)return t;if(6===e)return[t[0],t[1],0,0,t[2],t[3],0,0,0,0,1,0,t[4],t[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},t.inverseTransformMatrix=function(t){var n=[];return e.invert(n,t),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}})),_t=a(((t,e)=>{var n=l(),r=j(),i=yt(),a=vt();function o(t){var e=t&&t.parentNode;e&&e.removeChild(t)}function s(t,e,n){var i="plotly.js-style-"+t,a=document.getElementById(i);if(!a||!a.matches(".no-inline-styles")){a||((a=document.createElement("style")).setAttribute("id",i),a.appendChild(document.createTextNode("")),document.head.appendChild(a));var o=a.sheet;o?o.insertRule?o.insertRule(e+"{"+n+"}",0):o.addRule?o.addRule(e,n,0):r.warn("addStyleRule failed"):r.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function c(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform");return"none"===n?null:n.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(t){return+t}))}function u(t){for(var e=[];h(t);)e.push(t),t=t.parentNode,"function"==typeof ShadowRoot&&t instanceof ShadowRoot&&(t=t.host);return e}function h(t){return t&&(t instanceof Element||t instanceof HTMLElement)}e.exports={getGraphDiv:function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null==t)throw new Error("DOM element provided is null or undefined");return t},isPlotDiv:function(t){var e=n.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},removeElement:o,addStyleRule:function(t,e){s("global",t,e)},addRelatedStyleRule:s,deleteRelatedStyleRule:function(t){var e="plotly.js-style-"+t,n=document.getElementById(e);n&&o(n)},setStyleOnHover:function(t,e,n,r,i,a){var o=r.split(":"),s=i.split(":"),l="data-btn-style-event-added";a||(a=document),a.querySelectorAll(t).forEach((function(t){t.getAttribute(l)||(t.addEventListener("mouseenter",(function(){var t=this.querySelector(n);t&&(t.style[o[0]]=o[1])})),t.addEventListener("mouseleave",(function(){var t=this.querySelector(n);t&&(e&&this.matches(e)?t.style[o[0]]=o[1]:t.style[s[0]]=s[1])})),t.setAttribute(l,!0))}))},getFullTransformMatrix:function(t){var e=u(t),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return e.forEach((function(t){var e=c(t);if(e){var r=i.convertCssMatrix(e);n=a.multiply(n,n,r)}})),n},getElementTransformMatrix:c,getElementAndAncestors:u,equalDomRects:function(t,e){return t&&e&&t.top===e.top&&t.left===e.left&&t.right===e.right&&t.bottom===e.bottom}}})),xt=a(((t,e)=>{e.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}})),bt=a(((t,e)=>{var n=k().extendFlat,r=g(),i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},a={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},o=i.flags.slice().concat(["fullReplot"]),s=a.flags.slice().concat("layoutReplot");function l(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!1;return e}function c(t,e,i){var a=n({},t);for(var o in a){var s=a[o];r(s)&&(a[o]=u(s,e,0,o))}return"from-root"===i&&(a.editType=e),a}function u(t,e,r,i){if(t.valType){var a=n({},t);if(a.editType=e,Array.isArray(t.items)){a.items=new Array(t.items.length);for(var o=0;o<t.items.length;o++)a.items[o]=u(t.items[o],e)}return a}return c(t,e,"_"===i.charAt(0)?"nested":"from-root")}e.exports={traces:i,layout:a,traceFlags:function(){return l(o)},layoutFlags:function(){return l(s)},update:function(t,e){var n=e.editType;if(n&&"none"!==n)for(var r=n.split("+"),i=0;i<r.length;i++)t[r[i]]=!0},overrideAll:c}})),wt=a((t=>{t.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},t.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}})),Mt=a(((t,e)=>{e.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}})),Tt=a((t=>{var e=Mt();function n(t){var e=t.description?" "+t.description:"",n=t.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";e+="Finally, the template string has access to ",e=1===n.length?e+"variable "+r[0]:e+"variables "+r.slice(0,-1).join(", ")+" and "+r.slice(-1)+"."}return e}e.FORMAT_LINK,e.DATE_FORMAT_LINK,t.hovertemplateAttrs=function(t,e){t=t||{},n(e=e||{});var r={valType:"string",dflt:"",editType:t.editType||"none"};return!1!==t.arrayOk&&(r.arrayOk=!0),r},t.texttemplateAttrs=function(t,e){t=t||{},n(e=e||{});var r={valType:"string",dflt:"",editType:t.editType||"calc"};return!1!==t.arrayOk&&(r.arrayOk=!0),r},t.shapeTexttemplateAttrs=function(t,e){return e=e||{},(t=t||{}).newshape,n(e),{valType:"string",dflt:"",editType:t.editType||"arraydraw"}}})),kt=a(((t,e)=>{function n(t,e){return e?e.d2l(t):t}function r(t,e){return e?e.l2d(t):t}function i(t){return t.x0shift||0}function a(t){return t.x1shift||0}function o(t){return t.y0shift||0}function s(t){return t.y1shift||0}function l(t,e){return n(t.x1,e)+a(t)-n(t.x0,e)-i(t)}function c(t,e,r){return n(t.y1,r)+s(t)-n(t.y0,r)-o(t)}e.exports={x0:function(t){return t.x0},x1:function(t){return t.x1},y0:function(t){return t.y0},y1:function(t){return t.y1},slope:function(t,e,n){return"line"!==t.type?void 0:c(t,0,n)/l(t,e)},dx:l,dy:c,width:function(t,e){return Math.abs(l(t,e))},height:function(t,e,n){return Math.abs(c(t,0,n))},length:function(t,e,n){return"line"!==t.type?void 0:Math.sqrt(Math.pow(l(t,e),2)+Math.pow(c(t,0,n),2))},xcenter:function(t,e){return r((n(t.x1,e)+a(t)+n(t.x0,e)+i(t))/2,e)},ycenter:function(t,e,i){return r((n(t.y1,i)+s(t)+n(t.y0,i)+o(t))/2,i)}}})),At=a(((t,e)=>{var n=bt().overrideAll,r=P(),i=A(),a=wt().dash,o=k().extendFlat,s=Tt().shapeTexttemplateAttrs,l=kt();e.exports=n({newshape:{visible:o({},r.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:o({},r.legend,{}),legendgroup:o({},r.legendgroup,{}),legendgrouptitle:{text:o({},r.legendgrouptitle.text,{}),font:i({})},legendrank:o({},r.legendrank,{}),legendwidth:o({},r.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:o({},a,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:o({},r.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:s({newshape:!0},{keys:Object.keys(l)}),font:i({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")})),Lt=a(((t,e)=>{var n=wt().dash,r=k().extendFlat;e.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:r({},n,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}})),Ct=a(((t,e)=>{e.exports=function(t){var e=t.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}})),St=a(((t,e)=>{var n=A(),r=xt(),i=O(),a=At(),o=Lt(),s=Ct(),l=k().extendFlat,c=n({editType:"calc"});c.family.dflt='"Open Sans", verdana, arial, sans-serif',c.size.dflt=12,c.color.dflt=i.defaultLine,e.exports={font:c,title:{text:{valType:"string",editType:"layoutstyle"},font:n({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:n({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:l(s({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:i.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:i.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:i.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:a.newshape,activeshape:a.activeshape,newselection:o.newselection,activeselection:o.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:l({},r.transition,{editType:"none"})}})),Pt=i((()=>{})),Dt={},Ot=i((()=>{Pt()})),Et=a((i=>{var a=j(),o=B(),s=H(),l=g(),c=_t().addStyleRule,u=k(),h=P(),d=St(),f=u.extendFlat,p=u.extendDeepAll;function m(o){var s=o.name,l=o.categories,u=o.meta;if(i.modules[s])a.log("Type "+s+" already registered");else{i.subplotsRegistry[o.basePlotModule.name]||function(t){var e=t.name;if(i.subplotsRegistry[e])a.log("Plot type "+e+" already registered.");else for(var n in x(t),i.subplotsRegistry[e]=t,i.componentsRegistry)w(n,t.name)}(o.basePlotModule);for(var h={},d=0;d<l.length;d++)h[l[d]]=!0,i.allCategories[l[d]]=!0;for(var p in i.modules[s]={_module:o,categories:h},u&&Object.keys(u).length&&(i.modules[s].meta=u),i.allTypes.push(s),i.componentsRegistry)b(p,s);o.layoutAttributes&&f(i.traceLayoutAttributes,o.layoutAttributes);var m=o.basePlotModule,g=m.name;if("mapbox"===g){var v=m.constants.styleRules;for(var y in v)c(".js-plotly-plot .plotly .mapboxgl-"+y,v[y])}"map"===g&&(Ot(),(i=>{((i,a,o,s)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let o of n(a))!r.call(i,o)&&void 0!==o&&t(i,o,{get:()=>a[o],enumerable:!(s=e(a,o))||s.enumerable})})(t({},"__esModule",{value:!0}),i)})(Dt)),("geo"===g||"mapbox"===g||"map"===g)&&void 0===window.PlotlyGeoAssets&&(window.PlotlyGeoAssets={topojson:{}})}}function v(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");var e=t.name;for(var n in i.componentsRegistry[e]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&s(i.layoutArrayContainers,e),x(t)),i.modules)b(e,n);for(var r in i.subplotsRegistry)w(e,r);t.schema&&t.schema.layout&&p(d,t.schema.layout)}function y(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name,n="function"==typeof t.transform,r="function"==typeof t.calcTransform;if(!n&&!r)throw new Error(e+" is missing a *transform* or *calcTransform* method.");n&&r&&a.log([e+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),l(t.attributes)||a.log(e+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&a.log(e+" registered without a *supplyDefaults* method.")}function _(t){var e=t.name,n=e.split("-")[0],r=t.dictionary,a=t.format,o=r&&Object.keys(r).length,s=a&&Object.keys(a).length,l=i.localeRegistry,c=l[e];if(c||(l[e]=c={}),n!==e){var u=l[n];u||(l[n]=u={}),o&&u.dictionary===c.dictionary&&(u.dictionary=r),s&&u.format===c.format&&(u.format=a)}o&&(c.dictionary=r),s&&(c.format=a)}function x(t){if(t.layoutAttributes){var e=t.layoutAttributes._arrayAttrRegexps;if(e)for(var n=0;n<e.length;n++)s(i.layoutArrayRegexes,e[n])}}function b(t,e){var n=i.componentsRegistry[t].schema;if(n&&n.traces){var r=n.traces[e];r&&p(i.modules[e]._module.attributes,r)}}function w(t,e){var n=i.componentsRegistry[t].schema;if(n&&n.subplots){var r=i.subplotsRegistry[e],a=r.layoutAttributes,o="subplot"===r.attr?r.name:r.attr;Array.isArray(o)&&(o=o[0]);var s=n.subplots[o];a&&s&&p(a,s)}}function M(t){return"object"==typeof t&&(t=t.type),t}i.modules={},i.allCategories={},i.allTypes=[],i.subplotsRegistry={},i.componentsRegistry={},i.layoutArrayContainers=[],i.layoutArrayRegexes=[],i.traceLayoutAttributes={},i.localeRegistry={},i.apiMethodRegistry={},i.collectableSubplotTypes=null,i.register=function(t){if(i.collectableSubplotTypes=null,!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var e=0;e<t.length;e++){var n=t[e];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":m(n);break;case"transform":y(n);break;case"component":v(n);break;case"locale":_(n);break;case"apiMethod":var r=n.name;i.apiMethodRegistry[r]=n.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},i.getModule=function(t){var e=i.modules[M(t)];return!!e&&e._module},i.traceIs=function(t,e){if("various"===(t=M(t)))return!1;var n=i.modules[t];return n||(t&&a.log("Unrecognized trace type "+t+"."),n=i.modules[h.type.dflt]),!!n.categories[e]},i.getComponentMethod=function(t,e){var n=i.componentsRegistry[t];return n&&n[e]||o},i.call=function(){var t=arguments[0],e=[].slice.call(arguments,1);return i.apiMethodRegistry[t].apply(null,e)}})),It=a((t=>{var e,n,r=u().timeFormat,i=f(),a=j(),o=M().mod,s=p(),l=s.BADNUM,c=s.ONEDAY,h=s.ONEHOUR,d=s.ONEMIN,m=s.ONESEC,g=s.EPOCHJD,v=Et(),y=u().utcFormat,_=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=(new Date).getFullYear()-70;function w(t){return t&&v.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function T(t,e){return String(t+Math.pow(10,e)).substr(1)}t.dateTick0=function(e,n){var r=function(t,e){return w(t)?e?v.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:v.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"}(e,!!n);if(n<2)return r;var i=t.dateTime2ms(r,e);return i+=c*(n-1),t.ms2DateTime(i,0,e)},t.dfltRange=function(t){return w(t)?v.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},t.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime},t.dateTime2ms=function(r,i){if(t.isJSDate(r)){var a=r.getTimezoneOffset()*d,s=(r.getUTCMinutes()-r.getMinutes())*d+(r.getUTCSeconds()-r.getSeconds())*m+(r.getUTCMilliseconds()-r.getMilliseconds());if(s){var u=3*d;a=a-u/2+o(s-a+u/2,u)}return(r=Number(r)-a)>=e&&r<=n?r:l}if("string"!=typeof r&&"number"!=typeof r)return l;r=String(r);var f=w(i),p=r.charAt(0);f&&("G"===p||"g"===p)&&(r=r.substr(1),i="");var y=f&&"chinese"===i.substr(0,7),M=r.match(y?x:_);if(!M)return l;var T=M[1],k=M[3]||"1",A=Number(M[5]||1),L=Number(M[7]||0),C=Number(M[9]||0),S=Number(M[11]||0);if(f){if(2===T.length)return l;var P;T=Number(T);try{var D=v.getComponentMethod("calendars","getCal")(i);if(y){var O="i"===k.charAt(k.length-1);k=parseInt(k,10),P=D.newDate(T,D.toMonthIndex(T,k,O),A)}else P=D.newDate(T,Number(k),A)}catch(t){return l}return P?(P.toJD()-g)*c+L*h+C*d+S*m:l}T=2===T.length?(Number(T)+2e3-b)%100+b:Number(T),k-=1;var E=new Date(Date.UTC(2e3,k,A,L,C));return E.setUTCFullYear(T),E.getUTCMonth()!==k||E.getUTCDate()!==A?l:E.getTime()+S*m},e=t.MIN_MS=t.dateTime2ms("-9999"),n=t.MAX_MS=t.dateTime2ms("9999-12-31 23:59:59.9999"),t.isDateTime=function(e,n){return t.dateTime2ms(e,n)!==l};var k=90*c,A=3*h,L=5*d;function C(t,e,n,r,i){if((e||n||r||i)&&(t+=" "+T(e,2)+":"+T(n,2),(r||i)&&(t+=":"+T(r,2),i))){for(var a=4;i%10==0;)a-=1,i/=10;t+="."+T(i,a)}return t}t.ms2DateTime=function(t,r,i){if("number"!=typeof t||!(t>=e&&t<=n))return l;r||(r=0);var a,s,u,f,p,_,x=Math.floor(10*o(t+.05,1)),b=Math.round(t-x/10);if(w(i)){var M=Math.floor(b/c)+g,T=Math.floor(o(t,c));try{a=v.getComponentMethod("calendars","getCal")(i).fromJD(M).formatDate("yyyy-mm-dd")}catch(t){a=y("G%Y-%m-%d")(new Date(b))}if("-"===a.charAt(0))for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;s=r<k?Math.floor(T/h):0,u=r<k?Math.floor(T%h/d):0,f=r<A?Math.floor(T%d/m):0,p=r<L?T%m*10+x:0}else _=new Date(b),a=y("%Y-%m-%d")(_),s=r<k?_.getUTCHours():0,u=r<k?_.getUTCMinutes():0,f=r<A?_.getUTCSeconds():0,p=r<L?10*_.getUTCMilliseconds()+x:0;return C(a,s,u,f,p)},t.ms2DateTimeLocal=function(t){if(!(t>=e+c&&t<=n-c))return l;var i=Math.floor(10*o(t+.05,1)),a=new Date(Math.round(t-i/10));return C(r("%Y-%m-%d")(a),a.getHours(),a.getMinutes(),a.getSeconds(),10*a.getUTCMilliseconds()+i)},t.cleanDate=function(e,n,r){if(e===l)return n;if(t.isJSDate(e)||"number"==typeof e&&isFinite(e)){if(w(r))return a.error("JS Dates and milliseconds are incompatible with world calendars",e),n;if(!(e=t.ms2DateTimeLocal(+e))&&void 0!==n)return n}else if(!t.isDateTime(e,r))return a.error("unrecognized date",e),n;return e};var S=/%\d?f/g,P=/%h/g,D={1:"1",2:"1",3:"2",4:"2"};function O(t,e,n,r){t=t.replace(S,(function(t){var n=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"}));var i=new Date(Math.floor(e+.05));if(t=t.replace(P,(function(){return D[n("%q")(i)]})),w(r))try{t=v.getComponentMethod("calendars","worldCalFmt")(t,e,r)}catch(t){return"Invalid"}return n(t)(i)}var E=[59,59.9,59.99,59.999,59.9999];t.formatDate=function(t,e,n,r,a,s){if(a=w(a)&&a,!e)if("y"===n)e=s.year;else if("m"===n)e=s.month;else{if("d"!==n)return function(t,e){var n=o(t+.05,c),r=T(Math.floor(n/h),2)+":"+T(o(Math.floor(n/d),60),2);if("M"!==e){i(e)||(e=0);var a=(100+Math.min(o(t/m,60),E[e])).toFixed(e).substr(1);e>0&&(a=a.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+a}return r}(t,n)+"\n"+O(s.dayMonthYear,t,r,a);e=s.dayMonth+"\n"+s.year}return O(e,t,r,a)};var I=3*c;t.incrementMonth=function(t,e,n){n=w(n)&&n;var r=o(t,c);if(t=Math.round(t-r),n)try{var i=Math.round(t/c)+g,s=v.getComponentMethod("calendars","getCal")(n),l=s.fromJD(i);return e%12?s.add(l,e,"m"):s.add(l,e/12,"y"),(l.toJD()-g)*c+r}catch(e){a.error("invalid ms "+t+" in calendar "+n)}var u=new Date(t+I);return u.setUTCMonth(u.getUTCMonth()+e)+r-I},t.findExactDates=function(t,e){for(var n,r,a=0,o=0,s=0,l=0,u=w(e)&&v.getComponentMethod("calendars","getCal")(e),h=0;h<t.length;h++)if(r=t[h],i(r)){if(!(r%c))if(u)try{1===(n=u.fromJD(r/c+g)).day()?1===n.month()?a++:o++:s++}catch(t){}else 1===(n=new Date(r)).getUTCDate()?0===n.getUTCMonth()?a++:o++:s++}else l++;s+=o+=a;var d=t.length-l;return{exactYears:a/d,exactMonths:o/d,exactDays:s/d}}})),zt=a(((t,e)=>{e.exports=function(t){return t}})),Nt=a((t=>{var e=f(),n=j(),r=zt(),i=p().BADNUM,a=1e-9;function o(t,e){return t<e}function s(t,e){return t<=e}function l(t,e){return t>e}function c(t,e){return t>=e}t.findBin=function(t,r,i){if(e(r.start))return i?Math.ceil((t-r.start)/r.size-a)-1:Math.floor((t-r.start)/r.size+a);var u,h,d=0,f=r.length,p=0,m=f>1?(r[f-1]-r[0])/(f-1):1;for(h=m>=0?i?o:s:i?c:l,t+=m*a*(i?-1:1)*(m>=0?1:-1);d<f&&p++<100;)h(r[u=Math.floor((d+f)/2)],t)?d=u+1:f=u;return p>90&&n.log("Long binary search..."),d-1},t.sorterAsc=function(t,e){return t-e},t.sorterDes=function(t,e){return e-t},t.distinctVals=function(e){var n,r=e.slice();for(r.sort(t.sorterAsc),n=r.length-1;n>-1&&r[n]===i;n--);for(var a,o=r[n]-r[0]||1,s=o/(n||1)/1e4,l=[],c=0;c<=n;c++){var u=r[c],h=u-a;void 0===a?(l.push(u),a=u):h>s&&(o=Math.min(o,h),l.push(u),a=u)}return{vals:l,minDiff:o}},t.roundUp=function(t,e,n){for(var r,i=0,a=e.length-1,o=0,s=n?0:1,l=n?1:0,c=n?Math.ceil:Math.floor;i<a&&o++<100;)e[r=c((i+a)/2)]<=t?i=r+s:a=r-l;return e[i]},t.sort=function(t,e){for(var n=0,r=0,i=1;i<t.length;i++){var a=e(t[i],t[i-1]);if(a<0?n=1:a>0&&(r=1),n&&r)return t.sort(e)}return r?t:t.reverse()},t.findIndexOfMin=function(t,e){e=e||r;for(var n,i=1/0,a=0;a<t.length;a++){var o=e(t[a]);o<i&&(i=o,n=a)}return n}})),Rt=a(((t,e)=>{e.exports=function(t){return Object.keys(t).sort()}})),Ft=a((t=>{var e=f(),n=v().isArrayOrTypedArray;t.aggNums=function(r,i,a,o){var s,l;if((!o||o>a.length)&&(o=a.length),e(i)||(i=!1),n(a[0])){for(l=new Array(o),s=0;s<o;s++)l[s]=t.aggNums(r,i,a[s]);a=l}for(s=0;s<o;s++)e(i)?e(a[s])&&(i=r(+i,+a[s])):i=a[s];return i},t.len=function(e){return t.aggNums((function(t){return t+1}),0,e)},t.mean=function(e,n){return n||(n=t.len(e)),t.aggNums((function(t,e){return t+e}),0,e)/n},t.geometricMean=function(e,n){return n||(n=t.len(e)),Math.pow(t.aggNums((function(t,e){return t*e}),1,e),1/n)},t.midRange=function(e){if(void 0!==e&&0!==e.length)return(t.aggNums(Math.max,null,e)+t.aggNums(Math.min,null,e))/2},t.variance=function(n,r,i){return r||(r=t.len(n)),e(i)||(i=t.mean(n,r)),t.aggNums((function(t,e){return t+Math.pow(e-i,2)}),0,n)/r},t.stdev=function(e,n,r){return Math.sqrt(t.variance(e,n,r))},t.median=function(e){var n=e.slice().sort();return t.interp(n,.5)},t.interp=function(t,n){if(!e(n))throw"n should be a finite number";if((n=n*t.length-.5)<0)return t[0];if(n>t.length-1)return t[t.length-1];var r=n%1;return r*t[Math.ceil(n)]+(1-r)*t[Math.floor(n)]}})),jt=a(((t,e)=>{var n=M(),r=n.mod,i=n.modHalf,a=Math.PI,o=2*a;function s(t){return Math.abs(t[1]-t[0])>o-1e-14}function l(t,e){return i(e-t,o)}function c(t,e){if(s(e))return!0;var n,i;e[0]<e[1]?(n=e[0],i=e[1]):(n=e[1],i=e[0]),(n=r(n,o))>(i=r(i,o))&&(i+=o);var a=r(t,o),l=a+o;return a>=n&&a<=i||l>=n&&l<=i}function u(t,e,n,r,i,l,c){i=i||0,l=l||0;var u,h,d,f,p,m=s([n,r]);function g(t,e){return[t*Math.cos(e)+i,l-t*Math.sin(e)]}m?(u=0,h=a,d=o):n<r?(u=n,d=r):(u=r,d=n),t<e?(f=t,p=e):(f=e,p=t);var v,y=Math.abs(d-u)<=a?0:1;function _(t,e,n){return"A"+[t,t]+" "+[0,y,n]+" "+g(t,e)}return m?v=null===f?"M"+g(p,u)+_(p,h,0)+_(p,d,0)+"Z":"M"+g(f,u)+_(f,h,0)+_(f,d,0)+"ZM"+g(p,u)+_(p,h,1)+_(p,d,1)+"Z":null===f?(v="M"+g(p,u)+_(p,d,0),c&&(v+="L0,0Z")):v="M"+g(f,u)+"L"+g(p,u)+_(p,d,0)+"L"+g(f,d)+_(f,u,1)+"Z",v}e.exports={deg2rad:function(t){return t/180*a},rad2deg:function(t){return t/a*180},angleDelta:l,angleDist:function(t,e){return Math.abs(l(t,e))},isFullCircle:s,isAngleInsideSector:c,isPtInsideSector:function(t,e,n,r){return!!c(e,r)&&(n[0]<n[1]?(i=n[0],a=n[1]):(i=n[1],a=n[0]),t>=i&&t<=a);var i,a},pathArc:function(t,e,n,r,i){return u(null,t,e,n,r,i,0)},pathSector:function(t,e,n,r,i){return u(null,t,e,n,r,i,1)},pathAnnulus:function(t,e,n,r,i,a){return u(t,e,n,r,i,a,1)}}})),Bt=a((t=>{t.isLeftAnchor=function(t){return"left"===t.xanchor||"auto"===t.xanchor&&t.x<=1/3},t.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},t.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},t.isTopAnchor=function(t){return"top"===t.yanchor||"auto"===t.yanchor&&t.y>=2/3},t.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3},t.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3}})),Ht=a((t=>{var e,n,r,i=M().mod;function a(t,e,n,r,i,a,o,s){var l=n-t,c=i-t,u=o-i,h=r-e,d=a-e,f=s-a,p=l*f-u*h;if(0===p)return null;var m=(c*f-u*d)/p,g=(c*h-l*d)/p;return g<0||g>1||m<0||m>1?null:{x:t+l*m,y:e+h*m}}function o(t,e,n,r,i){var a=r*t+i*e;if(a<0)return r*r+i*i;if(a>n){var o=r-t,s=i-e;return o*o+s*s}var l=r*e-i*t;return l*l/n}t.segmentsIntersect=a,t.segmentDistance=function(t,e,n,r,i,s,l,c){if(a(t,e,n,r,i,s,l,c))return 0;var u=n-t,h=r-e,d=l-i,f=c-s,p=u*u+h*h,m=d*d+f*f,g=Math.min(o(u,h,p,i-t,s-e),o(u,h,p,l-t,c-e),o(d,f,m,t-i,e-s),o(d,f,m,n-i,r-s));return Math.sqrt(g)},t.getTextLocation=function(t,a,o,s){if((t!==n||s!==r)&&(e={},n=t,r=s),e[o])return e[o];var l=t.getPointAtLength(i(o-s/2,a)),c=t.getPointAtLength(i(o+s/2,a)),u=Math.atan((c.y-l.y)/(c.x-l.x)),h=t.getPointAtLength(i(o,a)),d={x:(4*h.x+l.x+c.x)/6,y:(4*h.y+l.y+c.y)/6,theta:u};return e[o]=d,d},t.clearLocationCache=function(){n=null},t.getVisibleSegment=function(t,e,n){var r,i,a=e.left,o=e.right,s=e.top,l=e.bottom,c=0,u=t.getTotalLength(),h=u;function d(e){var n=t.getPointAtLength(e);0===e?r=n:e===u&&(i=n);var c=n.x<a?a-n.x:n.x>o?n.x-o:0,h=n.y<s?s-n.y:n.y>l?n.y-l:0;return Math.sqrt(c*c+h*h)}for(var f=d(c);f;){if((c+=f+n)>h)return;f=d(c)}for(f=d(h);f;){if(c>(h-=f+n))return;f=d(h)}return{min:c,max:h,len:h-c,total:u,isClosed:0===c&&h===u&&Math.abs(r.x-i.x)<.1&&Math.abs(r.y-i.y)<.1}},t.findPointOnPath=function(t,e,n,r){for(var i,a,o,s=(r=r||{}).pathLength||t.getTotalLength(),l=r.tolerance||.001,c=r.iterationLimit||30,u=t.getPointAtLength(0)[n]>t.getPointAtLength(s)[n]?-1:1,h=0,d=0,f=s;h<c;){if(i=(d+f)/2,o=(a=t.getPointAtLength(i))[n]-e,Math.abs(o)<l)return a;u*o>0?f=i:d=i,h++}return a}})),Ut=a((t=>{var e={};function n(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}t.throttle=function(t,r,i){var a=e[t],o=Date.now();if(!a){for(var s in e)e[s].ts<o-6e4&&delete e[s];a=e[t]={ts:0,timer:null}}function l(){i(),a.ts=Date.now(),a.onDone&&(a.onDone(),a.onDone=null)}n(a),o>a.ts+r?l():a.timer=setTimeout((function(){l(),a.timer=null}),r)},t.done=function(t){var n=e[t];return n&&n.timer?new Promise((function(t){var e=n.onDone;n.onDone=function(){e&&e(),t(),n.onDone=null}})):Promise.resolve()},t.clear=function(r){if(r)n(e[r]),delete e[r];else for(var i in e)t.clear(i)}})),Zt=a(((t,e)=>{e.exports=function(t){t._responsiveChartHandler&&(window.removeEventListener("resize",t._responsiveChartHandler),delete t._responsiveChartHandler)}})),Vt=a(((t,e)=>{e.exports=a,e.exports.isMobile=a,e.exports.default=a;var n=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,i=/android|ipad|playbook|silk/i;function a(t){t||(t={});let e=t.ua;if(!e&&"undefined"!=typeof navigator&&(e=navigator.userAgent),e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]),"string"!=typeof e)return!1;let a=n.test(e)&&!r.test(e)||!!t.tablet&&i.test(e);return!a&&t.tablet&&t.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==e.indexOf("Macintosh")&&-1!==e.indexOf("Safari")&&(a=!0),a}})),Yt=a(((t,e)=>{var n=f(),r=Vt();e.exports=function(t){var e,i;if(t&&t.hasOwnProperty("userAgent")?e=t.userAgent:("undefined"!=typeof navigator&&(i=navigator.userAgent),i&&i.headers&&"string"==typeof i.headers["user-agent"]&&(i=i.headers["user-agent"]),e=i),"string"!=typeof e)return!0;var a=r({ua:{headers:{"user-agent":e}},tablet:!0,featureDetect:!1});if(!a)for(var o=e.split(" "),s=1;s<o.length;s++)if(-1!==o[s].indexOf("Safari"))for(var l=s-1;l>-1;l--){var c=o[l];if("Version/"===c.substr(0,8)){var u=c.substr(8).split(".")[0];if(n(u)&&(u=+u),u>=13)return!0}}return a}})),Wt=a(((t,e)=>{var n=l();e.exports=function(t,e,r){var i=t.selectAll("g."+r.replace(/\s/g,".")).data(e,(function(t){return t[0].trace.uid}));i.exit().remove(),i.enter().append("g").attr("class",r),i.order();var a=t.classed("rangeplot")?"nodeRangePlot3":"node3";return i.each((function(t){t[0][a]=n.select(this)})),i}})),Gt=a(((t,e)=>{var n=Et();e.exports=function(t,e){for(var r=t._context.locale,i=0;i<2;i++){for(var a=t._context.locales,o=0;o<2;o++){var s=(a[r]||{}).dictionary;if(s){var l=s[e];if(l)return l}a=n.localeRegistry}var c=r.split("-")[0];if(c===r)break;r=c}return e}})),qt=a(((t,e)=>{e.exports=function(t){for(var e={},n=[],r=0,i=0;i<t.length;i++){var a=t[i];1!==e[a]&&(e[a]=1,n[r++]=a)}return n}})),Xt=a(((t,e)=>{function n(t){return!0===t.visible}function r(t){var e=t[0].trace;return!0===e.visible&&0!==e._length}e.exports=function(t){for(var e=(s=t,Array.isArray(s)&&Array.isArray(s[0])&&s[0][0]&&s[0][0].trace?r:n),i=[],a=0;a<t.length;a++){var o=t[a];e(o)&&i.push(o)}var s;return i}})),Jt=a(((t,e)=>{e.exports=function(t,e){if(!e)return t;var n=1/Math.abs(e),r=n>1?(n*t+n*e)/n:t+e,i=String(r).length;if(i>16){var a=String(e).length;if(i>=String(t).length+a){var o=parseFloat(r).toPrecision(12);-1===o.indexOf("e+")&&(r=+o)}}return r}})),Kt=a(((t,e)=>{var n=f(),r=p().BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(t){return"string"==typeof t&&(t=t.replace(i,"")),n(t)?Number(t):r}})),$t=a(((t,e)=>{var n=l(),r=u().utcFormat,i=h().format,a=f(),o=p(),s=o.FP_SAFE,c=-s,d=o.BADNUM,m=e.exports={};m.adjustFormat=function(t){return!t||/^\d[.]\df/.test(t)||/[.]\d%/.test(t)?t:"0.f"===t?"~f":/^\d%/.test(t)?"~%":/^\ds/.test(t)?"~s":!/^[~,.0$]/.test(t)&&/[&fps]/.test(t)?"~"+t:t};var T={};m.warnBadFormat=function(t){var e=String(t);T[e]||(T[e]=1,m.warn('encountered bad format: "'+e+'"'))},m.noFormat=function(t){return String(t)},m.numberFormat=function(t){var e;try{e=i(m.adjustFormat(t))}catch(e){return m.warnBadFormat(t),m.noFormat}return e},m.nestedProperty=y(),m.keyedContainer=_(),m.relativeAttr=x(),m.isPlainObject=g(),m.toLogRange=b(),m.relinkPrivateKeys=w();var A=v();m.isArrayBuffer=A.isArrayBuffer,m.isTypedArray=A.isTypedArray,m.isArrayOrTypedArray=A.isArrayOrTypedArray,m.isArray1D=A.isArray1D,m.ensureArray=A.ensureArray,m.concat=A.concat,m.maxRowLength=A.maxRowLength,m.minRowLength=A.minRowLength;var L=M();m.mod=L.mod,m.modHalf=L.modHalf;var C=N();m.valObjectMeta=C.valObjectMeta,m.coerce=C.coerce,m.coerce2=C.coerce2,m.coerceFont=C.coerceFont,m.coercePattern=C.coercePattern,m.coerceHoverinfo=C.coerceHoverinfo,m.coerceSelectionMarkerOpacity=C.coerceSelectionMarkerOpacity,m.validate=C.validate;var S=It();m.dateTime2ms=S.dateTime2ms,m.isDateTime=S.isDateTime,m.ms2DateTime=S.ms2DateTime,m.ms2DateTimeLocal=S.ms2DateTimeLocal,m.cleanDate=S.cleanDate,m.isJSDate=S.isJSDate,m.formatDate=S.formatDate,m.incrementMonth=S.incrementMonth,m.dateTick0=S.dateTick0,m.dfltRange=S.dfltRange,m.findExactDates=S.findExactDates,m.MIN_MS=S.MIN_MS,m.MAX_MS=S.MAX_MS;var P=Nt();m.findBin=P.findBin,m.sorterAsc=P.sorterAsc,m.sorterDes=P.sorterDes,m.distinctVals=P.distinctVals,m.roundUp=P.roundUp,m.sort=P.sort,m.findIndexOfMin=P.findIndexOfMin,m.sortObjectKeys=Rt();var D=Ft();m.aggNums=D.aggNums,m.len=D.len,m.mean=D.mean,m.geometricMean=D.geometricMean,m.median=D.median,m.midRange=D.midRange,m.variance=D.variance,m.stdev=D.stdev,m.interp=D.interp;var O=yt();m.init2dArray=O.init2dArray,m.transposeRagged=O.transposeRagged,m.dot=O.dot,m.translationMatrix=O.translationMatrix,m.rotationMatrix=O.rotationMatrix,m.rotationXYMatrix=O.rotationXYMatrix,m.apply3DTransform=O.apply3DTransform,m.apply2DTransform=O.apply2DTransform,m.apply2DTransform2=O.apply2DTransform2,m.convertCssMatrix=O.convertCssMatrix,m.inverseTransformMatrix=O.inverseTransformMatrix;var E=jt();m.deg2rad=E.deg2rad,m.rad2deg=E.rad2deg,m.angleDelta=E.angleDelta,m.angleDist=E.angleDist,m.isFullCircle=E.isFullCircle,m.isAngleInsideSector=E.isAngleInsideSector,m.isPtInsideSector=E.isPtInsideSector,m.pathArc=E.pathArc,m.pathSector=E.pathSector,m.pathAnnulus=E.pathAnnulus;var I=Bt();m.isLeftAnchor=I.isLeftAnchor,m.isCenterAnchor=I.isCenterAnchor,m.isRightAnchor=I.isRightAnchor,m.isTopAnchor=I.isTopAnchor,m.isMiddleAnchor=I.isMiddleAnchor,m.isBottomAnchor=I.isBottomAnchor;var R=Ht();m.segmentsIntersect=R.segmentsIntersect,m.segmentDistance=R.segmentDistance,m.getTextLocation=R.getTextLocation,m.clearLocationCache=R.clearLocationCache,m.getVisibleSegment=R.getVisibleSegment,m.findPointOnPath=R.findPointOnPath;var U=k();m.extendFlat=U.extendFlat,m.extendDeep=U.extendDeep,m.extendDeepAll=U.extendDeepAll,m.extendDeepNoArrays=U.extendDeepNoArrays;var Z=j();m.log=Z.log,m.warn=Z.warn,m.error=Z.error;var V=z();m.counterRegex=V.counter;var Y=Ut();m.throttle=Y.throttle,m.throttleDone=Y.done,m.clearThrottle=Y.clear;var W=_t();function G(t){var e={};for(var n in t)for(var r=t[n],i=0;i<r.length;i++)e[r[i]]=+n;return e}m.getGraphDiv=W.getGraphDiv,m.isPlotDiv=W.isPlotDiv,m.removeElement=W.removeElement,m.addStyleRule=W.addStyleRule,m.addRelatedStyleRule=W.addRelatedStyleRule,m.deleteRelatedStyleRule=W.deleteRelatedStyleRule,m.setStyleOnHover=W.setStyleOnHover,m.getFullTransformMatrix=W.getFullTransformMatrix,m.getElementTransformMatrix=W.getElementTransformMatrix,m.getElementAndAncestors=W.getElementAndAncestors,m.equalDomRects=W.equalDomRects,m.clearResponsive=Zt(),m.preserveDrawingBuffer=Yt(),m.makeTraceGroups=Wt(),m._=Gt(),m.notifier=F(),m.filterUnique=qt(),m.filterVisible=Xt(),m.pushUnique=H(),m.increment=Jt(),m.cleanNumber=Kt(),m.ensureNumber=function(t){return a(t)?(t=Number(t))>s||t<c?d:t:d},m.isIndex=function(t,e){return!(void 0!==e&&t>=e)&&a(t)&&t>=0&&t%1==0},m.noop=B(),m.identity=zt(),m.repeat=function(t,e){for(var n=new Array(e),r=0;r<e;r++)n[r]=t;return n},m.swapAttrs=function(t,e,n,r){n||(n="x"),r||(r="y");for(var i=0;i<e.length;i++){var a=e[i],o=m.nestedProperty(t,a.replace("?",n)),s=m.nestedProperty(t,a.replace("?",r)),l=o.get();o.set(s.get()),s.set(l)}},m.raiseToTop=function(t){t.parentNode.appendChild(t)},m.cancelTransition=function(t){return t.transition().duration(0)},m.constrain=function(t,e,n){return e>n?Math.max(n,Math.min(e,t)):Math.max(e,Math.min(n,t))},m.bBoxIntersect=function(t,e,n){return n=n||0,t.left<=e.right+n&&e.left<=t.right+n&&t.top<=e.bottom+n&&e.top<=t.bottom+n},m.simpleMap=function(t,e,n,r,i){for(var a=t.length,o=new Array(a),s=0;s<a;s++)o[s]=e(t[s],n,r,i);return o},m.randstr=function t(e,n,r,i){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var a,o,s=Math.log(Math.pow(2,n))/Math.log(r),l="";for(a=2;s===1/0;a*=2)s=Math.log(Math.pow(2,n/a))/Math.log(r)*a;var c=s-Math.floor(s);for(a=0;a<Math.floor(s);a++)l=Math.floor(Math.random()*r).toString(r)+l;c&&(o=Math.pow(r,c),l=Math.floor(Math.random()*o).toString(r)+l);var u=parseInt(l,r);return e&&e[l]||u!==1/0&&u>=Math.pow(2,n)?i>10?(m.warn("randstr failed uniqueness"),l):t(e,n,r,(i||0)+1):l},m.OptionControl=function(t,e){t||(t={}),e||(e="opt");var n={optionList:[],_newoption:function(r){r[e]=t,n[r.name]=r,n.optionList.push(r)}};return n["_"+e]=t,n},m.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var n,r,i,a,o=t.length,s=2*o,l=2*e-1,c=new Array(l),u=new Array(o);for(n=0;n<l;n++)c[n]=(1-Math.cos(Math.PI*(n+1)/e))/(2*e);for(n=0;n<o;n++){for(a=0,r=0;r<l;r++)(i=n+r+1-e)<-o?i-=s*Math.round(i/s):i>=s&&(i-=s*Math.floor(i/s)),i<0?i=-1-i:i>=o&&(i=s-1-i),a+=t[i]*c[r];u[n]=a}return u},m.syncOrAsync=function(t,e,n){var r;function i(){return m.syncOrAsync(t,e,n)}for(;t.length;)if((r=(0,t.splice(0,1)[0])(e))&&r.then)return r.then(i);return n&&n(e)},m.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},m.noneOrAll=function(t,e,n){if(t){var r,i=!1,a=!0;for(r=0;r<n.length;r++)null!=t[n[r]]?i=!0:a=!1;if(i&&!a)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}},m.mergeArray=function(t,e,n,r){var i="function"==typeof r;if(m.isArrayOrTypedArray(t))for(var a=Math.min(t.length,e.length),o=0;o<a;o++){var s=t[o];e[o][n]=i?r(s):s}},m.mergeArrayCastPositive=function(t,e,n){return m.mergeArray(t,e,n,(function(t){var e=+t;return isFinite(e)&&e>0?e:0}))},m.fillArray=function(t,e,n,r){if(r=r||m.identity,m.isArrayOrTypedArray(t))for(var i=0;i<e.length;i++)e[i][n]=r(t[i])},m.castOption=function(t,e,n,r){r=r||m.identity;var i=m.nestedProperty(t,n).get();return m.isArrayOrTypedArray(i)?Array.isArray(e)&&m.isArrayOrTypedArray(i[e[0]])?r(i[e[0]][e[1]]):r(i[e]):i},m.extractOption=function(t,e,n,r){if(n in t)return t[n];var i=m.nestedProperty(e,r).get();return Array.isArray(i)?void 0:i},m.tagSelected=function(t,e,n){var r,i,a=e.selectedpoints,o=e._indexToPoints;o&&(r=G(o));for(var s=0;s<a.length;s++){var l=a[s];if(m.isIndex(l)||m.isArrayOrTypedArray(l)&&m.isIndex(l[0])&&m.isIndex(l[1])){var c=r?r[l]:l,u=n?n[c]:c;void 0!==(i=u)&&i<t.length&&(t[u].selected=1)}}},m.selIndices2selPoints=function(t){var e=t.selectedpoints,n=t._indexToPoints;if(n){for(var r=G(n),i=[],a=0;a<e.length;a++){var o=e[a];if(m.isIndex(o)){var s=r[o];m.isIndex(s)&&i.push(s)}}return i}return e},m.getTargetArray=function(t,e){var n=e.target;if("string"==typeof n&&n){var r=m.nestedProperty(t,n).get();return!!m.isArrayOrTypedArray(r)&&r}return!!m.isArrayOrTypedArray(n)&&n},m.minExtend=function t(e,n,r){var i={};"object"!=typeof n&&(n={});var a,o,s,l="pieLike"===r?-1:3,c=Object.keys(e);for(a=0;a<c.length;a++)s=e[o=c[a]],"_"!==o.charAt(0)&&"function"!=typeof s&&("module"===o?i[o]=s:Array.isArray(s)?i[o]="colorscale"===o||-1===l?s.slice():s.slice(0,l):m.isTypedArray(s)?i[o]=-1===l?s.subarray():s.subarray(0,l):i[o]=s&&"object"==typeof s?t(e[o],n[o],r):s);for(c=Object.keys(n),a=0;a<c.length;a++)("object"!=typeof(s=n[o=c[a]])||!(o in i)||"object"!=typeof i[o])&&(i[o]=s);return i},m.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},m.containsAny=function(t,e){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1};var q=/Version\/[\d\.]+.*Safari/;m.isSafari=function(){return q.test(window.navigator.userAgent)};var X=/iPad|iPhone|iPod/;m.isIOS=function(){return X.test(window.navigator.userAgent)};var J=/Firefox\/(\d+)\.\d+/;m.getFirefoxVersion=function(){var t=J.exec(window.navigator.userAgent);if(t&&2===t.length){var e=parseInt(t[1]);if(!isNaN(e))return e}return null},m.isD3Selection=function(t){return t instanceof n.selection},m.ensureSingle=function(t,e,n,r){var i=t.select(e+(n?"."+n:""));if(i.size())return i;var a=t.append(e);return n&&a.classed(n,!0),r&&a.call(r),a},m.ensureSingleById=function(t,e,n,r){var i=t.select(e+"#"+n);if(i.size())return i;var a=t.append(e).attr("id",n);return r&&a.call(r),a},m.objectFromPath=function(t,e){for(var n,r=t.split("."),i=n={},a=0;a<r.length;a++){var o=r[a],s=null,l=r[a].match(/(.*)\[([0-9]+)\]/);l?(o=l[1],s=l[2],n=n[o]=[],a===r.length-1?n[s]=e:n[s]={},n=n[s]):(a===r.length-1?n[o]=e:n[o]={},n=n[o])}return i};var K=/^([^\[\.]+)\.(.+)?/,$=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function Q(t){return"__"===t.slice(0,2)}m.expandObjectPaths=function(t){var e,n,r,i,a,o,s;if("object"==typeof t&&!Array.isArray(t))for(n in t)if(t.hasOwnProperty(n))if(e=n.match(K)){if(i=t[n],Q(r=e[1]))continue;delete t[n],t[r]=m.extendDeepNoArrays(t[r]||{},m.objectFromPath(n,m.expandObjectPaths(i))[r])}else if(e=n.match($)){if(i=t[n],Q(r=e[1]))continue;if(a=parseInt(e[2]),delete t[n],t[r]=t[r]||[],"."===e[3])s=e[4],o=t[r][a]=t[r][a]||{},m.extendDeepNoArrays(o,m.objectFromPath(s,m.expandObjectPaths(i)));else{if(Q(r))continue;t[r][a]=m.expandObjectPaths(i)}}else{if(Q(n))continue;t[n]=m.expandObjectPaths(t[n])}return t},m.numSeparate=function(t,e,n){if(n||(n=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var r=/(\d+)(\d{3})/,i=e.charAt(0),a=e.charAt(1),o=t.split("."),s=o[0],l=o.length>1?i+o[1]:"";if(a&&(o.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+a+"$2");return s+l},m.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var tt=/^\w*$/;m.templateString=function(t,e){var n={};return t.replace(m.TEMPLATE_STRING_REGEX,(function(t,r){var i;return tt.test(r)?i=e[r]:(n[r]=n[r]||m.nestedProperty(e,r).get,i=n[r](!0)),void 0!==i?i:""}))};var et={max:10,count:0,name:"hovertemplate"};m.hovertemplateString=function(){return ot.apply(et,arguments)};var nt={max:10,count:0,name:"texttemplate"};m.texttemplateString=function(){return ot.apply(nt,arguments)};var rt=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,it={max:10,count:0,name:"texttemplate",parseMultDiv:!0};m.texttemplateStringForShapes=function(){return ot.apply(it,arguments)};var at=/^[:|\|]/;function ot(t,e,n){var i=this,a=arguments;return e||(e={}),t.replace(m.TEMPLATE_STRING_REGEX,(function(t,o,s){var l="_xother"===o||"_yother"===o,c="_xother_"===o||"_yother_"===o,u="xother_"===o||"yother_"===o,h="xother"===o||"yother"===o||l||u||c,d=o;(l||c)&&(d=d.substring(1)),(u||c)&&(d=d.substring(0,d.length-1));var f,p,g,v=null,y=null;if(i.parseMultDiv){var _=function(t){var e=t.match(rt);return e?{key:e[1],op:e[2],number:Number(e[3])}:{key:t,op:null,number:null}}(d);d=_.key,v=_.op,y=_.number}if(h){if(void 0===(f=e[d]))return""}else for(g=3;g<a.length;g++)if(p=a[g]){if(p.hasOwnProperty(d)){f=p[d];break}if(tt.test(d)||(f=m.nestedProperty(p,d).get(!0)),void 0!==f)break}if(void 0!==f&&("*"===v&&(f*=y),"/"===v&&(f/=y)),void 0===f&&i)return i.count<i.max&&(m.warn("Variable '"+d+"' in "+i.name+" could not be found!"),f=t),i.count===i.max&&m.warn("Too many "+i.name+" warnings - additional warnings will be suppressed"),i.count++,t;if(s){var x;if(":"===s[0]&&(x=n?n.numberFormat:m.numberFormat,""!==f&&(f=x(s.replace(at,""))(f))),"|"===s[0]){x=n?n.timeFormat:r;var b=m.dateTime2ms(f);f=m.formatDate(b,s.replace(at,""),!1,x)}}else{var w=d+"Label";e.hasOwnProperty(w)&&(f=e[w])}return h&&(f="("+f+")",(l||c)&&(f=" "+f),(u||c)&&(f+=" ")),f}))}m.subplotSort=function(t,e){for(var n=Math.min(t.length,e.length)+1,r=0,i=0,a=0;a<n;a++){var o=t.charCodeAt(a)||0,s=e.charCodeAt(a)||0,l=o>=48&&o<=57,c=s>=48&&s<=57;if(l&&(r=10*r+o-48),c&&(i=10*i+s-48),!l||!c){if(r!==i)return r-i;if(o!==s)return o-s}}return i-r};var st=2e9;m.seedPseudoRandom=function(){st=2e9},m.pseudoRandom=function(){var t=st;return st=(69069*st+1)%4294967296,Math.abs(st-t)<429496729?m.pseudoRandom():st/4294967296},m.fillText=function(t,e,n){var r=Array.isArray(n)?function(t){n.push(t)}:function(t){n.text=t},i=m.extractOption(t,e,"htx","hovertext");if(m.isValidTextValue(i))return r(i);var a=m.extractOption(t,e,"tx","text");return m.isValidTextValue(a)?r(a):void 0},m.isValidTextValue=function(t){return t||0===t},m.formatPercent=function(t,e){e=e||0;for(var n=(Math.round(100*t*Math.pow(10,e))*Math.pow(.1,e)).toFixed(e)+"%",r=0;r<e;r++)-1!==n.indexOf(".")&&(n=(n=n.replace("0%","%")).replace(".%","%"));return n},m.isHidden=function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e},m.strTranslate=function(t,e){return t||e?"translate("+t+","+e+")":""},m.strRotate=function(t){return t?"rotate("+t+")":""},m.strScale=function(t){return 1!==t?"scale("+t+")":""},m.getTextTransform=function(t){var e=t.noCenter,n=t.textX,r=t.textY,i=t.targetX,a=t.targetY,o=t.anchorX||0,s=t.anchorY||0,l=t.rotate,c=t.scale;return c?c>1&&(c=1):c=0,m.strTranslate(i-c*(n+o),a-c*(r+s))+m.strScale(c)+(l?"rotate("+l+(e?"":" "+n+" "+r)+")":"")},m.setTransormAndDisplay=function(t,e){t.attr("transform",m.getTextTransform(e)),t.style("display",e.scale?null:"none")},m.ensureUniformFontSize=function(t,e){var n=m.extendFlat({},e);return n.size=Math.max(e.size,t._fullLayout.uniformtext.minsize||0),n},m.join2=function(t,e,n){var r=t.length;return r>1?t.slice(0,-1).join(e)+n+t[r-1]:t.join(e)},m.bigFont=function(t){return Math.round(1.2*t)};var lt=m.getFirefoxVersion(),ct=null!==lt&&lt<86;m.getPositionFromD3Event=function(){return ct?[n.event.layerX,n.event.layerY]:[n.event.offsetX,n.event.offsetY]}})),Qt=a((()=>{var t,e,n=$t(),r={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(e in r)t=e.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),n.addStyleRule(t,r[e])})),te=a(((t,e)=>{e.exports=!0})),ee=a(((t,e)=>{var n,r=te();n="function"==typeof window.matchMedia?!window.matchMedia("(hover: none)").matches:r,e.exports=n})),ne=a(((t,e)=>{var n,r="object"==typeof Reflect?Reflect:null,i=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,a),r(n)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}g(t,e,a,{once:!0}),"error"!==e&&function(t,e){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function u(t,e,n,r){var i,a,o;if(l(n),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]),void 0===o)o=a[e]=n,++t._eventsCount;else if("function"==typeof o?o=a[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(t))>0&&o.length>i&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=o.length,function(t){console&&console.warn&&console.warn(t)}(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function p(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(a){r.once&&t.removeEventListener(e,i),n(a)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var l=a[t];if(void 0===l)return!1;if("function"==typeof l)i(l,this,e);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,e)}return!0},o.prototype.addListener=function(t,e){return u(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return u(this,t,e,!0)},o.prototype.once=function(t,e){return l(e),this.on(t,d(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,d(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,a,o;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}})),re=a(((t,e)=>{var n=ne().EventEmitter,r={init:function(t){if(t._ev instanceof n)return t;var e=new n,r=new n;return t._ev=e,t._internalEv=r,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=r.on.bind(r),t._internalOnce=r.once.bind(r),t._removeInternalListener=r.removeListener.bind(r),t._removeAllInternalListeners=r.removeAllListeners.bind(r),t.emit=function(t,n){e.emit(t,n),r.emit(t,n)},t},triggerHandler:function(t,e,n){var r=t._ev;if(r){var i=r._events[e];if(i){var a;for(i=Array.isArray(i)?i:[i],a=0;a<i.length-1;a++)o(i[a]);return o(i[a])}}function o(t){return t.listener?(r.removeListener(e,t.listener),t.fired?void 0:(t.fired=!0,t.listener.apply(r,[n]))):t.apply(r,[n])}},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};e.exports=r})),ie=a(((t,e)=>{var n=$t(),r=R().dfltConfig,i={add:function(t,e,n,i,a){var o,s;t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},s=t.undoQueue.index,t.autoplay?t.undoQueue.inSequence||(t.autoplay=!1):(!t.undoQueue.sequence||t.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(s,t.undoQueue.queue.length-s,o),t.undoQueue.index+=1):o=t.undoQueue.queue[s-1],t.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(e),o.undo.args.unshift(n),o.redo.calls.push(i),o.redo.args.push(a)),t.undoQueue.queue.length>r.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--))},startSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},stopSequence:function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},undo:function(t){var e,n;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.undo.calls.length;n++)i.plotDo(t,e.undo.calls[n],e.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}},redo:function(t){var e,n;if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.redo.calls.length;n++)i.plotDo(t,e.redo.calls[n],e.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},plotDo:function(t,e,r){t.autoplay=!0,r=function(t,e){for(var r,i=[],a=0;a<e.length;a++)r=e[a],i[a]=r===t?r:"object"==typeof r?Array.isArray(r)?n.extendDeep([],r):n.extendDeepAll({},r):r;return i}(t,r),e.apply(null,r)}};e.exports=i})),ae=a(((t,e)=>{e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}})),oe=a((t=>{var e=Et(),n=$t(),r=P(),i=St(),a=ae(),o=xt(),s=R().configAttributes,l=bt(),c=n.extendDeepAll,u=n.isPlainObject,h=n.isArrayOrTypedArray,d=n.nestedProperty,f=n.valObjectMeta,p="_isSubplotObj",m="_isLinkedToArray",g="_deprecated",v=[p,m,"_arrayAttrRegexps",g];function y(t,e,n){if(!t)return!1;if(t._isLinkedToArray)if(_(e[n]))n++;else if(n<e.length)return!1;for(;n<e.length;n++){var r=t[e[n]];if(!u(r))break;if(t=r,n===e.length-1)break;if(t._isLinkedToArray){if(!_(e[++n]))return!1}else if("info_array"===t.valType){var i=e[++n];if(!_(i))return!1;var a=t.items;if(Array.isArray(a)){if(i>=a.length)return!1;if(2===t.dimensions){if(n++,e.length===n)return t;var o=e[n];if(!_(o))return!1;t=a[i][o]}else t=a[i]}else t=a}}return t}function _(t){return t===Math.round(t)&&t>=0}function x(){var t,n,r={};for(t in c(r,i),e.subplotsRegistry)if((n=e.subplotsRegistry[t]).layoutAttributes)if(Array.isArray(n.attr))for(var a=0;a<n.attr.length;a++)M(r,n,n.attr[a]);else M(r,n,"subplot"===n.attr?n.name:n.attr);for(t in e.componentsRegistry){var o=(n=e.componentsRegistry[t]).schema;if(o&&(o.subplots||o.layout)){var s=o.subplots;if(s&&s.xaxis&&!s.yaxis)for(var l in s.xaxis)delete r.yaxis[l];delete r.xaxis.shift,delete r.xaxis.autoshift}else"colorscale"===n.name?c(r,n.layoutAttributes):n.layoutAttributes&&T(r,n.layoutAttributes,n.name)}return{layoutAttributes:w(r)}}function b(){var t={frames:c({},a)};return w(t),t.frames}function w(e){return function(e){t.crawl(e,(function(e,n,r){t.isValObject(e)?(!0===e.arrayOk||"data_array"===e.valType)&&(r[n+"src"]={valType:"string",editType:"none"}):u(e)&&(e.role="object")}))}(e),function(e){t.crawl(e,(function(t,e,n){if(t){var r=t[m];r&&(delete t[m],n[e]={items:{}},n[e].items[r]=t,n[e].role="object")}}))}(e),function(t){!function t(e){for(var n in e)if(u(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}(t)}(e),e}function M(t,e,n){var r=d(t,n),i=c({},e.layoutAttributes);i[p]=!0,r.set(i)}function T(t,e,n){var r=d(t,n);r.set(c(r.get()||{},e))}t.IS_SUBPLOT_OBJ=p,t.IS_LINKED_TO_ARRAY=m,t.DEPRECATED=g,t.UNDERSCORE_ATTRS=v,t.get=function(){var n={};return e.allTypes.forEach((function(i){n[i]=function(n){var i,a;a=(i=e.modules[n]._module).basePlotModule;var o={type:null},s=c({},r),l=c({},i.attributes);t.crawl(l,(function(t,e,n,r,i){d(s,i).set(void 0),void 0===t&&d(l,i).set(void 0)})),c(o,s),e.traceIs(n,"noOpacity")&&delete o.opacity,e.traceIs(n,"showLegend")||(delete o.showlegend,delete o.legendgroup),e.traceIs(n,"noHover")&&(delete o.hoverinfo,delete o.hoverlabel),i.selectPoints||delete o.selectedpoints,c(o,l),a.attributes&&c(o,a.attributes),o.type=n;var u={meta:i.meta||{},categories:i.categories||{},animatable:!!i.animatable,type:n,attributes:w(o)};if(i.layoutAttributes){var h={};c(h,i.layoutAttributes),u.layoutAttributes=w(h)}return i.animatable||t.crawl(u,(function(e){t.isValObject(e)&&"anim"in e&&delete e.anim})),u}(i)})),{defs:{valObjects:f,metaKeys:v.concat(["description","role","editType","impliedEdits"]),editType:{traces:l.traces,layout:l.layout},impliedEdits:{}},traces:n,layout:x(),frames:b(),animation:w(o),config:w(s)}},t.crawl=function(e,n,r,i){var a=r||0;i=i||"",Object.keys(e).forEach((function(r){var o=e[r];if(-1===v.indexOf(r)){var s=(i?i+".":"")+r;n(o,r,e,a,s),!t.isValObject(o)&&u(o)&&"impliedEdits"!==r&&t.crawl(o,n,a+1,s)}}))},t.isValObject=function(t){return t&&void 0!==t.valType},t.findArrayAttributes=function(e){var n,i,a=[],o=[],s=[];function l(t,e,r,i){o=o.slice(0,i).concat([e]),s=s.slice(0,i).concat([t&&t._isLinkedToArray]),t&&("data_array"===t.valType||!0===t.arrayOk)&&("colorbar"!==o[i-1]||"ticktext"!==e&&"tickvals"!==e)&&c(n,0,"")}function c(t,e,n){var r=t[o[e]],l=n+o[e];if(e===o.length-1)h(r)&&a.push(i+l);else if(s[e]){if(Array.isArray(r))for(var d=0;d<r.length;d++)u(r[d])&&c(r[d],e+1,l+"["+d+"].")}else u(r)&&c(r,e+1,l+".")}return n=e,i="",t.crawl(r,l),e._module&&e._module.attributes&&t.crawl(e._module.attributes,l),a},t.getTraceValObject=function(t,n){var i,a,o=n[0],s=t._module;if(s||(s=(e.modules[t.type||r.type.dflt]||{})._module),!s)return!1;if(!(a=(i=s.attributes)&&i[o])){var l=s.basePlotModule;l&&l.attributes&&(a=l.attributes[o])}return a||(a=r[o]),y(a,n,1)},t.getLayoutValObject=function(t,n){var r=function(t,n){var r,a,o,s,l=t._basePlotModules;if(l){var c;for(r=0;r<l.length;r++){if((o=l[r]).attrRegex&&o.attrRegex.test(n)){if(o.layoutAttrOverrides)return o.layoutAttrOverrides;!c&&o.layoutAttributes&&(c=o.layoutAttributes)}var u=o.baseLayoutAttrOverrides;if(u&&n in u)return u[n]}if(c)return c}var h=t._modules;if(h)for(r=0;r<h.length;r++)if((s=h[r].layoutAttributes)&&n in s)return s[n];for(a in e.componentsRegistry){if("colorscale"===(o=e.componentsRegistry[a]).name&&0===n.indexOf("coloraxis"))return o.layoutAttributes[n];if(!o.schema&&n===o.name)return o.layoutAttributes}return n in i&&i[n]}(t,n[0]);return y(r,n,1)}})),se=a((t=>{var e=$t(),n=P(),r="templateitemname",i={name:{valType:"string",editType:"none"}};function a(t){return t&&"string"==typeof t}function o(t){var n=t.length-1;return"s"!==t.charAt(n)&&e.warn("bad argument to arrayDefaultKey: "+t),t.substr(0,t.length-1)+"defaults"}i[r]={valType:"string",editType:"calc"},t.templatedArray=function(t,e){return e._isLinkedToArray=t,e.name=i.name,e[r]=i[r],e},t.traceTemplater=function(t){var r,i,a={};for(r in t)i=t[r],Array.isArray(i)&&i.length&&(a[r]=0);return{newTrace:function(o){var s={type:r=e.coerce(o,{},n,"type"),_template:null};if(r in a){i=t[r];var l=a[r]%i.length;a[r]++,s._template=i[l]}return s}}},t.newContainer=function(t,n,r){var i=t._template,a=i&&(i[n]||r&&i[r]);return e.isPlainObject(a)||(a=null),t[n]={_template:a}},t.arrayTemplater=function(t,e,n){var i=t._template,s=i&&i[o(e)],l=i&&i[e];(!Array.isArray(l)||!l.length)&&(l=[]);var c={};return{newItem:function(t){var e={name:t.name,_input:t},i=e[r]=t[r];if(!a(i))return e._template=s,e;for(var o=0;o<l.length;o++){var u=l[o];if(u.name===i)return c[i]=1,e._template=u,e}return e[n]=t[n]||!1,e._template=!1,e},defaultItems:function(){for(var t=[],e=0;e<l.length;e++){var n=l[e],i=n.name;if(a(i)&&!c[i]){var o={_template:n,name:i,_input:{_templateitemname:i}};o[r]=n[r],t.push(o),c[i]=1}}return t}}},t.arrayDefaultKey=o,t.arrayEditor=function(t,n,i){var a=(e.nestedProperty(t,n).get()||[]).length,o=i._index,s=o>=a&&(i._input||{})._templateitemname;s&&(o=a);var l,c=n+"["+o+"]";function u(){l={},s&&(l[c]={},l[c][r]=s)}function h(t,n){s?e.nestedProperty(l[c],t).set(n):l[c+"."+t]=n}function d(){var t=l;return u(),t}return u(),{modifyBase:function(t,e){l[t]=e},modifyItem:h,getUpdateObj:d,applyUpdate:function(n,r){n&&h(n,r);var i=d();for(var a in i)e.nestedProperty(t,a).set(i[a])}}}})),le=a(((t,e)=>{var n=z().counter;e.exports={idRegex:{x:n("x","( domain)?"),y:n("y","( domain)?")},attrRegex:n("[xy]axis"),xAxisMatch:n("xaxis"),yAxisMatch:n("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}})),ce=a((t=>{var e=Et(),n=le();function r(t,e){if(e&&e.length)for(var n=0;n<e.length;n++)if(e[n][t])return!0;return!1}t.id2name=function(t){if("string"==typeof t&&t.match(n.AX_ID_PATTERN)){var e=t.split(" ")[0].substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},t.name2id=function(t){if(t.match(n.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},t.cleanId=function(t,e,r){var i=/( domain)$/.test(t);if("string"==typeof t&&t.match(n.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)&&(!i||r)){var a=t.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===a&&(a=""),t.charAt(0)+a+(i&&r?" domain":"")}},t.list=function(e,n,r){var i=e._fullLayout;if(!i)return[];var a,o=t.listIds(e,n),s=new Array(o.length);for(a=0;a<o.length;a++){var l=o[a];s[a]=i[l.charAt(0)+"axis"+l.substr(1)]}if(!r){var c=i._subplots.gl3d||[];for(a=0;a<c.length;a++){var u=i[c[a]];n?s.push(u[n+"axis"]):s.push(u.xaxis,u.yaxis,u.zaxis)}}return s},t.listIds=function(t,e){var n=t._fullLayout;if(!n)return[];var r=n._subplots;return e?r[e+"axis"]:r.xaxis.concat(r.yaxis)},t.getFromId=function(e,n,r){var i=e._fullLayout;return n=void 0===n||"string"!=typeof n?n:n.replace(" domain",""),"x"===r?n=n.replace(/y[0-9]*/,""):"y"===r&&(n=n.replace(/x[0-9]*/,"")),i[t.id2name(n)]},t.getFromTrace=function(n,r,i){var a=n._fullLayout,o=null;if(e.traceIs(r,"gl3d")){var s=r.scene;"scene"===s.substr(0,5)&&(o=a[s][i+"axis"])}else o=t.getFromId(n,r[i+"axis"]||i);return o},t.idSort=function(t,e){var n=t.charAt(0),r=e.charAt(0);return n!==r?n>r?1:-1:+(t.substr(1)||1)-+(e.substr(1)||1)},t.ref2id=function(t){return!!/^[xyz]/.test(t)&&t.split(" ")[0]},t.isLinked=function(t,e){return r(e,t._axisMatchGroups)||r(e,t._axisConstraintGroups)}})),ue=a(((t,e)=>{e.exports={clearOutlineControllers:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(t){var e=t._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),t._fullLayout._outlining=!1}}})),he=a(((t,e)=>{e.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}})),de=a((t=>{var e=Et();le().SUBPLOT_PATTERN,t.getSubplotCalcData=function(t,n,r){var i=e.subplotsRegistry[n];if(!i)return[];for(var a=i.attr,o=[],s=0;s<t.length;s++){var l=t[s];l[0].trace[a]===r&&o.push(l)}return o},t.getModuleCalcData=function(t,n,r){var i,a=[],o=[];if(!(i="string"==typeof n?e.getModule(n).plot:"function"==typeof n?n:n.plot))return[a,t];for(var s=r,l=0;l<t.length;l++){var c=t[l],u=c[0].trace,h=void 0!==u.zorder;!0!==u.visible||0===u._length||(!u._module||u._module.plot!==i||h&&u.zorder!==s?o.push(c):a.push(c))}return[a,o]},t.getSubplotData=function(t,n,r){if(!e.subplotsRegistry[n])return[];for(var i,a=e.subplotsRegistry[n].attr,o=[],s=0;s<t.length;s++)(i=t[s])[a]===r&&o.push(i);return o}})),fe=a((t=>{var e=Et(),n=$t();function r(t,e,r){var i,a,o,s=!1;if("data"===e.type)i=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;i=t._fullLayout}return a=n.nestedProperty(i,e.prop).get(),(o=r[e.type]=r[e.type]||{}).hasOwnProperty(e.prop)&&o[e.prop]!==a&&(s=!0),o[e.prop]=a,{changed:s,value:a}}function i(t,e){var r=[],i=e[0],a={};if("string"==typeof i)a[i]=e[1];else{if(!n.isPlainObject(i))return r;a=i}return o(a,(function(t,e,n){r.push({type:"layout",prop:t,value:n})}),"",0),r}function a(t,e){var r,i,a,s,l=[];if(i=e[0],a=e[1],r=e[2],s={},"string"==typeof i)s[i]=a;else{if(!n.isPlainObject(i))return l;s=i,void 0===r&&(r=a)}return void 0===r&&(r=null),o(s,(function(e,n,i){var a,o;if(Array.isArray(i)){o=i.slice();var s=Math.min(o.length,t.data.length);r&&(s=Math.min(s,r.length)),a=[];for(var c=0;c<s;c++)a[c]=r?r[c]:c}else o=i,a=r?r.slice():null;if(null===a)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(a)){if(!Array.isArray(o)){var u=o;o=[];for(var h=0;h<a.length;h++)o[h]=u}o.length=Math.min(a.length,o.length)}l.push({type:"data",prop:e,traces:a,value:o})}),"",0),l}function o(t,e,r,i){Object.keys(t).forEach((function(a){var s=t[a];if("_"!==a[0]){var l=r+(i>0?".":"")+a;n.isPlainObject(s)?o(s,e,l,i+1):e(l,a,s)}}))}t.manageCommandObserver=function(e,i,a,o){var s={},l=!0;i&&i._commandObserver&&(s=i._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var c=t.hasSimpleAPICommandBindings(e,a,s.lookupTable);if(i&&i._commandObserver){if(c)return s;if(i._commandObserver.remove)return i._commandObserver.remove(),i._commandObserver=null,s}if(c){r(e,c,s.cache),s.check=function(){if(l){var t=r(e,c,s.cache);return t.changed&&o&&void 0!==s.lookupTable[t.value]&&(s.disable(),Promise.resolve(o({value:t.value,type:c.type,prop:c.prop,traces:c.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],h=0;h<u.length;h++)e._internalOn(u[h],s.check);s.remove=function(){for(var t=0;t<u.length;t++)e._removeInternalListener(u[t],s.check)}}else n.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){l=!1},s.enable=function(){l=!0},i&&(i._commandObserver=s),s},t.hasSimpleAPICommandBindings=function(e,n,r){var i,a,o=n.length;for(i=0;i<o;i++){var s,l=n[i],c=l.method,u=l.args;if(Array.isArray(u)||(u=[]),!c)return!1;var h=t.computeAPICommandBindings(e,c,u);if(1!==h.length)return!1;if(a){if((s=h[0]).type!==a.type||s.prop!==a.prop)return!1;if(Array.isArray(a.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var d=0;d<a.traces.length;d++)if(a.traces[d]!==s.traces[d])return!1}else if(s.prop!==a.prop)return!1}else a=h[0],Array.isArray(a.traces)&&a.traces.sort();var f=(s=h[0]).value;if(Array.isArray(f)){if(1!==f.length)return!1;f=f[0]}r&&(r[f]=i)}return a},t.executeAPICommand=function(t,r,i){if("skip"===r)return Promise.resolve();var a=e.apiMethodRegistry[r],o=[t];Array.isArray(i)||(i=[]);for(var s=0;s<i.length;s++)o.push(i[s]);return a.apply(null,o).catch((function(t){return n.warn("API call to Plotly."+r+" rejected.",t),Promise.reject(t)}))},t.computeAPICommandBindings=function(t,e,n){var r;switch(Array.isArray(n)||(n=[]),e){case"restyle":r=a(t,n);break;case"relayout":r=i(0,n);break;case"update":r=a(t,[n[0],n[2]]).concat(i(0,[n[1]]));break;case"animate":r=function(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}(0,n);break;default:r=[]}return r}})),pe=a(((t,e)=>{var n=l(),r=u().timeFormatLocale,i=h().formatLocale,a=f(),o=m(),s=Et(),c=oe(),d=se(),g=$t(),v=E(),y=p().BADNUM,_=ce(),x=ue().clearOutline,b=he(),w=xt(),M=ae(),T=de().getModuleCalcData,k=g.relinkPrivateKeys,L=g._,C=e.exports={};g.extendFlat(C,s),C.attributes=P(),C.attributes.type.values=C.allTypes,C.fontAttrs=A(),C.layoutAttributes=St();var S=fe();C.executeAPICommand=S.executeAPICommand,C.computeAPICommandBindings=S.computeAPICommandBindings,C.manageCommandObserver=S.manageCommandObserver,C.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,C.redrawText=function(t){return t=g.getGraphDiv(t),new Promise((function(e){setTimeout((function(){t._fullLayout&&(s.getComponentMethod("annotations","draw")(t),s.getComponentMethod("legend","draw")(t),s.getComponentMethod("colorbar","draw")(t),e(C.previousPromises(t)))}),300)}))},C.resize=function(t){t=g.getGraphDiv(t);var e,n=new Promise((function(n,r){(!t||g.isHidden(t))&&r(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._resolveResize&&(e=t._resolveResize),t._resolveResize=n,t._redrawTimer=setTimeout((function(){if(!t.layout||t.layout.width&&t.layout.height||g.isHidden(t))n(t);else{delete t.layout.width,delete t.layout.height;var e=t.changed;t.autoplay=!0,s.call("relayout",t,{autosize:!0}).then((function(){t.changed=e,t._resolveResize===n&&(delete t._resolveResize,n(t))}))}}),100)}));return e&&e(n),n},C.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then((function(){t._promises=[]}))},C.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,r=g.ensureSingle(e._paper,"text","js-plot-link-container",(function(t){t.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:v.defaultLine,"pointer-events":"all"}).each((function(){var t=n.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)}))})),i=r.node(),a={y:e._paper.attr("height")-9};document.body.contains(i)&&i.getComputedTextLength()>=e.width-20?(a["text-anchor"]="start",a.x=5):(a["text-anchor"]="end",a.x=e._paper.attr("width")-7),r.attr(a);var o=r.select(".js-link-to-tool"),s=r.select(".js-link-spacer"),l=r.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&function(t,e){e.text("");var n=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" »");if(t._context.sendData)n.on("click",(function(){C.sendDataToCloud(t)}));else{var r=window.location.pathname.split("/"),i=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+i})}}(t,o),s.text(o.text()&&l.text()?" - ":"")}},C.sendDataToCloud=function(t){var e=(window.PLOTLYENV||{}).BASE_URL||t._context.plotlyServerURL;if(e){t.emit("plotly_beforeexport");var r=n.select(t).append("div").attr("id","hiddenform").style("display","none"),i=r.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return i.append("input").attr({type:"text",name:"data"}).node().value=C.graphJson(t,!1,"keepdata"),i.node().submit(),r.remove(),t.emit("plotly_afterexport"),!1}};var D=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],O=["year","month","dayMonth","dayMonthYear"];function I(t,e){var n=t._context.locale;n||(n="en-US");var r=!1,i={};function a(t){for(var n=!0,a=0;a<e.length;a++){var o=e[a];i[o]||(t[o]?i[o]=t[o]:n=!1)}n&&(r=!0)}for(var o=0;o<2;o++){for(var l=t._context.locales,c=0;c<2;c++){var u=(l[n]||{}).format;if(u&&(a(u),r))break;l=s.localeRegistry}var h=n.split("-")[0];if(r||h===n)break;n=h}return r||a(s.localeRegistry.en.format),i}function z(t,e){var n={_fullLayout:e},r="x"===t._id.charAt(0),i=t._mainAxis._anchorAxis,a="",o="",s="";if(i&&(s=i._mainAxis._id,a=r?t._id+s:s+t._id),!a||!e._plots[a]){a="";for(var l=t._counterAxes,c=0;c<l.length;c++){var u=l[c],h=r?t._id+u:u+t._id;o||(o=h);var d=_.getFromId(n,u);if(s&&d.overlaying===s){a=h;break}}}return a||o}function N(t){return"string"==typeof t&&"px"===t.substr(t.length-2)&&parseFloat(t)}function R(t){var e=t.margin;if(!t._size){var n=t._size={l:Math.round(e.l),r:Math.round(e.r),t:Math.round(e.t),b:Math.round(e.b),p:Math.round(e.pad)};n.w=Math.round(t.width)-n.l-n.r,n.h=Math.round(t.height)-n.t-n.b}t._pushmargin||(t._pushmargin={}),t._pushmarginIds||(t._pushmarginIds={}),t._reservedMargin||(t._reservedMargin={})}C.supplyDefaults=function(t,e){var n=e&&e.skipUpdateCalc,a=t._fullLayout||{};if(a._skipDefaults)delete a._skipDefaults;else{var o,l=t._fullLayout={},c=t.layout||{},u=t._fullData||[],h=t._fullData=[],d=t.data||[],f=t.calcdata||[],p=t._context||{};t._transitionData||C.createTransitionData(t),l._dfltTitle={plot:L(t,"Click to enter Plot title"),subtitle:L(t,"Click to enter Plot subtitle"),x:L(t,"Click to enter X axis title"),y:L(t,"Click to enter Y axis title"),colorbar:L(t,"Click to enter Colorscale title"),annotation:L(t,"new text")},l._traceWord=L(t,"trace");var m=I(t,D);if(l._mapboxAccessToken=p.mapboxAccessToken,a._initialAutoSizeIsDone){var v=a.width,y=a.height;C.supplyLayoutGlobalDefaults(c,l,m),c.width||(l.width=v),c.height||(l.height=y),C.sanitizeMargins(l)}else{C.supplyLayoutGlobalDefaults(c,l,m);var _=!c.width||!c.height,b=l.autosize,w=p.autosizable;_&&(b||w)?C.plotAutoSize(t,c,l):_&&C.sanitizeMargins(l),!b&&_&&(c.width=l.width,c.height=l.height)}l._d3locale=function(t,e){return t.decimal=e.charAt(0),t.thousands=e.charAt(1),{numberFormat:function(e){try{e=i(t).format(g.adjustFormat(e))}catch(t){return g.warnBadFormat(e),g.noFormat}return e},timeFormat:r(t).utcFormat}}(m,l.separators),l._extraFormat=I(t,O),l._initialAutoSizeIsDone=!0,l._dataLength=d.length,l._modules=[],l._visibleModules=[],l._basePlotModules=[];var M=l._subplots=function(){var t,e,n=s.collectableSubplotTypes,r={};if(!n){n=[];var i=s.subplotsRegistry;for(var a in i){var o=i[a].attr;if(o&&(n.push(a),Array.isArray(o)))for(e=0;e<o.length;e++)g.pushUnique(n,o[e])}}for(t=0;t<n.length;t++)r[n[t]]=[];return r}(),T=l._splomAxes={x:{},y:{}},A=l._splomSubplots={};l._splomGridDflt={},l._scatterStackOpts={},l._firstScatter={},l._alignmentOpts={},l._colorAxes={},l._requestRangeslider={},l._traceUids=function(t,e){var n,r,i=e.length,a=[];for(n=0;n<t.length;n++){var o=t[n]._fullInput;o!==r&&a.push(o),r=o}var s=a.length,l=new Array(i),c={};function u(t,e){l[e]=t,c[t]=1}function h(t,e){if(t&&"string"==typeof t&&!c[t])return u(t,e),!0}for(n=0;n<i;n++){var d=e[n].uid;"number"==typeof d&&(d=String(d)),!h(d,n)&&(n<s&&h(a[n].uid,n)||u(g.randstr(c),n))}return l}(u,d),C.supplyDataDefaults(d,h,c,l);var S=Object.keys(T.x),P=Object.keys(T.y);if(S.length>1&&P.length>1){for(s.getComponentMethod("grid","sizeDefaults")(c,l),o=0;o<S.length;o++)g.pushUnique(M.xaxis,S[o]);for(o=0;o<P.length;o++)g.pushUnique(M.yaxis,P[o]);for(var E in A)g.pushUnique(M.cartesian,E)}if(l._has=C._hasPlotType.bind(l),u.length===h.length)for(o=0;o<h.length;o++)k(h[o],u[o]);C.supplyLayoutModuleDefaults(c,l,h,t._transitionData);var z=l._visibleModules,N=[];for(o=0;o<z.length;o++){var F=z[o].crossTraceDefaults;F&&g.pushUnique(N,F)}for(o=0;o<N.length;o++)N[o](h,l);l._hasOnlyLargeSploms=1===l._basePlotModules.length&&"splom"===l._basePlotModules[0].name&&S.length>15&&P.length>15&&0===l.shapes.length&&0===l.images.length,C.linkSubplots(h,l,u,a),C.cleanPlot(h,l,u,a);var j=!(!a._has||!a._has("cartesian")),B=!(!l._has||!l._has("cartesian"));j&&!B?a._bgLayer.remove():B&&!j&&(l._shouldCreateBgLayer=!0),a._zoomlayer&&!t._dragging&&x({_fullLayout:a}),function(t,e){var n,r=[];e.meta&&(n=e._meta={meta:e.meta,layout:{meta:e.meta}});for(var i=0;i<t.length;i++){var a=t[i];a.meta?r[a.index]=a._meta={meta:a.meta}:e.meta&&(a._meta={meta:e.meta}),e.meta&&(a._meta.layout={meta:e.meta})}r.length&&(n||(n=e._meta={}),n.data=r)}(h,l),k(l,a),s.getComponentMethod("colorscale","crossTraceDefaults")(h,l),l._preGUI||(l._preGUI={}),l._tracePreGUI||(l._tracePreGUI={});var H,U=l._tracePreGUI,Z={};for(H in U)Z[H]="old";for(o=0;o<h.length;o++)Z[H=h[o]._fullInput.uid]||(U[H]={}),Z[H]="new";for(H in Z)"old"===Z[H]&&delete U[H];R(l),s.getComponentMethod("rangeslider","makeData")(l),!n&&f.length===h.length&&C.supplyDefaultsUpdateCalc(f,h)}},C.supplyDefaultsUpdateCalc=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=(t[n]||[])[0];if(i&&i.trace){var a=i.trace;if(a._hasCalcTransform){var o,s,l,c=a._arrayAttrs;for(o=0;o<c.length;o++)s=c[o],l=g.nestedProperty(a,s).get().slice(),g.nestedProperty(r,s).set(l)}i.trace=r}}},C.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},C._hasPlotType=function(t){var e,n=this._basePlotModules||[];for(e=0;e<n.length;e++)if(n[e].name===t)return!0;var r=this._modules||[];for(e=0;e<r.length;e++){var i=r[e].name;if(i===t)return!0;var a=s.modules[i];if(a&&a.categories[t])return!0}return!1},C.cleanPlot=function(t,e,n,r){var i,a,o=r._basePlotModules||[];for(i=0;i<o.length;i++){var s=o[i];s.clean&&s.clean(t,e,n,r)}var l=r._has&&r._has("gl"),c=e._has&&e._has("gl");l&&!c&&void 0!==r._glcontainer&&(r._glcontainer.selectAll(".gl-canvas").remove(),r._glcontainer.selectAll(".no-webgl").remove(),r._glcanvas=null);var u=!!r._infolayer;t:for(i=0;i<n.length;i++){var h=n[i].uid;for(a=0;a<t.length;a++)if(h===t[a].uid)continue t;u&&r._infolayer.select(".cb"+h).remove()}},C.linkSubplots=function(t,e,n,r){var i,a,o=r._plots||{},l=e._plots={},c={_fullData:t,_fullLayout:e},u=e._subplots.cartesian||[];for(i=0;i<u.length;i++){var h,d=u[i],f=o[d],p=_.getFromId(c,d,"x"),m=_.getFromId(c,d,"y");for(f?h=l[d]=f:(h=l[d]={}).id=d,p._counterAxes.push(m._id),m._counterAxes.push(p._id),p._subplotsWith.push(d),m._subplotsWith.push(d),h.xaxis=p,h.yaxis=m,h._hasClipOnAxisFalse=!1,a=0;a<t.length;a++){var v=t[a];if(v.xaxis===h.xaxis._id&&v.yaxis===h.yaxis._id&&!1===v.cliponaxis){h._hasClipOnAxisFalse=!0;break}}}var y,x=_.list(c,null,!0);for(i=0;i<x.length;i++){var b=null;(y=x[i]).overlaying&&(b=_.getFromId(c,y.overlaying))&&b.overlaying&&(y.overlaying=!1,b=null),y._mainAxis=b||y,b&&(y.domain=b.domain.slice()),y._anchorAxis="free"===y.anchor?null:_.getFromId(c,y.anchor)}for(i=0;i<x.length;i++)if((y=x[i])._counterAxes.sort(_.idSort),y._subplotsWith.sort(g.subplotSort),y._mainSubplot=z(y,e),y._counterAxes.length&&(y.spikemode&&-1!==y.spikemode.indexOf("across")||y.automargin&&y.mirror&&"free"!==y.anchor||s.getComponentMethod("rangeslider","isVisible")(y))){var w=1,M=0;for(a=0;a<y._counterAxes.length;a++){var T=_.getFromId(c,y._counterAxes[a]);w=Math.min(w,T.domain[0]),M=Math.max(M,T.domain[1])}w<M&&(y._counterDomainMin=w,y._counterDomainMax=M)}},C.clearExpandedTraceDefaultColors=function(t){var e,n,r;for(n=[],(e=t._module._colorAttrs)||(t._module._colorAttrs=e=[],c.crawl(t._module.attributes,(function(t,r,i,a){n[a]=r,n.length=a+1,"color"===t.valType&&void 0===t.dflt&&e.push(n.join("."))}))),r=0;r<e.length;r++)g.nestedProperty(t,"_input."+e[r]).get()||g.nestedProperty(t,e[r]).set(null)},C.supplyDataDefaults=function(t,e,n,r){var i,a,o,l=r._modules,c=r._visibleModules,u=r._basePlotModules,h=0;function f(t){e.push(t);var n=t._module;n&&(g.pushUnique(l,n),!0===t.visible&&g.pushUnique(c,n),g.pushUnique(u,t._module.basePlotModule),!1!==t._input.visible&&h++)}r._transformModules=[];var p={},m=[],v=(n.template||{}).data||{},y=d.traceTemplater(v);for(i=0;i<t.length;i++)o=t[i],(a=y.newTrace(o)).uid=r._traceUids[i],C.supplyTraceDefaults(o,a,h,r,i),a.index=i,a._input=o,a._fullInput=a,f(a),s.traceIs(a,"carpetAxis")&&(p[a.carpet]=a),s.traceIs(a,"carpetDependent")&&m.push(i);for(i=0;i<m.length;i++)if((a=e[m[i]]).visible){var _=p[a.carpet];if(a._carpet=_,!_||!_.visible){a.visible=!1;continue}a.xaxis=_.xaxis,a.yaxis=_.yaxis}},C.supplyAnimationDefaults=function(t){t=t||{};var e,n={};function r(e,r){return g.coerce(t||{},n,w,e,r)}if(r("mode"),r("direction"),r("fromcurrent"),Array.isArray(t.frame))for(n.frame=[],e=0;e<t.frame.length;e++)n.frame[e]=C.supplyAnimationFrameDefaults(t.frame[e]||{});else n.frame=C.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(n.transition=[],e=0;e<t.transition.length;e++)n.transition[e]=C.supplyAnimationTransitionDefaults(t.transition[e]||{});else n.transition=C.supplyAnimationTransitionDefaults(t.transition||{});return n},C.supplyAnimationFrameDefaults=function(t){var e={};function n(n,r){return g.coerce(t||{},e,w.frame,n,r)}return n("duration"),n("redraw"),e},C.supplyAnimationTransitionDefaults=function(t){var e={};function n(n,r){return g.coerce(t||{},e,w.transition,n,r)}return n("duration"),n("easing"),e},C.supplyFrameDefaults=function(t){var e={};function n(n,r){return g.coerce(t,e,M,n,r)}return n("group"),n("name"),n("traces"),n("baseframe"),n("data"),n("layout"),e},C.supplyTraceDefaults=function(t,e,n,r,i){var a,o=r.colorway||v.defaults,l=o[n%o.length];function c(n,r){return g.coerce(t,e,C.attributes,n,r)}var u=c("visible");c("type"),c("name",r._traceWord+" "+i),c("uirevision",r.uirevision);var h=C.getModule(e);if(e._module=h,h){var d=h.basePlotModule,f=d.attr,p=d.attributes;if(f&&p){var m=r._subplots,y="";if(Array.isArray(f))for(a=0;a<f.length;a++){var _=f[a],x=g.coerce(t,e,p,_);m[_]&&g.pushUnique(m[_],x),y+=x}else y=g.coerce(t,e,p,f);m[d.name]&&g.pushUnique(m[d.name],y)}}if(u&&(c("customdata"),c("ids"),c("meta"),s.traceIs(e,"showLegend")?(g.coerce(t,e,h.attributes.showlegend?h.attributes:C.attributes,"showlegend"),c("legend"),c("legendwidth"),c("legendgroup"),c("legendgrouptitle.text"),c("legendrank"),e._dfltShowLegend=!0):e._dfltShowLegend=!1,h&&h.supplyDefaults(t,e,l,r),s.traceIs(e,"noOpacity")||c("opacity"),s.traceIs(e,"notLegendIsolatable")&&(e.visible=!!e.visible),s.traceIs(e,"noHover")||(e.hovertemplate||g.coerceHoverinfo(t,e,r),"parcats"!==e.type&&s.getComponentMethod("fx","supplyDefaults")(t,e,l,r)),h&&h.selectPoints)){var b=c("selectedpoints");g.isTypedArray(b)&&(e.selectedpoints=Array.from(b))}return e},C.supplyLayoutGlobalDefaults=function(t,e,n){function r(n,r){return g.coerce(t,e,C.layoutAttributes,n,r)}var i=t.template;g.isPlainObject(i)&&(e.template=i,e._template=i.layout,e._dataTemplate=i.data),r("autotypenumbers");var a=g.coerceFont(r,"font"),o=a.size;g.coerceFont(r,"title.font",a,{overrideDflt:{size:Math.round(1.4*o)}}),r("title.text",e._dfltTitle.plot),r("title.xref");var l=r("title.yref");r("title.pad.t"),r("title.pad.r"),r("title.pad.b"),r("title.pad.l");var c=r("title.automargin");r("title.x"),r("title.xanchor"),r("title.y"),r("title.yanchor"),r("title.subtitle.text",e._dfltTitle.subtitle),g.coerceFont(r,"title.subtitle.font",a,{overrideDflt:{size:Math.round(.7*e.title.font.size)}}),c&&("paper"===l&&(0!==e.title.y&&(e.title.y=1),"auto"===e.title.yanchor&&(e.title.yanchor=0===e.title.y?"top":"bottom")),"container"===l&&("auto"===e.title.y&&(e.title.y=1),"auto"===e.title.yanchor&&(e.title.yanchor=e.title.y<.5?"bottom":"top"))),r("uniformtext.mode")&&r("uniformtext.minsize"),r("autosize",!(t.width&&t.height)),r("width"),r("height"),r("minreducedwidth"),r("minreducedheight"),r("margin.l"),r("margin.r"),r("margin.t"),r("margin.b"),r("margin.pad"),r("margin.autoexpand"),t.width&&t.height&&C.sanitizeMargins(e),s.getComponentMethod("grid","sizeDefaults")(t,e),r("paper_bgcolor"),r("separators",n.decimal+n.thousands),r("hidesources"),r("colorway"),r("datarevision");var u=r("uirevision");r("editrevision",u),r("selectionrevision",u),s.getComponentMethod("modebar","supplyLayoutDefaults")(t,e),s.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(t,e,r),s.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(t,e,r),r("meta"),g.isPlainObject(t.transition)&&(r("transition.duration"),r("transition.easing"),r("transition.ordering")),s.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),s.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,r),g.coerce(t,e,b,"scattermode")},C.plotAutoSize=function(t,e,n){var r,i,o=t._context||{},s=o.frameMargins,l=g.isPlotDiv(t);if(l&&t.emit("plotly_autosize"),o.fillFrame)r=window.innerWidth,i=window.innerHeight,document.body.style.overflow="hidden";else{var c=l?window.getComputedStyle(t):{};if(r=N(c.width)||N(c.maxWidth)||n.width,i=N(c.height)||N(c.maxHeight)||n.height,a(s)&&s>0){var u=1-2*s;r=Math.round(u*r),i=Math.round(u*i)}}var h=C.layoutAttributes.width.min,d=C.layoutAttributes.height.min;r<h&&(r=h),i<d&&(i=d);var f=!e.width&&Math.abs(n.width-r)>1,p=!e.height&&Math.abs(n.height-i)>1;(p||f)&&(f&&(n.width=r),p&&(n.height=i)),t._initialAutoSize||(t._initialAutoSize={width:r,height:i}),C.sanitizeMargins(n)},C.supplyLayoutModuleDefaults=function(t,e,n,r){var i,a,o,l=s.componentsRegistry,c=e._basePlotModules,u=s.subplotsRegistry.cartesian;for(i in l)(o=l[i]).includeBasePlot&&o.includeBasePlot(t,e);for(var h in c.length||c.push(u),e._has("cartesian")&&(s.getComponentMethod("grid","contentDefaults")(t,e),u.finalizeSubplots(t,e)),e._subplots)e._subplots[h].sort(g.subplotSort);for(a=0;a<c.length;a++)(o=c[a]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n);var d=e._modules;for(a=0;a<d.length;a++)(o=d[a]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n);var f=e._transformModules;for(a=0;a<f.length;a++)(o=f[a]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n,r);for(i in l)(o=l[i]).supplyLayoutDefaults&&o.supplyLayoutDefaults(t,e,n)},C.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&(e._glcontainer.selectAll(".gl-canvas").remove(),e._glcontainer.remove(),e._glcanvas=null),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),g.clearThrottle(),g.clearResponsive(t),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t._hmlumcount,delete t._hmpixcount,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._dragdata,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},C.style=function(t){var e,n=t._fullLayout._visibleModules,r=[];for(e=0;e<n.length;e++){var i=n[e];i.style&&g.pushUnique(r,i.style)}for(e=0;e<r.length;e++)r[e](t)},C.sanitizeMargins=function(t){if(t&&t.margin){var e,n=t.width,r=t.height,i=t.margin,a=n-(i.l+i.r),o=r-(i.t+i.b);a<0&&(e=(n-1)/(i.l+i.r),i.l=Math.floor(e*i.l),i.r=Math.floor(e*i.r)),o<0&&(e=(r-1)/(i.t+i.b),i.t=Math.floor(e*i.t),i.b=Math.floor(e*i.b))}},C.clearAutoMarginIds=function(t){t._fullLayout._pushmarginIds={}},C.allowAutoMargin=function(t,e){t._fullLayout._pushmarginIds[e]=1},C.autoMargin=function(t,e,n){var r=t._fullLayout,i=r.width,a=r.height,o=r.margin,s=r.minreducedwidth,l=r.minreducedheight,c=g.constrain(i-o.l-o.r,2,s),u=g.constrain(a-o.t-o.b,2,l),h=Math.max(0,i-c),d=Math.max(0,a-u),f=r._pushmargin,p=r._pushmarginIds;if(!1!==o.autoexpand){if(n){var m=n.pad;if(void 0===m&&(m=Math.min(12,o.l,o.r,o.t,o.b)),h){var v=(n.l+n.r)/h;v>1&&(n.l/=v,n.r/=v)}if(d){var y=(n.t+n.b)/d;y>1&&(n.t/=y,n.b/=y)}var _=void 0!==n.xl?n.xl:n.x,x=void 0!==n.xr?n.xr:n.x,b=void 0!==n.yt?n.yt:n.y,w=void 0!==n.yb?n.yb:n.y;f[e]={l:{val:_,size:n.l+m},r:{val:x,size:n.r+m},b:{val:w,size:n.b+m},t:{val:b,size:n.t+m}},p[e]=1}else delete f[e],delete p[e];if(!r._replotting)return C.doAutoMargin(t)}},C.doAutoMargin=function(t){var e=t._fullLayout,n=e.width,r=e.height;e._size||(e._size={}),R(e);var i=e._size,o=e.margin,l={t:0,b:0,l:0,r:0},c=g.extendFlat({},i),u=o.l,h=o.r,d=o.t,f=o.b,p=e._pushmargin,m=e._pushmarginIds,v=e.minreducedwidth,y=e.minreducedheight;if(!1!==o.autoexpand){for(var x in p)m[x]||delete p[x];var b=t._fullLayout._reservedMargin;for(var w in b)for(var M in b[w]){var T=b[w][M];l[M]=Math.max(l[M],T)}for(var k in p.base={l:{val:0,size:u},r:{val:1,size:h},t:{val:1,size:d},b:{val:0,size:f}},l){var A=0;for(var L in p)"base"!==L&&a(p[L][k].size)&&(A=p[L][k].size>A?p[L][k].size:A);var S=Math.max(0,o[k]-A);l[k]=Math.max(0,l[k]-S)}for(var P in p){var D=p[P].l||{},O=p[P].b||{},E=D.val,I=D.size,z=O.val,N=O.size,F=n-l.r-l.l,j=r-l.t-l.b;for(var B in p){if(a(I)&&p[B].r){var H=p[B].r.val,U=p[B].r.size;if(H>E){var Z=(I*H+(U-F)*E)/(H-E),V=(U*(1-E)+(I-F)*(1-H))/(H-E);Z+V>u+h&&(u=Z,h=V)}}if(a(N)&&p[B].t){var Y=p[B].t.val,W=p[B].t.size;if(Y>z){var G=(N*Y+(W-j)*z)/(Y-z),q=(W*(1-z)+(N-j)*(1-Y))/(Y-z);G+q>f+d&&(f=G,d=q)}}}}}var X=g.constrain(n-o.l-o.r,2,v),J=g.constrain(r-o.t-o.b,2,y),K=Math.max(0,n-X),$=Math.max(0,r-J);if(K){var Q=(u+h)/K;Q>1&&(u/=Q,h/=Q)}if($){var tt=(f+d)/$;tt>1&&(f/=tt,d/=tt)}if(i.l=Math.round(u)+l.l,i.r=Math.round(h)+l.r,i.t=Math.round(d)+l.t,i.b=Math.round(f)+l.b,i.p=Math.round(o.pad),i.w=Math.round(n)-i.l-i.r,i.h=Math.round(r)-i.t-i.b,!e._replotting&&(C.didMarginChange(c,i)||function(t){if("_redrawFromAutoMarginCount"in t._fullLayout)return!1;var e=_.list(t,"",!0);for(var n in e)if(e[n].autoshift||e[n].shift)return!0;return!1}(t))){"_redrawFromAutoMarginCount"in e?e._redrawFromAutoMarginCount++:e._redrawFromAutoMarginCount=1;var et=3*(1+Object.keys(m).length);if(e._redrawFromAutoMarginCount<et)return s.call("_doPlot",t);e._size=c,g.warn("Too many auto-margin redraws.")}!function(t){var e=_.list(t,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach((function(t){for(var n=0;n<e.length;n++){var r=e[n][t];r&&r()}}))}(t)};var F=["l","r","t","b","p","w","h"];function j(t,e,n){var r=!1,i=[C.previousPromises,function(){if(t._transitionData)return t._transitioning=!1,function(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}(t._transitionData._interruptCallbacks)},n.prepareFn,C.rehover,C.reselect,function(){return t.emit("plotly_transitioning",[]),new Promise((function(i){t._transitioning=!0,e.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push((function(){r=!0})),n.redraw&&t._transitionData._interruptCallbacks.push((function(){return s.call("redraw",t)})),t._transitionData._interruptCallbacks.push((function(){t.emit("plotly_transitioninterrupted",[])}));var a=0,o=0;function l(){return a++,function(){o++,!r&&o===a&&function(e){t._transitionData&&(function(t){if(t)for(;t.length;)t.shift()}(t._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(n.redraw)return s.call("redraw",t)})).then((function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])})).then(e))}(i)}}n.runFn(l),setTimeout(l())}))}],a=g.syncOrAsync(i,t);return(!a||!a.then)&&(a=Promise.resolve()),a.then((function(){return t}))}C.didMarginChange=function(t,e){for(var n=0;n<F.length;n++){var r=F[n],i=t[r],o=e[r];if(!a(i)||Math.abs(o-i)>1)return!0}return!1},C.graphJson=function(t,e,n,r,i,a){(i&&e&&!t._fullData||i&&!e&&!t._fullLayout)&&C.supplyDefaults(t);var s=i?t._fullData:t.data,l=i?t._fullLayout:t.layout,c=(t._transitionData||{})._frames;function u(t,e){if("function"==typeof t)return e?"_function_":null;if(g.isPlainObject(t)){var r,i={};return Object.keys(t).sort().forEach((function(a){if(-1===["_","["].indexOf(a.charAt(0))){if("function"==typeof t[a])return void(e&&(i[a]="_function"));if("keepdata"===n){if("src"===a.substr(a.length-3))return}else if("keepstream"===n){if("string"==typeof(r=t[a+"src"])&&r.indexOf(":")>0&&!g.isPlainObject(t.stream))return}else if("keepall"!==n&&"string"==typeof(r=t[a+"src"])&&r.indexOf(":")>0)return;i[a]=u(t[a],e)}})),i}var a=Array.isArray(t),s=g.isTypedArray(t);if((a||s)&&t.dtype&&t.shape){var l=t.bdata;return u({dtype:t.dtype,shape:t.shape,bdata:g.isArrayBuffer(l)?o.encode(l):l},e)}return a?t.map((function(t){return u(t,e)})):s?g.simpleMap(t,g.identity):g.isJSDate(t)?g.ms2DateTimeLocal(+t):t}var h={data:(s||[]).map((function(t){var n=u(t);return e&&delete n.fit,n}))};if(!e&&(h.layout=u(l),i)){var d=l._size;h.layout.computed={margin:{b:d.b,l:d.l,r:d.r,t:d.t}}}return c&&(h.frames=u(c)),a&&(h.config=u(t._context,!0)),"object"===r?h:JSON.stringify(h)},C.modifyFrames=function(t,e){var n,r,i,a=t._transitionData._frames,o=t._transitionData._frameHash;for(n=0;n<e.length;n++)switch(r=e[n],r.type){case"replace":i=r.value;var s=(a[r.index]||{}).name,l=i.name;a[r.index]=o[l]=i,l!==s&&(delete o[s],o[l]=i);break;case"insert":o[(i=r.value).name]=i,a.splice(r.index,0,i);break;case"delete":delete o[(i=a[r.index]).name],a.splice(r.index,1)}return Promise.resolve()},C.computeFrame=function(t,e){var n,r,i,a,o=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var s=o[e.toString()];if(!s)return!1;for(var l=[s],c=[s.name];s.baseframe&&(s=o[s.baseframe.toString()])&&-1===c.indexOf(s.name);)l.push(s),c.push(s.name);for(var u={};s=l.pop();)if(s.layout&&(u.layout=C.extendLayout(u.layout,s.layout)),s.data){if(u.data||(u.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(u.traces||(u.traces=[]),n=0;n<s.data.length;n++)null!=(i=r[n])&&(-1===(a=u.traces.indexOf(i))&&(a=u.data.length,u.traces[a]=i),u.data[a]=C.extendTrace(u.data[a],s.data[n]))}return u},C.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},n=t._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(e[i.name]=i)}},C.extendObjectWithContainers=function(t,e,n){var r,i,a,o,s,l,c,u=g.extendDeepNoArrays({},e||{}),h=g.expandObjectPaths(u),d={};if(n&&n.length)for(a=0;a<n.length;a++)void 0===(i=(r=g.nestedProperty(h,n[a])).get())?g.nestedProperty(d,n[a]).set(null):(r.set(null),g.nestedProperty(d,n[a]).set(i));if(t=g.extendDeepNoArrays(t||{},h),n&&n.length)for(a=0;a<n.length;a++)if(l=g.nestedProperty(d,n[a]).get()){for(c=(s=g.nestedProperty(t,n[a])).get(),Array.isArray(c)||(c=[],s.set(c)),o=0;o<l.length;o++){var f=l[o];c[o]=null===f?null:C.extendObjectWithContainers(c[o],f)}s.set(c)}return t},C.dataArrayContainers=["transforms","dimensions"],C.layoutArrayContainers=s.layoutArrayContainers,C.extendTrace=function(t,e){return C.extendObjectWithContainers(t,e,C.dataArrayContainers)},C.extendLayout=function(t,e){return C.extendObjectWithContainers(t,e,C.layoutArrayContainers)},C.transition=function(t,e,n,r,i,a){var o={redraw:i.redraw},s={},l=[];return o.prepareFn=function(){for(var i=Array.isArray(e)?e.length:0,a=r.slice(0,i),o=0;o<a.length;o++){var c=a[o],u=t._fullData[c]._module;if(u){if(u.animatable){var h=u.basePlotModule.name;s[h]||(s[h]=[]),s[h].push(c)}t.data[a[o]]=C.extendTrace(t.data[a[o]],e[o])}}var d=g.expandObjectPaths(g.extendDeepNoArrays({},n)),f=/^[xy]axis[0-9]*$/;for(var p in d)f.test(p)&&delete d[p].range;C.extendLayout(t.layout,d),delete t.calcdata,C.supplyDefaults(t),C.doCalcdata(t);var m=g.expandObjectPaths(n);if(m){var v=t._fullLayout._plots;for(var y in v){var _=v[y],x=_.xaxis,b=_.yaxis,w=x.range.slice(),M=b.range.slice(),T=null,k=null,A=null,L=null;Array.isArray(m[x._name+".range"])?T=m[x._name+".range"].slice():Array.isArray((m[x._name]||{}).range)&&(T=m[x._name].range.slice()),Array.isArray(m[b._name+".range"])?k=m[b._name+".range"].slice():Array.isArray((m[b._name]||{}).range)&&(k=m[b._name].range.slice()),w&&T&&(x.r2l(w[0])!==x.r2l(T[0])||x.r2l(w[1])!==x.r2l(T[1]))&&(A={xr0:w,xr1:T}),M&&k&&(b.r2l(M[0])!==b.r2l(k[0])||b.r2l(M[1])!==b.r2l(k[1]))&&(L={yr0:M,yr1:k}),(A||L)&&l.push(g.extendFlat({plotinfo:_},A,L))}}return Promise.resolve()},o.runFn=function(e){var r,i,o=t._fullLayout._basePlotModules,c=l.length;if(n)for(i=0;i<o.length;i++)o[i].transitionAxes&&o[i].transitionAxes(t,l,a,e);for(var u in c?((r=g.extendFlat({},a)).duration=0,delete s.cartesian):r=a,s){var h=s[u];t._fullData[h[0]]._module.basePlotModule.plot(t,h,r,e)}},j(t,a,o)},C.transitionFromReact=function(t,e,n,r){var i=t._fullLayout,a=i.transition,o={},s=[];return o.prepareFn=function(){var t=i._plots;for(var a in o.redraw=!1,"some"===e.anim&&(o.redraw=!0),"some"===n.anim&&(o.redraw=!0),t){var l=t[a],c=l.xaxis,u=l.yaxis,h=r[c._name].range.slice(),d=r[u._name].range.slice(),f=c.range.slice(),p=u.range.slice();c.setScale(),u.setScale();var m=null,v=null;(c.r2l(h[0])!==c.r2l(f[0])||c.r2l(h[1])!==c.r2l(f[1]))&&(m={xr0:h,xr1:f}),(u.r2l(d[0])!==u.r2l(p[0])||u.r2l(d[1])!==u.r2l(p[1]))&&(v={yr0:d,yr1:p}),(m||v)&&s.push(g.extendFlat({plotinfo:l},m,v))}return Promise.resolve()},o.runFn=function(n){for(var r,i,o,l=t._fullData,c=t._fullLayout._basePlotModules,u=[],h=0;h<l.length;h++)u.push(h);function d(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].transitionAxes&&c[e].transitionAxes(t,s,r,n)}function f(){if(t._fullLayout)for(var e=0;e<c.length;e++)c[e].plot(t,o,i,n)}s.length&&e.anim?"traces first"===a.ordering?(r=g.extendFlat({},a,{duration:0}),o=u,i=a,setTimeout(d,a.duration),f()):(r=a,o=null,i=g.extendFlat({},a,{duration:0}),setTimeout(f,r.duration),d()):s.length?(r=a,d()):e.anim&&(o=u,i=a,f())},j(t,a,o)},C.doCalcdata=function(t,e){var n,r,i,a,o=_.list(t),l=t._fullData,u=t._fullLayout,h=new Array(l.length),d=(t.calcdata||[]).slice();for(t.calcdata=h,u._numBoxes=0,u._numViolins=0,u._violinScaleGroupStats={},t._hmpixcount=0,t._hmlumcount=0,u._piecolormap={},u._sunburstcolormap={},u._treemapcolormap={},u._iciclecolormap={},u._funnelareacolormap={},i=0;i<l.length;i++)if(Array.isArray(e)&&-1===e.indexOf(i)){h[i]=d[i];continue}for(i=0;i<l.length;i++)(n=l[i])._arrayAttrs=c.findArrayAttributes(n),n._extremes={};var f=u._subplots.polar||[];for(i=0;i<f.length;i++)o.push(u[f[i]].radialaxis,u[f[i]].angularaxis);for(var p in u._colorAxes){var m=u[p];!1!==m.cauto&&(delete m.cmin,delete m.cmax)}var v=!1;function x(e){if(n=l[e],r=n._module,!0===n.visible&&n.transforms){if(r&&r.calc){var i=r.calc(t,n);i[0]&&i[0].t&&i[0].t._scene&&delete i[0].t._scene.dirty}for(a=0;a<n.transforms.length;a++){var o=n.transforms[a];(r=transformsRegistry[o.type])&&r.calcTransform&&(n._hasCalcTransform=!0,v=!0,r.calcTransform(t,n,o))}}}function b(e,i){if(n=l[e],!!(r=n._module).isContainer===i){var o=[];if(!0===n.visible&&0!==n._length){delete n._indexToPoints;var s=n.transforms||[];for(a=s.length-1;a>=0;a--)if(s[a].enabled){n._indexToPoints=s[a]._indexToPoints;break}r&&r.calc&&(o=r.calc(t,n))}(!Array.isArray(o)||!o[0])&&(o=[{x:y,y}]),o[0].t||(o[0].t={}),o[0].trace=n,h[e]=o}}for(H(o,l,u),i=0;i<l.length;i++)b(i,!0);for(i=0;i<l.length;i++)x(i);for(v&&H(o,l,u),i=0;i<l.length;i++)b(i,!0);for(i=0;i<l.length;i++)b(i,!1);U(t);var w=function(t,e){var n,r,i,a,o,l=[];function c(t,n,r){var i=n._id.charAt(0);if("histogram2dcontour"===t){var a=n._counterAxes[0],o=_.getFromId(e,a),s="x"===i||"x"===a&&"category"===o.type,l="y"===i||"y"===a&&"category"===o.type;return function(t,e){return 0===t||0===e||s&&t===r[e].length-1||l&&e===r.length-1?-1:("y"===i?e:t)-1}}return function(t,e){return"y"===i?e:t}}var u={min:function(t){return g.aggNums(Math.min,null,t)},max:function(t){return g.aggNums(Math.max,null,t)},sum:function(t){return g.aggNums((function(t,e){return t+e}),null,t)},total:function(t){return g.aggNums((function(t,e){return t+e}),null,t)},mean:function(t){return g.mean(t)},"geometric mean":function(t){return g.geometricMean(t)},median:function(t){return g.median(t)}};function h(t,e){return t[1]-e[1]}function d(t,e){return e[1]-t[1]}for(n=0;n<t.length;n++){var f=t[n];if("category"===f.type){var p=f.categoryorder.match(B);if(p){var m=p[1],v=p[2],y=f._id.charAt(0),x="x"===y,b=[];for(r=0;r<f._categories.length;r++)b.push([f._categories[r],[]]);for(r=0;r<f._traceIndices.length;r++){var w=f._traceIndices[r],M=e._fullData[w];if(!0===M.visible){var T=M.type;s.traceIs(M,"histogram")&&(delete M._xautoBinFinished,delete M._yautoBinFinished);var k="splom"===T,A="scattergl"===T,L=e.calcdata[w];for(i=0;i<L.length;i++){var C,S,P=L[i];if(k){var D=M._axesDim[f._id];if(!x){var O=M._diag[D][0];O&&(f=e._fullLayout[_.id2name(O)])}var E=P.trace.dimensions[D].values;for(a=0;a<E.length;a++)for(C=f._categoriesMap[E[a]],o=0;o<P.trace.dimensions.length;o++)if(o!==D){var I=P.trace.dimensions[o];b[C][1].push(I.values[a])}}else if(A){for(a=0;a<P.t.x.length;a++)x?(C=P.t.x[a],S=P.t.y[a]):(C=P.t.y[a],S=P.t.x[a]),b[C][1].push(S);P.t&&P.t._scene&&delete P.t._scene.dirty}else if(P.hasOwnProperty("z")){S=P.z;var z=c(M.type,f,S);for(a=0;a<S.length;a++)for(o=0;o<S[a].length;o++)(C=z(o,a))+1&&b[C][1].push(S[a][o])}else for(void 0===(C=P.p)&&(C=P[y]),void 0===(S=P.s)&&(S=P.v),void 0===S&&(S=x?P.y:P.x),Array.isArray(S)||(S=void 0===S?[]:[S]),a=0;a<S.length;a++)b[C][1].push(S[a])}}}f._categoriesValue=b;var N=[];for(r=0;r<b.length;r++)N.push([b[r][0],u[m](b[r][1])]);N.sort("descending"===v?d:h),f._categoriesAggregatedValue=N,f._initialCategories=N.map((function(t){return t[0]})),l=l.concat(f.sortByInitialCategories())}}}return l}(o,t);if(w.length){for(u._numBoxes=0,u._numViolins=0,i=0;i<w.length;i++)b(w[i],!0);for(i=0;i<w.length;i++)b(w[i],!1);U(t)}s.getComponentMethod("fx","calc")(t),s.getComponentMethod("errorbars","calc")(t)};var B=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function H(t,e,n){var r={};function i(t){t.clearCalc(),"multicategory"===t.type&&t.setupMultiCategory(e),r[t._id]=1}g.simpleMap(t,i);for(var a=n._axisMatchGroups||[],o=0;o<a.length;o++)for(var s in a[o])r[s]||i(n[_.id2name(s)])}function U(t){var e,n,r,i=t._fullLayout,a=i._visibleModules,o={};for(n=0;n<a.length;n++){var s=a[n],l=s.crossTraceCalc;if(l){var c=s.basePlotModule.name;o[c]?g.pushUnique(o[c],l):o[c]=[l]}}for(r in o){var u=o[r],h=i._subplots[r];if(Array.isArray(h))for(e=0;e<h.length;e++){var d=h[e],f="cartesian"===r?i._plots[d]:i[d];for(n=0;n<u.length;n++)u[n](t,f,d)}else for(n=0;n<u.length;n++)u[n](t)}}C.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},C.redrag=function(t){t._fullLayout._redrag&&t._fullLayout._redrag()},C.reselect=function(t){var e=t._fullLayout,n=(t.layout||{}).selections,r=e._previousSelections;e._previousSelections=n;var i=e._reselect||JSON.stringify(n)!==JSON.stringify(r);s.getComponentMethod("selections","reselect")(t,i)},C.generalUpdatePerTraceModule=function(t,e,n,r){var i,a=e.traceHash,o={};for(i=0;i<n.length;i++){var s=n[i],l=s[0].trace;l.visible&&(o[l.type]=o[l.type]||[],o[l.type].push(s))}for(var c in a)if(!o[c]){var u=a[c][0];u[0].trace.visible=!1,o[c]=[u]}for(var h in o){var d=o[h];d[0][0].trace._module.plot(t,e,g.filterVisible(d),r)}e.traceHash=o},C.plotBasePlot=function(t,e,n,r,i){var a=s.getModule(t),o=T(e.calcdata,a)[0];a.plot(e,o,r,i)},C.cleanBasePlot=function(t,e,n,r,i){var a=i._has&&i._has(t),o=n._has&&n._has(t);a&&!o&&i["_"+t+"layer"].selectAll("g.trace").remove()}})),me=a((t=>{t.xmlns="http://www.w3.org/2000/xmlns/",t.svg="http://www.w3.org/2000/svg",t.xlink="http://www.w3.org/1999/xlink",t.svgAttrs={xmlns:t.svg,"xmlns:xlink":t.xlink}})),ge=a(((t,e)=>{e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}})),ve=a((t=>{var e=l(),n=$t(),r=n.strTranslate,i=me(),a=ge().LINE_SPACING,o=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;t.convertToTspans=function(l,m,A){var L=l.text(),P=!l.attr("data-notex")&&m&&m._context.typesetMath&&"undefined"!=typeof MathJax&&L.match(o),D=e.select(l.node().parentNode);if(!D.empty()){var O=l.attr("class")?l.attr("class").split(" ")[0]:"text";return O+="-math",D.selectAll("svg."+O).remove(),D.selectAll("g."+O+"-group").remove(),l.style("display",null).attr({"data-unformatted":L,"data-math":"N"}),P?(m&&m._promises||[]).push(new Promise((function(t){l.style("display","none");var i=parseInt(l.node().style.fontSize,10),a={fontSize:i};!function(t,r,i){var a=parseInt((MathJax.version||"").split(".")[0]);if(2===a||3===a){var o,l,h,d,f=function(){var i="math-output-"+n.randstr({},64);d=e.select("body").append("div").attr({id:i}).style({visibility:"hidden",position:"absolute","font-size":r.fontSize+"px"}).text(function(t){return t.replace(s,"\\lt ").replace(c,"\\gt ")}(t));var o=d.node();return 2===a?MathJax.Hub.Typeset(o):MathJax.typeset([o])},p=function(){var r=d.select(2===a?".MathJax_SVG":".MathJax"),o=!r.empty()&&d.select("svg").node();if(o){var s,l=o.getBoundingClientRect();s=2===a?e.select("body").select("#MathJax_SVG_glyphs"):r.select("defs"),i(r,s,l)}else n.log("There was an error in the tex syntax.",t),i();d.remove()};2===a?MathJax.Hub.Queue((function(){return l=n.extendDeepAll({},MathJax.Hub.config),h=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})}),(function(){if("SVG"!==(o=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),f,p,(function(){if("SVG"!==o)return MathJax.Hub.setRenderer(o)}),(function(){return void 0!==h&&(MathJax.Hub.processSectionDelay=h),MathJax.Hub.Config(l)})):3===a&&(l=n.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u,"svg"!==(o=MathJax.config.startup.output)&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then((function(){f(),p(),"svg"!==o&&(MathJax.config.startup.output=o),MathJax.config=l})))}else n.warn("No MathJax version:",MathJax.version)}(P[2],a,(function(e,n,a){D.selectAll("svg."+O).remove(),D.selectAll("g."+O+"-group").remove();var o=e&&e.select("svg");if(!o||!o.node())return E(),void t();var s=D.append("g").classed(O+"-group",!0).attr({"pointer-events":"none","data-unformatted":L,"data-math":"Y"});s.node().appendChild(o.node()),n&&n.node()&&o.node().insertBefore(n.node().cloneNode(!0),o.node().firstChild);var c=a.width,u=a.height;o.attr({class:O,height:u,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var h=l.node().style.fill||"black",d=o.select("g");d.attr({fill:h,stroke:h});var f=d.node().getBoundingClientRect(),p=f.width,m=f.height;(p>c||m>u)&&(o.style("overflow","hidden"),p=(f=o.node().getBoundingClientRect()).width,m=f.height);var g=+l.attr("x"),v=+l.attr("y"),y=-(i||l.node().getBoundingClientRect().height)/4;if("y"===O[0])s.attr({transform:"rotate("+[-90,g,v]+")"+r(-p/2,y-m/2)});else if("l"===O[0])v=y-m/2;else if("a"===O[0]&&0!==O.indexOf("atitle"))g=0,v=y;else{var _=l.attr("text-anchor");g-=p*("middle"===_?.5:"end"===_?1:0),v=v+y-m/2}o.attr({x:g,y:v}),A&&A.call(l,s),t(s)}))}))):E(),l}function E(){D.empty()||(O=l.attr("class")+"-math",D.select("svg."+O).remove()),l.text("").style("white-space","pre");var r=function(t,r){r=r.replace(g," ");var o,s=!1,l=[],c=-1;function u(){c++;var n=document.createElementNS(i.svg,"tspan");e.select(n).attr({class:"line",dy:c*a+"em"}),t.appendChild(n),o=n;var r=l;if(l=[{node:n}],r.length>1)for(var s=1;s<r.length;s++)m(r[s])}function m(t){var n,r=t.type,a={};if("a"===r){n="a";var s=t.target,c=t.href,u=t.popup;c&&(a={"xlink:xlink:show":"_blank"===s||"_"!==s.charAt(0)?"new":"replace",target:s,"xlink:xlink:href":c},u&&(a.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+u+'");return false;'))}else n="tspan";t.style&&(a.style=t.style);var h=document.createElementNS(i.svg,n);if("sup"===r||"sub"===r){A(o,p),o.appendChild(h);var m=document.createElementNS(i.svg,"tspan");A(m,p),e.select(m).attr("dy",f[r]),a.dy=d[r],o.appendChild(h),o.appendChild(m)}else o.appendChild(h);e.select(h).attr(a),o=t.node=h,l.push(t)}function A(t,e){t.appendChild(document.createTextNode(e))}function L(t){if(1!==l.length){var e=l.pop();t!==e.type&&n.log("Start tag <"+e.type+"> doesnt match end tag <"+t+">. Pretending it did match.",r),o=l[l.length-1].node}else n.log("Ignoring unexpected end tag </"+t+">.",r)}_.test(r)?u():(o=t,l=[{node:t}]);for(var P=r.split(v),D=0;D<P.length;D++){var O=P[D],E=O.match(y),I=E&&E[2].toLowerCase(),z=h[I];if("br"===I)u();else if(void 0===z)A(o,C(O));else if(E[1])L(I);else{var N=E[4],R={type:I},F=T(N,x);if(F?(F=F.replace(k,"$1 fill:"),z&&(F+=";"+z)):z&&(F=z),F&&(R.style=F),"a"===I){s=!0;var j=T(N,b);if(j){var B=S(j);B&&(R.href=B,R.target=T(N,w)||"_blank",R.popup=T(N,M))}}m(R)}}return s}(l.node(),L);r&&l.style("pointer-events","all"),t.positionText(l),A&&A.call(l)}};var s=/(<|&lt;|&#60;)/g,c=/(>|&gt;|&#62;)/g,u=[["$","$"],["\\(","\\)"]],h={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},d={sub:"0.3em",sup:"-0.6em"},f={sub:"-0.21em",sup:"0.42em"},p="​",m=["http:","https:","mailto:","",void 0,":"],g=t.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,y=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i;t.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,b=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,w=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,M=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function T(t,e){if(!t)return null;var n=t.match(e),r=n&&(n[3]||n[4]);return r&&C(r)}var k=/(^|;)\s*color:/;t.plainText=function(t,e){for(var n=void 0!==(e=e||{}).len&&-1!==e.len?e.len:1/0,r=void 0!==e.allowedTags?e.allowedTags:["br"],i=t.split(v),a=[],o="",s=0,l=0;l<i.length;l++){var c=i[l],u=c.match(y),h=u&&u[2].toLowerCase();if(h)-1!==r.indexOf(h)&&(a.push(c),o=h);else{var d=c.length;if(s+d<n)a.push(c),s+=d;else if(s<n){var f=n-s;o&&("br"!==o||f<=3||d<=3)&&a.pop(),n>3?a.push(c.substr(0,f-3)+"..."):a.push(c.substr(0,f));break}o=""}}return a.join("")};var A={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},L=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function C(t){return t.replace(L,(function(t,e){var n;return n="#"===e.charAt(0)?function(t){if(!(t>1114111)){var e=String.fromCodePoint;if(e)return e(t);var n=String.fromCharCode;return t<=65535?n(t):n(55232+(t>>10),t%1024+56320)}}("x"===e.charAt(1)?parseInt(e.substr(2),16):parseInt(e.substr(1),10)):A[e],n||t}))}function S(t){var e=encodeURI(decodeURI(t)),n=document.createElement("a"),r=document.createElement("a");n.href=t,r.href=e;var i=n.protocol,a=r.protocol;return-1!==m.indexOf(i)&&-1!==m.indexOf(a)?e:""}function P(t,e,r){var i,a,o,s=r.horizontalAlign,l=r.verticalAlign||"top",c=t.node().getBoundingClientRect(),u=e.node().getBoundingClientRect();return a="bottom"===l?function(){return c.bottom-i.height}:"middle"===l?function(){return c.top+(c.height-i.height)/2}:function(){return c.top},o="right"===s?function(){return c.right-i.width}:"center"===s?function(){return c.left+(c.width-i.width)/2}:function(){return c.left},function(){i=this.node().getBoundingClientRect();var t=o()-u.left,e=a()-u.top,s=r.gd||{};if(r.gd){s._fullLayout._calcInverseTransform(s);var l=n.apply3DTransform(s._fullLayout._invTransform)(t,e);t=l[0],e=l[1]}return this.style({top:e+"px",left:t+"px","z-index":1e3}),this}}t.convertEntities=C,t.sanitizeHTML=function(t){t=t.replace(g," ");for(var n=document.createElement("p"),r=n,i=[],a=t.split(v),o=0;o<a.length;o++){var s=a[o],l=s.match(y),c=l&&l[2].toLowerCase();if(c in h)if(l[1])i.length&&(r=i.pop());else{var u=l[4],d=T(u,x),f=d?{style:d}:{};if("a"===c){var p=T(u,b);if(p){var m=S(p);if(m){f.href=m;var _=T(u,w);_&&(f.target=_)}}}var M=document.createElement(c);r.appendChild(M),e.select(M).attr(f),r=M,i.push(M)}else r.appendChild(document.createTextNode(C(s)))}return n.innerHTML},t.lineCount=function(t){return t.selectAll("tspan.line").size()||1},t.positionText=function(t,n,r){return t.each((function(){var t=e.select(this);function i(e,n){return void 0===n?null===(n=t.attr(e))&&(t.attr(e,0),n=0):t.attr(e,n),n}var a=i("x",n),o=i("y",r);"text"===this.nodeName&&t.selectAll("tspan.line").attr({x:a,y:o})}))};var D="1px ";t.makeTextShadow=function(t){return D+D+D+t+", -"+D+"-"+D+D+t+", "+D+"-"+D+D+t+", -"+D+D+D+t},t.makeEditable=function(t,n){var r=n.gd,i=n.delegate,a=e.dispatch("edit","input","cancel"),o=i||t;if(t.style({"pointer-events":i?"none":"all"}),1!==t.size())throw new Error("boo");function s(){(function(){var i=e.select(r).select(".svg-container"),o=i.append("div"),s=t.node().style,c=parseFloat(s.fontSize||12),u=n.text;void 0===u&&(u=t.attr("data-unformatted")),o.classed("plugin-editable editable",!0).style({position:"absolute","font-family":s.fontFamily||"Arial","font-size":c,color:n.fill||s.fill||"black",opacity:1,"background-color":n.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(u).call(P(t,i,n)).on("blur",(function(){r._editing=!1,t.text(this.textContent).style({opacity:1});var n,i=e.select(this).attr("class");(n=i?"."+i.split(" ")[0]+"-math-group":"[class*=-math-group]")&&e.select(t.node().parentNode).select(n).style({opacity:0});var o=this.textContent;e.select(this).transition().duration(0).remove(),e.select(document).on("mouseup",null),a.edit.call(t,o)})).on("focus",(function(){var t=this;r._editing=!0,e.select(document).on("mouseup",(function(){if(e.event.target===t)return!1;document.activeElement===o.node()&&o.node().blur()}))})).on("keyup",(function(){27===e.event.which?(r._editing=!1,t.style({opacity:1}),e.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),a.cancel.call(t,this.textContent)):(a.input.call(t,this.textContent),e.select(this).call(P(t,i,n)))})).on("keydown",(function(){13===e.event.which&&this.blur()})).call(l)})(),t.style({opacity:0});var i,s=o.attr("class");(i=s?"."+s.split(" ")[0]+"-math-group":"[class*=-math-group]")&&e.select(t.node().parentNode).select(i).style({opacity:0})}function l(t){var e=t.node(),n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),e.focus()}return n.immediate?s():o.on("click",s),e.rebind(t,a,"on")}})),ye=a(((t,e)=>{var n=l(),r=T(),i=f(),a=$t(),o=E(),s=D().isValid,c=["showscale","autocolorscale","colorscale","reversescale","colorbar"],u=["min","max","mid","auto"];function h(t){var e,n,r,i=t._colorAx,a=i||t,o={};for(n=0;n<c.length;n++)o[r=c[n]]=a[r];if(i)for(e="c",n=0;n<u.length;n++)o[r=u[n]]=a["c"+r];else{var s;for(n=0;n<u.length;n++)((s="c"+(r=u[n]))in a||(s="z"+r)in a)&&(o[r]=a[s]);e=s.charAt(0)}return o._sync=function(t,n){var r=-1!==u.indexOf(t)?e+t:t;a[r]=a["_"+r]=n},o}function d(t){for(var e=h(t),n=e.min,r=e.max,i=e.reversescale?p(e.colorscale):e.colorscale,a=i.length,o=new Array(a),s=new Array(a),l=0;l<a;l++){var c=i[l];o[l]=n+c[0]*(r-n),s[l]=c[1]}return{domain:o,range:s}}function p(t){for(var e=t.length,n=new Array(e),r=e-1,i=0;r>=0;r--,i++){var a=t[r];n[i]=[1-a[0],a[1]]}return n}function m(t,e){e=e||{};for(var a=t.domain,s=t.range,l=s.length,c=new Array(l),u=0;u<l;u++){var h=r(s[u]).toRgb();c[u]=[h.r,h.g,h.b,h.a]}var d,f=n.scale.linear().domain(a).range(c).clamp(!0),p=e.noNumericCheck,m=e.returnArray;return(d=p&&m?f:p?function(t){return g(f(t))}:m?function(t){return i(t)?f(t):r(t).isValid()?t:o.defaultLine}:function(t){return i(t)?g(f(t)):r(t).isValid()?t:o.defaultLine}).domain=f.domain,d.range=function(){return s},d}function g(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return r(e).toRgbString()}e.exports={hasColorscale:function(t,e,n){var r=e?a.nestedProperty(t,e).get()||{}:t,o=r[n||"color"];o&&o._inputArray&&(o=o._inputArray);var l=!1;if(a.isArrayOrTypedArray(o))for(var c=0;c<o.length;c++)if(i(o[c])){l=!0;break}return a.isPlainObject(r)&&(l||!0===r.showscale||i(r.cmin)&&i(r.cmax)||s(r.colorscale)||a.isPlainObject(r.colorbar))},extractOpts:h,extractScale:d,flipScale:p,makeColorScaleFunc:m,makeColorScaleFuncFromTrace:function(t,e){return m(d(t),e)}}})),_e=a(((t,e)=>{var n=Mt(),r=n.FORMAT_LINK,i=n.DATE_FORMAT_LINK;function a(t,e){return["Sets the "+t+" formatting rule"+(e?"for `"+e+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+r+"."].join(" ")}function o(t,e){return a(t,e)+[" And for dates see: "+i+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}e.exports={axisHoverFormat:function(t,e){return{valType:"string",dflt:"",editType:"none",description:(e?a:o)("hover text",t)+["By default the values are formatted using "+(e?"generic number format":"`"+t+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:a,descriptionWithDates:o}})),xe=a(((t,e)=>{var n=A(),r=O(),i=wt().dash,a=k().extendFlat,o=se().templatedArray,s=_e().descriptionWithDates,l=p().ONEDAY,c=le(),u=c.HOUR_PATTERN,h=c.WEEKDAY_PATTERN,d={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},f=a({},d,{values:d.values.slice().concat(["sync"])});function m(t){return{valType:"integer",min:0,dflt:t?5:0,editType:"ticks"}}var g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"data_array",editType:"ticks"},_={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function x(t){var e={valType:"number",min:0,editType:"ticks"};return t||(e.dflt=5),e}function b(t){var e={valType:"number",min:0,editType:"ticks"};return t||(e.dflt=1),e}var w={valType:"color",dflt:r.defaultLine,editType:"ticks"},M={valType:"color",dflt:r.lightLine,editType:"ticks"};function T(t){var e={valType:"number",min:0,editType:"ticks"};return t||(e.dflt=1),e}var L=a({},i,{editType:"ticks"}),C={valType:"boolean",editType:"ticks"};e.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:r.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:n({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"calc"},rangebreaks:o("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[h,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:l},editType:"calc"}),tickmode:f,nticks:m(),tick0:g,dtick:v,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:y,ticktext:{valType:"data_array",editType:"ticks"},ticks:_,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:x(),tickwidth:b(),tickcolor:w,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:a({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:n({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:s("tick label")},tickformatstops:o("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:s("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:r.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:C,gridcolor:M,gridwidth:T(),griddash:L,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:r.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:r.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",c.idRegex.x.toString(),c.idRegex.y.toString()],editType:"plot"},minor:{tickmode:d,nticks:m("minor"),tick0:g,dtick:v,tickvals:y,ticks:_,ticklen:x("minor"),tickwidth:b("minor"),tickcolor:w,gridcolor:M,gridwidth:T("minor"),griddash:L,showgrid:C,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}})),be=a(((t,e)=>{var n=xe(),r=A(),i=k().extendFlat,a=bt().overrideAll;e.exports=a({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:n.linecolor,outlinewidth:n.linewidth,bordercolor:n.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:n.minor.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:i({},n.ticks,{dflt:""}),ticklabeloverflow:i({},n.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,tickfont:r({}),tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,tickprefix:n.tickprefix,showtickprefix:n.showtickprefix,ticksuffix:n.ticksuffix,showticksuffix:n.showticksuffix,separatethousands:n.separatethousands,exponentformat:n.exponentformat,minexponent:n.minexponent,showexponent:n.showexponent,title:{text:{valType:"string"},font:r({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")})),we=a(((t,e)=>{var n=be(),r=z().counter,i=Rt(),a=D().scales;function o(t){return"`"+t+"`"}i(a),e.exports=function(t,e){t=t||"";var i,s=(e=e||{}).cLetter||"c",l=("onlyIfNumerical"in e&&e.onlyIfNumerical,"noScale"in e?e.noScale:"marker.line"===t),c="showScaleDflt"in e?e.showScaleDflt:"z"===s,u="string"==typeof e.colorscaleDflt?a[e.colorscaleDflt]:null,h=e.editTypeOverride||"",d=t?t+".":"";"colorAttr"in e?(i=e.colorAttr,e.colorAttr):o(d+(i={z:"z",c:"color"}[s]));var f=s+"auto",p=s+"min",m=s+"max",g=s+"mid",v=(o(d+f),o(d+p),o(d+m),{});v[p]=v[m]=void 0;var y={};y[f]=!1;var _={};return"color"===i&&(_.color={valType:"color",arrayOk:!0,editType:h||"style"},e.anim&&(_.color.anim=!0)),_[f]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},_[p]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:y},_[m]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:y},_[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},_.colorscale={valType:"colorscale",editType:"calc",dflt:u,impliedEdits:{autocolorscale:!1}},_.autocolorscale={valType:"boolean",dflt:!1!==e.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0}},_.reversescale={valType:"boolean",dflt:!1,editType:"plot"},l||(_.showscale={valType:"boolean",dflt:c,editType:"calc"},_.colorbar=n),e.noColorAxis||(_.coloraxis={valType:"subplotid",regex:r("coloraxis"),dflt:null,editType:"calc"}),_}})),Me=a(((t,e)=>{var n=k().extendFlat,r=we(),i=D().scales;e.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:i.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:i.RdBu,editType:"calc"}},coloraxis:n({_isSubplotObj:!0,editType:"calc"},r("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}})),Te=a(((t,e)=>{var n=$t();e.exports=function(t){return n.isPlainObject(t.colorbar)}})),ke=a((t=>{var e=f(),n=$t(),r=p(),i=r.ONEDAY,a=r.ONEWEEK;t.dtick=function(t,n){var r="log"===n,a="date"===n,o="category"===n,s=a?i:1;if(!t)return s;if(e(t))return(t=Number(t))<=0?s:o?Math.max(1,Math.round(t)):a?Math.max(.1,t):t;if("string"!=typeof t||!a&&!r)return s;var l=t.charAt(0),c=t.substr(1);return(c=e(c)?Number(c):0)<=0||!(a&&"M"===l&&c===Math.round(c)||r&&"L"===l||r&&"D"===l&&(1===c||2===c))?s:t},t.tick0=function(t,r,i,o){return"date"===r?n.cleanDate(t,n.dateTick0(i,o%a==0?1:0)):"D1"!==o&&"D2"!==o?e(t)?Number(t):0:void 0}})),Ae=a(((t,e)=>{var n=ke(),r=$t().isArrayOrTypedArray,i=v().isTypedArraySpec,a=v().decodeTypedArraySpec;e.exports=function(t,e,o,s,l){l||(l={});var c=l.isMinor,u=c?t.minor||{}:t,h=c?e.minor:e,d=c?"minor.":"";function f(t){var e=u[t];return i(e)&&(e=a(e)),void 0!==e?e:(h._template||{})[t]}var p=f("tick0"),m=f("dtick"),g=f("tickvals"),v=o(d+"tickmode",r(g)?"array":m?"linear":"auto");if("auto"===v||"sync"===v)o(d+"nticks");else if("linear"===v){var y=h.dtick=n.dtick(m,s);h.tick0=n.tick0(p,s,e.calendar,y)}else"multicategory"!==s&&(void 0===o(d+"tickvals")?h.tickmode="auto":c||o("ticktext"))}})),Le=a(((t,e)=>{var n=$t(),r=xe();e.exports=function(t,e,i,a){var o=a.isMinor,s=o?t.minor||{}:t,l=o?e.minor:e,c=o?r.minor:r,u=o?"minor.":"",h=n.coerce2(s,l,c,"ticklen",o?.6*(e.ticklen||5):void 0),d=n.coerce2(s,l,c,"tickwidth",o?e.tickwidth||1:void 0),f=n.coerce2(s,l,c,"tickcolor",(o?e.tickcolor:void 0)||l.color);i(u+"ticks",!o&&a.outerTicks||h||d||f?"outside":"")||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}})),Ce=a(((t,e)=>{e.exports=function(t){var e=["showexponent","showtickprefix","showticksuffix"].filter((function(e){return void 0!==t[e]}));if(e.every((function(n){return t[n]===t[e[0]]}))||1===e.length)return t[e[0]]}})),Se=a(((t,e)=>{var n=$t(),r=se();e.exports=function(t,e,i){var a,o,s=i.name,l=i.inclusionAttr||"visible",c=e[s],u=n.isArrayOrTypedArray(t[s])?t[s]:[],h=e[s]=[],d=r.arrayTemplater(e,s,l);for(a=0;a<u.length;a++){var f=u[a];n.isPlainObject(f)?o=d.newItem(f):(o=d.newItem({}))[l]=!1,o._index=a,!1!==o[l]&&i.handleItemDefaults(f,o,e,i),h.push(o)}var p=d.defaultItems();for(a=0;a<p.length;a++)(o=p[a])._index=h.length,i.handleItemDefaults({},o,e,i,{}),h.push(o);if(n.isArrayOrTypedArray(c)){var m=Math.min(c.length,h.length);for(a=0;a<m;a++)n.relinkPrivateKeys(h[a],c[a])}return h}})),Pe=a(((t,e)=>{var n=$t(),r=E().contrast,i=xe(),a=Ce(),o=Se();function s(t,e){function r(r,a){return n.coerce(t,e,i.tickformatstops,r,a)}r("enabled")&&(r("dtickrange"),r("value"))}e.exports=function(t,e,l,c,u){u||(u={});var h=l("labelalias");n.isPlainObject(h)||delete e.labelalias;var d=a(t);if(l("showticklabels")){u.noTicklabelshift||l("ticklabelshift"),u.noTicklabelstandoff||l("ticklabelstandoff");var f=u.font||{},p=e.color,m=-1!==(e.ticklabelposition||"").indexOf("inside")?r(u.bgColor):p&&p!==i.color.dflt?p:f.color;if(n.coerceFont(l,"tickfont",f,{overrideDflt:{color:m}}),!u.noTicklabelstep&&"multicategory"!==c&&"log"!==c&&l("ticklabelstep"),!u.noAng){var g=l("tickangle");!u.noAutotickangles&&"auto"===g&&l("autotickangles")}if("category"!==c){var v=l("tickformat");o(t,e,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:s}),e.tickformatstops.length||delete e.tickformatstops,!u.noExp&&!v&&"date"!==c&&(l("showexponent",d),l("exponentformat"),l("minexponent"),l("separatethousands"))}}}})),De=a(((t,e)=>{var n=Ce();e.exports=function(t,e,r,i,a){a||(a={});var o=a.tickSuffixDflt,s=n(t);r("tickprefix")&&r("showtickprefix",s),r("ticksuffix",o)&&r("showticksuffix",s)}})),Oe=a(((t,e)=>{var n=$t(),r=se(),i=Ae(),a=Le(),o=Pe(),s=De(),l=be();e.exports=function(t,e,c){var u=r.newContainer(e,"colorbar"),h=t.colorbar||{};function d(t,e){return n.coerce(h,u,l,t,e)}var f=c.margin||{t:0,b:0,l:0,r:0},p=c.width-f.l-f.r,m=c.height-f.t-f.b,g="v"===d("orientation"),v=d("thicknessmode");d("thickness","fraction"===v?30/(g?p:m):30);var y=d("lenmode");d("len","fraction"===y?1:g?m:p);var _,x,b,w="paper"===d("yref"),M="paper"===d("xref"),T="left";g?(b="middle",T=M?"left":"right",_=M?1.02:1,x=.5):(b=w?"bottom":"top",T="center",_=.5,x=w?1.02:1),n.coerce(h,u,{x:{valType:"number",min:M?-2:0,max:M?3:1,dflt:_}},"x"),n.coerce(h,u,{y:{valType:"number",min:w?-2:0,max:w?3:1,dflt:x}},"y"),d("xanchor",T),d("xpad"),d("yanchor",b),d("ypad"),n.noneOrAll(h,u,["x","y"]),d("outlinecolor"),d("outlinewidth"),d("bordercolor"),d("borderwidth"),d("bgcolor");var k=n.coerce(h,u,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:g?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");d("ticklabeloverflow",-1!==k.indexOf("inside")?"hide past domain":"hide past div"),i(h,u,d,"linear");var A=c.font,L={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:A};-1!==k.indexOf("inside")&&(L.bgColor="black"),s(h,u,d,"linear",L),o(h,u,d,"linear",L),a(h,u,d,"linear",L),d("title.text",c._dfltTitle.colorbar);var C=u.showticklabels?u.tickfont:A,S=n.extendFlat({},A,{family:C.family,size:n.bigFont(C.size)});n.coerceFont(d,"title.font",S),d("title.side",g?"top":"right")}})),Ee=a(((t,e)=>{var n=f(),r=$t(),i=Te(),a=Oe(),o=D().isValid,s=Et().traceIs;function l(t,e){var n=e.slice(0,e.length-1);return e?r.nestedProperty(t,n).get()||{}:t}e.exports=function t(e,c,u,h,d){var f=d.prefix,p=d.cLetter,m="_module"in c,g=l(e,f),v=l(c,f),y=l(c._template||{},f)||{},_=function(){return delete e.coloraxis,delete c.coloraxis,t(e,c,u,h,d)};if(m){var x=u._colorAxes||{},b=h(f+"coloraxis");if(b){var w=s(c,"contour")&&r.nestedProperty(c,"contours.coloring").get()||"heatmap",M=x[b];return void(M?(M[2].push(_),M[0]!==w&&(M[0]=!1,r.warn(["Ignoring coloraxis:",b,"setting","as it is linked to incompatible colorscales."].join(" ")))):x[b]=[w,c,[_]])}}var T=g[p+"min"],k=g[p+"max"],A=n(T)&&n(k)&&T<k;h(f+p+"auto",!A)?h(f+p+"mid"):(h(f+p+"min"),h(f+p+"max"));var L,C,S=g.colorscale,P=y.colorscale;void 0!==S&&(L=!o(S)),void 0!==P&&(L=!o(P)),h(f+"autocolorscale",L),h(f+"colorscale"),h(f+"reversescale"),"marker.line."!==f&&(f&&m&&(C=i(g)),h(f+"showscale",C)&&(f&&y&&(v._template=y),a(g,v,u)))}})),Ie=a(((t,e)=>{var n=$t(),r=se(),i=Me(),a=Ee();e.exports=function(t,e){function o(r,a){return n.coerce(t,e,i,r,a)}o("colorscale.sequential"),o("colorscale.sequentialminus"),o("colorscale.diverging");var s,l,c=e._colorAxes;function u(t,e){return n.coerce(s,l,i.coloraxis,t,e)}for(var h in c){var d=c[h];if(d[0])s=t[h]||{},(l=r.newContainer(e,h,"coloraxis"))._name=h,a(s,l,e,u,{prefix:"",cLetter:"c"});else{for(var f=0;f<d[2].length;f++)d[2][f]();delete e._colorAxes[h]}}}})),ze=a(((t,e)=>{var n=$t(),r=ye().hasColorscale,i=ye().extractOpts;e.exports=function(t,e){function a(t,e){var n=t["_"+e];void 0!==n&&(t[e]=n)}function o(t,r){var o=r.container?n.nestedProperty(t,r.container).get():t;if(o)if(o.coloraxis)o._colorAx=e[o.coloraxis];else{var s=i(o),l=s.auto;(l||void 0===s.min)&&a(o,r.min),(l||void 0===s.max)&&a(o,r.max),s.autocolorscale&&a(o,"colorscale")}}for(var s=0;s<t.length;s++){var l=t[s],c=l._module.colorbar;if(c)if(Array.isArray(c))for(var u=0;u<c.length;u++)o(l,c[u]);else o(l,c);r(l,"marker.line")&&o(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in e._colorAxes)o(e[h],{min:"cmin",max:"cmax"})}})),Ne=a(((t,e)=>{var n=f(),r=$t(),i=ye().extractOpts;e.exports=function(t,e,a){var o,s=t._fullLayout,l=a.vals,c=a.containerStr,u=c?r.nestedProperty(e,c).get():e,h=i(u),d=!1!==h.auto,f=h.min,p=h.max,m=h.mid,g=function(){return r.aggNums(Math.min,null,l)},v=function(){return r.aggNums(Math.max,null,l)};void 0===f?f=g():d&&(f=u._colorAx&&n(f)?Math.min(f,g()):g()),void 0===p?p=v():d&&(p=u._colorAx&&n(p)?Math.max(p,v()):v()),d&&void 0!==m&&(p-m>m-f?f=m-(p-m):p-m<m-f&&(p=m+(m-f))),f===p&&(f-=.5,p+=.5),h._sync("min",f),h._sync("max",p),h.autocolorscale&&(o=f*p<0?s.colorscale.diverging:f>=0?s.colorscale.sequential:s.colorscale.sequentialminus,h._sync("colorscale",o))}})),Re=a(((t,e)=>{var n=D(),r=ye();e.exports={moduleType:"component",name:"colorscale",attributes:we(),layoutAttributes:Me(),supplyLayoutDefaults:Ie(),handleDefaults:Ee(),crossTraceDefaults:ze(),calc:Ne(),scales:n.scales,defaultScale:n.defaultScale,getScale:n.get,isValidScale:n.isValid,hasColorscale:r.hasColorscale,extractOpts:r.extractOpts,extractScale:r.extractScale,flipScale:r.flipScale,makeColorScaleFunc:r.makeColorScaleFunc,makeColorScaleFuncFromTrace:r.makeColorScaleFuncFromTrace}})),Fe=a(((t,e)=>{var n=$t(),r=v().isTypedArraySpec;e.exports={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&(t.mode&&-1!==t.mode.indexOf("markers")||"splom"===t.type)},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){var e=t.marker;return n.isPlainObject(e)&&(n.isArrayOrTypedArray(e.size)||r(e.size))}}})),je=a(((t,e)=>{var n=f();e.exports=function(t,e){e||(e=2);var r=t.marker,i=r.sizeref||1,a=r.sizemin||0,o="area"===r.sizemode?function(t){return Math.sqrt(t/i)}:function(t){return t/i};return function(t){var r=o(t/e);return n(r)&&r>0?Math.max(r,a):0}}})),Be=a((t=>{var e=$t();t.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},t.isTraceInSubplots=function(e,n){if("splom"===e.type){for(var r=e.xaxes||[],i=e.yaxes||[],a=0;a<r.length;a++)for(var o=0;o<i.length;o++)if(-1!==n.indexOf(r[a]+i[o]))return!0;return!1}return-1!==n.indexOf(t.getSubplot(e))},t.flat=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e;return n},t.p2c=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].p2c(e);return n},t.getDistanceFunction=function(e,n,r,i){return"closest"===e?i||t.quadrature(n,r):"x"===e.charAt(0)?n:r},t.getClosest=function(t,e,n){if(!1!==n.index)n.index>=0&&n.index<t.length?n.distance=0:n.index=!1;else for(var r=1/0,i=t.length,a=0;a<i;a++)(r=e(t[a]))<=n.distance&&(n.index=a,n.distance=r);return n},t.inbox=function(t,e,n){return t*e<0||0===t?n:1/0},t.quadrature=function(t,e){return function(n){var r=t(n),i=e(n);return Math.sqrt(r*r+i*i)}},t.makeEventData=function(e,n,r){var i="index"in e?e.index:e.pointNumber,a={data:n._input,fullData:n,curveNumber:n.index,pointNumber:i};if(n._indexToPoints){var o=n._indexToPoints[i];1===o.length?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=i;return n._module.eventData?a=n._module.eventData(a,e,n,r,i):("xVal"in e?a.x=e.xVal:"x"in e&&(a.x=e.x),"yVal"in e?a.y=e.yVal:"y"in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),void 0!==e.zLabelVal&&(a.z=e.zLabelVal)),t.appendArrayPointValue(a,n,i),a},t.appendArrayPointValue=function(t,n,a){var o=n._arrayAttrs;if(o)for(var s=0;s<o.length;s++){var l=o[s],c=r(l);if(void 0===t[c]){var u=i(e.nestedProperty(n,l).get(),a);void 0!==u&&(t[c]=u)}}},t.appendArrayMultiPointValues=function(t,n,a){var o=n._arrayAttrs;if(o)for(var s=0;s<o.length;s++){var l=o[s],c=r(l);if(void 0===t[c]){for(var u=e.nestedProperty(n,l).get(),h=new Array(a.length),d=0;d<a.length;d++)h[d]=i(u,a[d]);t[c]=h}}};var n={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function r(t){return n[t]||t}function i(t,e){return Array.isArray(e)?Array.isArray(t)&&Array.isArray(t[e[0]])?t[e[0]][e[1]]:void 0:t[e]}var a={x:!0,y:!0},o={"x unified":!0,"y unified":!0};t.isUnifiedHover=function(t){return"string"==typeof t&&!!o[t]},t.isXYhover=function(t){return"string"==typeof t&&!!a[t]}})),He=a(((t,e)=>{e.exports=function(t){var e=[];return t.replace(r,(function(t,r,a){var o=r.toLowerCase();for(a=function(t){var e=t.match(i);return e?e.map(Number):[]}(a),"m"==o&&a.length>2&&(e.push([r].concat(a.splice(0,2))),o="l",r="m"==r?"l":"L");;){if(a.length==n[o])return a.unshift(r),e.push(a);if(a.length<n[o])throw new Error("malformed path data");e.push([r].concat(a.splice(0,n[o])))}})),e};var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi})),Ue=a(((t,e)=>{var n,r,i,a,o=He(),s=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},l="M0,0Z",c=Math.sqrt(2),u=Math.sqrt(3),h=Math.PI,d=Math.cos,f=Math.sin;function p(t){return null===t}function m(t,e,s){if(!(t&&t%360!=0||e))return s;if(i===t&&a===e&&n===s)return r;function l(t,n){var r=d(t),i=f(t),a=n[0],o=n[1]+(e||0);return[a*r-o*i,a*i+o*r]}i=t,a=e,n=s;for(var c=t/180*h,u=0,p=0,m=o(s),g="",v=0;v<m.length;v++){var y=m[v],_=y[0],x=u,b=p;if("M"===_||"L"===_)u=+y[1],p=+y[2];else if("m"===_||"l"===_)u+=+y[1],p+=+y[2];else if("H"===_)u=+y[1];else if("h"===_)u+=+y[1];else if("V"===_)p=+y[1];else if("v"===_)p+=+y[1];else if("A"===_){u=+y[1],p=+y[2];var w=l(c,[+y[6],+y[7]]);y[6]=w[0],y[7]=w[1],y[3]=+y[3]+t}("H"===_||"V"===_)&&(_="L"),("h"===_||"v"===_)&&(_="l"),("m"===_||"l"===_)&&(u-=x,p-=b);var M=l(c,[u,p]);("H"===_||"V"===_)&&(_="L"),("M"===_||"L"===_||"m"===_||"l"===_)&&(y[1]=M[0],y[2]=M[1]),y[0]=_,g+=y[0]+y.slice(1).join(",")}return r=g,g}e.exports={circle:{n:0,f:function(t,e,n){if(p(e))return l;var r=s(t,2),i="M"+r+",0A"+r+","+r+" 0 1,1 0,-"+r+"A"+r+","+r+" 0 0,1 "+r+",0Z";return n?m(e,n,i):i}},square:{n:1,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M"+r+","+r+"H-"+r+"V-"+r+"H"+r+"Z")}},diamond:{n:2,f:function(t,e,n){if(p(e))return l;var r=s(1.3*t,2);return m(e,n,"M"+r+",0L0,"+r+"L-"+r+",0L0,-"+r+"Z")}},cross:{n:3,f:function(t,e,n){if(p(e))return l;var r=s(.4*t,2),i=s(1.2*t,2);return m(e,n,"M"+i+","+r+"H"+r+"V"+i+"H-"+r+"V"+r+"H-"+i+"V-"+r+"H-"+r+"V-"+i+"H"+r+"V-"+r+"H"+i+"Z")}},x:{n:4,f:function(t,e,n){if(p(e))return l;var r=s(.8*t/c,2),i="l"+r+","+r,a="l"+r+",-"+r,o="l-"+r+",-"+r,u="l-"+r+","+r;return m(e,n,"M0,"+r+i+a+o+a+o+u+o+u+i+u+i+"Z")}},"triangle-up":{n:5,f:function(t,e,n){if(p(e))return l;var r=s(2*t/u,2);return m(e,n,"M-"+r+","+s(t/2,2)+"H"+r+"L0,-"+s(t,2)+"Z")}},"triangle-down":{n:6,f:function(t,e,n){if(p(e))return l;var r=s(2*t/u,2);return m(e,n,"M-"+r+",-"+s(t/2,2)+"H"+r+"L0,"+s(t,2)+"Z")}},"triangle-left":{n:7,f:function(t,e,n){if(p(e))return l;var r=s(2*t/u,2);return m(e,n,"M"+s(t/2,2)+",-"+r+"V"+r+"L-"+s(t,2)+",0Z")}},"triangle-right":{n:8,f:function(t,e,n){if(p(e))return l;var r=s(2*t/u,2);return m(e,n,"M-"+s(t/2,2)+",-"+r+"V"+r+"L"+s(t,2)+",0Z")}},"triangle-ne":{n:9,f:function(t,e,n){if(p(e))return l;var r=s(.6*t,2),i=s(1.2*t,2);return m(e,n,"M-"+i+",-"+r+"H"+r+"V"+i+"Z")}},"triangle-se":{n:10,f:function(t,e,n){if(p(e))return l;var r=s(.6*t,2),i=s(1.2*t,2);return m(e,n,"M"+r+",-"+i+"V"+r+"H-"+i+"Z")}},"triangle-sw":{n:11,f:function(t,e,n){if(p(e))return l;var r=s(.6*t,2),i=s(1.2*t,2);return m(e,n,"M"+i+","+r+"H-"+r+"V-"+i+"Z")}},"triangle-nw":{n:12,f:function(t,e,n){if(p(e))return l;var r=s(.6*t,2),i=s(1.2*t,2);return m(e,n,"M-"+r+","+i+"V-"+r+"H"+i+"Z")}},pentagon:{n:13,f:function(t,e,n){if(p(e))return l;var r=s(.951*t,2),i=s(.588*t,2),a=s(-t,2),o=s(-.309*t,2);return m(e,n,"M"+r+","+o+"L"+i+","+s(.809*t,2)+"H-"+i+"L-"+r+","+o+"L0,"+a+"Z")}},hexagon:{n:14,f:function(t,e,n){if(p(e))return l;var r=s(t,2),i=s(t/2,2),a=s(t*u/2,2);return m(e,n,"M"+a+",-"+i+"V"+i+"L0,"+r+"L-"+a+","+i+"V-"+i+"L0,-"+r+"Z")}},hexagon2:{n:15,f:function(t,e,n){if(p(e))return l;var r=s(t,2),i=s(t/2,2),a=s(t*u/2,2);return m(e,n,"M-"+i+","+a+"H"+i+"L"+r+",0L"+i+",-"+a+"H-"+i+"L-"+r+",0Z")}},octagon:{n:16,f:function(t,e,n){if(p(e))return l;var r=s(.924*t,2),i=s(.383*t,2);return m(e,n,"M-"+i+",-"+r+"H"+i+"L"+r+",-"+i+"V"+i+"L"+i+","+r+"H-"+i+"L-"+r+","+i+"V-"+i+"Z")}},star:{n:17,f:function(t,e,n){if(p(e))return l;var r=1.4*t,i=s(.225*r,2),a=s(.951*r,2),o=s(.363*r,2),c=s(.588*r,2),u=s(-r,2),h=s(-.309*r,2),d=s(.118*r,2),f=s(.809*r,2);return m(e,n,"M"+i+","+h+"H"+a+"L"+o+","+d+"L"+c+","+f+"L0,"+s(.382*r,2)+"L-"+c+","+f+"L-"+o+","+d+"L-"+a+","+h+"H-"+i+"L0,"+u+"Z")}},hexagram:{n:18,f:function(t,e,n){if(p(e))return l;var r=s(.66*t,2),i=s(.38*t,2),a=s(.76*t,2);return m(e,n,"M-"+a+",0l-"+i+",-"+r+"h"+a+"l"+i+",-"+r+"l"+i+","+r+"h"+a+"l-"+i+","+r+"l"+i+","+r+"h-"+a+"l-"+i+","+r+"l-"+i+",-"+r+"h-"+a+"Z")}},"star-triangle-up":{n:19,f:function(t,e,n){if(p(e))return l;var r=s(t*u*.8,2),i=s(.8*t,2),a=s(1.6*t,2),o=s(4*t,2),c="A "+o+","+o+" 0 0 1 ";return m(e,n,"M-"+r+","+i+c+r+","+i+c+"0,-"+a+c+"-"+r+","+i+"Z")}},"star-triangle-down":{n:20,f:function(t,e,n){if(p(e))return l;var r=s(t*u*.8,2),i=s(.8*t,2),a=s(1.6*t,2),o=s(4*t,2),c="A "+o+","+o+" 0 0 1 ";return m(e,n,"M"+r+",-"+i+c+"-"+r+",-"+i+c+"0,"+a+c+r+",-"+i+"Z")}},"star-square":{n:21,f:function(t,e,n){if(p(e))return l;var r=s(1.1*t,2),i=s(2*t,2),a="A "+i+","+i+" 0 0 1 ";return m(e,n,"M-"+r+",-"+r+a+"-"+r+","+r+a+r+","+r+a+r+",-"+r+a+"-"+r+",-"+r+"Z")}},"star-diamond":{n:22,f:function(t,e,n){if(p(e))return l;var r=s(1.4*t,2),i=s(1.9*t,2),a="A "+i+","+i+" 0 0 1 ";return m(e,n,"M-"+r+",0"+a+"0,"+r+a+r+",0"+a+"0,-"+r+a+"-"+r+",0Z")}},"diamond-tall":{n:23,f:function(t,e,n){if(p(e))return l;var r=s(.7*t,2),i=s(1.4*t,2);return m(e,n,"M0,"+i+"L"+r+",0L0,-"+i+"L-"+r+",0Z")}},"diamond-wide":{n:24,f:function(t,e,n){if(p(e))return l;var r=s(1.4*t,2),i=s(.7*t,2);return m(e,n,"M0,"+i+"L"+r+",0L0,-"+i+"L-"+r+",0Z")}},hourglass:{n:25,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M"+r+","+r+"H-"+r+"L"+r+",-"+r+"H-"+r+"Z")},noDot:!0},bowtie:{n:26,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M"+r+","+r+"V-"+r+"L-"+r+","+r+"V-"+r+"Z")},noDot:!0},"circle-cross":{n:27,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M0,"+r+"V-"+r+"M"+r+",0H-"+r+"M"+r+",0A"+r+","+r+" 0 1,1 0,-"+r+"A"+r+","+r+" 0 0,1 "+r+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t,e,n){if(p(e))return l;var r=s(t,2),i=s(t/c,2);return m(e,n,"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i+"M"+r+",0A"+r+","+r+" 0 1,1 0,-"+r+"A"+r+","+r+" 0 0,1 "+r+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M0,"+r+"V-"+r+"M"+r+",0H-"+r+"M"+r+","+r+"H-"+r+"V-"+r+"H"+r+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+r+","+r+"H-"+r+"V-"+r+"H"+r+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t,e,n){if(p(e))return l;var r=s(1.3*t,2);return m(e,n,"M"+r+",0L0,"+r+"L-"+r+",0L0,-"+r+"ZM0,-"+r+"V"+r+"M-"+r+",0H"+r)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t,e,n){if(p(e))return l;var r=s(1.3*t,2),i=s(.65*t,2);return m(e,n,"M"+r+",0L0,"+r+"L-"+r+",0L0,-"+r+"ZM-"+i+",-"+i+"L"+i+","+i+"M-"+i+","+i+"L"+i+",-"+i)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t,e,n){if(p(e))return l;var r=s(1.4*t,2);return m(e,n,"M0,"+r+"V-"+r+"M"+r+",0H-"+r)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(t,e,n){if(p(e))return l;var r=s(1.2*t,2),i=s(.85*t,2);return m(e,n,"M0,"+r+"V-"+r+"M"+r+",0H-"+r+"M"+i+","+i+"L-"+i+",-"+i+"M"+i+",-"+i+"L-"+i+","+i)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(t,e,n){if(p(e))return l;var r=s(t/2,2),i=s(t,2);return m(e,n,"M"+r+","+i+"V-"+i+"M"+(r-i)+",-"+i+"V"+i+"M"+i+","+r+"H-"+i+"M-"+i+","+(r-i)+"H"+i)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(t,e,n){if(p(e))return l;var r=s(1.2*t,2),i=s(1.6*t,2),a=s(.8*t,2);return m(e,n,"M-"+r+","+a+"L0,0M"+r+","+a+"L0,0M0,-"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(t,e,n){if(p(e))return l;var r=s(1.2*t,2),i=s(1.6*t,2),a=s(.8*t,2);return m(e,n,"M-"+r+",-"+a+"L0,0M"+r+",-"+a+"L0,0M0,"+i+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(t,e,n){if(p(e))return l;var r=s(1.2*t,2),i=s(1.6*t,2),a=s(.8*t,2);return m(e,n,"M"+a+","+r+"L0,0M"+a+",-"+r+"L0,0M-"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(t,e,n){if(p(e))return l;var r=s(1.2*t,2),i=s(1.6*t,2),a=s(.8*t,2);return m(e,n,"M-"+a+","+r+"L0,0M-"+a+",-"+r+"L0,0M"+i+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(t,e,n){if(p(e))return l;var r=s(1.4*t,2);return m(e,n,"M"+r+",0H-"+r)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(t,e,n){if(p(e))return l;var r=s(1.4*t,2);return m(e,n,"M0,"+r+"V-"+r)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M"+r+",-"+r+"L-"+r+","+r)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M"+r+","+r+"L-"+r+",-"+r)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M0,0L-"+r+","+s(2*t,2)+"H"+r+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M0,0L-"+r+",-"+s(2*t,2)+"H"+r+"Z")},noDot:!0},"arrow-left":{n:47,f:function(t,e,n){if(p(e))return l;var r=s(2*t,2),i=s(t,2);return m(e,n,"M0,0L"+r+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-right":{n:48,f:function(t,e,n){if(p(e))return l;var r=s(2*t,2),i=s(t,2);return m(e,n,"M0,0L-"+r+",-"+i+"V"+i+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M-"+r+",0H"+r+"M0,0L-"+r+","+s(2*t,2)+"H"+r+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(t,e,n){if(p(e))return l;var r=s(t,2);return m(e,n,"M-"+r+",0H"+r+"M0,0L-"+r+",-"+s(2*t,2)+"H"+r+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(t,e,n){if(p(e))return l;var r=s(2*t,2),i=s(t,2);return m(e,n,"M0,-"+i+"V"+i+"M0,0L"+r+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(t,e,n){if(p(e))return l;var r=s(2*t,2),i=s(t,2);return m(e,n,"M0,-"+i+"V"+i+"M0,0L-"+r+",-"+i+"V"+i+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(t,e,n){if(p(e))return l;var r=h/2.5,i=2*t*d(r),a=2*t*f(r);return m(e,n,"M0,0L"+-i+","+a+"L"+i+","+a+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(t,e,n){if(p(e))return l;var r=h/4,i=2*t*d(r),a=2*t*f(r);return m(e,n,"M0,0L"+-i+","+a+"A "+2*t+","+2*t+" 0 0 1 "+i+","+a+"Z")},backoff:.4,noDot:!0}}})),Ze=a(((t,e)=>{var n=l(),r=$t(),i=r.numberFormat,a=f(),o=T(),s=Et(),c=E(),u=Re(),h=r.strTranslate,d=ve(),p=me(),m=ge().LINE_SPACING,g=I().DESELECTDIM,v=Fe(),y=je(),_=Be().appendArrayPointValue,x=e.exports={};function b(t){return"none"===t?void 0:t}x.font=function(t,e){var n=e.variant,r=e.style,i=e.weight,a=e.color,o=e.size,s=e.family,l=e.shadow,u=e.lineposition,h=e.textcase;s&&t.style("font-family",s),o+1&&t.style("font-size",o+"px"),a&&t.call(c.fill,a),i&&t.style("font-weight",i),r&&t.style("font-style",r),n&&t.style("font-variant",n),h&&t.style("text-transform",b(function(t){return w[t]}(h))),l&&t.style("text-shadow","auto"===l?d.makeTextShadow(c.contrast(a)):b(l)),u&&t.style("text-decoration-line",b(function(t){return t.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}(u)))};var w={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function M(t,e,n,r){var i=e.fillpattern,a=e.fillgradient,o=i&&x.getPatternAttr(i.shape,0,"");if(o){var s=x.getPatternAttr(i.bgcolor,0,null),l=x.getPatternAttr(i.fgcolor,0,null),u=i.fgopacity,h=x.getPatternAttr(i.size,0,8),d=x.getPatternAttr(i.solidity,0,.3),f=e.uid;x.pattern(t,"point",n,f,o,h,d,void 0,i.fillmode,s,l,u)}else if(a&&"none"!==a.type){var p,m,g=a.type,v="scatterfill-"+e.uid;r&&(v="legendfill-"+e.uid),r||void 0===a.start&&void 0===a.stop?("horizontal"===g&&(g+="reversed"),t.call(x.gradient,n,v,g,a.colorscale,"fill")):("horizontal"===g?(p={x:a.start,y:0},m={x:a.stop,y:0}):"vertical"===g&&(p={x:0,y:a.start},m={x:0,y:a.stop}),p.x=e._xA.c2p(void 0===p.x?e._extremes.x.min[0].val:p.x,!0),p.y=e._yA.c2p(void 0===p.y?e._extremes.y.min[0].val:p.y,!0),m.x=e._xA.c2p(void 0===m.x?e._extremes.x.max[0].val:m.x,!0),m.y=e._yA.c2p(void 0===m.y?e._extremes.y.max[0].val:m.y,!0),t.call(P,n,v,"linear",a.colorscale,"fill",p,m,!0,!1))}else e.fillcolor&&t.call(c.fill,e.fillcolor)}x.setPosition=function(t,e,n){t.attr("x",e).attr("y",n)},x.setSize=function(t,e,n){t.attr("width",e).attr("height",n)},x.setRect=function(t,e,n,r,i){t.call(x.setPosition,e,n).call(x.setSize,r,i)},x.translatePoint=function(t,e,n,r){var i=n.c2p(t.x),o=r.c2p(t.y);return!!(a(i)&&a(o)&&e.node())&&("text"===e.node().nodeName?e.attr("x",i).attr("y",o):e.attr("transform",h(i,o)),!0)},x.translatePoints=function(t,e,r){t.each((function(t){var i=n.select(this);x.translatePoint(t,i,e,r)}))},x.hideOutsideRangePoint=function(t,e,n,r,i,a){e.attr("display",n.isPtWithinRange(t,i)&&r.isPtWithinRange(t,a)?null:"none")},x.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var r=e.xaxis,i=e.yaxis;t.each((function(e){var a=e[0].trace,o=a.xcalendar,l=a.ycalendar,c=s.traceIs(a,"bar-like")?".bartext":".point,.textpoint";t.selectAll(c).each((function(t){x.hideOutsideRangePoint(t,n.select(this),r,i,o,l)}))}))}},x.crispRound=function(t,e,n){return e&&a(e)?t._context.staticPlot?e:e<1?1:Math.round(e):n||0},x.singleLineStyle=function(t,e,n,r,i){e.style("fill","none");var a=(((t||[])[0]||{}).trace||{}).line||{},o=n||a.width||0,s=i||a.dash||"";c.stroke(e,r||a.color),x.dashLine(e,s,o)},x.lineGroupStyle=function(t,e,r,i){t.style("fill","none").each((function(t){var a=(((t||[])[0]||{}).trace||{}).line||{},o=e||a.width||0,s=i||a.dash||"";n.select(this).call(c.stroke,r||a.color).call(x.dashLine,s,o)}))},x.dashLine=function(t,e,n){n=+n||0,e=x.dashStyle(e,n),t.style({"stroke-dasharray":e,"stroke-width":n+"px"})},x.dashStyle=function(t,e){e=+e||1;var n=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=n+"px,"+n+"px":"dash"===t?t=3*n+"px,"+3*n+"px":"longdash"===t?t=5*n+"px,"+5*n+"px":"dashdot"===t?t=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===t&&(t=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),t},x.singleFillStyle=function(t,e){var r=n.select(t.node());M(t,((r.data()[0]||[])[0]||{}).trace||{},e,!1)},x.fillGroupStyle=function(t,e,r){t.style("stroke-width",0).each((function(t){var i=n.select(this);t[0].trace&&M(i,t[0].trace,e,r)}))};var k=Ue();x.symbolNames=[],x.symbolFuncs=[],x.symbolBackOffs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(k).forEach((function(t){var e=k[t],n=e.n;x.symbolList.push(n,String(n),t,n+100,String(n+100),t+"-open"),x.symbolNames[n]=t,x.symbolFuncs[n]=e.f,x.symbolBackOffs[n]=e.backoff||0,e.needLine&&(x.symbolNeedLines[n]=!0),e.noDot?x.symbolNoDot[n]=!0:x.symbolList.push(n+200,String(n+200),t+"-dot",n+300,String(n+300),t+"-open-dot"),e.noFill&&(x.symbolNoFill[n]=!0)}));var A=x.symbolNames.length;function L(t,e,n,r){var i=t%100;return x.symbolFuncs[i](e,n,r)+(t>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}x.symbolNumber=function(t){if(a(t))t=+t;else if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=x.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=A||t>=400?0:Math.floor(Math.max(t,0))};var C=i("~f"),S={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};function P(t,e,i,a,s,l,u,h,d,f){var p,m=s.length;"linear"===a?p={node:"linearGradient",attrs:{x1:u.x,y1:u.y,x2:h.x,y2:h.y,gradientUnits:d?"userSpaceOnUse":"objectBoundingBox"},reversed:f}:"radial"===a&&(p={node:"radialGradient",reversed:f});for(var g=new Array(m),v=0;v<m;v++)p.reversed?g[m-1-v]=[C(100*(1-s[v][0])),s[v][1]]:g[v]=[C(100*s[v][0]),s[v][1]];var y=e._fullLayout,_="g"+y._uid+"-"+i,x=y._defs.select(".gradients").selectAll("#"+_).data([a+g.join(";")],r.identity);x.exit().remove(),x.enter().append(p.node).each((function(){var t=n.select(this);p.attrs&&t.attr(p.attrs),t.attr("id",_);var e=t.selectAll("stop").data(g);e.exit().remove(),e.enter().append("stop"),e.each((function(t){var e=o(t[1]);n.select(this).attr({offset:t[0]+"%","stop-color":c.tinyRGB(e),"stop-opacity":e.getAlpha()})}))})),t.style(l,G(_,e)).style(l+"-opacity",null),t.classed("gradient_filled",!0)}x.gradient=function(t,e,n,r,i,a){var o=S[r];return P(t,e,n,o.type,i,a,o.start,o.stop,!1,o.reversed)},x.pattern=function(t,e,i,a,s,l,u,h,d,f,p,m){var g="legend"===e;h&&("overlay"===d?(f=h,p=c.contrast(f)):(f=void 0,p=h));var v,y,_,x,b,w,M,T,k,A=i._fullLayout,L="p"+A._uid+"-"+a,C={},S=o(p),P=c.tinyRGB(S),D=m*S.getAlpha();switch(s){case"/":v=l*Math.sqrt(2),y=l*Math.sqrt(2),w="path",C={d:_="M-"+v/4+","+y/4+"l"+v/2+",-"+y/2+"M0,"+y+"L"+v+",0M"+v/4*3+","+y/4*5+"l"+v/2+",-"+y/2,opacity:D,stroke:P,"stroke-width":(x=u*l)+"px"};break;case"\\":v=l*Math.sqrt(2),y=l*Math.sqrt(2),w="path",C={d:_="M"+v/4*3+",-"+y/4+"l"+v/2+","+y/2+"M0,0L"+v+","+y+"M-"+v/4+","+y/4*3+"l"+v/2+","+y/2,opacity:D,stroke:P,"stroke-width":(x=u*l)+"px"};break;case"x":v=l*Math.sqrt(2),y=l*Math.sqrt(2),_="M-"+v/4+","+y/4+"l"+v/2+",-"+y/2+"M0,"+y+"L"+v+",0M"+v/4*3+","+y/4*5+"l"+v/2+",-"+y/2+"M"+v/4*3+",-"+y/4+"l"+v/2+","+y/2+"M0,0L"+v+","+y+"M-"+v/4+","+y/4*3+"l"+v/2+","+y/2,x=l-l*Math.sqrt(1-u),w="path",C={d:_,opacity:D,stroke:P,"stroke-width":x+"px"};break;case"|":w="path",w="path",C={d:_="M"+(v=l)/2+",0L"+v/2+","+(y=l),opacity:D,stroke:P,"stroke-width":(x=u*l)+"px"};break;case"-":w="path",w="path",C={d:_="M0,"+(y=l)/2+"L"+(v=l)+","+y/2,opacity:D,stroke:P,"stroke-width":(x=u*l)+"px"};break;case"+":w="path",_="M"+(v=l)/2+",0L"+v/2+","+(y=l)+"M0,"+y/2+"L"+v+","+y/2,x=l-l*Math.sqrt(1-u),w="path",C={d:_,opacity:D,stroke:P,"stroke-width":x+"px"};break;case".":v=l,y=l,u<Math.PI/4?b=Math.sqrt(u*l*l/Math.PI):(M=u,T=Math.PI/4,b=(k=l/2)+(l/Math.sqrt(2)-k)*(M-T)/(1-T)),w="circle",C={cx:v/2,cy:y/2,r:b,opacity:D,fill:P}}var O=[s||"noSh",f||"noBg",p||"noFg",l,u].join(";"),E=A._defs.select(".patterns").selectAll("#"+L).data([O],r.identity);E.exit().remove(),E.enter().append("pattern").each((function(){var t=n.select(this);if(t.attr({id:L,width:v+"px",height:y+"px",patternUnits:"userSpaceOnUse",patternTransform:g?"scale(0.8)":""}),f){var e=o(f),r=c.tinyRGB(e),i=e.getAlpha(),a=t.selectAll("rect").data([0]);a.exit().remove(),a.enter().append("rect").attr({width:v+"px",height:y+"px",fill:r,"fill-opacity":i})}var s=t.selectAll(w).data([0]);s.exit().remove(),s.enter().append(w).attr(C)})),t.style("fill",G(L,i)).style("fill-opacity",null),t.classed("pattern_filled",!0)},x.initGradients=function(t){var e=t._fullLayout;r.ensureSingle(e._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),n.select(t).selectAll(".gradient_filled").classed("gradient_filled",!1)},x.initPatterns=function(t){var e=t._fullLayout;r.ensureSingle(e._defs,"g","patterns").selectAll("pattern").remove(),n.select(t).selectAll(".pattern_filled").classed("pattern_filled",!1)},x.getPatternAttr=function(t,e,n){return t&&r.isArrayOrTypedArray(t)?e<t.length?t[e]:n:t},x.pointStyle=function(t,e,r,i){if(t.size()){var a=x.makePointStyleFns(e);t.each((function(t){x.singlePointStyle(t,n.select(this),e,a,r,i)}))}},x.singlePointStyle=function(t,e,n,i,a,o){var s=n.marker,l=s.line;if(o&&o.i>=0&&void 0===t.i&&(t.i=o.i),e.style("opacity",i.selectedOpacityFn?i.selectedOpacityFn(t):void 0===t.mo?s.opacity:t.mo),i.ms2mrc){var u;u="various"===t.ms||"various"===s.size?3:i.ms2mrc(t.ms),t.mrc=u,i.selectedSizeFn&&(u=t.mrc=i.selectedSizeFn(t));var h=x.symbolNumber(t.mx||s.symbol)||0;t.om=h%200>=100;var d=st(t,n),f=J(t,n);e.attr("d",L(h,u,d,f))}var p,m,g,v=!1;if(t.so)g=l.outlierwidth,m=l.outliercolor,p=s.outliercolor;else{var y=(l||{}).width;g=(t.mlw+1||y+1||(t.trace?(t.trace.marker.line||{}).width:0)+1)-1||0,m="mlc"in t?t.mlcc=i.lineScale(t.mlc):r.isArrayOrTypedArray(l.color)?c.defaultLine:l.color,r.isArrayOrTypedArray(s.color)&&(p=c.defaultLine,v=!0),p="mc"in t?t.mcc=i.markerScale(t.mc):s.color||s.colors||"rgba(0,0,0,0)",i.selectedColorFn&&(p=i.selectedColorFn(t))}if(t.om)e.call(c.stroke,p).style({"stroke-width":(g||1)+"px",fill:"none"});else{e.style("stroke-width",(t.isBlank?0:g)+"px");var _=s.gradient,b=t.mgt;b?v=!0:b=_&&_.type,r.isArrayOrTypedArray(b)&&(b=b[0],S[b]||(b=0));var w=s.pattern,M=w&&x.getPatternAttr(w.shape,t.i,"");if(b&&"none"!==b){var T=t.mgc;T?v=!0:T=_.color;var k=n.uid;v&&(k+="-"+t.i),x.gradient(e,a,k,b,[[0,T],[1,p]],"fill")}else if(M){var A=!1,C=w.fgcolor;!C&&o&&o.color&&(C=o.color,A=!0);var P=x.getPatternAttr(C,t.i,o&&o.color||null),D=x.getPatternAttr(w.bgcolor,t.i,null),O=w.fgopacity,E=x.getPatternAttr(w.size,t.i,8),I=x.getPatternAttr(w.solidity,t.i,.3);A=A||t.mcc||r.isArrayOrTypedArray(w.shape)||r.isArrayOrTypedArray(w.bgcolor)||r.isArrayOrTypedArray(w.fgcolor)||r.isArrayOrTypedArray(w.size)||r.isArrayOrTypedArray(w.solidity);var z=n.uid;A&&(z+="-"+t.i),x.pattern(e,"point",a,z,M,E,I,t.mcc,w.fillmode,D,P,O)}else r.isArrayOrTypedArray(p)?c.fill(e,p[t.i]):c.fill(e,p);g&&c.stroke(e,m)}},x.makePointStyleFns=function(t){var e={},n=t.marker;return e.markerScale=x.tryColorscale(n,""),e.lineScale=x.tryColorscale(n,"line"),s.traceIs(t,"symbols")&&(e.ms2mrc=v.isBubble(t)?y(t):function(){return(n.size||6)/2}),t.selectedpoints&&r.extendFlat(e,x.makeSelectedPointStyleFns(t)),e},x.makeSelectedPointStyleFns=function(t){var e={},n=t.selected||{},i=t.unselected||{},a=t.marker||{},o=n.marker||{},l=i.marker||{},c=a.opacity,u=o.opacity,h=l.opacity,d=void 0!==u,f=void 0!==h;(r.isArrayOrTypedArray(c)||d||f)&&(e.selectedOpacityFn=function(t){var e=void 0===t.mo?a.opacity:t.mo;return t.selected?d?u:e:f?h:g*e});var p=a.color,m=o.color,v=l.color;(m||v)&&(e.selectedColorFn=function(t){var e=t.mcc||p;return t.selected?m||e:v||e});var y=a.size,_=o.size,x=l.size,b=void 0!==_,w=void 0!==x;return s.traceIs(t,"symbols")&&(b||w)&&(e.selectedSizeFn=function(t){var e=t.mrc||y/2;return t.selected?b?_/2:e:w?x/2:e}),e},x.makeSelectedTextStyleFns=function(t){var e={},n=t.selected||{},r=t.unselected||{},i=t.textfont||{},a=n.textfont||{},o=r.textfont||{},s=i.color,l=a.color,u=o.color;return e.selectedTextColorFn=function(t){var e=t.tc||s;return t.selected?l||e:u||(l?e:c.addOpacity(e,g))},e},x.selectedPointStyle=function(t,e){if(t.size()&&e.selectedpoints){var r=x.makeSelectedPointStyleFns(e),i=e.marker||{},a=[];r.selectedOpacityFn&&a.push((function(t,e){t.style("opacity",r.selectedOpacityFn(e))})),r.selectedColorFn&&a.push((function(t,e){c.fill(t,r.selectedColorFn(e))})),r.selectedSizeFn&&a.push((function(t,n){var a=n.mx||i.symbol||0,o=r.selectedSizeFn(n);t.attr("d",L(x.symbolNumber(a),o,st(n,e),J(n,e))),n.mrc2=o})),a.length&&t.each((function(t){for(var e=n.select(this),r=0;r<a.length;r++)a[r](e,t)}))}},x.tryColorscale=function(t,e){var n=e?r.nestedProperty(t,e).get():t;if(n){var i=n.color;if((n.colorscale||n._colorAx)&&r.isArrayOrTypedArray(i))return u.makeColorScaleFuncFromTrace(n)}return r.identity};var D,O,z={start:1,end:-1,middle:0,bottom:1,top:-1};function N(t,e,r,i,a){var o=n.select(t.node().parentNode),s=-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle",l=-1!==e.indexOf("left")?"end":-1!==e.indexOf("right")?"start":"middle",c=i?i/.8+1:0,u=(d.lineCount(t)-1)*m+1,f=z[l]*c,p=.75*r+z[s]*c+(z[s]-1)*u*r/2;t.attr("text-anchor",l),a||o.attr("transform",h(f,p))}function R(t,e){var n=t.ts||e.textfont.size;return a(n)&&n>0?n:0}function F(t,e,n){return n&&(t=V(t)),e?B(t[1]):j(t[0])}function j(t){var e=n.round(t,2);return D=e,e}function B(t){var e=n.round(t,2);return O=e,e}function H(t,e,n,r){var i=t[0]-e[0],a=t[1]-e[1],o=n[0]-e[0],s=n[1]-e[1],l=Math.pow(i*i+a*a,.25),c=Math.pow(o*o+s*s,.25),u=(c*c*i-l*l*o)*r,h=(c*c*a-l*l*s)*r,d=3*c*(l+c),f=3*l*(l+c);return[[j(e[0]+(d&&u/d)),B(e[1]+(d&&h/d))],[j(e[0]-(f&&u/f)),B(e[1]-(f&&h/f))]]}x.textPointStyle=function(t,e,i){if(t.size()){var a;if(e.selectedpoints){var o=x.makeSelectedTextStyleFns(e);a=o.selectedTextColorFn}var s=e.texttemplate,l=i._fullLayout;t.each((function(t){var o=n.select(this),c=s?r.extractOption(t,e,"txt","texttemplate"):r.extractOption(t,e,"tx","text");if(c||0===c){if(s){var u=e._module.formatLabels,h=u?u(t,e,l):{},f={};_(f,e,t.i);var p=e._meta||{};c=r.texttemplateString(c,h,l._d3locale,f,t,p)}var m=t.tp||e.textposition,g=R(t,e),v=a?a(t):t.tc||e.textfont.color;o.call(x.font,{family:t.tf||e.textfont.family,weight:t.tw||e.textfont.weight,style:t.ty||e.textfont.style,variant:t.tv||e.textfont.variant,textcase:t.tC||e.textfont.textcase,lineposition:t.tE||e.textfont.lineposition,shadow:t.tS||e.textfont.shadow,size:g,color:v}).text(c).call(d.convertToTspans,i).call(N,m,g,t.mrc)}else o.remove()}))}},x.selectedTextStyle=function(t,e){if(t.size()&&e.selectedpoints){var r=x.makeSelectedTextStyleFns(e);t.each((function(t){var i=n.select(this),a=r.selectedTextColorFn(t),o=t.tp||e.textposition,l=R(t,e);c.fill(i,a);var u=s.traceIs(e,"bar-like");N(i,o,l,t.mrc2||t.mrc,u)}))}},x.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var n,r="M"+t[0],i=[];for(n=1;n<t.length-1;n++)i.push(H(t[n-1],t[n],t[n+1],e));for(r+="Q"+i[0][0]+" "+t[1],n=2;n<t.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+t[n];return r+"Q"+i[t.length-3][1]+" "+t[t.length-1]},x.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var n,r="M"+t[0],i=t.length-1,a=[H(t[i],t[0],t[1],e)];for(n=1;n<i;n++)a.push(H(t[n-1],t[n],t[n+1],e));for(a.push(H(t[i-1],t[i],t[0],e)),n=1;n<=i;n++)r+="C"+a[n-1][1]+" "+a[n][0]+" "+t[n];return r+"C"+a[i][1]+" "+a[0][0]+" "+t[0]+"Z"};var U={hv:function(t,e,n){return"H"+j(e[0])+"V"+F(e,1,n)},vh:function(t,e,n){return"V"+B(e[1])+"H"+F(e,0,n)},hvh:function(t,e,n){return"H"+j((t[0]+e[0])/2)+"V"+B(e[1])+"H"+F(e,0,n)},vhv:function(t,e,n){return"V"+B((t[1]+e[1])/2)+"H"+j(e[0])+"V"+F(e,1,n)}},Z=function(t,e,n){return"L"+F(e,0,n)+","+F(e,1,n)};function V(t,e){var n=t.backoff,i=t.trace,a=t.d,o=t.i;if(n&&i&&i.marker&&i.marker.angle%360==0&&i.line&&"spline"!==i.line.shape){var s=r.isArrayOrTypedArray(n),l=t,c=e?e[0]:D||0,u=e?e[1]:O||0,h=l[0],d=l[1],f=h-c,p=d-u,m=Math.atan2(p,f),g=s?n[o]:n;if("auto"===g){var v=l.i;"scatter"===i.type&&v--;var y=l.marker,_=y.symbol;r.isArrayOrTypedArray(_)&&(_=_[v]);var b=y.size;r.isArrayOrTypedArray(b)&&(b=b[v]),g=y?x.symbolBackOffs[x.symbolNumber(_)]*b:0,g+=x.getMarkerStandoff(a[v],i)||0}var w=h-g*Math.cos(m),M=d-g*Math.sin(m);(w<=h&&w>=c||w>=h&&w<=c)&&(M<=d&&M>=u||M>=d&&M<=u)&&(t=[w,M])}return t}x.steps=function(t){var e=U[t]||Z;return function(t){for(var n="M"+j(t[0][0])+","+B(t[0][1]),r=t.length,i=1;i<r;i++)n+=e(t[i-1],t[i],i===r-1);return n}},x.applyBackoff=V,x.makeTester=function(){var t=r.ensureSingleById(n.select("body"),"svg","js-plotly-tester",(function(t){t.attr(p.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),e=r.ensureSingle(t,"path","js-reference-point",(function(t){t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));x.tester=t,x.testref=e},x.savedBBoxes={};var Y=0;function W(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}function G(t,e){if(!t)return null;var n=e._context,r=n._exportedPlot?"":n._baseUrl||"";return r?"url('"+r+"#"+t+"')":"url(#"+t+")"}x.bBox=function(t,e,i){var a,o,s;if(i||(i=W(t)),i){if(a=x.savedBBoxes[i])return r.extendFlat({},a)}else if(1===t.childNodes.length){var l=t.childNodes[0];if(i=W(l)){var c=+l.getAttribute("x")||0,u=+l.getAttribute("y")||0,h=l.getAttribute("transform");if(!h){var f=x.bBox(l,!1,i);return c&&(f.left+=c,f.right+=c),u&&(f.top+=u,f.bottom+=u),f}if(i+="~"+c+"~"+u+"~"+h,a=x.savedBBoxes[i])return r.extendFlat({},a)}}e?o=t:(s=x.tester.node(),o=t.cloneNode(!0),s.appendChild(o)),n.select(o).attr("transform",null).call(d.positionText,0,0);var p=o.getBoundingClientRect(),m=x.testref.node().getBoundingClientRect();e||s.removeChild(o);var g={height:p.height,width:p.width,left:p.left-m.left,top:p.top-m.top,right:p.right-m.left,bottom:p.bottom-m.top};return Y>=1e4&&(x.savedBBoxes={},Y=0),i&&(x.savedBBoxes[i]=g),Y++,r.extendFlat({},g)},x.setClipUrl=function(t,e,n){t.attr("clip-path",G(e,n))},x.getTranslate=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(t,e,n){return[e,n].join(" ")})).split(" ");return{x:+e[0]||0,y:+e[1]||0}},x.setTranslate=function(t,e,n){var r=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",a=t[r]("transform")||"";return e=e||0,n=n||0,a=a.replace(/(\btranslate\(.*?\);?)/,"").trim(),a=(a+=h(e,n)).trim(),t[i]("transform",a),a},x.getScale=function(t){var e=(t[t.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(t,e,n){return[e,n].join(" ")})).split(" ");return{x:+e[0]||1,y:+e[1]||1}},x.setScale=function(t,e,n){var r=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",a=t[r]("transform")||"";return e=e||1,n=n||1,a=a.replace(/(\bscale\(.*?\);?)/,"").trim(),a=(a+="scale("+e+","+n+")").trim(),t[i]("transform",a),a};var q=/\s*sc.*/;x.setPointGroupScale=function(t,e,n){if(e=e||1,n=n||1,t){var r=1===e&&1===n?"":"scale("+e+","+n+")";t.each((function(){var t=(this.getAttribute("transform")||"").replace(q,"");t=(t+=r).trim(),this.setAttribute("transform",t)}))}};var X=/translate\([^)]*\)\s*$/;function J(t,e){var n;return t&&(n=t.mf),void 0===n&&(n=e.marker&&e.marker.standoff||0),e._geo||e._xA?n:-n}x.setTextPointsScale=function(t,e,r){t&&t.each((function(){var t,i=n.select(this),a=i.select("text");if(a.node()){var o=parseFloat(a.attr("x")||0),s=parseFloat(a.attr("y")||0),l=(i.attr("transform")||"").match(X);t=1===e&&1===r?[]:[h(o,s),"scale("+e+","+r+")",h(-o,-s)],l&&t.push(l),i.attr("transform",t.join(""))}}))},x.getMarkerStandoff=J;var K,$,Q,tt,et,nt,rt=Math.atan2,it=Math.cos,at=Math.sin;function ot(t,e){var n=e[0],r=e[1];return[n*it(t)-r*at(t),n*at(t)+r*it(t)]}function st(t,e){var n=t.ma;void 0===n&&(!(n=e.marker.angle)||r.isArrayOrTypedArray(n))&&(n=0);var i,o,s=e.marker.angleref;if("previous"===s||"north"===s){if(e._geo){var l=e._geo.project(t.lonlat);i=l[0],o=l[1]}else{var c=e._xA,u=e._yA;if(!c||!u)return 90;i=c.c2p(t.x),o=u.c2p(t.y)}if(e._geo){var h,d=t.lonlat[0],f=t.lonlat[1],p=e._geo.project([d,f+1e-5]),m=e._geo.project([d+1e-5,f]),g=rt(m[1]-o,m[0]-i),v=rt(p[1]-o,p[0]-i);if("north"===s)h=n/180*Math.PI;else if("previous"===s){var y=d/180*Math.PI,_=f/180*Math.PI,x=K/180*Math.PI,b=$/180*Math.PI,w=x-y,M=it(b)*at(w),T=at(b)*it(_)-it(b)*at(_)*it(w);h=-rt(M,T)-Math.PI,K=d,$=f}var k=ot(g,[it(h),0]),A=ot(v,[at(h),0]);n=rt(k[1]+A[1],k[0]+A[0])/Math.PI*180,"previous"===s&&(nt!==e.uid||t.i!==et+1)&&(n=null)}if("previous"===s&&!e._geo)if(nt===e.uid&&t.i===et+1&&a(i)&&a(o)){var L=i-Q,C=o-tt,S=e.line&&e.line.shape||"",P=S.slice(S.length-1);"h"===P&&(C=0),"v"===P&&(L=0),n+=rt(C,L)/Math.PI*180+90}else n=null}return Q=i,tt=o,et=t.i,nt=e.uid,n}x.getMarkerAngle=st})),Ve=a(((t,e)=>{var n=l(),r=f(),i=pe(),a=Et(),o=$t(),s=o.strTranslate,c=Ze(),u=E(),h=ve(),d=I(),p=ge().OPPOSITE_SIDE,m=/ [XY][0-9]* /;e.exports={draw:function(t,e,l){var f,g=t._fullLayout,v=l.propContainer,y=l.propName,_=l.placeholder,x=l.traceIndex,b=l.avoid||{},w=l.attributes,M=l.transform,T=l.containerGroup,k=1,A=v.title,L=(A&&A.text?A.text:"").trim(),C=!1,S=A&&A.font?A.font:{},P=S.family,D=S.size,O=S.color,E=S.weight,I=S.style,z=S.variant,N=S.textcase,R=S.lineposition,F=S.shadow,j=!!l.subtitlePropName,B=l.subtitlePlaceholder,H=(v.title||{}).subtitle||{text:"",font:{}},U=H.text.trim(),Z=!1,V=1,Y=H.font,W=Y.family,G=Y.size,q=Y.color,X=Y.weight,J=Y.style,K=Y.variant,$=Y.textcase,Q=Y.lineposition,tt=Y.shadow;"title.text"===y?f="titleText":-1!==y.indexOf("axis")?f="axisTitleText":y.indexOf(!0)&&(f="colorbarTitleText");var et=t._context.edits[f];function nt(t,e){return void 0!==t&&void 0!==e&&t.replace(m," % ")===e.replace(m," % ")}""===L?k=0:nt(L,_)&&(et||(L=""),k=.2,C=!0),j&&(""===U?V=0:nt(U,B)&&(et||(U=""),V=.2,Z=!0)),l._meta?L=o.templateString(L,l._meta):g._meta&&(L=o.templateString(L,g._meta));var rt,it=L||U||et;T||(T=o.ensureSingle(g._infolayer,"g","g-"+e),rt=g._hColorbarMoveTitle);var at=T.selectAll("text."+e).data(it?[0]:[]);at.enter().append("text"),at.text(L).attr("class",e),at.exit().remove();var ot=null,st=e+"-subtitle",lt=U||et;if(j&&lt&&((ot=T.selectAll("text."+st).data(lt?[0]:[])).enter().append("text"),ot.text(U).attr("class",st),ot.exit().remove()),!it)return T;function ct(t,e){o.syncOrAsync([ut,ht],{title:t,subtitle:e})}function ut(r){var a,l=r.title,d=r.subtitle;if(!M&&rt&&(M={}),M?(a="",M.rotate&&(a+="rotate("+[M.rotate,w.x,w.y]+")"),(M.offset||rt)&&(a+=s(0,(M.offset||0)-(rt||0)))):a=null,l.attr("transform",a),l.style("opacity",k*u.opacity(O)).call(c.font,{color:u.rgb(O),size:n.round(D,2),family:P,weight:E,style:I,variant:z,textcase:N,shadow:F,lineposition:R}).attr(w).call(h.convertToTspans,t,(function(t){if(t){var e=n.select(t.node().parentNode).select("."+st);if(!e.empty()){var r=t.node().getBBox();if(r.height){var i=r.y+r.height+1.6*G;e.attr("y",i)}}}})),d){var f=T.select("."+e+"-math-group"),p=l.node().getBBox(),m=f.node()?f.node().getBBox():void 0,g=m?m.y+m.height+1.6*G:p.y+p.height+1.6*G,v=o.extendFlat({},w,{y:g});d.attr("transform",a),d.style("opacity",V*u.opacity(q)).call(c.font,{color:u.rgb(q),size:n.round(G,2),family:W,weight:X,style:J,variant:K,textcase:$,shadow:tt,lineposition:Q}).attr(v).call(h.convertToTspans,t)}return i.previousPromises(t)}function ht(e){var i=e.title,a=n.select(i.node().parentNode);if(b&&b.selection&&b.side&&L){a.attr("transform",null);var l=p[b.side],u="left"===b.side||"top"===b.side?-1:1,h=r(b.pad)?b.pad:2,d=c.bBox(a.node()),f={t:0,b:0,l:0,r:0},m=t._fullLayout._reservedMargin;for(var y in m)for(var _ in m[y]){var x=m[y][_];f[_]=Math.max(f[_],x)}var w={left:f.l,top:f.t,right:g.width-f.r,bottom:g.height-f.b},M=b.maxShift||u*(w[b.side]-d[b.side]),T=0;if(M<0)T=M;else{var k=b.offsetLeft||0,A=b.offsetTop||0;d.left-=k,d.right-=k,d.top-=A,d.bottom-=A,b.selection.each((function(){var t=c.bBox(this);o.bBoxIntersect(d,t,h)&&(T=Math.max(T,u*(t[b.side]-d[l])+h))})),T=Math.min(M,T),v._titleScoot=Math.abs(T)}if(T>0||M<0){var C={left:[-T,0],right:[T,0],top:[0,-T],bottom:[0,T]}[b.side];a.attr("transform",s(C[0],C[1]))}}}function dt(t,e){t.text(e).on("mouseover.opacity",(function(){n.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){n.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)}))}if(at.call(ct,ot),et&&(L?at.on(".opacity",null):(dt(at,_),C=!0),at.call(h.makeEditable,{gd:t}).on("edit",(function(e){void 0!==x?a.call("_guiRestyle",t,y,e,x):a.call("_guiRelayout",t,y,e)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(ct)})).on("input",(function(t){this.text(t||" ").call(h.positionText,w.x,w.y)})),j)){if(j&&!L){var ft=at.node().getBBox(),pt=ft.y+ft.height+1.6*G;ot.attr("y",pt)}U?ot.on(".opacity",null):(dt(ot,B),Z=!0),ot.call(h.makeEditable,{gd:t}).on("edit",(function(e){a.call("_guiRelayout",t,"title.subtitle.text",e)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(ct)})).on("input",(function(t){this.text(t||" ").call(h.positionText,ot.attr("x"),ot.attr("y"))}))}return at.classed("js-placeholder",C),ot&&ot.classed("js-placeholder",Z),T},SUBTITLE_PADDING_EM:1.6,SUBTITLE_PADDING_MATHJAX_EM:1.6}})),Ye=a(((t,e)=>{var n=l(),r=u().utcFormat,i=$t(),a=i.numberFormat,o=f(),s=i.cleanNumber,c=i.ms2DateTime,h=i.dateTime2ms,d=i.ensureNumber,m=i.isArrayOrTypedArray,g=p(),v=g.FP_SAFE,y=g.BADNUM,_=g.LOG_CLIP,x=g.ONEWEEK,b=g.ONEDAY,w=g.ONEHOUR,M=g.ONEMIN,T=g.ONESEC,k=ce(),A=le(),L=A.HOUR_PATTERN,C=A.WEEKDAY_PATTERN;function S(t){return Math.pow(10,t)}function P(t){return null!=t}e.exports=function(t,e){e=e||{};var l=t._id||"x",u=l.charAt(0);function f(e,n){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&n&&t.range&&2===t.range.length){var r=t.range[0],i=t.range[1];return.5*(r+i-2*_*Math.abs(r-i))}return y}function p(e,n,r,a){if((a||{}).msUTC&&o(e))return+e;var s=h(e,r||t.calendar);if(s===y){if(!o(e))return y;e=+e;var l=Math.floor(10*i.mod(e+.05,1)),c=Math.round(e-l/10);s=h(new Date(c))+l/10}return s}function g(e,n,r){return c(e,n,r||t.calendar)}function D(e){return t._categories[Math.round(e)]}function O(e){if(P(e)){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push("number"==typeof e?String(e):e);var n=t._categories.length-1;return t._categoriesMap[e]=n,n}return y}function E(e){if(t._categoriesMap)return t._categoriesMap[e]}function I(t){var e=E(t);return void 0!==e?e:o(t)?+t:void 0}function z(t){return o(t)?+t:E(t)}function N(t,e,r){return n.round(r+e*t,2)}function R(t,e,n){return(t-n)/e}var F=function(e){return o(e)?N(e,t._m,t._b):y},j=function(e){return R(e,t._m,t._b)};if(t.rangebreaks){var B="y"===u;F=function(e){if(!o(e))return y;var n=t._rangebreaks.length;if(!n)return N(e,t._m,t._b);var r=B;t.range[0]>t.range[1]&&(r=!r);for(var i=r?-1:1,a=i*e,s=0,l=0;l<n;l++){var c=i*t._rangebreaks[l].min,u=i*t._rangebreaks[l].max;if(a<c)break;if(!(a>u)){s=a<(c+u)/2?l:l+1;break}s=l+1}var h=t._B[s]||0;return isFinite(h)?N(e,t._m2,h):0},j=function(e){var n=t._rangebreaks.length;if(!n)return R(e,t._m,t._b);for(var r=0,i=0;i<n&&!(e<t._rangebreaks[i].pmin);i++)e>t._rangebreaks[i].pmax&&(r=i+1);return R(e,t._m2,t._B[r])}}t.c2l="log"===t.type?f:d,t.l2c="log"===t.type?S:d,t.l2p=F,t.p2l=j,t.c2p="log"===t.type?function(t,e){return F(f(t,e))}:F,t.p2c="log"===t.type?function(t){return S(j(t))}:j,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=s,t.c2d=t.c2r=t.l2d=t.l2r=d,t.d2p=t.r2p=function(e){return t.l2p(s(e))},t.p2d=t.p2r=j,t.cleanPos=d):"log"===t.type?(t.d2r=t.d2l=function(t,e){return f(s(t),e)},t.r2d=t.r2c=function(t){return S(s(t))},t.d2c=t.r2l=s,t.c2d=t.l2r=d,t.c2r=f,t.l2d=S,t.d2p=function(e,n){return t.l2p(t.d2r(e,n))},t.p2d=function(t){return S(j(t))},t.r2p=function(e){return t.l2p(s(e))},t.p2r=j,t.cleanPos=d):"date"===t.type?(t.d2r=t.r2d=i.identity,t.d2c=t.r2c=t.d2l=t.r2l=p,t.c2d=t.c2r=t.l2d=t.l2r=g,t.d2p=t.r2p=function(e,n,r){return t.l2p(p(e,0,r))},t.p2d=t.p2r=function(t,e,n){return g(j(t),e,n)},t.cleanPos=function(e){return i.cleanDate(e,y,t.calendar)}):"category"===t.type?(t.d2c=t.d2l=O,t.r2d=t.c2d=t.l2d=D,t.d2r=t.d2l_noadd=I,t.r2c=function(e){var n=z(e);return void 0!==n?n:t.fraction2r(.5)},t.l2r=t.c2r=d,t.r2l=z,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return D(j(t))},t.r2p=t.d2p,t.p2r=j,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:d(t)}):"multicategory"===t.type&&(t.r2d=t.c2d=t.l2d=D,t.d2r=t.d2l_noadd=I,t.r2c=function(e){var n=I(e);return void 0!==n?n:t.fraction2r(.5)},t.r2c_just_indices=E,t.l2r=t.c2r=d,t.r2l=I,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return D(j(t))},t.r2p=t.d2p,t.p2r=j,t.cleanPos=function(t){return Array.isArray(t)||"string"==typeof t&&""!==t?t:d(t)},t.setupMultiCategory=function(n){var r,a,o=t._traceIndices,s=t._matchGroup;if(s&&0===t._categories.length)for(var c in s)if(c!==l){var h=e[k.id2name(c)];o=o.concat(h._traceIndices)}var d=[[0,{}],[0,{}]],f=[];for(r=0;r<o.length;r++){var p=n[o[r]];if(u in p){var g=p[u],v=p._length||i.minRowLength(g);if(m(g[0])&&m(g[1]))for(a=0;a<v;a++){var y=g[0][a],_=g[1][a];P(y)&&P(_)&&(f.push([y,_]),y in d[0][1]||(d[0][1][y]=d[0][0]++),_ in d[1][1]||(d[1][1][_]=d[1][0]++))}}}for(f.sort((function(t,e){var n=d[0][1],r=n[t[0]]-n[e[0]];if(r)return r;var i=d[1][1];return i[t[1]]-i[e[1]]})),r=0;r<f.length;r++)O(f[r])}),t.fraction2r=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return t.l2r(n+e*(r-n))},t.r2fraction=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return(t.r2l(e)-n)/(r-n)},t.limitRange=function(e){var n=t.minallowed,r=t.maxallowed;if(void 0!==n||void 0!==r){e||(e="range");var a=i.nestedProperty(t,e).get(),o=i.simpleMap(a,t.r2l),s=o[1]<o[0];s&&o.reverse();var l=i.simpleMap([n,r],t.r2l);if(void 0!==n&&o[0]<l[0]&&(a[s?1:0]=n),void 0!==r&&o[1]>l[1]&&(a[s?0:1]=r),a[0]===a[1]){var c=t.l2r(n),u=t.l2r(r);if(void 0!==n){var h=c+1;void 0!==r&&(h=Math.min(h,u)),a[s?1:0]=h}if(void 0!==r){var d=u+1;void 0!==n&&(d=Math.max(d,c)),a[s?0:1]=d}}}},t.cleanRange=function(e,n){t._cleanRange(e,n),t.limitRange(e)},t._cleanRange=function(e,n){n||(n={}),e||(e="range");var r,a,s=i.nestedProperty(t,e).get();if(a=(a="date"===t.type?i.dfltRange(t.calendar):"y"===u?A.DFLTRANGEY:"realaxis"===t._name?[0,1]:n.dfltRange||A.DFLTRANGEX).slice(),("tozero"===t.rangemode||"nonnegative"===t.rangemode)&&(a[0]=0),s&&2===s.length){var l=null===s[0],c=null===s[1];for("date"===t.type&&!t.autorange&&(s[0]=i.cleanDate(s[0],y,t.calendar),s[1]=i.cleanDate(s[1],y,t.calendar)),r=0;r<2;r++)if("date"===t.type){if(!i.isDateTime(s[r],t.calendar)){t[e]=a;break}if(t.r2l(s[0])===t.r2l(s[1])){var h=i.constrain(t.r2l(s[0]),i.MIN_MS+1e3,i.MAX_MS-1e3);s[0]=t.l2r(h-1e3),s[1]=t.l2r(h+1e3);break}}else{if(!o(s[r])){if(l||c||!o(s[1-r])){t[e]=a;break}s[r]=s[1-r]*(r?10:.1)}if(s[r]<-v?s[r]=-v:s[r]>v&&(s[r]=v),s[0]===s[1]){var d=Math.max(1,Math.abs(1e-6*s[0]));s[0]-=d,s[1]+=d}}}else i.nestedProperty(t,e).set(a)},t.setScale=function(n){var r=e._size;if(t.overlaying){var i=k.getFromId({_fullLayout:e},t.overlaying);t.domain=i.domain}var a=n&&t._r?"_r":"range",o=t.calendar;t.cleanRange(a);var s,l,c=t.r2l(t[a][0],o),h=t.r2l(t[a][1],o),d="y"===u;if(d?(t._offset=r.t+(1-t.domain[1])*r.h,t._length=r.h*(t.domain[1]-t.domain[0]),t._m=t._length/(c-h),t._b=-t._m*h):(t._offset=r.l+t.domain[0]*r.w,t._length=r.w*(t.domain[1]-t.domain[0]),t._m=t._length/(h-c),t._b=-t._m*c),t._rangebreaks=[],t._lBreaks=0,t._m2=0,t._B=[],t.rangebreaks&&(t._rangebreaks=t.locateBreaks(Math.min(c,h),Math.max(c,h)),t._rangebreaks.length)){for(s=0;s<t._rangebreaks.length;s++)l=t._rangebreaks[s],t._lBreaks+=Math.abs(l.max-l.min);var f=d;c>h&&(f=!f),f&&t._rangebreaks.reverse();var p=f?-1:1;for(t._m2=p*t._length/(Math.abs(h-c)-t._lBreaks),t._B.push(-t._m2*(d?h:c)),s=0;s<t._rangebreaks.length;s++)l=t._rangebreaks[s],t._B.push(t._B[t._B.length-1]-p*t._m2*(l.max-l.min));for(s=0;s<t._rangebreaks.length;s++)(l=t._rangebreaks[s]).pmin=F(l.min),l.pmax=F(l.max)}if(!isFinite(t._m)||!isFinite(t._b)||t._length<0)throw e._replotting=!1,new Error("Something went wrong with axis scaling")},t.maskBreaks=function(e){var n,r,a,o,l,c=t.rangebreaks||[];c._cachedPatterns||(c._cachedPatterns=c.map((function(e){return e.enabled&&e.bounds?i.simpleMap(e.bounds,e.pattern?s:t.d2c):null}))),c._cachedValues||(c._cachedValues=c.map((function(e){return e.enabled&&e.values?i.simpleMap(e.values,t.d2c).sort(i.sorterAsc):null})));for(var u=0;u<c.length;u++){var h=c[u];if(h.enabled)if(h.bounds){var d=h.pattern;switch(r=(n=c._cachedPatterns[u])[0],a=n[1],d){case C:o=(l=new Date(e)).getUTCDay(),r>a&&(a+=7,o<r&&(o+=7));break;case L:o=(l=new Date(e)).getUTCHours()+(l.getUTCMinutes()/60+l.getUTCSeconds()/3600+l.getUTCMilliseconds()/36e5),r>a&&(a+=24,o<r&&(o+=24));break;case"":o=e}if(o>=r&&o<a)return y}else for(var f=c._cachedValues[u],p=0;p<f.length;p++)if(a=(r=f[p])+h.dvalue,e>=r&&e<a)return y}return e},t.locateBreaks=function(e,n){var r,a,o,l,c=[];if(!t.rangebreaks)return c;var u=t.rangebreaks.slice().sort((function(t,e){return t.pattern===C&&e.pattern===L?-1:e.pattern===C&&t.pattern===L?1:0})),h=function(t,r){if((t=i.constrain(t,e,n))!==(r=i.constrain(r,e,n))){for(var a=!0,o=0;o<c.length;o++){var s=c[o];t<s.max&&r>=s.min&&(t<s.min&&(s.min=t),r>s.max&&(s.max=r),a=!1)}a&&c.push({min:t,max:r})}};for(r=0;r<u.length;r++){var d=u[r];if(d.enabled)if(d.bounds){var f=e,p=n;d.pattern&&(f=Math.floor(f)),o=(a=i.simpleMap(d.bounds,d.pattern?s:t.r2l))[0],l=a[1];var m,g,v=new Date(f);switch(d.pattern){case C:g=x,m=(l-o+(l<o?7:0))*b,f+=o*b-(v.getUTCDay()*b+v.getUTCHours()*w+v.getUTCMinutes()*M+v.getUTCSeconds()*T+v.getUTCMilliseconds());break;case L:g=b,m=(l-o+(l<o?24:0))*w,f+=o*w-(v.getUTCHours()*w+v.getUTCMinutes()*M+v.getUTCSeconds()*T+v.getUTCMilliseconds());break;default:f=Math.min(a[0],a[1]),m=g=(p=Math.max(a[0],a[1]))-f}for(var y=f;y<p;y+=g)h(y,y+m)}else for(var _=i.simpleMap(d.values,t.d2c),k=0;k<_.length;k++)h(o=_[k],l=o+d.dvalue)}return c.sort((function(t,e){return t.min-e.min})),c},t.makeCalcdata=function(e,n,r){var a,o,s,l,c=t.type,u="date"===c&&e[n+"calendar"];if(n in e){if(a=e[n],l=e._length||i.minRowLength(a),i.isTypedArray(a)&&("linear"===c||"log"===c)){if(l===a.length)return a;if(a.subarray)return a.subarray(0,l)}if("multicategory"===c)return function(t,e){for(var n=new Array(e),r=0;r<e;r++){var i=(t[0]||[])[r],a=(t[1]||[])[r];n[r]=E([i,a])}return n}(a,l);for(o=new Array(l),s=0;s<l;s++)o[s]=t.d2c(a[s],0,u,r)}else{var h=n+"0"in e?t.d2c(e[n+"0"],0,u):0,d=e["d"+n]?Number(e["d"+n]):1;for(a=e[{x:"y",y:"x"}[n]],l=e._length||a.length,o=new Array(l),s=0;s<l;s++)o[s]=h+s*d}if(t.rangebreaks)for(s=0;s<l;s++)o[s]=t.maskBreaks(o[s]);return o},t.isValidRange=function(e,n){return Array.isArray(e)&&2===e.length&&(n&&null===e[0]||o(t.r2l(e[0])))&&(n&&null===e[1]||o(t.r2l(e[1])))},t.getAutorangeDflt=function(e,n){var r=!t.isValidRange(e,"nullOk");return r&&n&&n.reverseDflt?r="reversed":e&&(null===e[0]&&null===e[1]?r=!0:null===e[0]&&null!==e[1]?r="min":null!==e[0]&&null===e[1]&&(r="max")),r},t.isReversed=function(){var e=t.autorange;return"reversed"===e||"min reversed"===e||"max reversed"===e},t.isPtWithinRange=function(e,n){var r=t.c2l(e[u],null,n),i=t.r2l(t.range[0]),a=t.r2l(t.range[1]);return i<a?i<=r&&r<=a:a<=r&&r<=i},t._emptyCategories=function(){t._categories=[],t._categoriesMap={}},t.clearCalc=function(){var n=t._matchGroup;if(n){var r=null,i=null;for(var a in n){var o=e[k.id2name(a)];if(o._categories){r=o._categories,i=o._categoriesMap;break}}r&&i?(t._categories=r,t._categoriesMap=i):t._emptyCategories()}else t._emptyCategories();if(t._initialCategories)for(var s=0;s<t._initialCategories.length;s++)O(t._initialCategories[s])},t.sortByInitialCategories=function(){var n=[];if(t._emptyCategories(),t._initialCategories)for(var r=0;r<t._initialCategories.length;r++)O(t._initialCategories[r]);n=n.concat(t._traceIndices);var i=t._matchGroup;for(var a in i)if(l!==a){var o=e[k.id2name(a)];o._categories=t._categories,o._categoriesMap=t._categoriesMap,n=n.concat(o._traceIndices)}return n};var H=e._d3locale;"date"===t.type&&(t._dateFormat=H?H.timeFormat:r,t._extraFormat=e._extraFormat),t._separators=e.separators,t._numFormat=H?H.numberFormat:a,delete t._minDtick,delete t._forceTick0}})),We=a(((t,e)=>{var n=f(),r=$t(),i=p().BADNUM,a=r.isArrayOrTypedArray,o=r.isDateTime,s=r.cleanNumber,l=Math.round;function c(t,e){return e?n(t):"number"==typeof t}function u(t){return Math.max(1,(t-1)/1e3)}e.exports=function(t,e,r){var h,d=t,f=r.noMultiCategory;if(a(d)&&!d.length)return"-";if(!f&&a((h=d)[0])&&a(h[1]))return"multicategory";if(f&&Array.isArray(d[0])){for(var p=[],m=0;m<d.length;m++)if(a(d[m]))for(var g=0;g<d[m].length;g++)p.push(d[m][g]);d=p}if(function(t,e){for(var r=t.length,i=u(r),a=0,s=0,c={},h=0;h<r;h+=i){var d=t[l(h)],f=String(d);c[f]||(c[f]=1,o(d,e)&&a++,n(d)&&s++)}return a>2*s}(d,e))return"date";var v="strict"!==r.autotypenumbers;return function(t,e){for(var n=t.length,r=u(n),a=0,o=0,c={},h=0;h<n;h+=r){var d=t[l(h)],f=String(d);if(!c[f]){c[f]=1;var p=typeof d;"boolean"===p?o++:(e?s(d)!==i:"number"===p)?a++:"string"===p&&o++}}return o>2*a}(d,v)?"category":function(t,e){for(var n=t.length,r=0;r<n;r++)if(c(t[r],e))return!0;return!1}(d,v)?"linear":"-"}})),Ge=a(((t,e)=>{var n=l(),r=f(),i=$t(),a=p().FP_SAFE,o=Et(),s=Ze(),c=ce(),u=c.getFromId,h=c.isLinked;function d(t,e){var n,r,a=[],o=t._fullLayout,s=g(o,e,0),l=g(o,e,1),c=y(t,e),u=c.min,h=c.max;if(0===u.length||0===h.length)return i.simpleMap(e.range,e.r2l);var d=u[0].val,f=h[0].val;for(n=1;n<u.length&&d===f;n++)d=Math.min(d,u[n].val);for(n=1;n<h.length&&d===f;n++)f=Math.max(f,h[n].val);var p=e.autorange,v="reversed"===p||"min reversed"===p||"max reversed"===p;if(!v&&e.range){var _=i.simpleMap(e.range,e.r2l);v=_[1]<_[0]}"reversed"===e.autorange&&(e.autorange=!0);var x,b,w,M,T,k,L=e.rangemode,C="tozero"===L,S="nonnegative"===L,P=e._length,D=P/10,O=0;for(n=0;n<u.length;n++)for(x=u[n],r=0;r<h.length;r++)(k=(b=h[r]).val-x.val-m(e,x.val,b.val))>0&&((T=P-s(x)-l(b))>D?k/T>O&&(w=x,M=b,O=k/T):k/P>O&&(w={val:x.val,nopad:1},M={val:b.val,nopad:1},O=k/P));if(d===f){var E=d-1,I=d+1;if(C)if(0===d)a=[0,1];else{var z=(d>0?h:u).reduce((function(t,e){return Math.max(t,l(e))}),0),N=d/(1-Math.min(.5,z/P));a=d>0?[0,N]:[N,0]}else a=S?[Math.max(0,E),Math.max(1,I)]:[E,I]}else C?(w.val>=0&&(w={val:0,nopad:1}),M.val<=0&&(M={val:0,nopad:1})):S&&(w.val-O*s(w)<0&&(w={val:0,nopad:1}),M.val<=0&&(M={val:1,nopad:1})),O=(M.val-w.val-m(e,x.val,b.val))/(P-s(w)-l(M)),a=[w.val-O*s(w),M.val+O*l(M)];return a=A(a,e),e.limitRange&&e.limitRange(),v&&a.reverse(),i.simpleMap(a,e.l2r||Number)}function m(t,e,n){var r=0;if(t.rangebreaks)for(var i=t.locateBreaks(e,n),a=0;a<i.length;a++){var o=i[a];r+=o.max-o.min}return r}function g(t,e,r){var a=.05*e._length,o=e._anchorAxis||{};if(-1!==(e.ticklabelposition||"").indexOf("inside")||-1!==(o.ticklabelposition||"").indexOf("inside")){var l=e.isReversed();if(!l){var c=i.simpleMap(e.range,e.r2l);l=c[1]<c[0]}l&&(r=!r)}var u=0;return h(t,e._id)||(u=function(t,e,r){var a=0,o="x"===e._id.charAt(0);for(var l in t._plots){var c=t._plots[l];if(e._id===c.xaxis._id||e._id===c.yaxis._id){var u=(o?c.yaxis:c.xaxis)||{};if(-1!==(u.ticklabelposition||"").indexOf("inside")&&(!r&&("left"===u.side||"bottom"===u.side)||r&&("top"===u.side||"right"===u.side))){if(u._vals){var h=i.deg2rad(u._tickAngles[u._id+"tick"]||0),d=Math.abs(Math.cos(h)),f=Math.abs(Math.sin(h));if(!u._vals[0].bb){var p=u._id+"tick";u._selections[p].each((function(t){var e=n.select(this);e.select(".text-math-group").empty()&&(t.bb=s.bBox(e.node()))}))}for(var m=0;m<u._vals.length;m++){var g=u._vals[m].bb;if(g){var y=2*v+g.width,_=2*v+g.height;a=Math.max(a,o?Math.max(y*d,_*f):Math.max(_*d,y*f))}}}"inside"===u.ticks&&"inside"===u.ticklabelposition&&(a+=u.ticklen||0)}}}return a}(t,e,r)),a=Math.max(u,a),"domain"===e.constrain&&e._inputDomain&&(a*=(e._inputDomain[1]-e._inputDomain[0])/(e.domain[1]-e.domain[0])),function(t){return t.nopad?0:t.pad+(t.extrapad?a:u)}}e.exports={applyAutorangeOptions:A,getAutoRange:d,makePadFn:g,doAutoRange:function(t,e,n){if(e.setScale(),e.autorange){e.range=n?n.slice():d(t,e),e._r=e.range.slice(),e._rl=i.simpleMap(e._r,e.r2l);var r=e._input,a={};a[e._attr+".range"]=e.range,a[e._attr+".autorange"]=e.autorange,o.call("_storeDirectGUIEdit",t.layout,t._fullLayout._preGUI,a),r.range=e.range.slice(),r.autorange=e.autorange}var s=e._anchorAxis;if(s&&s.rangeslider){var l=s.rangeslider[e._name];l&&"auto"===l.rangemode&&(l.range=d(t,e)),s._input.rangeslider[e._name]=i.extendFlat({},l)}},findExtremes:function(t,e,n){n||(n={}),t._m||t.setScale();var i,o,s,l,c,u,h,d,f,p=[],m=[],g=e.length,v=n.padded||!1,y=n.tozero&&("linear"===t.type||"-"===t.type),b="log"===t.type,M=!1,T=n.vpadLinearized||!1;function k(t){if(Array.isArray(t))return M=!0,function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}var A=k((t._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),L=k((t._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),C=k(n.vpadplus||n.vpad),S=k(n.vpadminus||n.vpad);if(!M){if(d=1/0,f=-1/0,b)for(i=0;i<g;i++)(o=e[i])<d&&o>0&&(d=o),o>f&&o<a&&(f=o);else for(i=0;i<g;i++)(o=e[i])<d&&o>-a&&(d=o),o>f&&o<a&&(f=o);e=[d,f],g=2}var P={tozero:y,extrapad:v};function D(n){s=e[n],r(s)&&(u=A(n),h=L(n),T?(l=t.c2l(s)-S(n),c=t.c2l(s)+C(n)):(d=s-S(n),f=s+C(n),b&&d<f/10&&(d=f/10),l=t.c2l(d),c=t.c2l(f)),y&&(l=Math.min(0,l),c=Math.max(0,c)),w(l)&&_(p,l,h,P),w(c)&&x(m,c,u,P))}var O=Math.min(6,g);for(i=0;i<O;i++)D(i);for(i=g-1;i>=O;i--)D(i);return{min:p,max:m,opts:n}},concatExtremes:y};var v=3;function y(t,e,n){var r,i,a,o=e._id,s=t._fullData,l=t._fullLayout,c=[],h=[];function d(t,e){for(r=0;r<e.length;r++){var n=t[e[r]],s=(n._extremes||{})[o];if(!0===n.visible&&s){for(i=0;i<s.min.length;i++)a=s.min[i],_(c,a.val,a.pad,{extrapad:a.extrapad});for(i=0;i<s.max.length;i++)a=s.max[i],x(h,a.val,a.pad,{extrapad:a.extrapad})}}}if(d(s,e._traceIndices),d(l.annotations||[],e._annIndices||[]),d(l.shapes||[],e._shapeIndices||[]),e._matchGroup&&!n)for(var f in e._matchGroup)if(f!==e._id){var p=u(t,f),m=y(t,p,!0),g=e._length/p._length;for(i=0;i<m.min.length;i++)a=m.min[i],_(c,a.val,a.pad*g,{extrapad:a.extrapad});for(i=0;i<m.max.length;i++)a=m.max[i],x(h,a.val,a.pad*g,{extrapad:a.extrapad})}return{min:c,max:h}}function _(t,e,n,r){b(t,e,n,r,M)}function x(t,e,n,r){b(t,e,n,r,T)}function b(t,e,n,r,i){for(var a=r.tozero,o=r.extrapad,s=!0,l=0;l<t.length&&s;l++){var c=t[l];if(i(c.val,e)&&c.pad>=n&&(c.extrapad||!o)){s=!1;break}i(e,c.val)&&c.pad<=n&&(o||!c.extrapad)&&(t.splice(l,1),l--)}if(s){var u=a&&0===e;t.push({val:e,pad:u?0:n,extrapad:!u&&o})}}function w(t){return r(t)&&Math.abs(t)<a}function M(t,e){return t<=e}function T(t,e){return t>=e}function k(t,e,n){return void 0===e||void 0===n||(e=t.d2l(e))<t.d2l(n)}function A(t,e){if(!e||!e.autorangeoptions)return t;var n=t[0],r=t[1],a=e.autorangeoptions.include;if(void 0!==a){var o=e.d2l(n),s=e.d2l(r);i.isArrayOrTypedArray(a)||(a=[a]);for(var l=0;l<a.length;l++){var c=e.d2l(a[l]);o>=c&&(o=c,n=c),s<=c&&(s=c,r=c)}}return n=function(t,e){var n=e.autorangeoptions;return n&&void 0!==n.minallowed&&k(e,n.minallowed,n.maxallowed)?n.minallowed:n&&void 0!==n.clipmin&&k(e,n.clipmin,n.clipmax)?Math.max(t,e.d2l(n.clipmin)):t}(n,e),r=function(t,e){var n=e.autorangeoptions;return n&&void 0!==n.maxallowed&&k(e,n.minallowed,n.maxallowed)?n.maxallowed:n&&void 0!==n.clipmax&&k(e,n.clipmin,n.clipmax)?Math.min(t,e.d2l(n.clipmax)):t}(r,e),[n,r]}})),qe=a(((t,e)=>{var n=l(),r=f(),i=pe(),a=Et(),o=$t(),s=o.strTranslate,c=ve(),u=Ve(),h=E(),d=Ze(),m=xe(),g=ke(),v=p(),y=v.ONEMAXYEAR,_=v.ONEAVGYEAR,x=v.ONEMINYEAR,b=v.ONEMAXQUARTER,w=v.ONEAVGQUARTER,M=v.ONEMINQUARTER,T=v.ONEMAXMONTH,k=v.ONEAVGMONTH,A=v.ONEMINMONTH,L=v.ONEWEEK,C=v.ONEDAY,S=C/2,P=v.ONEHOUR,D=v.ONEMIN,O=v.ONESEC,I=v.ONEMILLI,z=v.ONEMICROSEC,N=v.MINUS_SIGN,R=v.BADNUM,F={K:"zeroline"},j={K:"gridline",L:"path"},B={K:"minor-gridline",L:"path"},H={K:"tick",L:"path"},U={K:"tick",L:"text"},Z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=ge(),Y=V.MID_SHIFT,W=V.CAP_SHIFT,G=V.LINE_SPACING,q=V.OPPOSITE_SIDE,X=e.exports={};X.setConvert=Ye();var J=We(),K=ce(),$=K.idSort,Q=K.isLinked;X.id2name=K.id2name,X.name2id=K.name2id,X.cleanId=K.cleanId,X.list=K.list,X.listIds=K.listIds,X.getFromId=K.getFromId,X.getFromTrace=K.getFromTrace;var tt=Ge();function et(t){var e=1e-4*(t[1]-t[0]);return[t[0]-e,t[1]+e]}X.getAutoRange=tt.getAutoRange,X.findExtremes=tt.findExtremes,X.coerceRef=function(t,e,n,r,i,a){var s=r.charAt(r.length-1),l=n._fullLayout._subplots[s+"axis"],c=r+"ref",u={};return i||(i=l[0]||("string"==typeof a?a:a[0])),a||(a=i),l=l.concat(l.map((function(t){return t+" domain"}))),u[c]={valType:"enumerated",values:l.concat(a?"string"==typeof a?[a]:a:[]),dflt:i},o.coerce(t,e,u,c)},X.getRefType=function(t){return void 0===t?t:"paper"===t?"paper":"pixel"===t?"pixel":/( domain)$/.test(t)?"domain":"range"},X.coercePosition=function(t,e,n,r,i,a){var s,l;if("range"!==X.getRefType(r))s=o.ensureNumber,l=n(i,a);else{var c=X.getFromId(e,r);l=n(i,a=c.fraction2r(a)),s=c.cleanPos}t[i]=s(l)},X.cleanPosition=function(t,e,n){return("paper"===n||"pixel"===n?o.ensureNumber:X.getFromId(e,n).cleanPos)(t)},X.redrawComponents=function(t,e){e=e||X.listIds(t);var n=t._fullLayout;function r(r,i,o,s){for(var l=a.getComponentMethod(r,i),c={},u=0;u<e.length;u++)for(var h=n[X.id2name(e[u])][o],d=0;d<h.length;d++){var f=h[d];if(!c[f]&&(l(t,f),c[f]=1,s))return}}r("annotations","drawOne","_annIndices"),r("shapes","drawOne","_shapeIndices"),r("images","draw","_imgIndices",!0),r("selections","drawOne","_selectionIndices")};var nt=X.getDataConversions=function(t,e,n,r){var i,a="x"===n||"y"===n||"z"===n?n:r;if(o.isArrayOrTypedArray(a)){if(i={type:J(r,void 0,{autotypenumbers:t._fullLayout.autotypenumbers}),_categories:[]},X.setConvert(i),"category"===i.type)for(var s=0;s<r.length;s++)i.d2c(r[s])}else i=X.getFromTrace(t,e,a);return i?{d2c:i.d2c,c2d:i.c2d}:"ids"===a?{d2c:it,c2d:it}:{d2c:rt,c2d:rt}};function rt(t){return+t}function it(t){return String(t)}function at(t,e){return Math.abs((t/e+.5)%1-.5)<.001}function ot(t,e){return Math.abs(t/e-1)<.001}function st(t){return+t.substring(1)}function lt(t,e){return t.rangebreaks&&(e=e.filter((function(e){return t.maskBreaks(e.x)!==R}))),e}function ct(t){var e=t._mainAxis,n=[];if(e._vals)for(var r=0;r<e._vals.length;r++)if(!e._vals[r].noTick){var i=e.l2p(e._vals[r].x),a=t.p2l(i),o=X.tickText(t,a);e._vals[r].minor&&(o.minor=!0,o.text=""),n.push(o)}return lt(t,n)}function ut(t,e){var n=et(o.simpleMap(t.range,t.r2l)),r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a="category"===t.type?t.d2l_noadd:t.d2l;"log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1));for(var s=[],l=0;l<=1;l++)if((void 0===e||!(e&&l||!1===e&&!l))&&(!l||t.minor)){var c=l?t.minor.tickvals:t.tickvals,u=l?[]:t.ticktext;if(c){o.isArrayOrTypedArray(u)||(u=[]);for(var h=0;h<c.length;h++){var d=a(c[h]);if(d>r&&d<i){var f=X.tickText(t,d,!1,String(u[h]));l&&(f.minor=!0,f.text=""),s.push(f)}}}}return lt(t,s)}X.getDataToCoordFunc=function(t,e,n,r){return nt(t,e,n,r).d2c},X.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},X.minDtick=function(t,e,n,r){-1===["log","category","multicategory"].indexOf(t.type)&&r?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=n):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((n-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=n):((e/t._minDtick+1e-6)%1>2e-6||((n-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},X.saveRangeInitial=function(t,e){for(var n=X.list(t,"",!0),r=!1,i=0;i<n.length;i++){var a=n[i],o=void 0===a._rangeInitial0&&void 0===a._rangeInitial1,s=o||a.range[0]!==a._rangeInitial0||a.range[1]!==a._rangeInitial1,l=a.autorange;(o&&!0!==l||e&&s)&&(a._rangeInitial0="min"===l||"max reversed"===l?void 0:a.range[0],a._rangeInitial1="max"===l||"min reversed"===l?void 0:a.range[1],a._autorangeInitial=l,r=!0)}return r},X.saveShowSpikeInitial=function(t,e){for(var n=X.list(t,"",!0),r=!1,i="on",a=0;a<n.length;a++){var o=n[a],s=void 0===o._showSpikeInitial,l=s||o.showspikes!==o._showspikes;(s||e&&l)&&(o._showSpikeInitial=o.showspikes,r=!0),"on"===i&&!o.showspikes&&(i="off")}return t._fullLayout._cartesianSpikesEnabled=i,r},X.autoBin=function(t,e,n,i,a,s){var l,c=o.aggNums(Math.min,null,t),u=o.aggNums(Math.max,null,t);if("category"===e.type||"multicategory"===e.type)return{start:c-.5,end:u+.5,size:Math.max(1,Math.round(s)||1),_dataSpan:u-c};if(a||(a=e.calendar),l="log"===e.type?{type:"linear",range:[c,u]}:{type:e.type,range:o.simpleMap([c,u],e.c2r,0,a),calendar:a},X.setConvert(l),s=s&&g.dtick(s,l.type))l.dtick=s,l.tick0=g.tick0(void 0,l.type,a);else{var h;if(n)h=(u-c)/n;else{var d=o.distinctVals(t),f=Math.pow(10,Math.floor(Math.log(d.minDiff)/Math.LN10)),p=f*o.roundUp(d.minDiff/f,[.9,1.9,4.9,9.9],!0);h=Math.max(p,2*o.stdev(t)/Math.pow(t.length,i?.25:.4)),r(h)||(h=1)}X.autoTicks(l,h)}var m,v=l.dtick,y=X.tickIncrement(X.tickFirst(l),v,"reverse",a);if("number"==typeof v)y=function(t,e,n,i,a){var o=0,s=0,l=0,c=0;function u(e){return(1+100*(e-t)/n.dtick)%100<2}for(var h=0;h<e.length;h++)e[h]%1==0?l++:r(e[h])||c++,u(e[h])&&o++,u(e[h]+n.dtick/2)&&s++;var d=e.length-c;if(l===d&&"date"!==n.type)n.dtick<1?t=i-.5*n.dtick:(t-=.5)+n.dtick<i&&(t+=n.dtick);else if(s<.1*d&&(o>.3*d||u(i)||u(a))){var f=n.dtick/2;t+=t+f<i?f:-f}return t}(y,t,l,c,u),m=y+(1+Math.floor((u-y)/v))*v;else for("M"===l.dtick.charAt(0)&&(y=function(t,e,n,r,i){var a=o.findExactDates(e,i);if(a.exactDays>.8){var s=Number(n.substr(1));a.exactYears>.8&&s%12==0?t=X.tickIncrement(t,"M6","reverse")+1.5*C:a.exactMonths>.8?t=X.tickIncrement(t,"M1","reverse")+15.5*C:t-=S;var l=X.tickIncrement(t,n);if(l<=r)return l}return t}(y,t,v,c,a)),m=y;m<=u;)m=X.tickIncrement(m,v,!1,a);return{start:e.c2r(y,0,a),end:e.c2r(m,0,a),size:v,_dataSpan:u-c}},X.prepMinorTicks=function(t,e,n){if(!e.minor.dtick){delete t.dtick;var i,a=e.dtick&&r(e._tmin);if(a){var s=X.tickIncrement(e._tmin,e.dtick,!0);i=[e._tmin,.99*s+.01*e._tmin]}else{var l=o.simpleMap(e.range,e.r2l);i=[l[0],.8*l[0]+.2*l[1]]}if(t.range=o.simpleMap(i,e.l2r),t._isMinor=!0,X.prepTicks(t,n),a){var c=r(e.dtick),u=r(t.dtick),h=c?e.dtick:+e.dtick.substring(1),d=u?t.dtick:+t.dtick.substring(1);c&&u?at(h,d)?h===2*L&&d===2*C&&(t.dtick=L):h===2*L&&d===3*C?t.dtick=L:h!==L||(e._input.minor||{}).nticks?ot(h/d,2.5)?t.dtick=h/2:t.dtick=h:t.dtick=C:"M"===String(e.dtick).charAt(0)?u?t.dtick="M1":at(h,d)?h>=12&&2===d&&(t.dtick="M3"):t.dtick=e.dtick:"L"===String(t.dtick).charAt(0)?"L"===String(e.dtick).charAt(0)?at(h,d)||(t.dtick=ot(h/d,2.5)?e.dtick/2:e.dtick):t.dtick="D1":"D2"===t.dtick&&+e.dtick>1&&(t.dtick=1)}t.range=e.range}void 0===e.minor._tick0Init&&(t.tick0=e.tick0)},X.prepTicks=function(t,e){var n=o.simpleMap(t.range,t.r2l,void 0,void 0,e);if("auto"===t.tickmode||!t.dtick){var i,a=t.nticks;a||("category"===t.type||"multicategory"===t.type?(i=t.tickfont?o.bigFont(t.tickfont.size||12):15,a=t._length/i):(i="y"===t._id.charAt(0)?40:80,a=o.constrain(t._length/i,4,9)+1),"radialaxis"===t._name&&(a*=2)),t.minor&&"array"!==t.minor.tickmode||"array"===t.tickmode&&(a*=100),t._roughDTick=Math.abs(n[1]-n[0])/a,X.autoTicks(t,t._roughDTick),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}"period"===t.ticklabelmode&&function(t){var e;function n(){return!(r(t.dtick)||"M"!==t.dtick.charAt(0))}var i=n(),a=X.getTickFormat(t);if(a){var o=t._dtickInit!==t.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(e=P,o&&!i&&t.dtick<P&&(t.dtick=P)):/%p/.test(a)?(e=S,o&&!i&&t.dtick<S&&(t.dtick=S)):/%[Aadejuwx]/.test(a)?(e=C,o&&!i&&t.dtick<C&&(t.dtick=C)):/%[UVW]/.test(a)?(e=L,o&&!i&&t.dtick<L&&(t.dtick=L)):/%[Bbm]/.test(a)?(e=k,o&&(i?st(t.dtick)<1:t.dtick<A)&&(t.dtick="M1")):/%[q]/.test(a)?(e=w,o&&(i?st(t.dtick)<3:t.dtick<M)&&(t.dtick="M3")):/%[Yy]/.test(a)&&(e=_,o&&(i?st(t.dtick)<12:t.dtick<x)&&(t.dtick="M12")))}(i=n())&&t.tick0===t._dowTick0&&(t.tick0=t._rawTick0),t._definedDelta=e}(t),t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),"date"===t.type&&t.dtick<.1&&(t.dtick=.1),_t(t)},X.calcTicks=function(t,e){for(var n=t.type,i=t.calendar,a=t.ticklabelstep,s="period"===t.ticklabelmode,l=t.range[0]>t.range[1],c=!t.ticklabelindex||o.isArrayOrTypedArray(t.ticklabelindex)?t.ticklabelindex:[t.ticklabelindex],u=o.simpleMap(t.range,t.r2l,void 0,void 0,e),h=u[1]<u[0],d=Math.min(u[0],u[1]),f=Math.max(u[0],u[1]),p=Math.max(1e3,t._length||0),m=[],g=[],v=[],E=[],N=[],F=t.minor&&(t.minor.ticks||t.minor.showgrid),j=1;j>=(F?0:1);j--){var B=!j;j?(t._dtickInit=t.dtick,t._tick0Init=t.tick0):(t.minor._dtickInit=t.minor.dtick,t.minor._tick0Init=t.minor.tick0);var H=j?t:o.extendFlat({},t,t.minor);if(B?X.prepMinorTicks(H,t,e):X.prepTicks(H,e),"array"!==H.tickmode)if("sync"!==H.tickmode){var U=et(u),Z=U[0],V=U[1],Y=r(H.dtick),W="log"===n&&!(Y||"L"===H.dtick.charAt(0)),G=X.tickFirst(H,e);if(j){if(t._tmin=G,G<Z!==h)break;("category"===n||"multicategory"===n)&&(V=h?Math.max(-.5,V):Math.min(t._categories.length-.5,V))}var q,J,K=null,$=G;j&&(Y?J=t.dtick:"date"===n?"string"==typeof t.dtick&&"M"===t.dtick.charAt(0)&&(J=k*t.dtick.substring(1)):J=t._roughDTick,q=Math.round((t.r2l($)-t.r2l(t.tick0))/J)-1);var Q=H.dtick;for(H.rangebreaks&&H._tick0Init!==H.tick0&&($=Bt($,t),h||($=X.tickIncrement($,Q,!h,i))),j&&s&&($=X.tickIncrement($,Q,!h,i),q--);h?$>=V:$<=V;$=X.tickIncrement($,Q,h,i)){if(j&&q++,H.rangebreaks&&!h){if($<Z)continue;if(H.maskBreaks($)===R&&Bt($,H)>=f)break}if(v.length>p||$===K)break;K=$;var tt={value:$};j?(W&&$!==(0|$)&&(tt.simpleLabel=!0),a>1&&q%a&&(tt.skipLabel=!0),v.push(tt)):(tt.minor=!0,E.push(tt))}}else v=[],m=ct(t);else j?(v=[],m=ut(t,!B)):(E=[],g=ut(t,!B))}var nt;if(!E||E.length<2?c=!1:function(t,e){return/%f/.test(e)?t>=z:/%L/.test(e)?t>=I:/%[SX]/.test(e)?t>=O:/%M/.test(e)?t>=D:/%[HI]/.test(e)?t>=P:/%p/.test(e)?t>=S:/%[Aadejuwx]/.test(e)?t>=C:/%[UVW]/.test(e)?t>=L:/%[Bbm]/.test(e)?t>=A:/%[q]/.test(e)?t>=M:!/%[Yy]/.test(e)||t>=x}((E[1].value-E[0].value)*(l?-1:1),t.tickformat)||(c=!1),c){var rt=v.concat(E);s&&v.length&&(rt=rt.slice(1)),(rt=rt.sort((function(t,e){return t.value-e.value})).filter((function(t,e,n){return 0===e||t.value!==n[e-1].value}))).map((function(t,e){return void 0!==t.minor||t.skipLabel?null:e})).filter((function(t){return null!==t})).forEach((function(t){c.map((function(e){var n=t+e;n>=0&&n<rt.length&&o.pushUnique(N,rt[n])}))}))}else N=v;if(F&&!("inside"===t.minor.ticks&&"outside"===t.ticks||"outside"===t.minor.ticks&&"inside"===t.ticks)){for(var it=v.map((function(t){return t.value})),at=[],ot=0;ot<E.length;ot++){var st=E[ot],lt=st.value;if(-1===it.indexOf(lt)){for(var ht=!1,dt=0;!ht&&dt<v.length;dt++)1e7+v[dt].value===1e7+lt&&(ht=!0);ht||at.push(st)}}E=at}if(s&&function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r].value,a=r,o=r+1;r<t.length-1?(a=r,o=r+1):r>0?(a=r-1,o=r):(a=r,o=r);var s,l=t[a].value,c=t[o].value,u=Math.abs(c-l),h=n||u,d=0;h>=x?d=u>=x&&u<=y?u:_:n===w&&h>=M?d=u>=M&&u<=b?u:w:h>=A?d=u>=A&&u<=T?u:k:n===L&&h>=L?d=L:h>=C?d=C:n===S&&h>=S?d=S:n===P&&h>=P&&(d=P),d>=u&&(d=u,s=!0);var f=i+d;if(e.rangebreaks&&d>0){for(var p=0,m=0;m<84;m++){var g=(m+.5)/84;e.maskBreaks(i*(1-g)+g*f)!==R&&p++}(d*=p/84)||(t[r].drop=!0),s&&u>L&&(d=u)}(d>0||0===r)&&(t[r].periodX=i+d/2)}}(N,t,t._definedDelta),t.rangebreaks){var ft="y"===t._id.charAt(0),pt=1;"auto"===t.tickmode&&(pt=t.tickfont?t.tickfont.size:12);var mt=NaN;for(nt=v.length-1;nt>-1;nt--)if(v[nt].drop)v.splice(nt,1);else{v[nt].value=Bt(v[nt].value,t);var gt=t.c2p(v[nt].value);(ft?mt>gt-pt:mt<gt+pt)?v.splice(h?nt+1:nt,1):mt=gt}}jt(t)&&360===Math.abs(u[1]-u[0])&&v.pop(),t._tmax=(v[v.length-1]||{}).value,t._prevDateHead="",t._inCalcTicks=!0;var vt,yt,_t=function(e){e.text="",t._prevDateHead=vt};function xt(t,e){var n=X.tickText(t,e.value,!1,e.simpleLabel),r=e.periodX;return void 0!==r&&(n.periodX=r,(r>f||r<d)&&(r>f&&(n.periodX=f),r<d&&(n.periodX=d),_t(n))),n}for(v=v.concat(E),nt=0;nt<v.length;nt++){var bt=v[nt].minor,wt=v[nt].value;bt?((yt=c&&-1!==N.indexOf(v[nt])?xt(t,v[nt]):{x:wt}).minor=!0,g.push(yt)):(vt=t._prevDateHead,yt=xt(t,v[nt]),(v[nt].skipLabel||c&&-1===N.indexOf(v[nt]))&&_t(yt),m.push(yt))}return m=m.concat(g),t._inCalcTicks=!1,s&&m.length&&(m[0].noTick=!0),m};var ht=[2,5,10],dt=[1,2,3,6,12],ft=[1,2,5,10,15,30],pt=[1,2,3,7,14],mt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],gt=[-.301,0,.301,.699,1],vt=[15,30,45,90,180];function yt(t,e,n){return e*o.roundUp(t/e,n)}function _t(t){var e=t.dtick;if(t._tickexponent=0,!r(e)&&"string"!=typeof e&&(e=1),("category"===t.type||"multicategory"===t.type)&&(t._tickround=null),"date"===t.type){var n=t.r2l(t.tick0),i=t.l2r(n).replace(/(^-|i)/g,""),a=i.length;if("M"===String(e).charAt(0))a>10||"01-01"!==i.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12==0?"y":"m";else if(e>=C&&a<=10||e>=15*C)t._tickround="d";else if(e>=D&&a<=16||e>=P)t._tickround="M";else if(e>=O&&a<=19||e>=D)t._tickround="S";else{var o=t.l2r(n+e).replace(/^-/,"").length;t._tickround=Math.max(a,o)-20,t._tickround<0&&(t._tickround=4)}}else if(r(e)||"L"===e.charAt(0)){var s=t.range.map(t.r2d||Number);r(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var l=Math.max(Math.abs(s[0]),Math.abs(s[1])),c=Math.floor(Math.log(l)/Math.LN10+.01),u=void 0===t.minexponent?3:t.minexponent;Math.abs(c)>u&&(wt(t.exponentformat)&&!Mt(c)?t._tickexponent=3*Math.round((c-1)/3):t._tickexponent=c)}else t._tickround=null}function xt(t,e,n){var r=t.tickfont||{};return{x:e,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontWeight:r.weight,fontStyle:r.style,fontVariant:r.variant,fontTextcase:r.textcase,fontLineposition:r.lineposition,fontShadow:r.shadow,fontColor:r.color}}X.autoTicks=function(t,e,n){var i;function a(t){return Math.pow(t,Math.floor(Math.log(e)/Math.LN10))}if("date"===t.type){t.tick0=o.dateTick0(t.calendar,0);var s=2*e;if(s>_)e/=_,i=a(10),t.dtick="M"+12*yt(e,i,ht);else if(s>k)e/=k,t.dtick="M"+yt(e,1,dt);else if(s>C){if(t.dtick=yt(e,C,t._hasDayOfWeekBreaks?[1,2,7,14]:pt),!n){var l=X.getTickFormat(t),c="period"===t.ticklabelmode;c&&(t._rawTick0=t.tick0),/%[uVW]/.test(l)?t.tick0=o.dateTick0(t.calendar,2):t.tick0=o.dateTick0(t.calendar,1),c&&(t._dowTick0=t.tick0)}}else s>P?t.dtick=yt(e,P,dt):s>D?t.dtick=yt(e,D,ft):s>O?t.dtick=yt(e,O,ft):(i=a(10),t.dtick=yt(e,i,ht))}else if("log"===t.type){t.tick0=0;var u=o.simpleMap(t.range,t.r2l);if(t._isMinor&&(e*=1.5),e>.7)t.dtick=Math.ceil(e);else if(Math.abs(u[1]-u[0])<1){var h=1.5*Math.abs((u[1]-u[0])/e);e=Math.abs(Math.pow(10,u[1])-Math.pow(10,u[0]))/h,i=a(10),t.dtick="L"+yt(e,i,ht)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type||"multicategory"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):jt(t)?(t.tick0=0,i=1,t.dtick=yt(e,i,vt)):(t.tick0=0,i=a(10),t.dtick=yt(e,i,ht));if(0===t.dtick&&(t.dtick=1),!r(t.dtick)&&"string"!=typeof t.dtick){var d=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(d)}},X.tickIncrement=function(t,e,i,a){var s=i?-1:1;if(r(e))return o.increment(t,s*e);var l=e.charAt(0),c=s*Number(e.substr(1));if("M"===l)return o.incrementMonth(t,c,a);if("L"===l)return Math.log(Math.pow(10,t)+c)/Math.LN10;if("D"===l){var u="D2"===e?gt:mt,h=t+.01*s,d=o.roundUp(o.mod(h,1),u,i);return Math.floor(h)+Math.log(n.round(Math.pow(10,d),1))/Math.LN10}throw"unrecognized dtick "+String(e)},X.tickFirst=function(t,e){var i=t.r2l||Number,a=o.simpleMap(t.range,i,void 0,void 0,e),s=a[1]<a[0],l=s?Math.floor:Math.ceil,c=et(a)[0],u=t.dtick,h=i(t.tick0);if(r(u)){var d=l((c-h)/u)*u+h;return("category"===t.type||"multicategory"===t.type)&&(d=o.constrain(d,0,t._categories.length-1)),d}var f=u.charAt(0),p=Number(u.substr(1));if("M"===f){for(var m,g,v,y=0,_=h;y<10;){if(((m=X.tickIncrement(_,u,s,t.calendar))-c)*(_-c)<=0)return s?Math.min(_,m):Math.max(_,m);g=(c-(_+m)/2)/(m-_),v=f+(Math.abs(Math.round(g))||1)*p,_=X.tickIncrement(_,v,g<0?!s:s,t.calendar),y++}return o.error("tickFirst did not converge",t),_}if("L"===f)return Math.log(l((Math.pow(10,c)-h)/p)*p+h)/Math.LN10;if("D"===f){var x="D2"===u?gt:mt,b=o.roundUp(o.mod(c,1),x,s);return Math.floor(c)+Math.log(n.round(Math.pow(10,b),1))/Math.LN10}throw"unrecognized dtick "+String(u)},X.tickText=function(t,e,n,i){var a,s=xt(t,e),l="array"===t.tickmode,c=n||l,u=t.type,h="category"===u?t.d2l_noadd:t.d2l,d=function(e){var n=t.l2p(e);return n>=0&&n<=t._length?e:null};if(l&&o.isArrayOrTypedArray(t.ticktext)){var f=o.simpleMap(t.range,t.r2l),p=(Math.abs(f[1]-f[0])-(t._lBreaks||0))/1e4;for(a=0;a<t.ticktext.length&&!(Math.abs(e-h(t.tickvals[a]))<p);a++);if(a<t.ticktext.length)return s.text=String(t.ticktext[a]),s.xbnd=[d(s.x-.5),d(s.x+t.dtick-.5)],s}function m(r){if(void 0===r)return!0;if(n)return"none"===r;var i={first:t._tmin,last:t._tmax}[r];return"all"!==r&&e!==i}var g=n?"never":"none"!==t.exponentformat&&m(t.showexponent)?"hide":"";if("date"===u?function(t,e,n,i){var a=t._tickround,s=n&&t.hoverformat||X.getTickFormat(t);(i=!s&&i)&&(a=r(a)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[a]);var l,c=o.formatDate(e.x,s,a,t._dateFormat,t.calendar,t._extraFormat),u=c.indexOf("\n");if(-1!==u&&(l=c.substr(u+1),c=c.substr(0,u)),i&&(void 0===l||"00:00:00"!==c&&"00:00"!==c?8===c.length&&(c=c.replace(/:00$/,"")):(c=l,l="")),l)if(n)"d"===a?c+=", "+l:c=l+(c?", "+c:"");else if(t._inCalcTicks&&t._prevDateHead===l){var h=Ht(t),d=t._trueSide||t.side;(!h&&"top"===d||h&&"bottom"===d)&&(c+="<br> ")}else t._prevDateHead=l,c+="<br>"+l;e.text=c}(t,s,n,c):"log"===u?function(t,e,n,i,a){var s=t.dtick,l=e.x,c=t.tickformat,u="string"==typeof s&&s.charAt(0);if("never"===a&&(a=""),i&&"L"!==u&&(s="L3",u="L"),c||"L"===u)e.text=Tt(Math.pow(10,l),t,a,i);else if(r(s)||"D"===u&&o.mod(l+.01,1)<.1){var h=Math.round(l),d=Math.abs(h),f=t.exponentformat;"power"===f||wt(f)&&Mt(h)?(e.text=0===h?1:1===h?"10":"10<sup>"+(h>1?"":N)+d+"</sup>",e.fontSize*=1.25):("e"===f||"E"===f)&&d>2?e.text="1"+f+(h>0?"+":N)+d:(e.text=Tt(Math.pow(10,l),t,"","fakehover"),"D1"===s&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==u)throw"unrecognized dtick "+String(s);e.text=String(Math.round(Math.pow(10,o.mod(l,1)))),e.fontSize*=.75}if("D1"===t.dtick){var p=String(e.text).charAt(0);("0"===p||"1"===p)&&("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(l<0?.5:.25)))}}(t,s,0,c,g):"category"===u?function(t,e){var n=t._categories[Math.round(e.x)];void 0===n&&(n=""),e.text=String(n)}(t,s):"multicategory"===u?function(t,e,n){var r=Math.round(e.x),i=t._categories[r]||[],a=void 0===i[1]?"":String(i[1]),o=void 0===i[0]?"":String(i[0]);n?e.text=o+" - "+a:(e.text=a,e.text2=o)}(t,s,n):jt(t)?function(t,e,n,r,i){if("radians"!==t.thetaunit||n)e.text=Tt(e.x,t,i,r);else{var a=e.x/180;if(0===a)e.text="0";else{var s=function(t){function e(t,e){return Math.abs(t-e)<=1e-6}var n=function(t){for(var n=1;!e(Math.round(t*n)/n,t);)n*=10;return n}(t),r=t*n,i=Math.abs(function t(n,r){return e(r,0)?n:t(r,n%r)}(r,n));return[Math.round(r/i),Math.round(n/i)]}(a);if(s[1]>=100)e.text=Tt(o.deg2rad(e.x),t,i,r);else{var l=e.x<0;1===s[1]?1===s[0]?e.text="π":e.text=s[0]+"π":e.text=["<sup>",s[0],"</sup>","⁄","<sub>",s[1],"</sub>","π"].join(""),l&&(e.text=N+e.text)}}}}(t,s,n,c,g):function(t,e,n,r,i){"never"===i?i="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(i="hide"),e.text=Tt(e.x,t,i,r)}(t,s,0,c,g),i||(t.tickprefix&&!m(t.showtickprefix)&&(s.text=t.tickprefix+s.text),t.ticksuffix&&!m(t.showticksuffix)&&(s.text+=t.ticksuffix)),t.labelalias&&t.labelalias.hasOwnProperty(s.text)){var v=t.labelalias[s.text];"string"==typeof v&&(s.text=v)}return("boundaries"===t.tickson||t.showdividers)&&(s.xbnd=[d(s.x-.5),d(s.x+t.dtick-.5)]),s},X.hoverLabelText=function(t,e,n){n&&(t=o.extendFlat({},t,{hoverformat:n}));var r=o.isArrayOrTypedArray(e)?e[0]:e,i=o.isArrayOrTypedArray(e)?e[1]:void 0;if(void 0!==i&&i!==r)return X.hoverLabelText(t,r,n)+" - "+X.hoverLabelText(t,i,n);var a="log"===t.type&&r<=0,s=X.tickText(t,t.c2l(a?-r:r),"hover").text;return a?0===r?"0":N+s:s};var bt=["f","p","n","μ","m","","k","M","G","T"];function wt(t){return"SI"===t||"B"===t}function Mt(t){return t>14||t<-15}function Tt(t,e,n,i){var a=t<0,s=e._tickround,l=n||e.exponentformat||"B",c=e._tickexponent,u=X.getTickFormat(e),h=e.separatethousands;if(i){var d={exponentformat:l,minexponent:e.minexponent,dtick:"none"===e.showexponent?e.dtick:r(t)&&Math.abs(t)||1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};_t(d),s=(Number(d._tickround)||0)+4,c=d._tickexponent,e.hoverformat&&(u=e.hoverformat)}if(u)return e._numFormat(u)(t).replace(/-/g,N);var f,p=Math.pow(10,-s)/2;if("none"===l&&(c=0),(t=Math.abs(t))<p)t="0",a=!1;else{if(t+=p,c&&(t*=Math.pow(10,-c),s+=c),0===s)t=String(Math.floor(t));else if(s<0){t=(t=String(Math.round(t))).substr(0,t.length+s);for(var m=s;m<0;m++)t+="0"}else{var g=(t=String(t)).indexOf(".")+1;g&&(t=t.substr(0,g+s).replace(/\.?0+$/,""))}t=o.numSeparate(t,e._separators,h)}return c&&"hide"!==l&&(wt(l)&&Mt(c)&&(l="power"),f=c<0?N+-c:"power"!==l?"+"+c:String(c),"e"===l||"E"===l?t+=l+f:"power"===l?t+="×10<sup>"+f+"</sup>":"B"===l&&9===c?t+="B":wt(l)&&(t+=bt[c/3+5])),a?N+t:t}function kt(t,e){if(t){var n=Object.keys(Z).reduce((function(t,n){return-1!==e.indexOf(n)&&Z[n].forEach((function(e){t[e]=1})),t}),{});Object.keys(t).forEach((function(e){n[e]||(1===e.length?t[e]=0:delete t[e])}))}}function At(t,e){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i];r[a.text2]?r[a.text2].push(a.x):r[a.text2]=[a.x]}for(var s in r)n.push(xt(t,o.interp(r[s],.5),s));return n}function Lt(t){return void 0!==t.periodX?t.periodX:t.x}function Ct(t){return[t.text,t.x,t.axInfo,t.font,t.fontSize,t.fontColor].join("_")}function St(t){var e=t.title.font.size,n=(t.title.text.match(c.BR_TAG_ALL)||[]).length;return t.title.hasOwnProperty("standoff")?e*(W+n*G):n?e*(n+1)*G:e}function Pt(t,e){var n=t.l2p(e);return n>1&&n<t._length-1}function Dt(t){var e=n.select(t),r=e.select(".text-math-group");return r.empty()?e.select("text"):r}function Ot(t){return t._id+".automargin"}function It(t){return Ot(t)+".mirror"}function zt(t){return t._id+".rangeslider"}function Nt(t,e){for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n])}function Rt(t,e,n){var r,i,a=[],s=[],l=t.layout;for(r=0;r<e.length;r++)a.push(X.getFromId(t,e[r]));for(r=0;r<n.length;r++)s.push(X.getFromId(t,n[r]));var c=Object.keys(m),u=["anchor","domain","overlaying","position","side","tickangle","editType"],h=["linear","log"];for(r=0;r<c.length;r++){var d=c[r],f=a[0][d],p=s[0][d],g=!0,v=!1,y=!1;if("_"!==d.charAt(0)&&"function"!=typeof f&&-1===u.indexOf(d)){for(i=1;i<a.length&&g;i++){var _=a[i][d];"type"===d&&-1!==h.indexOf(f)&&-1!==h.indexOf(_)&&f!==_?v=!0:_!==f&&(g=!1)}for(i=1;i<s.length&&g;i++){var x=s[i][d];"type"===d&&-1!==h.indexOf(p)&&-1!==h.indexOf(x)&&p!==x?y=!0:s[i][d]!==p&&(g=!1)}g&&(v&&(l[a[0]._name].type="linear"),y&&(l[s[0]._name].type="linear"),Ft(l,d,a,s,t._fullLayout._dfltTitle))}}for(r=0;r<t._fullLayout.annotations.length;r++){var b=t._fullLayout.annotations[r];-1!==e.indexOf(b.xref)&&-1!==n.indexOf(b.yref)&&o.swapAttrs(l.annotations[r],["?"])}}function Ft(t,e,n,r,i){var a,s=o.nestedProperty,l=s(t[n[0]._name],e).get(),c=s(t[r[0]._name],e).get();for("title"===e&&(l&&l.text===i.x&&(l.text=i.y),c&&c.text===i.y&&(c.text=i.x)),a=0;a<n.length;a++)s(t,n[a]._name+"."+e).set(c);for(a=0;a<r.length;a++)s(t,r[a]._name+"."+e).set(l)}function jt(t){return"angularaxis"===t._id}function Bt(t,e){for(var n=e._rangebreaks.length,r=0;r<n;r++){var i=e._rangebreaks[r];if(t>=i.min&&t<i.max)return i.max}return t}function Ht(t){return-1!==(t.ticklabelposition||"").indexOf("inside")}function Ut(t,e){Ht(t._anchorAxis||{})&&t._hideCounterAxisInsideTickLabels&&t._hideCounterAxisInsideTickLabels(e)}function Zt(t,e,n,r){var i,a="free"===t.anchor||void 0!==t.overlaying&&!1!==t.overlaying?t.overlaying:t._id;i=r?"right"===t.side?e:-e:e,a in n||(n[a]={}),t.side in n[a]||(n[a][t.side]=0),n[a][t.side]+=i}X.getTickFormat=function(t){var e,n,r,i,a,o,s,l;function c(t){return"string"!=typeof t?t:Number(t.replace("M",""))*k}function u(t,e){var n=["L","D"];if(typeof t==typeof e){if("number"==typeof t)return t-e;var r=n.indexOf(t.charAt(0)),i=n.indexOf(e.charAt(0));return r===i?Number(t.replace(/(L|D)/g,""))-Number(e.replace(/(L|D)/g,"")):r-i}return"number"==typeof t?1:-1}function h(t,e){var n=null===e[0],r=null===e[1],i=u(t,e[0])>=0,a=u(t,e[1])<=0;return(n||i)&&(r||a)}if(t.tickformatstops&&t.tickformatstops.length>0)switch(t.type){case"date":case"linear":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&(i=t.dtick,o=void 0,void 0,void 0,o=c||function(t){return t},s=(a=r.dtickrange)[0],l=a[1],(!s&&"number"!=typeof s||o(s)<=o(i))&&(!l&&"number"!=typeof l||o(l)>=o(i)))){n=r;break}break;case"log":for(e=0;e<t.tickformatstops.length;e++)if((r=t.tickformatstops[e]).enabled&&h(t.dtick,r.dtickrange)){n=r;break}}return n?n.value:t.tickformat},X.getSubplots=function(t,e){var n=t._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=e?X.findSubplotsWithAxis(r,e):r;return i.sort((function(t,e){var n=t.substr(1).split("y"),r=e.substr(1).split("y");return n[0]===r[0]?+n[1]-+r[1]:+n[0]-+r[0]})),i},X.findSubplotsWithAxis=function(t,e){for(var n=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),r=[],i=0;i<t.length;i++){var a=t[i];n.test(a)&&r.push(a)}return r},X.makeClipPaths=function(t){var e=t._fullLayout;if(!e._hasOnlyLargeSploms){var r,i,a={_offset:0,_length:e.width,_id:""},o={_offset:0,_length:e.height,_id:""},s=X.list(t,"x",!0),l=X.list(t,"y",!0),c=[];for(r=0;r<s.length;r++)for(c.push({x:s[r],y:o}),i=0;i<l.length;i++)0===r&&c.push({x:a,y:l[i]}),c.push({x:s[r],y:l[i]});var u=e._clips.selectAll(".axesclip").data(c,(function(t){return t.x._id+t.y._id}));u.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(t){return"clip"+e._uid+t.x._id+t.y._id})).append("rect"),u.exit().remove(),u.each((function(t){n.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})}))}},X.draw=function(t,e,n){var r=t._fullLayout;"redraw"===e&&r._paper.selectAll("g.subplot").each((function(t){var e=t[0],n=r._plots[e];if(n){var i=n.xaxis,a=n.yaxis;n.xaxislayer.selectAll("."+i._id+"tick").remove(),n.yaxislayer.selectAll("."+a._id+"tick").remove(),n.xaxislayer.selectAll("."+i._id+"tick2").remove(),n.yaxislayer.selectAll("."+a._id+"tick2").remove(),n.xaxislayer.selectAll("."+i._id+"divider").remove(),n.yaxislayer.selectAll("."+a._id+"divider").remove(),n.minorGridlayer&&n.minorGridlayer.selectAll("path").remove(),n.gridlayer&&n.gridlayer.selectAll("path").remove(),n.zerolinelayer&&n.zerolinelayer.selectAll("path").remove(),r._infolayer.select(".g-"+i._id+"title").remove(),r._infolayer.select(".g-"+a._id+"title").remove()}}));var i=e&&"redraw"!==e?e:X.listIds(t),a=X.list(t).filter((function(t){return t.autoshift})).map((function(t){return t.overlaying}));i.map((function(e){var n=X.getFromId(t,e);if("sync"===n.tickmode&&n.overlaying){var r=i.findIndex((function(t){return t===n.overlaying}));r>=0&&i.unshift(i.splice(r,1).shift())}}));var s={false:{left:0,right:0}};return o.syncOrAsync(i.map((function(e){return function(){if(e){var r=X.getFromId(t,e);n||(n={}),n.axShifts=s,n.overlayingShiftedAx=a;var i=X.drawOne(t,r,n);return r._shiftPusher&&Zt(r,r._fullDepth||0,s,!0),r._r=r.range.slice(),r._rl=o.simpleMap(r._r,r.r2l),i}}})))},X.drawOne=function(t,e,n){var r,s,l,f=(n=n||{}).axShifts||{},p=n.overlayingShiftedAx||[];e.setScale();var m=t._fullLayout,g=e._id,v=g.charAt(0),y=X.counterLetter(g),_=m._plots[e._mainSubplot];if(_){if(e._shiftPusher=e.autoshift||-1!==p.indexOf(e._id)||-1!==p.indexOf(e.overlaying),e._shiftPusher&"free"===e.anchor){var x=e.linewidth/2||0;"inside"===e.ticks&&(x+=e.ticklen),Zt(e,x,f,!0),Zt(e,e.shift||0,f,!1)}(!0!==n.skipTitle||void 0===e._shift)&&(e._shift=function(t,e){return t.autoshift?e[t.overlaying][t.side]:t.shift||0}(e,f));var b=_[v+"axislayer"],w=e._mainLinePosition,M=w+=e._shift,T=e._mainMirrorPosition,k=e._vals=X.calcTicks(e),A=[e.mirror,M,T].join("_");for(r=0;r<k.length;r++)k[r].axInfo=A;e._selections={},e._tickAngles&&(e._prevTickAngles=e._tickAngles),e._tickAngles={},e._depth=null;var L={};if(e.visible){var C,S,P=X.makeTransTickFn(e),D=X.makeTransTickLabelFn(e),O="inside"===e.ticks,E="outside"===e.ticks;if("boundaries"===e.tickson){var I=function(t,e){var n,r=[],i=function(t,e){var n=t.xbnd[e];null!==n&&r.push(o.extendFlat({},t,{x:n}))};if(e.length){for(n=0;n<e.length;n++)i(e[n],0);i(e[n-1],1)}return r}(0,k);S=X.clipEnds(e,I),C=O?S:I}else S=X.clipEnds(e,k),C=O&&"period"!==e.ticklabelmode?S:k;var z=e._gridVals=S,N=function(t,e){var n,r,i=[],a=e.length&&e[e.length-1].x<e[0].x,s=function(t,e){var n=t.xbnd[e];null!==n&&i.push(o.extendFlat({},t,{x:n}))};if(t.showdividers&&e.length){for(n=0;n<e.length;n++){var l=e[n];l.text2!==r&&s(l,a?1:0),r=l.text2}s(e[n-1],a?0:1)}return i}(e,k);if(!m._hasOnlyLargeSploms){var R=e._subplotsWith,F={};for(r=0;r<R.length;r++){s=R[r];var j=(l=m._plots[s])[y+"axis"],B=j._mainAxis._id;if(!F[B]){F[B]=1;var H="x"===v?"M0,"+j._offset+"v"+j._length:"M"+j._offset+",0h"+j._length;X.drawGrid(t,e,{vals:z,counterAxis:j,layer:l.gridlayer.select("."+g),minorLayer:l.minorGridlayer.select("."+g),path:H,transFn:P}),X.drawZeroLine(t,e,{counterAxis:j,layer:l.zerolinelayer,path:H,transFn:P})}}}var U,Z=X.getTickSigns(e),V=X.getTickSigns(e,"minor");if(e.ticks||e.minor&&e.minor.ticks){var J,K,$,Q,tt=X.makeTickPath(e,M,Z[2]),et=X.makeTickPath(e,M,V[2],{minor:!0});if(e._anchorAxis&&e.mirror&&!0!==e.mirror?(J=X.makeTickPath(e,T,Z[3]),K=X.makeTickPath(e,T,V[3],{minor:!0}),$=tt+J,Q=et+K):(J="",K="",$=tt,Q=et),e.showdividers&&E&&"boundaries"===e.tickson){var nt={};for(r=0;r<N.length;r++)nt[N[r].x]=1;U=function(t){return nt[t.x]?J:$}}else U=function(t){return t.minor?Q:$}}if(X.drawTicks(t,e,{vals:C,layer:b,path:U,transFn:P}),"allticks"===e.mirror){var rt=Object.keys(e._linepositions||{});for(r=0;r<rt.length;r++){s=rt[r],l=m._plots[s];var it=e._linepositions[s]||[],at=it[0],ot=it[1],st=it[2],lt=X.makeTickPath(e,at,st?Z[0]:V[0],{minor:st})+X.makeTickPath(e,ot,st?Z[1]:V[1],{minor:st});X.drawTicks(t,e,{vals:C,layer:l[v+"axislayer"],path:lt,transFn:P})}}var ct=[];if(ct.push((function(){return X.drawLabels(t,e,{vals:k,layer:b,plotinfo:l,transFn:D,labelFns:X.makeLabelFns(e,M)})})),"multicategory"===e.type){var ut={x:2,y:10}[v];ct.push((function(){var n={x:"height",y:"width"}[v],r=dt()[n]+ut+(e._tickAngles[g+"tick"]?e.tickfont.size*G:0);return X.drawLabels(t,e,{vals:At(e,k),layer:b,cls:g+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:P,labelFns:X.makeLabelFns(e,M+r*Z[4])})})),ct.push((function(){return e._depth=Z[4]*(dt("tick2")[e.side]-M),function(t,e,n){var r=e._id+"divider",i=n.vals,a=n.layer.selectAll("path."+r).data(i,Ct);a.exit().remove(),a.enter().insert("path",":first-child").classed(r,1).classed("crisp",1).call(h.stroke,e.dividercolor).style("stroke-width",d.crispRound(t,e.dividerwidth,1)+"px"),a.attr("transform",n.transFn).attr("d",n.path)}(t,e,{vals:N,layer:b,path:X.makeTickPath(e,M,Z[4],{len:e._depth}),transFn:P})}))}else e.title.hasOwnProperty("standoff")&&ct.push((function(){e._depth=Z[4]*(dt()[e.side]-M)}));var ht=a.getComponentMethod("rangeslider","isVisible")(e);return!n.skipTitle&&!(ht&&"bottom"===e.side)&&ct.push((function(){return function(t,e){var n,r=t._fullLayout,i=e._id,a=i.charAt(0),o=e.title.font.size,s=(e.title.text.match(c.BR_TAG_ALL)||[]).length;if(e.title.hasOwnProperty("standoff"))"bottom"===e.side||"right"===e.side?n=e._depth+e.title.standoff+o*W:("top"===e.side||"left"===e.side)&&(n=e._depth+e.title.standoff+o*(Y+s*G));else{var l=Ht(e);if("multicategory"===e.type)n=e._depth;else{var h=1.5*o;l&&(h=.5*o,"outside"===e.ticks&&(h+=e.ticklen)),n=10+h+(e.linewidth?e.linewidth-1:0)}l||(n+="x"===a?"top"===e.side?o*(e.showticklabels?1:0):o*(e.showticklabels?1.5:.5):"right"===e.side?o*(e.showticklabels?1:.5):o*(e.showticklabels?.5:0))}var f,p,m,g,v=X.getPxPosition(t,e);if("x"===a?(p=e._offset+e._length/2,m="top"===e.side?v-n:v+n):(m=e._offset+e._length/2,p="right"===e.side?v+n:v-n,f={rotate:"-90",offset:0}),"multicategory"!==e.type){var y=e._selections[e._id+"tick"];if(g={selection:y,side:e.side},y&&y.node()&&y.node().parentNode){var _=d.getTranslate(y.node().parentNode);g.offsetLeft=_.x,g.offsetTop=_.y}e.title.hasOwnProperty("standoff")&&(g.pad=0)}return e._titleStandoff=n,u.draw(t,i+"title",{propContainer:e,propName:e._name+".title.text",placeholder:r._dfltTitle[a],avoid:g,transform:f,attributes:{x:p,y:m,"text-anchor":"middle"}})}(t,e)})),ct.push((function(){var n,r,o,s,l=e.side.charAt(0),c=q[e.side].charAt(0),u=X.getPxPosition(t,e),h=E?e.ticklen:0;(e.automargin||ht||e._shiftPusher)&&("multicategory"===e.type?n=dt("tick2"):(n=dt(),"x"===v&&"b"===l&&(e._depth=Math.max(n.width>0?n.bottom-u:0,h))));var d=0,f=0;if(e._shiftPusher&&(d=Math.max(h,n.height>0?"l"===l?u-n.left:n.right-u:0),e.title.text!==m._dfltTitle[v]&&(f=(e._titleStandoff||0)+(e._titleScoot||0),"l"===l&&(f+=St(e))),e._fullDepth=Math.max(d,f)),e.automargin){r={x:0,y:0,r:0,l:0,t:0,b:0};var p=[0,1],g="number"==typeof e._shift?e._shift:0;if("x"===v){if("b"===l?r[l]=e._depth:(r[l]=e._depth=Math.max(n.width>0?u-n.top:0,h),p.reverse()),n.width>0){var _=n.right-(e._offset+e._length);_>0&&(r.xr=1,r.r=_);var x=e._offset-n.left;x>0&&(r.xl=0,r.l=x)}}else if("l"===l?(e._depth=Math.max(n.height>0?u-n.left:0,h),r[l]=e._depth-g):(e._depth=Math.max(n.height>0?n.right-u:0,h),r[l]=e._depth+g,p.reverse()),n.height>0){var b=n.bottom-(e._offset+e._length);b>0&&(r.yb=0,r.b=b);var w=e._offset-n.top;w>0&&(r.yt=1,r.t=w)}r[y]="free"===e.anchor?e.position:e._anchorAxis.domain[p[0]],e.title.text!==m._dfltTitle[v]&&(r[l]+=St(e)+(e.title.standoff||0)),e.mirror&&"free"!==e.anchor&&((o={x:0,y:0,r:0,l:0,t:0,b:0})[c]=e.linewidth,e.mirror&&!0!==e.mirror&&(o[c]+=h),!0===e.mirror||"ticks"===e.mirror?o[y]=e._anchorAxis.domain[p[1]]:("all"===e.mirror||"allticks"===e.mirror)&&(o[y]=[e._counterDomainMin,e._counterDomainMax][p[1]]))}ht&&(s=a.getComponentMethod("rangeslider","autoMarginOpts")(t,e)),"string"==typeof e.automargin&&(kt(r,e.automargin),kt(o,e.automargin)),i.autoMargin(t,Ot(e),r),i.autoMargin(t,It(e),o),i.autoMargin(t,zt(e),s)})),o.syncOrAsync(ct)}}function dt(t){var n=g+(t||"tick");return L[n]||(L[n]=function(t,e,n){var r,i,a,o;if(t._selections[e].size())r=1/0,i=-1/0,a=1/0,o=-1/0,t._selections[e].each((function(){var t=Dt(this),e=d.bBox(t.node().parentNode);r=Math.min(r,e.top),i=Math.max(i,e.bottom),a=Math.min(a,e.left),o=Math.max(o,e.right)}));else{var s=X.makeLabelFns(t,n);r=i=s.yFn({dx:0,dy:0,fontSize:0}),a=o=s.xFn({dx:0,dy:0,fontSize:0})}return{top:r,bottom:i,left:a,right:o,height:i-r,width:o-a}}(e,n,M)),L[n]}},X.getTickSigns=function(t,e){var n=t._id.charAt(0),r={x:"top",y:"right"}[n],i=t.side===r?1:-1,a=[-1,1,i,-i];return"inside"!==(e?(t.minor||{}).ticks:t.ticks)==("x"===n)&&(a=a.map((function(t){return-t}))),t.side&&a.push({l:-1,t:-1,r:1,b:1}[t.side.charAt(0)]),a},X.makeTransTickFn=function(t){return"x"===t._id.charAt(0)?function(e){return s(t._offset+t.l2p(e.x),0)}:function(e){return s(0,t._offset+t.l2p(e.x))}},X.makeTransTickLabelFn=function(t){var e=function(t){var e=t.ticklabelposition||"",n=function(t){return-1!==e.indexOf(t)},r=n("top"),i=n("left"),a=n("right"),o=n("bottom"),s=n("inside"),l=o||i||r||a;if(!l&&!s)return[0,0];var c=t.side,u=l?(t.tickwidth||0)/2:0,h=3,d=t.tickfont?t.tickfont.size:12;return(o||r)&&(u+=d*W,h+=(t.linewidth||0)/2),(i||a)&&(u+=(t.linewidth||0)/2,h+=3),s&&"top"===c&&(h-=d*(1-W)),(i||r)&&(u=-u),("bottom"===c||"right"===c)&&(h=-h),[l?u:0,s?h:0]}(t),n=t.ticklabelshift||0,r=t.ticklabelstandoff||0,i=e[0],a=e[1],o=t.range[0]>t.range[1],l=t.ticklabelposition&&-1!==t.ticklabelposition.indexOf("inside"),c=!l;if(n&&(n*=o?-1:1),r){var u=t.side;r*=l&&("top"===u||"left"===u)||c&&("bottom"===u||"right"===u)?1:-1}return"x"===t._id.charAt(0)?function(e){return s(i+t._offset+t.l2p(Lt(e))+n,a+r)}:function(e){return s(a+r,i+t._offset+t.l2p(Lt(e))+n)}},X.makeTickPath=function(t,e,n,r){r||(r={});var i=r.minor;if(i&&!t.minor)return"";var a=void 0!==r.len?r.len:i?t.minor.ticklen:t.ticklen,o=t._id.charAt(0),s=(t.linewidth||1)/2;return"x"===o?"M0,"+(e+s*n)+"v"+a*n:"M"+(e+s*n)+",0h"+a*n},X.makeLabelFns=function(t,e,n){var i=t.ticklabelposition||"",a=function(t){return-1!==i.indexOf(t)},s=a("top"),l=a("left"),c=a("right"),u=a("bottom")||l||s||c,h=a("inside"),d="inside"===i&&"inside"===t.ticks||!h&&"outside"===t.ticks&&"boundaries"!==t.tickson,f=0,p=0,m=d?t.ticklen:0;if(h?m*=-1:u&&(m=0),d&&(f+=m,n)){var g=o.deg2rad(n);f=m*Math.cos(g)+1,p=m*Math.sin(g)}t.showticklabels&&(d||t.showline)&&(f+=.2*t.tickfont.size);var v,y,_,x,b,w={labelStandoff:f+=(t.linewidth||1)/2*(h?-1:1),labelShift:p},M=0,T=t.side,k=t._id.charAt(0),A=t.tickangle;if("x"===k)x=(b=!h&&"bottom"===T||h&&"top"===T)?1:-1,h&&(x*=-1),v=p*x,y=e+f*x,_=b?1:-.2,90===Math.abs(A)&&(h?_+=Y:_=-90===A&&"bottom"===T?W:90===A&&"top"===T?Y:.5,M=Y/2*(A/90)),w.xFn=function(t){return t.dx+v+M*t.fontSize},w.yFn=function(t){return t.dy+y+t.fontSize*_},w.anchorFn=function(t,e){if(u){if(l)return"end";if(c)return"start"}return r(e)&&0!==e&&180!==e?e*x<0!==h?"end":"start":"middle"},w.heightFn=function(e,n,r){return n<-60||n>60?-.5*r:"top"===t.side!==h?-r:0};else if("y"===k){if(x=(b=!h&&"left"===T||h&&"right"===T)?1:-1,h&&(x*=-1),v=f,y=p*x,_=0,!h&&90===Math.abs(A)&&(_=-90===A&&"left"===T||90===A&&"right"===T?W:.5),h){var L=r(A)?+A:0;if(0!==L){var C=o.deg2rad(L);M=Math.abs(Math.sin(C))*W*x,_=0}}w.xFn=function(t){return t.dx+e-(v+t.fontSize*_)*x+M*t.fontSize},w.yFn=function(t){return t.dy+y+t.fontSize*Y},w.anchorFn=function(t,e){return r(e)&&90===Math.abs(e)?"middle":b?"end":"start"},w.heightFn=function(e,n,r){return"right"===t.side&&(n*=-1),n<-30?-r:n<30?-.5*r:0}}return w},X.drawTicks=function(t,e,r){r=r||{};var i=e._id+"tick",a=[].concat(e.minor&&e.minor.ticks?r.vals.filter((function(t){return t.minor&&!t.noTick})):[]).concat(e.ticks?r.vals.filter((function(t){return!t.minor&&!t.noTick})):[]),o=r.layer.selectAll("path."+i).data(a,Ct);o.exit().remove(),o.enter().append("path").classed(i,1).classed("ticks",1).classed("crisp",!1!==r.crisp).each((function(t){return h.stroke(n.select(this),t.minor?e.minor.tickcolor:e.tickcolor)})).style("stroke-width",(function(n){return d.crispRound(t,n.minor?e.minor.tickwidth:e.tickwidth,1)+"px"})).attr("d",r.path).style("display",null),Ut(e,[H]),o.attr("transform",r.transFn)},X.drawGrid=function(t,e,r){if(r=r||{},"sync"!==e.tickmode){var i=e._id+"grid",a=e.minor&&e.minor.showgrid,o=a?r.vals.filter((function(t){return t.minor})):[],s=e.showgrid?r.vals.filter((function(t){return!t.minor})):[],l=r.counterAxis;if(l&&X.shouldShowZeroLine(t,e,l))for(var c="array"===e.tickmode,u=0;u<s.length;u++){var f=s[u].x;if(c?!f:Math.abs(f)<e.dtick/100){if(s=s.slice(0,u).concat(s.slice(u+1)),!c)break;u--}}e._gw=d.crispRound(t,e.gridwidth,1);for(var p=a?d.crispRound(t,e.minor.gridwidth,1):0,m=r.layer,g=r.minorLayer,v=1;v>=0;v--){var y=v?m:g;if(y){var _=y.selectAll("path."+i).data(v?s:o,Ct);_.exit().remove(),_.enter().append("path").classed(i,1).classed("crisp",!1!==r.crisp),_.attr("transform",r.transFn).attr("d",r.path).each((function(t){return h.stroke(n.select(this),t.minor?e.minor.gridcolor:e.gridcolor||"#ddd")})).style("stroke-dasharray",(function(t){return d.dashStyle(t.minor?e.minor.griddash:e.griddash,t.minor?e.minor.gridwidth:e.gridwidth)})).style("stroke-width",(function(t){return(t.minor?p:e._gw)+"px"})).style("display",null),"function"==typeof r.path&&_.attr("d",r.path)}}Ut(e,[j,B])}},X.drawZeroLine=function(t,e,n){n=n||n;var r=e._id+"zl",i=X.shouldShowZeroLine(t,e,n.counterAxis),a=n.layer.selectAll("path."+r).data(i?[{x:0,id:e._id}]:[]);a.exit().remove(),a.enter().append("path").classed(r,1).classed("zl",1).classed("crisp",!1!==n.crisp).each((function(){n.layer.selectAll("path").sort((function(t,e){return $(t.id,e.id)}))})),a.attr("transform",n.transFn).attr("d",n.path).call(h.stroke,e.zerolinecolor||h.defaultLine).style("stroke-width",d.crispRound(t,e.zerolinewidth,e._gw||1)+"px").style("display",null),Ut(e,[F])},X.drawLabels=function(t,e,i){i=i||{};var a=t._fullLayout,l=e._id,u=i.cls||l+"tick",h=i.vals.filter((function(t){return t.text})),f=i.labelFns,p=i.secondary?0:e.tickangle,m=(e._prevTickAngles||{})[u],g=i.layer.selectAll("g."+u).data(e.showticklabels?h:[],Ct),v=[];function y(t,a){t.each((function(t){var o=n.select(this),l=o.select(".text-math-group"),u=f.anchorFn(t,a),h=i.transFn.call(o.node(),t)+(r(a)&&0!=+a?" rotate("+a+","+f.xFn(t)+","+(f.yFn(t)-t.fontSize/2)+")":""),p=c.lineCount(o),m=G*t.fontSize,g=f.heightFn(t,r(a)?+a:0,(p-1)*m);if(g&&(h+=s(0,g)),l.empty()){var v=o.select("text");v.attr({transform:h,"text-anchor":u}),v.style("opacity",1),e._adjustTickLabelsOverflow&&e._adjustTickLabelsOverflow()}else{var y=d.bBox(l.node()).width*{end:-.5,start:.5}[u];l.attr("transform",h+s(y,0))}}))}g.enter().append("g").classed(u,1).append("text").attr("text-anchor","middle").each((function(e){var r=n.select(this),i=t._promises.length;r.call(c.positionText,f.xFn(e),f.yFn(e)).call(d.font,{family:e.font,size:e.fontSize,color:e.fontColor,weight:e.fontWeight,style:e.fontStyle,variant:e.fontVariant,textcase:e.fontTextcase,lineposition:e.fontLineposition,shadow:e.fontShadow}).text(e.text).call(c.convertToTspans,t),t._promises[i]?v.push(t._promises.pop().then((function(){y(r,p)}))):y(r,p)})),Ut(e,[U]),g.exit().remove(),i.repositionOnUpdate&&g.each((function(t){n.select(this).select("text").call(c.positionText,f.xFn(t),f.yFn(t))})),e._adjustTickLabelsOverflow=function(){var r=e.ticklabeloverflow;if(r&&"allow"!==r){var i=-1!==r.indexOf("hide"),s="x"===e._id.charAt(0),l=0,c=s?t._fullLayout.width:t._fullLayout.height;if(-1!==r.indexOf("domain")){var u=o.simpleMap(e.range,e.r2l);l=e.l2p(u[0])+e._offset,c=e.l2p(u[1])+e._offset}var h=Math.min(l,c),f=Math.max(l,c),p=e.side,m=1/0,v=-1/0;for(var y in g.each((function(t){var r=n.select(this);if(r.select(".text-math-group").empty()){var a=d.bBox(r.node()),o=0;s?(a.right>f||a.left<h)&&(o=1):(a.bottom>f||a.top+(e.tickangle?0:t.fontSize/4)<h)&&(o=1);var l=r.select("text");o?i&&l.style("opacity",0):(l.style("opacity",1),m="bottom"===p||"right"===p?Math.min(m,s?a.top:a.left):-1/0,v="top"===p||"left"===p?Math.max(v,s?a.bottom:a.right):1/0)}})),a._plots){var _=a._plots[y];if(e._id===_.xaxis._id||e._id===_.yaxis._id){var x=s?_.yaxis:_.xaxis;x&&(x["_visibleLabelMin_"+e._id]=m,x["_visibleLabelMax_"+e._id]=v)}}}},e._hideCounterAxisInsideTickLabels=function(t){var r="x"===e._id.charAt(0),i=[];for(var o in a._plots){var s=a._plots[o];e._id!==s.xaxis._id&&e._id!==s.yaxis._id||i.push(r?s.yaxis:s.xaxis)}i.forEach((function(r,i){r&&Ht(r)&&(t||[F,B,j,H,U]).forEach((function(t){var o="tick"===t.K&&"text"===t.L&&"period"===e.ticklabelmode,s=a._plots[e._mainSubplot];(t.K===F.K?s.zerolinelayer.selectAll("."+e._id+"zl"):t.K===B.K?s.minorGridlayer.selectAll("."+e._id):t.K===j.K?s.gridlayer.selectAll("."+e._id):s[e._id.charAt(0)+"axislayer"]).each((function(){var a=n.select(this);t.L&&(a=a.selectAll(t.L)),a.each((function(a){var s=e.l2p(o?Lt(a):a.x)+e._offset,l=n.select(this);s<e["_visibleLabelMax_"+r._id]&&s>e["_visibleLabelMin_"+r._id]?l.style("display","none"):"tick"===t.K&&!i&&l.style("display",null)}))}))}))}))},y(g,m+1?m:p);var _=null;e._selections&&(e._selections[u]=g);var x=[function(){return v.length&&Promise.all(v)}];e.automargin&&a._redrawFromAutoMarginCount&&90===m?(_=m,x.push((function(){y(g,m)}))):x.push((function(){if(y(g,p),h.length&&e.autotickangles&&("log"!==e.type||"D"!==String(e.dtick).charAt(0))){_=e.autotickangles[0];var t,n=0,r=[],a=1;g.each((function(t){n=Math.max(n,t.fontSize);var i=e.l2p(t.x),o=Dt(this),s=d.bBox(o.node());a=Math.max(a,c.lineCount(o)),r.push({top:0,bottom:10,height:10,left:i-s.width/2,right:i+s.width/2+2,width:s.width+2})}));var s=("boundaries"===e.tickson||e.showdividers)&&!i.secondary,l=h.length,u=Math.abs((h[l-1].x-h[0].x)*e._m)/(l-1),f=s?u/2:u,m=s?e.ticklen:1.25*n*a,v=f/Math.sqrt(Math.pow(f,2)+Math.pow(m,2)),x=e.autotickangles.map((function(t){return t*Math.PI/180})),b=x.find((function(t){return Math.abs(Math.cos(t))<=v}));void 0===b&&(b=x.reduce((function(t,e){return Math.abs(Math.cos(t))<Math.abs(Math.cos(e))?t:e}),x[0]));var w=b*(180/Math.PI);if(s){var M=2;for(e.ticks&&(M+=e.tickwidth/2),t=0;t<r.length;t++){var T=h[t].xbnd,k=r[t];if(null!==T[0]&&k.left-e.l2p(T[0])<M||null!==T[1]&&e.l2p(T[1])-k.right<M){_=w;break}}}else{var A=e.ticklabelposition||"",L=function(t){return-1!==A.indexOf(t)},C=L("top"),S=L("left"),P=L("right"),D=L("bottom")||S||C||P?(e.tickwidth||0)+6:0;for(t=0;t<r.length-1;t++)if(o.bBoxIntersect(r[t],r[t+1],D)){_=w;break}}_&&y(g,_)}})),e._tickAngles&&x.push((function(){e._tickAngles[u]=null===_?r(p)?p:0:_}));var b=function(){var t=0,n=0;return g.each((function(r,i){var a,o=Dt(this);o.select(".text-math-group").empty()&&(e._vals[i]&&(a=e._vals[i].bb||d.bBox(o.node()),e._vals[i].bb=a),t=Math.max(t,a.width),n=Math.max(n,a.height))})),{labelsMaxW:t,labelsMaxH:n}},w=e._anchorAxis;if(w&&(w.autorange||w.insiderange)&&Ht(e)&&!Q(a,e._id)&&(a._insideTickLabelsUpdaterange||(a._insideTickLabelsUpdaterange={}),w.autorange&&(a._insideTickLabelsUpdaterange[w._name+".autorange"]=w.autorange,x.push(b)),w.insiderange)){var M=b(),T="y"===e._id.charAt(0)?M.labelsMaxW:M.labelsMaxH;T+=6,"inside"===e.ticklabelposition&&(T+=e.ticklen||0);var k="right"===e.side||"top"===e.side?1:-1,A=1===k?1:0,L=1===k?0:1,C=[];C[L]=w.range[L];var S=w.range,P=w.r2p(S[A]),D=w.r2p(S[L]),O=a._insideTickLabelsUpdaterange[w._name+".range"];if(O){var E=w.r2p(O[A]),I=w.r2p(O[L]),z=k*("y"===e._id.charAt(0)?1:-1);z*P<z*E&&(P=E,C[A]=S[A]=O[A]),z*D>z*I&&(D=I,C[L]=S[L]=O[L])}var N=Math.abs(D-P);N-T>0?T*=1+T/(N-=T):T=0,"y"!==e._id.charAt(0)&&(T=-T),C[A]=w.p2r(w.r2p(S[A])+k*T),"min"===w.autorange||"max reversed"===w.autorange?(C[0]=null,w._rangeInitial0=void 0,w._rangeInitial1=void 0):("max"===w.autorange||"min reversed"===w.autorange)&&(C[1]=null,w._rangeInitial0=void 0,w._rangeInitial1=void 0),a._insideTickLabelsUpdaterange[w._name+".range"]=C}var R=o.syncOrAsync(x);return R&&R.then&&t._promises.push(R),R},X.getPxPosition=function(t,e){var n,r=t._fullLayout._size,i=e._id.charAt(0),a=e.side;return"free"!==e.anchor?n=e._anchorAxis:"x"===i?n={_offset:r.t+(1-(e.position||0))*r.h,_length:0}:"y"===i&&(n={_offset:r.l+(e.position||0)*r.w+e._shift,_length:0}),"top"===a||"left"===a?n._offset:"bottom"===a||"right"===a?n._offset+n._length:void 0},X.shouldShowZeroLine=function(t,e,n){var r=o.simpleMap(e.range,e.r2l);return r[0]*r[1]<=0&&e.zeroline&&("linear"===e.type||"-"===e.type)&&!(e.rangebreaks&&e.maskBreaks(0)===R)&&(Pt(e,0)||!function(t,e,n,r){var i=n._mainAxis;if(i){var a=t._fullLayout,o=e._id.charAt(0),s=X.counterLetter(e._id),l=e._offset+(Math.abs(r[0])<Math.abs(r[1])==("x"===o)?0:e._length),c=a._plots[n._mainSubplot];if(!(c.mainplotinfo||c).overlays.length)return f(n);for(var u=X.list(t,s),h=0;h<u.length;h++){var d=u[h];if(d._mainAxis===i&&f(d))return!0}}function f(t){if(!t.showline||!t.linewidth)return!1;var n=Math.max((t.linewidth+e.zerolinewidth)/2,1);function r(t){return"number"==typeof t&&Math.abs(t-l)<n}if(r(t._mainLinePosition)||r(t._mainMirrorPosition))return!0;var i=t._linepositions||{};for(var a in i)if(r(i[a][0])||r(i[a][1]))return!0}}(t,e,n,r)||function(t,e){for(var n=t._fullData,r=e._mainSubplot,i=e._id.charAt(0),o=0;o<n.length;o++){var s=n[o];if(!0===s.visible&&s.xaxis+s.yaxis===r&&(a.traceIs(s,"bar-like")&&s.orientation==={x:"h",y:"v"}[i]||s.fill&&s.fill.charAt(s.fill.length-1)===i))return!0}return!1}(t,e))},X.clipEnds=function(t,e){return e.filter((function(e){return Pt(t,e.x)}))},X.allowAutoMargin=function(t){for(var e=X.list(t,"",!0),n=0;n<e.length;n++){var r=e[n];r.automargin&&(i.allowAutoMargin(t,Ot(r)),r.mirror&&i.allowAutoMargin(t,It(r))),a.getComponentMethod("rangeslider","isVisible")(r)&&i.allowAutoMargin(t,zt(r))}},X.swap=function(t,e){for(var n=function(t,e){var n,r,i=[];for(n=0;n<e.length;n++){var a=[],o=t._fullData[e[n]].xaxis,s=t._fullData[e[n]].yaxis;if(o&&s){for(r=0;r<i.length;r++)(-1!==i[r].x.indexOf(o)||-1!==i[r].y.indexOf(s))&&a.push(r);if(!a.length){i.push({x:[o],y:[s]});continue}var l,c=i[a[0]];if(a.length>1)for(r=1;r<a.length;r++)l=i[a[r]],Nt(c.x,l.x),Nt(c.y,l.y);Nt(c.x,[o]),Nt(c.y,[s])}}return i}(t,e),r=0;r<n.length;r++)Rt(t,n[r].x,n[r].y)}})),Xe=a(((t,e)=>{e.exports=function(t,e,n){var r,i;if(n){var a="reversed"===e||"min reversed"===e||"max reversed"===e;r=n[a?1:0],i=n[a?0:1]}var o=t("autorangeoptions.minallowed",null===i?r:void 0),s=t("autorangeoptions.maxallowed",null===r?i:void 0);void 0===o&&t("autorangeoptions.clipmin"),void 0===s&&t("autorangeoptions.clipmax"),t("autorangeoptions.include")}})),Je=a(((t,e)=>{var n=Xe();e.exports=function(t,e,r,i){var a=e._template||{},o=e.type||a.type||"-";r("minallowed"),r("maxallowed");var s,l=r("range");l||!i.noInsiderange&&"log"!==o&&((s=r("insiderange"))&&(null===s[0]||null===s[1])&&(e.insiderange=!1,s=void 0),s&&(l=r("range",s)));var c,u=e.getAutorangeDflt(l,i),h=r("autorange",u);l&&(null===l[0]&&null===l[1]||(null===l[0]||null===l[1])&&("reversed"===h||!0===h)||null!==l[0]&&("min"===h||"max reversed"===h)||null!==l[1]&&("max"===h||"min reversed"===h))&&(l=void 0,delete e.range,e.autorange=!0,c=!0),c||(h=r("autorange",u=e.getAutorangeDflt(l,i))),h&&(n(r,h,l),("linear"===o||"-"===o)&&r("rangemode")),e.cleanRange()}})),Ke=a(((t,e)=>{var n={left:0,top:0};e.exports=function(t,e,r){e=e||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var i=t.clientX||0,a=t.clientY||0,o=function(t){return t===window||t===document||t===document.body?n:t.getBoundingClientRect()}(e);return r[0]=i-o.left,r[1]=a-o.top,r}})),$e=a(((t,e)=>{var n=te();e.exports=n&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()})),Qe=a(((t,e)=>{e.exports=function(t,e,n,r,i){var a=(t-n)/(r-n),o=a+e/(r-n),s=(a+o)/2;return"left"===i||"bottom"===i?a:"center"===i||"middle"===i?s:"right"===i||"top"===i?o:a<2/3-s?a:o>4/3-s?o:s}})),tn=a(((t,e)=>{var n=$t(),r=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(t,e,i,a){return t="left"===i?0:"center"===i?1:"right"===i?2:n.constrain(Math.floor(3*t),0,2),e="bottom"===a?0:"middle"===a?1:"top"===a?2:n.constrain(Math.floor(3*e),0,2),r[e][t]}})),en=a(((t,e)=>{var n=re(),r=Ut(),i=_t().getGraphDiv,a=L(),o=e.exports={};o.wrapped=function(t,e,n){(t=i(t))._fullLayout&&r.clear(t._fullLayout._uid+a.HOVERID),o.raw(t,e,n)},o.raw=function(t,e){var r=t._fullLayout,i=t._hoverdata;e||(e={}),(!e.target||t._dragged||!1!==n.triggerHandler(t,"plotly_beforehover",e))&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&i&&t.emit("plotly_unhover",{event:e,points:i}))}})),nn=a(((t,e)=>{var n=Ke(),r=ee(),i=$e(),a=$t().removeElement,o=le(),s=e.exports={};s.align=Qe(),s.getCursor=tn();var l=en();function c(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function u(t){return n(t.changedTouches?t.changedTouches[0]:t,document.body)}s.unhover=l.wrapped,s.unhoverRaw=l.raw,s.init=function(t){var e,n,l,h,d,f,p,m,g=t.gd,v=1,y=g._context.doubleClickDelay,_=t.element;g._mouseDownTime||(g._mouseDownTime=0),_.style.pointerEvents="all",_.onmousedown=b,i?(_._ontouchstart&&_.removeEventListener("touchstart",_._ontouchstart),_._ontouchstart=b,_.addEventListener("touchstart",b,{passive:!1})):_.ontouchstart=b;var x=t.clampFn||function(t,e,n){return Math.abs(t)<n&&(t=0),Math.abs(e)<n&&(e=0),[t,e]};function b(i){g._dragged=!1,g._dragging=!0;var a=u(i);e=a[0],n=a[1],p=i.target,f=i,m=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=e,i.clientY=n),(l=(new Date).getTime())-g._mouseDownTime<y?v+=1:(v=1,g._mouseDownTime=l),t.prepFn&&t.prepFn(i,e,n),r&&!m?(d=c()).style.cursor=window.getComputedStyle(_).cursor:r||(d=document,h=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(_).cursor),document.addEventListener("mouseup",M),document.addEventListener("touchend",M),!1!==t.dragmode&&(i.preventDefault(),document.addEventListener("mousemove",w),document.addEventListener("touchmove",w,{passive:!1}))}function w(r){r.preventDefault();var i=u(r),a=t.minDrag||o.MINDRAG,l=x(i[0]-e,i[1]-n,a),c=l[0],h=l[1];(c||h)&&(g._dragged=!0,s.unhover(g,r)),g._dragged&&t.moveFn&&!m&&(g._dragdata={element:_,dx:c,dy:h},t.moveFn(c,h))}function M(e){var n;delete g._dragdata,!1!==t.dragmode&&(e.preventDefault(),document.removeEventListener("mousemove",w),document.removeEventListener("touchmove",w)),document.removeEventListener("mouseup",M),document.removeEventListener("touchend",M),r?a(d):h&&(d.documentElement.style.cursor=h,h=null),g._dragging?(g._dragging=!1,(new Date).getTime()-g._mouseDownTime>y&&(v=Math.max(v-1,1)),g._dragged?t.doneFn&&t.doneFn():(f.target===p?n=f:(n={target:p,srcElement:p,toElement:p},Object.keys(f).concat(Object.keys(f.__proto__)).forEach((t=>{var e=f[t];!n[t]&&"function"!=typeof e&&(n[t]=e)}))),t.clickFn&&t.clickFn(v,n),m||p.dispatchEvent(new MouseEvent("click",e))),g._dragging=!1,g._dragged=!1):g._dragged=!1}},s.coverSlip=c})),rn=a(((t,e)=>{e.exports=function(t,e){(t.attr("class")||"").split(" ").forEach((function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)})),e&&t.classed("cursor-"+e,!0)}})),an=a(((t,e)=>{var n=rn(),r="data-savedcursor";e.exports=function(t,e){var i=t.attr(r);if(e){if(!i){for(var a=(t.attr("class")||"").split(" "),o=0;o<a.length;o++){var s=a[o];0===s.indexOf("cursor-")&&t.attr(r,s.substr(7)).classed(s,!1)}t.attr(r)||t.attr(r,"!!")}n(t,e)}else i&&(t.attr(r,null),"!!"===i?n(t):n(t,i))}})),on=a(((t,e)=>{var n=A(),r=O();e.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:n({editType:"legend"}),grouptitlefont:n({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:n({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}})),sn=a((t=>{t.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},t.isVertical=function(t){return"h"!==t.orientation},t.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}})),ln=a(((t,e)=>{var n=Et(),r=$t(),i=se(),a=P(),o=on(),s=St(),l=sn();function c(t,e,c,u){var h=e[t]||{},d=i.newContainer(c,t);function f(t,e){return r.coerce(h,d,o,t,e)}var p=r.coerceFont(f,"font",c.font);if(f("bgcolor",c.paper_bgcolor),f("bordercolor"),f("visible")){for(var m,g=function(t,e){var n=m._input,i=m;return r.coerce(n,i,a,t,e)},v=c.font||{},y=r.coerceFont(f,"grouptitlefont",v,{overrideDflt:{size:Math.round(1.1*v.size)}}),_=0,x=!1,b="normal",w=(c.shapes||[]).filter((function(t){return t.showlegend})),M=u.concat(w).filter((function(e){return t===(e.legend||"legend")})),T=0;T<M.length;T++)if((m=M[T]).visible){var k=m._isShape;(m.showlegend||m._dfltShowLegend&&!(m._module&&m._module.attributes&&m._module.attributes.showlegend&&!1===m._module.attributes.showlegend.dflt))&&(_++,m.showlegend&&(x=!0,(!k&&n.traceIs(m,"pie-like")||!0===m._input.showlegend)&&_++),r.coerceFont(g,"legendgrouptitle.font",y)),(!k&&n.traceIs(m,"bar")&&"stack"===c.barmode||-1!==["tonextx","tonexty"].indexOf(m.fill))&&(b=l.isGrouped({traceorder:b})?"grouped+reversed":"reversed"),void 0!==m.legendgroup&&""!==m.legendgroup&&(b=l.isReversed({traceorder:b})?"reversed+grouped":"grouped")}var A=r.coerce(e,c,s,"showlegend",x&&_>("legend"===t?1:0));if(!1===A&&(c[t]=void 0),(!1!==A||h.uirevision)&&(f("uirevision",c.uirevision),!1!==A)){f("borderwidth");var L,C,S,P="h"===f("orientation"),D="paper"===f("yref"),O="paper"===f("xref"),E="left";if(P?(L=0,n.getComponentMethod("rangeslider","isVisible")(e.xaxis)?D?(C=1.1,S="bottom"):(C=1,S="top"):D?(C=-.1,S="top"):(C=0,S="bottom")):(C=1,S="auto",O?L=1.02:(L=1,E="right")),r.coerce(h,d,{x:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:L}},"x"),r.coerce(h,d,{y:{valType:"number",editType:"legend",min:D?-2:0,max:D?3:1,dflt:C}},"y"),f("traceorder",b),l.isGrouped(c[t])&&f("tracegroupgap"),f("entrywidth"),f("entrywidthmode"),f("indentation"),f("itemsizing"),f("itemwidth"),f("itemclick"),f("itemdoubleclick"),f("groupclick"),f("xanchor",E),f("yanchor",S),f("valign"),r.noneOrAll(h,d,["x","y"]),f("title.text")){f("title.side",P?"left":"top");var I=r.extendFlat({},p,{size:r.bigFont(p.size)});r.coerceFont(f,"title.font",I)}}}}e.exports=function(t,e,n){var i,a=n.slice(),o=e.shapes;if(o)for(i=0;i<o.length;i++){var s=o[i];if(s.showlegend){var l={_input:s._input,visible:s.visible,showlegend:s.showlegend,legend:s.legend};a.push(l)}}var u=["legend"];for(i=0;i<a.length;i++)r.pushUnique(u,a[i].legend);for(e._legends=[],i=0;i<u.length;i++){var h=u[i];c(h,t,e,a),e[h]&&e[h].visible&&(e[h]._id=h),e._legends.push(h)}}})),cn=a(((t,e)=>{var n=Et(),r=$t(),i=r.pushUnique,a=!0;e.exports=function(t,e,o){var s=e._fullLayout;if(!e._dragged&&!e._editing){var l,c=s.legend.itemclick,u=s.legend.itemdoubleclick,h=s.legend.groupclick;if(1===o&&"toggle"===c&&"toggleothers"===u&&a&&e.data&&e._context.showTips&&r.notifier(r._(e,"Double-click on legend to isolate one trace"),"long"),a=!1,1===o?l=c:2===o&&(l=u),l){var d="togglegroup"===h,f=s.hiddenlabels?s.hiddenlabels.slice():[],p=t.data()[0][0];if(!p.groupTitle||!p.noClick){var m=e._fullData,g=(s.shapes||[]).filter((function(t){return t.showlegend})),v=m.concat(g),y=p.trace;y._isShape&&(y=y._fullInput);var _,x,b,w,M,T=y.legendgroup,k={},A=[],L=[],C=[],S=(s.shapes||[]).map((function(t){return t._input})),P=!1,D=y.legend,O=y._fullInput;if(O&&O._isShape||!n.traceIs(y,"pie-like")){var E,I=T&&T.length,z=[];if(I)for(_=0;_<v.length;_++)(E=v[_]).visible&&E.legendgroup===T&&z.push(_);if("toggle"===l){var N;switch(y.visible){case!0:N="legendonly";break;case!1:N=!1;break;case"legendonly":N=!0}if(I)if(d)for(_=0;_<v.length;_++){var R=v[_];!1!==R.visible&&R.legendgroup===T&&tt(R,N)}else tt(y,N);else tt(y,N)}else if("toggleothers"===l){var F,j,B,H,U,Z=!0;for(_=0;_<v.length;_++)if(F=(U=v[_])===y,B=!0!==U.showlegend,!(F||B||(j=I&&U.legendgroup===T,j||U.legend!==D||!0!==U.visible||n.traceIs(U,"notLegendIsolatable")))){Z=!1;break}for(_=0;_<v.length;_++)if(!1!==(U=v[_]).visible&&U.legend===D&&!n.traceIs(U,"notLegendIsolatable"))switch(y.visible){case"legendonly":tt(U,!0);break;case!0:H=!!Z||"legendonly",F=U===y,B=!0!==U.showlegend&&!U.legendgroup,tt(U,!(!(j=F||I&&U.legendgroup===T)&&!B)||H)}}for(_=0;_<L.length;_++)if(b=L[_]){var V=b.constructUpdate(),Y=Object.keys(V);for(x=0;x<Y.length;x++)w=Y[x],(k[w]=k[w]||[])[C[_]]=V[w]}for(M=Object.keys(k),_=0;_<M.length;_++)for(w=M[_],x=0;x<A.length;x++)k[w].hasOwnProperty(x)||(k[w][x]=void 0);P?n.call("_guiUpdate",e,k,{shapes:S},A):n.call("_guiRestyle",e,k,A)}else{var W=p.label,G=f.indexOf(W);if("toggle"===l)-1===G?f.push(W):f.splice(G,1);else if("toggleothers"===l){var q=-1!==G,X=[];for(_=0;_<e.calcdata.length;_++){var J=e.calcdata[_];for(x=0;x<J.length;x++){var K=J[x].label;D===J[0].trace.legend&&W!==K&&(-1===f.indexOf(K)&&(q=!0),i(f,K),X.push(K))}}if(!q)for(var $=0;$<X.length;$++){var Q=f.indexOf(X[$]);-1!==Q&&f.splice(Q,1)}}n.call("_guiRelayout",e,"hiddenlabels",f)}}}}function tt(t,e){if(!p.groupTitle||d){var n=t._fullInput||t,r=n._isShape,i=n.index;void 0===i&&(i=n._index);var a=!1!==n.visible&&e;r?function(t,e){S[t].visible=e,P=!0}(i,a):function(t,e){var n=A.indexOf(t),r=k.visible;r||(r=k.visible=[]),-1===A.indexOf(t)&&(A.push(t),n=A.length-1),r[n]=e}(i,a)}}}})),un=a(((t,e)=>{e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}})),hn=a(((t,e)=>{var n=Et(),r=sn();e.exports=function(t,e,i){var a,o,s=e._inHover,l=r.isGrouped(e),c=r.isReversed(e),u={},h=[],d=!1,f={},p=0,m=0;function g(t,n,a){if(!1!==e.visible&&(!i||t===e._id))if(""!==n&&r.isGrouped(e))-1===h.indexOf(n)?(h.push(n),d=!0,u[n]=[a]):u[n].push(a);else{var o="~~i"+p;h.push(o),u[o]=[a],p++}}for(a=0;a<t.length;a++){var v=t[a],y=v[0],_=y.trace,x=_.legend,b=_.legendgroup;if(s||_.visible&&_.showlegend)if(n.traceIs(_,"pie-like"))for(f[b]||(f[b]={}),o=0;o<v.length;o++){var w=v[o].label;f[b][w]||(g(x,b,{label:w,color:v[o].color,i:v[o].i,trace:_,pts:v[o].pts}),f[b][w]=!0,m=Math.max(m,(w||"").length))}else g(x,b,y),m=Math.max(m,(_.name||"").length)}if(!h.length)return[];var M=!d||!l,T=[];for(a=0;a<h.length;a++){var k=u[h[a]];M?T.push(k[0]):T.push(k)}for(M&&(T=[T]),a=0;a<T.length;a++){var A=1/0;for(o=0;o<T[a].length;o++){var L=T[a][o].trace.legendrank;A>L&&(A=L)}T[a][0]._groupMinRank=A,T[a][0]._preGroupSort=a}var C=function(t,e){return t.trace.legendrank-e.trace.legendrank||t._preSort-e._preSort};for(T.forEach((function(t,e){t[0]._preGroupSort=e})),T.sort((function(t,e){return t[0]._groupMinRank-e[0]._groupMinRank||t[0]._preGroupSort-e[0]._preGroupSort})),a=0;a<T.length;a++){T[a].forEach((function(t,e){t._preSort=e})),T[a].sort(C);var S=T[a][0].trace,P=null;for(o=0;o<T[a].length;o++){var D=T[a][o].trace.legendgrouptitle;if(D&&D.text){P=D,s&&(D.font=e._groupTitleFont);break}}if(c&&T[a].reverse(),P){var O=!1;for(o=0;o<T[a].length;o++)if(n.traceIs(T[a][o].trace,"pie-like")){O=!0;break}T[a].unshift({i:-1,groupTitle:P,noClick:O,trace:{showlegend:S.showlegend,legendgroup:S.legendgroup,visible:"toggleitem"===e.groupclick||S.visible}})}for(o=0;o<T[a].length;o++)T[a][o]=[T[a][o]]}return e._lgroupsLength=T.length,e._maxNameLength=m,T}})),dn=a((t=>{var e=$t();function n(t){return-1!==t.indexOf("e")?t.replace(/[.]?0+e/,"e"):-1!==t.indexOf(".")?t.replace(/[.]?0+$/,""):t}t.formatPiePercent=function(t,r){var i=n((100*t).toPrecision(3));return e.numSeparate(i,r)+"%"},t.formatPieValue=function(t,r){var i=n(t.toPrecision(10));return e.numSeparate(i,r)},t.getFirstFilled=function(t,n){if(e.isArrayOrTypedArray(t))for(var r=0;r<n.length;r++){var i=t[n[r]];if(i||0===i||""===i)return i}},t.castOption=function(n,r){return e.isArrayOrTypedArray(n)?t.getFirstFilled(n,r):n||void 0},t.getRotationAngle=function(t){return("auto"===t?0:t)*Math.PI/180}})),fn=a(((t,e)=>{var n=Ze(),r=E();e.exports=function(t,e,i,a){var o=i.marker.pattern;o&&o.shape?n.pointStyle(t,i,a,e):r.fill(t,e.color)}})),pn=a(((t,e)=>{var n=E(),r=dn().castOption,i=fn();e.exports=function(t,e,a,o){var s=a.marker.line,l=r(s.color,e.pts)||n.defaultLine,c=r(s.width,e.pts)||0;t.call(i,e,a,o).style("stroke-width",c).call(n.stroke,l)}})),mn=a(((t,e)=>{var n=l(),r=Et(),i=$t(),a=i.strTranslate,o=Ze(),s=E(),c=ye().extractOpts,u=Fe(),h=pn(),d=dn().castOption,f=un();function p(t,e){return(e?"radial":"horizontal")+(t?"":"reversed")}function m(t){var e=t[0].trace,n=e.contours,r=u.hasLines(e),i=u.hasMarkers(e),a=e.visible&&e.fill&&"none"!==e.fill,o=!1,s=!1;if(n){var l=n.coloring;"lines"===l?o=!0:r="none"===l||"heatmap"===l||n.showlines,"constraint"===n.type?a="="!==n._operation:("fill"===l||"heatmap"===l)&&(s=!0)}return{showMarker:i,showLine:r,showFill:a,showGradientLine:o,showGradientFill:s,anyLine:r||o,anyFill:a||s}}function g(t,e,n){return t&&i.isArrayOrTypedArray(t)?e:t>n?n:t}e.exports=function(t,e,l){var v=e._fullLayout;l||(l=v.legend);var y="constant"===l.itemsizing,_=l.itemwidth,x=(_+2*f.itemGap)/2,b=a(x,0),w=function(t,e,n,r){var i;if(t+1)i=t;else{if(!(e&&e.width>0))return 0;i=e.width}return y?r:Math.min(i,n)};function M(t,i,a){var u=t[0].trace,h=u.marker||{},d=h.line||{},f=h.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",p=a?u.visible&&u.type===a:r.traceIs(u,"bar"),m=n.select(i).select("g.legendpoints").selectAll("path.legend"+a).data(p?[t]:[]);m.enter().append("path").classed("legend"+a,!0).attr("d",f).attr("transform",b),m.exit().remove(),m.each((function(t){var r=n.select(this),i=t[0],a=w(i.mlw,h.line,5,2);r.style("stroke-width",a+"px");var f=i.mcc;if(!l._inHover&&"mc"in i){var p=c(h),m=p.mid;void 0===m&&(m=(p.max+p.min)/2),f=o.tryColorscale(h,"")(m)}var v=f||i.mc||h.color,y=h.pattern,_=y&&o.getPatternAttr(y.shape,0,"");if(_){var x=o.getPatternAttr(y.bgcolor,0,null),b=o.getPatternAttr(y.fgcolor,0,null),M=y.fgopacity,T=g(y.size,8,10),k=g(y.solidity,.5,1),A="legend-"+u.uid;r.call(o.pattern,"legend",e,A,_,T,k,f,y.fillmode,x,b,M)}else r.call(s.fill,v);a&&s.stroke(r,i.mlc||d.color)}))}function T(t,a,o){var s=t[0],l=s.trace,c=o?l.visible&&l.type===o:r.traceIs(l,o),u=n.select(a).select("g.legendpoints").selectAll("path.legend"+o).data(c?[t]:[]);if(u.enter().append("path").classed("legend"+o,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),u.exit().remove(),u.size()){var f=l.marker||{},p=w(d(f.line.width,s.pts),f.line,5,2),m="pieLike",g=i.minExtend(l,{marker:{line:{width:p}}},m),v=i.minExtend(s,{trace:g},m);h(u,v,g,e)}}t.each((function(t){var e=n.select(this),r=i.ensureSingle(e,"g","layers");r.style("opacity",t[0].trace.opacity);var o=l.indentation,s=l.valign,c=t[0].lineHeight,u=t[0].height;if("middle"===s&&0===o||!c||!u)r.attr("transform",null);else{var h={top:1,bottom:-1}[s]*(.5*(c-u+3))||0,d=l.indentation;r.attr("transform",a(d,h))}r.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),r.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var f=r.selectAll("g.legendsymbols").data([t]);f.enter().append("g").classed("legendsymbols",!0),f.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)})).each((function(t){var r,a=t[0].trace,l=[];if(a.visible)switch(a.type){case"histogram2d":case"heatmap":l=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":l=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":case"densitymap":l=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":l=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":l=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":l=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":l=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":l=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":l=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var u=n.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(l);u.enter().append("path").classed("legend3dandfriends",!0).attr("transform",b).style("stroke-miterlimit",1),u.exit().remove(),u.each((function(t,l){var u,h=n.select(this),d=c(a),f=d.colorscale,m=d.reversescale;if(f){if(!r){var g=f.length;u=0===l?f[m?g-1:0][1]:1===l?f[m?0:g-1][1]:f[Math.floor((g-1)/2)][1]}}else{var v=a.vertexcolor||a.facecolor||a.color;u=i.isArrayOrTypedArray(v)?v[l]||v[0]:v}h.attr("d",t[0]),u?h.call(s.fill,u):h.call((function(t){if(t.size()){var n="legendfill-"+a.uid;o.gradient(t,e,n,p(m,"radial"===r),f,"fill")}}))}))})).each((function(t){var e=t[0].trace,r="waterfall"===e.type;if(t[0]._distinct&&r){var i=t[0].trace[t[0].dir].marker;return t[0].mc=i.color,t[0].mlw=i.line.width,t[0].mlc=i.line.color,M(t,this,"waterfall")}var a=[];e.visible&&r&&(a=t[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var o=n.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(a);o.enter().append("path").classed("legendwaterfall",!0).attr("transform",b).style("stroke-miterlimit",1),o.exit().remove(),o.each((function(t){var r=n.select(this),i=e[t[0]].marker,a=w(void 0,i.line,5,2);r.attr("d",t[1]).style("stroke-width",a+"px").call(s.fill,i.color),a&&r.call(s.stroke,i.line.color)}))})).each((function(t){M(t,this,"funnel")})).each((function(t){M(t,this)})).each((function(t){var a=t[0].trace,l=n.select(this).select("g.legendpoints").selectAll("path.legendbox").data(a.visible&&r.traceIs(a,"box-violin")?[t]:[]);l.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",b),l.exit().remove(),l.each((function(){var t=n.select(this);if("all"!==a.boxpoints&&"all"!==a.points||0!==s.opacity(a.fillcolor)||0!==s.opacity((a.line||{}).color)){var r=w(void 0,a.line,5,2);t.style("stroke-width",r+"px").call(s.fill,a.fillcolor),r&&s.stroke(t,a.line.color)}else{var c=i.minExtend(a,{marker:{size:y?12:i.constrain(a.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});l.call(o.pointStyle,c,e)}}))})).each((function(t){T(t,this,"funnelarea")})).each((function(t){T(t,this,"pie")})).each((function(t){var r,a,s=m(t),l=s.showFill,h=s.showLine,d=s.showGradientLine,f=s.showGradientFill,g=s.anyFill,v=s.anyLine,y=t[0],x=y.trace,b=c(x),M=b.colorscale,T=b.reversescale,k=u.hasMarkers(x)||!g?"M5,0":v?"M5,-2":"M5,-3",A=n.select(this),L=A.select(".legendfill").selectAll("path").data(l||f?[t]:[]);if(L.enter().append("path").classed("js-fill",!0),L.exit().remove(),L.attr("d",k+"h"+_+"v6h-"+_+"z").call((function(t){if(t.size())if(l)o.fillGroupStyle(t,e,!0);else{var n="legendfill-"+x.uid;o.gradient(t,e,n,p(T),M,"fill")}})),h||d){var C=w(void 0,x.line,10,5);a=i.minExtend(x,{line:{width:C}}),r=[i.minExtend(y,{trace:a})]}var S=A.select(".legendlines").selectAll("path").data(h||d?[r]:[]);S.enter().append("path").classed("js-line",!0),S.exit().remove(),S.attr("d",k+(d?"l"+_+",0.0001":"h"+_)).call(h?o.lineGroupStyle:function(t){if(t.size()){var n="legendline-"+x.uid;o.lineGroupStyle(t),o.gradient(t,e,n,p(T),M,"stroke")}})})).each((function(t){var r,a,s=m(t),l=s.anyFill,c=s.anyLine,h=s.showLine,d=s.showMarker,f=t[0],p=f.trace,g=!d&&!c&&!l&&u.hasText(p);function v(t,e,n,r){var a=i.nestedProperty(p,t).get(),o=i.isArrayOrTypedArray(a)&&e?e(a):a;if(y&&o&&void 0!==r&&(o=r),n){if(o<n[0])return n[0];if(o>n[1])return n[1]}return o}function _(t){return f._distinct&&f.index&&t[f.index]?t[f.index]:t[0]}if(d||g||h){var x={},w={};if(d){x.mc=v("marker.color",_),x.mx=v("marker.symbol",_),x.mo=v("marker.opacity",i.mean,[.2,1]),x.mlc=v("marker.line.color",_),x.mlw=v("marker.line.width",i.mean,[0,5],2),w.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var M=v("marker.size",i.mean,[2,16],12);x.ms=M,w.marker.size=M}h&&(w.line={width:v("line.width",_,[0,10],5)}),g&&(x.tx="Aa",x.tp=v("textposition",_),x.ts=10,x.tc=v("textfont.color",_),x.tf=v("textfont.family",_),x.tw=v("textfont.weight",_),x.ty=v("textfont.style",_),x.tv=v("textfont.variant",_),x.tC=v("textfont.textcase",_),x.tE=v("textfont.lineposition",_),x.tS=v("textfont.shadow",_)),r=[i.minExtend(f,x)],(a=i.minExtend(p,w)).selectedpoints=null,a.texttemplate=null}var T=n.select(this).select("g.legendpoints"),k=T.selectAll("path.scatterpts").data(d?r:[]);k.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",b),k.exit().remove(),k.call(o.pointStyle,a,e),d&&(r[0].mrc=3);var A=T.selectAll("g.pointtext").data(g?r:[]);A.enter().append("g").classed("pointtext",!0).append("text").attr("transform",b),A.exit().remove(),A.selectAll("text").call(o.textPointStyle,a,e)})).each((function(t){var e=t[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(e.visible&&"candlestick"===e.type?[t,t]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",(function(t,e){return e?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",b).style("stroke-miterlimit",1),r.exit().remove(),r.each((function(t,r){var i=n.select(this),a=e[r?"increasing":"decreasing"],o=w(void 0,a.line,5,2);i.style("stroke-width",o+"px").call(s.fill,a.fillcolor),o&&s.stroke(i,a.line.color)}))})).each((function(t){var e=t[0].trace,r=n.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(e.visible&&"ohlc"===e.type?[t,t]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",(function(t,e){return e?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",b).style("stroke-miterlimit",1),r.exit().remove(),r.each((function(t,r){var i=n.select(this),a=e[r?"increasing":"decreasing"],l=w(void 0,a.line,5,2);i.style("fill","none").call(o.dashLine,a.line.dash,l),l&&s.stroke(i,a.line.color)}))}))}})),gn=a(((t,e)=>{var n=l(),r=$t(),i=pe(),a=Et(),o=re(),s=nn(),c=Ze(),u=E(),h=ve(),d=cn(),f=un(),p=ge(),m=p.LINE_SPACING,g=p.FROM_TL,v=p.FROM_BR,y=hn(),_=mn(),x=sn(),b=/^legend[0-9]*$/;function w(t,e){var o,l,d=e||{},p=t._fullLayout,b=D(d),w=d._inHover;if(w?(l=d.layer,o="hover"):(l=p._infolayer,o=b),l){var A;if(o+=p._uid,t._legendMouseDownTime||(t._legendMouseDownTime=0),w){if(!d.entries)return;A=y(d.entries,d)}else{for(var O=(t.calcdata||[]).slice(),E=p.shapes,I=0;I<E.length;I++){var z=E[I];if(z.showlegend){var N={_isShape:!0,_fullInput:z,index:z._index,name:z.name||z.label.text||"shape "+z._index,legend:z.legend,legendgroup:z.legendgroup,legendgrouptitle:z.legendgrouptitle,legendrank:z.legendrank,legendwidth:z.legendwidth,showlegend:z.showlegend,visible:z.visible,opacity:z.opacity,mode:"line"===z.type?"lines":"markers",line:z.line,marker:{line:z.line,color:z.fillcolor,size:12,symbol:"rect"===z.type?"square":"circle"===z.type?"circle":"hexagon2"}};O.push([{trace:N}])}}A=p.showlegend&&y(O,d,p._legends.length>1)}var R=p.hiddenlabels||[];if(!(w||p.showlegend&&A.length))return l.selectAll("."+b).remove(),p._topdefs.select("#"+o).remove(),i.autoMargin(t,b);var F=r.ensureSingle(l,"g",b,(function(t){w||t.attr("pointer-events","all")})),j=r.ensureSingleById(p._topdefs,"clipPath",o,(function(t){t.append("rect")})),B=r.ensureSingle(F,"rect","bg",(function(t){t.attr("shape-rendering","crispEdges")}));B.call(u.stroke,d.bordercolor).call(u.fill,d.bgcolor).style("stroke-width",d.borderwidth+"px");var H,U=r.ensureSingle(F,"g","scrollbox"),Z=d.title;d._titleWidth=0,d._titleHeight=0,Z.text?((H=r.ensureSingle(U,"text",b+"titletext")).attr("text-anchor","start").call(c.font,Z.font).text(Z.text),C(H,U,t,d,1)):U.selectAll("."+b+"titletext").remove();var V=r.ensureSingle(F,"rect","scrollbar",(function(t){t.attr(f.scrollBarEnterAttrs).call(u.fill,f.scrollBarColor)})),Y=U.selectAll("g.groups").data(A);Y.enter().append("g").attr("class","groups"),Y.exit().remove();var W=Y.selectAll("g.traces").data(r.identity);W.enter().append("g").attr("class","traces"),W.exit().remove(),W.style("opacity",(function(t){var e=t[0].trace;return a.traceIs(e,"pie-like")?-1!==R.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1})).each((function(){n.select(this).call(k,t,d)})).call(_,t,d).each((function(){w||n.select(this).call(L,t,b)})),r.syncOrAsync([i.previousPromises,function(){return function(t,e,r,i){var a=t._fullLayout,o=D(i);i||(i=a[o]);var s=a._size,l=x.isVertical(i),u=x.isGrouped(i),h="fraction"===i.entrywidthmode,d=i.borderwidth,p=2*d,m=f.itemGap,g=i.indentation+i.itemwidth+2*m,v=2*(d+m),y=P(i),_=i.y<0||0===i.y&&"top"===y,b=i.y>1||1===i.y&&"bottom"===y,w=i.tracegroupgap,T={};i._maxHeight=Math.max(_||b?a.height/2:s.h,30);var k=0;i._width=0,i._height=0;var A=function(t){var e=0,n=0,r=t.title.side;return r&&(-1!==r.indexOf("left")&&(e=t._titleWidth),-1!==r.indexOf("top")&&(n=t._titleHeight)),[e,n]}(i);if(l)r.each((function(t){var e=t[0].height;c.setTranslate(this,d+A[0],d+A[1]+i._height+e/2+m),i._height+=e,i._width=Math.max(i._width,t[0].width)})),k=g+i._width,i._width+=m+g+p,i._height+=v,u&&(e.each((function(t,e){c.setTranslate(this,0,e*i.tracegroupgap)})),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var L=S(i),C=i.x<0||0===i.x&&"right"===L,O=i.x>1||1===i.x&&"left"===L,E=b||_,I=a.width/2;i._maxWidth=Math.max(C?E&&"left"===L?s.l+s.w:I:O?E&&"right"===L?s.r+s.w:I:s.w,2*g);var z=0,N=0;r.each((function(t){var e=M(t,i,g);z=Math.max(z,e),N+=e})),k=null;var R=0;if(u){var F=0,j=0,B=0;e.each((function(){var t=0,e=0;n.select(this).selectAll("g.traces").each((function(n){var r=M(n,i,g),a=n[0].height;c.setTranslate(this,A[0],A[1]+d+m+a/2+e),e+=a,t=Math.max(t,r),T[n[0].trace.legendgroup]=t}));var r=t+m;j>0&&r+d+j>i._maxWidth?(R=Math.max(R,j),j=0,B+=F+w,F=e):F=Math.max(F,e),c.setTranslate(this,j,B),j+=r})),i._width=Math.max(R,j)+d,i._height=B+F+v}else{var H=r.size(),U=N+p+(H-1)*m<i._maxWidth,Z=0,V=0,Y=0,W=0;r.each((function(t){var e=t[0].height,n=M(t,i,g),r=U?n:z;h||(r+=m),r+d+V-m>=i._maxWidth&&(R=Math.max(R,W),V=0,Y+=Z,i._height+=Z,Z=0),c.setTranslate(this,A[0]+d+V,A[1]+d+Y+e/2+m),W=V+n+m,V+=r,Z=Math.max(Z,e)})),U?(i._width=V+p,i._height=Z+v):(i._width=Math.max(R,W)+p,i._height+=Z+v)}}i._width=Math.ceil(Math.max(i._width+A[0],i._titleWidth+2*(d+f.titlePad))),i._height=Math.ceil(Math.max(i._height+A[1],i._titleHeight+2*(d+f.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var G=t._context.edits,q=G.legendText||G.legendPosition;r.each((function(t){var e=n.select(this).select("."+o+"toggle"),r=t[0].height,a=t[0].trace.legendgroup,s=M(t,i,g);u&&""!==a&&(s=T[a]);var d=q?g:k||s;!l&&!h&&(d+=m/2),c.setRect(e,0,-r/2,d,r)}))}(t,Y,W,d)},function(){var e,u,y,_,x=p._size,M=d.borderwidth,k="paper"===d.xref,A="paper"===d.yref;if(Z.text&&function(t,e,n){if("top center"===e.title.side||"top right"===e.title.side){var r=e.title.font.size*m,i=0,a=t.node(),o=c.bBox(a).width;"top center"===e.title.side?i=.5*(e._width-2*n-2*f.titlePad-o):"top right"===e.title.side&&(i=e._width-2*n-2*f.titlePad-o),h.positionText(t,n+f.titlePad+i,n+r)}}(H,d,M),!w){var L,C;L=k?x.l+x.w*d.x-g[S(d)]*d._width:p.width*d.x-g[S(d)]*d._width,C=A?x.t+x.h*(1-d.y)-g[P(d)]*d._effHeight:p.height*(1-d.y)-g[P(d)]*d._effHeight;var D=function(t,e,n,r){var a=t._fullLayout,o=a[e],s=S(o),l=P(o),c="paper"===o.xref,u="paper"===o.yref;t._fullLayout._reservedMargin[e]={};var h=o.y<.5?"b":"t",d=o.x<.5?"l":"r",f={r:a.width-n,l:n+o._width,b:a.height-r,t:r+o._effHeight};if(c&&u)return i.autoMargin(t,e,{x:o.x,y:o.y,l:o._width*g[s],r:o._width*v[s],b:o._effHeight*v[l],t:o._effHeight*g[l]});c?t._fullLayout._reservedMargin[e][h]=f[h]:u||"v"===o.orientation?t._fullLayout._reservedMargin[e][d]=f[d]:t._fullLayout._reservedMargin[e][h]=f[h]}(t,b,L,C);if(D)return;if(p.margin.autoexpand){var O=L,E=C;L=k?r.constrain(L,0,p.width-d._width):O,C=A?r.constrain(C,0,p.height-d._effHeight):E,L!==O&&r.log("Constrain "+b+".x to make legend fit inside graph"),C!==E&&r.log("Constrain "+b+".y to make legend fit inside graph")}c.setTranslate(F,L,C)}if(V.on(".drag",null),F.on("wheel",null),w||d._height<=d._maxHeight||t._context.staticPlot){var I=d._effHeight;w&&(I=d._height),B.attr({width:d._width-M,height:I-M,x:M/2,y:M/2}),c.setTranslate(U,0,0),j.select("rect").attr({width:d._width-2*M,height:I-2*M,x:M,y:M}),c.setClipUrl(U,o,t),c.setRect(V,0,0,0,0),delete d._scrollY}else{var z=Math.max(f.scrollBarMinHeight,d._effHeight*d._effHeight/d._height),N=d._effHeight-z-2*f.scrollBarMargin,R=d._height-d._effHeight,Y=N/R,W=Math.min(d._scrollY||0,R);B.attr({width:d._width-2*M+f.scrollBarWidth+f.scrollBarMargin,height:d._effHeight-M,x:M/2,y:M/2}),j.select("rect").attr({width:d._width-2*M+f.scrollBarWidth+f.scrollBarMargin,height:d._effHeight-2*M,x:M,y:M+W}),c.setClipUrl(U,o,t),$(W,z,Y),F.on("wheel",(function(){$(W=r.constrain(d._scrollY+n.event.deltaY/N*R,0,R),z,Y),0!==W&&W!==R&&n.event.preventDefault()}));var G,q,X,J=n.behavior.drag().on("dragstart",(function(){var t=n.event.sourceEvent;G="touchstart"===t.type?t.changedTouches[0].clientY:t.clientY,X=W})).on("drag",(function(){var t=n.event.sourceEvent;2===t.buttons||t.ctrlKey||(q="touchmove"===t.type?t.changedTouches[0].clientY:t.clientY,W=function(t,e,n){var i=(n-e)/Y+t;return r.constrain(i,0,R)}(X,G,q),$(W,z,Y))}));V.call(J);var K=n.behavior.drag().on("dragstart",(function(){var t=n.event.sourceEvent;"touchstart"===t.type&&(G=t.changedTouches[0].clientY,X=W)})).on("drag",(function(){var t=n.event.sourceEvent;"touchmove"===t.type&&(q=t.changedTouches[0].clientY,W=function(t,e,n){var i=(e-n)/Y+t;return r.constrain(i,0,R)}(X,G,q),$(W,z,Y))}));U.call(K)}function $(e,n,r){d._scrollY=t._fullLayout[b]._scrollY=e,c.setTranslate(U,0,-e),c.setRect(V,d._width,f.scrollBarMargin+e*r,f.scrollBarWidth,n),j.select("rect").attr("y",M+e)}t._context.edits.legendPosition&&(F.classed("cursor-move",!0),s.init({element:F.node(),gd:t,prepFn:function(t){if(t.target!==V.node()){var e=c.getTranslate(F);y=e.x,_=e.y}},moveFn:function(t,n){if(void 0!==y&&void 0!==_){var r=y+t,i=_+n;c.setTranslate(F,r,i),e=s.align(r,d._width,x.l,x.l+x.w,d.xanchor),u=s.align(i+d._height,-d._height,x.t+x.h,x.t,d.yanchor)}},doneFn:function(){if(void 0!==e&&void 0!==u){var n={};n[b+".x"]=e,n[b+".y"]=u,a.call("_guiRelayout",t,n)}},clickFn:function(e,n){var r=l.selectAll("g.traces").filter((function(){var t=this.getBoundingClientRect();return n.clientX>=t.left&&n.clientX<=t.right&&n.clientY>=t.top&&n.clientY<=t.bottom}));r.size()>0&&T(t,F,r,e,n)}}))}],t)}}function M(t,e,n){var r=t[0],i=r.width,a=e.entrywidthmode,o=r.trace.legendwidth||e.entrywidth;return"fraction"===a?e._maxWidth*o:n+(o||i)}function T(t,e,n,r,i){var s=n.data()[0][0].trace,l={event:i,node:n.node(),curveNumber:s.index,expandedIndex:s.index,data:t.data,layout:t.layout,frames:t._transitionData._frames,config:t._context,fullData:t._fullData,fullLayout:t._fullLayout};s._group&&(l.group=s._group),a.traceIs(s,"pie-like")&&(l.label=n.datum()[0].label);var c=o.triggerHandler(t,"plotly_legendclick",l);if(1===r){if(!1===c)return;e._clickTimeout=setTimeout((function(){t._fullLayout&&d(n,t,r)}),t._context.doubleClickDelay)}else 2===r&&(e._clickTimeout&&clearTimeout(e._clickTimeout),t._legendMouseDownTime=0,!1!==o.triggerHandler(t,"plotly_legenddoubleclick",l)&&!1!==c&&d(n,t,r))}function k(t,e,n){var i,o,s=D(n),l=t.data()[0][0],u=l.trace,d=a.traceIs(u,"pie-like"),p=!n._inHover&&e._context.edits.legendText&&!d,m=n._maxNameLength;l.groupTitle?(i=l.groupTitle.text,o=l.groupTitle.font):(o=n.font,n.entries?i=l.text:(i=d?l.label:u.name,u._meta&&(i=r.templateString(i,u._meta))));var g=r.ensureSingle(t,"text",s+"text");g.attr("text-anchor","start").call(c.font,o).text(p?A(i,m):i);var v=n.indentation+n.itemwidth+2*f.itemGap;h.positionText(g,v,0),p?g.call(h.makeEditable,{gd:e,text:i}).call(C,t,e,n).on("edit",(function(r){this.text(A(r,m)).call(C,t,e,n);var i=l.trace._fullInput||{},o={};return o.name=r,i._isShape?a.call("_guiRelayout",e,"shapes["+u.index+"].name",o.name):a.call("_guiRestyle",e,o,u.index)})):C(g,t,e,n)}function A(t,e){var n=Math.max(4,e);if(t&&t.trim().length>=n/2)return t;for(var r=n-(t=t||"").length;r>0;r--)t+=" ";return t}function L(t,e,i){var a,o=e._context.doubleClickDelay,s=1,l=r.ensureSingle(t,"rect",i+"toggle",(function(t){e._context.staticPlot||t.style("cursor","pointer").attr("pointer-events","all"),t.call(u.fill,"rgba(0,0,0,0)")}));e._context.staticPlot||(l.on("mousedown",(function(){(a=(new Date).getTime())-e._legendMouseDownTime<o?s+=1:(s=1,e._legendMouseDownTime=a)})),l.on("mouseup",(function(){if(!e._dragged&&!e._editing){var r=e._fullLayout[i];(new Date).getTime()-e._legendMouseDownTime>o&&(s=Math.max(s-1,1)),T(e,r,t,s,n.event)}})))}function C(t,e,n,r,i){r._inHover&&t.attr("data-notex",!0),h.convertToTspans(t,n,(function(){!function(t,e,n,r){var i=t.data()[0][0];if(n._inHover||!i||i.trace.showlegend){var a=t.select("g[class*=math-group]"),o=a.node(),s=D(n);n||(n=e._fullLayout[s]);var l,u,d=n.borderwidth,p=(1===r?n.title.font:i.groupTitle?i.groupTitle.font:n.font).size*m;if(o){var g=c.bBox(o);l=g.height,u=g.width,1===r?c.setTranslate(a,d,d+.75*l):c.setTranslate(a,0,.25*l)}else{var v="."+s+(1===r?"title":"")+"text",y=t.select(v),_=h.lineCount(y),x=y.node();if(l=p*_,u=x?c.bBox(x).width:0,1===r)"left"===n.title.side&&(u+=2*f.itemGap),h.positionText(y,d+f.titlePad,d+p);else{var b=2*f.itemGap+n.indentation+n.itemwidth;i.groupTitle&&(b=f.itemGap,u-=n.indentation+n.itemwidth),h.positionText(y,b,-p*((_-1)/2-.3))}}1===r?(n._titleWidth=u,n._titleHeight=l):(i.lineHeight=p,i.height=Math.max(l,16)+3,i.width=u)}else t.remove()}(e,n,r,i)}))}function S(t){return r.isRightAnchor(t)?"right":r.isCenterAnchor(t)?"center":"left"}function P(t){return r.isBottomAnchor(t)?"bottom":r.isMiddleAnchor(t)?"middle":"top"}function D(t){return t._id||"legend"}e.exports=function(t,e){if(e)w(t,e);else{var r=t._fullLayout,i=r._legends;r._infolayer.selectAll('[class^="legend"]').each((function(){var t=n.select(this),e=t.attr("class").split(" ")[0];e.match(b)&&-1===i.indexOf(e)&&t.remove()}));for(var a=0;a<i.length;a++){var o=i[a];w(t,t._fullLayout[o])}}}})),vn=a((t=>{var e=l(),n=f(),r=T(),i=$t(),a=i.pushUnique,o=i.strTranslate,s=i.strRotate,c=re(),u=ve(),h=an(),d=Ze(),p=E(),m=nn(),g=qe(),v=le().zindexSeparator,y=Et(),_=Be(),x=L(),b=ln(),w=gn(),M=x.YANGLE,k=Math.PI*M/180,A=1/Math.sin(k),C=Math.cos(k),S=Math.sin(k),P=x.HOVERARROWSIZE,D=x.HOVERTEXTPAD,O={box:!0,ohlc:!0,violin:!0,candlestick:!0},I={scatter:!0,scattergl:!0,splom:!0};function z(t,e){return t.distance-e.distance}function N(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa?t.xa._id:"",t.ya?t.ya._id:""].join(",")}t.hover=function(t,r,o,s){t=i.getGraphDiv(t);var l=r.target;i.throttle(t._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,(function(){!function(t,r,o,s,l){o||(o="xy"),"string"==typeof o&&(o=o.split(v)[0]);var u,d,f,x=Array.isArray(o)?o:[o],b=t._fullLayout,w=b.hoversubplots,M=b._plots||[],T=M[o],k=b._has("cartesian"),L=r.hovermode||b.hovermode,C="x"===(L||"").charAt(0),S="y"===(L||"").charAt(0);if(k&&(C||S)&&"axis"===w)for(var D=x.length,E=0;E<D;E++)if(M[u=x[E]]){d=g.getFromId(t,u,"x"),f=g.getFromId(t,u,"y");var R=(C?d:f)._subplotsWith;if(R&&R.length)for(var j=0;j<R.length;j++)a(x,R[j])}if(T&&"single"!==w){var Y=T.overlays.map((function(t){return t.id}));x=x.concat(Y)}for(var X=x.length,J=new Array(X),K=new Array(X),$=!1,Q=0;Q<X;Q++)if(M[u=x[Q]])$=!0,J[Q]=M[u].xaxis,K[Q]=M[u].yaxis;else{if(!b[u]||!b[u]._subplot)return void i.warn("Unrecognized subplot: "+u);var tt=b[u]._subplot;J[Q]=tt.xaxis,K[Q]=tt.yaxis}if(L&&!$&&(L="closest"),-1===["x","y","closest","x unified","y unified"].indexOf(L)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return m.unhoverRaw(t,r);var et=b.hoverdistance;-1===et&&(et=1/0);var nt=b.spikedistance;-1===nt&&(nt=1/0);var rt,it,at,ot,st,lt,ct,ut,ht,dt,ft,pt,mt,gt=[],vt=[],yt={hLinePoint:null,vLinePoint:null},_t=!1;if(Array.isArray(r))for(L="array",at=0;at<r.length;at++)(st=t.calcdata[r[at].curveNumber||0])&&(lt=st[0].trace,"skip"!==st[0].trace.hoverinfo&&(vt.push(st),"h"===lt.orientation&&(_t=!0)));else{var xt,bt,wt=t.calcdata.slice();for(wt.sort((function(t,e){return(t[0].trace.zorder||0)-(e[0].trace.zorder||0)})),ot=0;ot<wt.length;ot++)st=wt[ot],"skip"!==(lt=st[0].trace).hoverinfo&&_.isTraceInSubplots(lt,x)&&(vt.push(st),"h"===lt.orientation&&(_t=!0));if(l){if(!1===c.triggerHandler(t,"plotly_beforehover",r))return;var Mt=l.getBoundingClientRect();xt=r.clientX-Mt.left,bt=r.clientY-Mt.top,b._calcInverseTransform(t);var Tt=i.apply3DTransform(b._invTransform)(xt,bt);if(xt=Tt[0],bt=Tt[1],xt<0||xt>J[0]._length||bt<0||bt>K[0]._length)return m.unhoverRaw(t,r)}else xt="xpx"in r?r.xpx:J[0]._length/2,bt="ypx"in r?r.ypx:K[0]._length/2;if(r.pointerX=xt+J[0]._offset,r.pointerY=bt+K[0]._offset,rt="xval"in r?_.flat(x,r.xval):_.p2c(J,xt),it="yval"in r?_.flat(x,r.yval):_.p2c(K,bt),!n(rt[0])||!n(it[0]))return i.warn("Fx.hover failed",r,t),m.unhoverRaw(t,r)}var kt=1/0;function At(e,a){for(ot=0;ot<vt.length;ot++)if((st=vt[ot])&&st[0]&&st[0].trace&&!0===(lt=st[0].trace).visible&&0!==lt._length&&-1===["carpet","contourcarpet"].indexOf(lt._module.name)){if(ht=L,_.isUnifiedHover(ht)&&(ht=ht.charAt(0)),"splom"===lt.type?ct=x[ut=0]:(ct=_.getSubplot(lt),ut=x.indexOf(ct)),pt={cd:st,trace:lt,xa:J[ut],ya:K[ut],maxHoverDistance:et,maxSpikeDistance:nt,index:!1,distance:Math.min(kt,et),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:lt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},b[ct]&&(pt.subplot=b[ct]._subplot),b._splomScenes&&b._splomScenes[lt.uid]&&(pt.scene=b._splomScenes[lt.uid]),"array"===ht){var o=r[ot];"pointNumber"in o?(pt.index=o.pointNumber,ht="closest"):(ht="","xval"in o&&(dt=o.xval,ht="x"),"yval"in o&&(ft=o.yval,ht=ht?"closest":"y"))}else void 0!==e&&void 0!==a?(dt=e,ft=a):(dt=rt[ut],ft=it[ut]);if(mt=gt.length,0!==et)if(lt._module&&lt._module.hoverPoints){var s=lt._module.hoverPoints(pt,dt,ft,ht,{finiteRange:!0,hoverLayer:b._hoverlayer,hoversubplots:w,gd:t});if(s)for(var l,c=0;c<s.length;c++)l=s[c],n(l.x0)&&n(l.y0)&&gt.push(U(l,L))}else i.log("Unrecognized trace type in hover:",lt);if("closest"===L&&gt.length>mt&&(gt.splice(0,mt),kt=gt[0].distance),k&&0!==nt&&0===gt.length){pt.distance=nt,pt.index=!1;var u=lt._module.hoverPoints(pt,dt,ft,"closest",{hoverLayer:b._hoverlayer});if(u&&(u=u.filter((function(t){return t.spikeDistance<=nt}))),u&&u.length){var h,d=u.filter((function(t){return t.xa.showspikes&&"hovered data"!==t.xa.spikesnap}));if(d.length){var f=d[0];n(f.x0)&&n(f.y0)&&(h=Ct(f),(!yt.vLinePoint||yt.vLinePoint.spikeDistance>h.spikeDistance)&&(yt.vLinePoint=h))}var m=u.filter((function(t){return t.ya.showspikes&&"hovered data"!==t.ya.spikesnap}));if(m.length){var g=m[0];n(g.x0)&&n(g.y0)&&(h=Ct(g),(!yt.hLinePoint||yt.hLinePoint.spikeDistance>h.spikeDistance)&&(yt.hLinePoint=h))}}}}}function Lt(t,e,n){for(var r,i=null,a=1/0,o=0;o<t.length;o++)d&&d._id!==t[o].xa._id||f&&f._id!==t[o].ya._id||(r=t[o].spikeDistance,n&&0===o&&(r=-1/0),r<=a&&r<=e&&(i=t[o],a=r));return i}function Ct(t){return t?{xa:t.xa,ya:t.ya,x:void 0!==t.xSpike?t.xSpike:(t.x0+t.x1)/2,y:void 0!==t.ySpike?t.ySpike:(t.y0+t.y1)/2,distance:t.distance,spikeDistance:t.spikeDistance,curveNumber:t.trace.index,color:t.color,pointNumber:t.index}:null}At();var St={fullLayout:b,container:b._hoverlayer,event:r},Pt=t._spikepoints,Dt={vLinePoint:yt.vLinePoint,hLinePoint:yt.hLinePoint};t._spikepoints=Dt;var Ot=function(){var t=gt.filter((function(t){return d&&d._id===t.xa._id&&f&&f._id===t.ya._id})),e=gt.filter((function(t){return!(d&&d._id===t.xa._id&&f&&f._id===t.ya._id)}));t.sort(z),e.sort(z),gt=function(t,e){for(var n=e.charAt(0),r=[],i=[],a=[],o=0;o<t.length;o++){var s=t[o];y.traceIs(s.trace,"bar-like")||y.traceIs(s.trace,"box-violin")?a.push(s):s.trace[n+"period"]?i.push(s):r.push(s)}return r.concat(i).concat(a)}(gt=t.concat(e),L)};Ot();var Et=L.charAt(0),It=("x"===Et||"y"===Et)&&gt[0]&&I[gt[0].trace.type];if(k&&0!==nt&&0!==gt.length){var zt=Lt(gt.filter((function(t){return t.ya.showspikes})),nt,It);yt.hLinePoint=Ct(zt);var Nt=Lt(gt.filter((function(t){return t.xa.showspikes})),nt,It);yt.vLinePoint=Ct(Nt)}if(0===gt.length){var Rt=m.unhoverRaw(t,r);return k&&(null!==yt.hLinePoint||null!==yt.vLinePoint)&&V(Pt)&&Z(t,yt,St),Rt}if(k&&V(Pt)&&Z(t,yt,St),_.isXYhover(ht)&&0!==gt[0].length&&"splom"!==gt[0].trace.type){var Ft=gt[0],jt=(gt=O[Ft.trace.type]?gt.filter((function(t){return t.trace.index===Ft.trace.index})):[Ft]).length;At(W("x",Ft,b),W("y",Ft,b));var Bt,Ht=[],Ut={},Zt=0,Vt=function(t){var e=O[t.trace.type]?N(t):t.trace.index;if(Ut[e]){var n=Ut[e]-1,r=Ht[n];n>0&&Math.abs(t.distance)<Math.abs(r.distance)&&(Ht[n]=t)}else Zt++,Ut[e]=Zt,Ht.push(t)};for(Bt=0;Bt<jt;Bt++)Vt(gt[Bt]);for(Bt=gt.length-1;Bt>jt-1;Bt--)Vt(gt[Bt]);gt=Ht,Ot()}var Yt=t._hoverdata,Wt=[],Gt=G(t),qt=q(t);for(at=0;at<gt.length;at++){var Xt=gt[at],Jt=_.makeEventData(Xt,Xt.trace,Xt.cd);if(!1!==Xt.hovertemplate){var Kt=!1;Xt.cd[Xt.index]&&Xt.cd[Xt.index].ht&&(Kt=Xt.cd[Xt.index].ht),Xt.hovertemplate=Kt||Xt.trace.hovertemplate||!1}if(Xt.xa&&Xt.ya){var $t=Xt.x0+Xt.xa._offset,Qt=Xt.x1+Xt.xa._offset,te=Xt.y0+Xt.ya._offset,ee=Xt.y1+Xt.ya._offset,ne=Math.min($t,Qt),re=Math.max($t,Qt),ie=Math.min(te,ee),ae=Math.max(te,ee);Jt.bbox={x0:ne+qt,x1:re+qt,y0:ie+Gt,y1:ae+Gt}}Xt.eventData=[Jt],Wt.push(Jt)}t._hoverdata=Wt;var oe="y"===L&&(vt.length>1||gt.length>1)||"closest"===L&&_t&&gt.length>1,se=p.combine(b.plot_bgcolor||p.background,b.paper_bgcolor),le=F(gt,{gd:t,hovermode:L,rotateLabels:oe,bgColor:se,container:b._hoverlayer,outerContainer:b._paper.node(),commonLabelOpts:b.hoverlabel,hoverdistance:b.hoverdistance}),ce=le.hoverLabels;if(_.isUnifiedHover(L)||(function(t,e,n,r){var i,a,o,s,l,c,u,h=e?"xa":"ya",d=e?"ya":"xa",f=0,p=1,m=t.size(),g=new Array(m),v=0,y=r.minX,_=r.maxX,x=r.minY,b=r.maxY,w=function(t){return t*n._invScaleX},M=function(t){return t*n._invScaleY};function T(t){var e=t[0],n=t[t.length-1];if(a=e.pmin-e.pos-e.dp+e.size,o=n.pos+n.dp+n.size-e.pmax,a>.01){for(l=t.length-1;l>=0;l--)t[l].dp+=a;i=!1}if(!(o<.01)){if(a<-.01){for(l=t.length-1;l>=0;l--)t[l].dp-=o;i=!1}if(i){var r=0;for(s=0;s<t.length;s++)(c=t[s]).pos+c.dp+c.size>e.pmax&&r++;for(s=t.length-1;s>=0&&!(r<=0);s--)(c=t[s]).pos>e.pmax-1&&(c.del=!0,r--);for(s=0;s<t.length&&!(r<=0);s++)if((c=t[s]).pos<e.pmin+1)for(c.del=!0,r--,o=2*c.size,l=t.length-1;l>=0;l--)t[l].dp-=o;for(s=t.length-1;s>=0&&!(r<=0);s--)(c=t[s]).pos+c.dp+c.size>e.pmax&&(c.del=!0,r--)}}}for(t.each((function(t){var r=t[h],i=t[d],a="x"===r._id.charAt(0),o=r.range;0===v&&o&&o[0]>o[1]!==a&&(p=-1);var s=0,l=a?n.width:n.height;if("x"===n.hovermode||"y"===n.hovermode){var c,u,f=B(t,e),m=t.anchor,T="end"===m?-1:1;if("middle"===m)u=(c=t.crossPos+(a?M(f.y-t.by/2):w(t.bx/2+t.tx2width/2)))+(a?M(t.by):w(t.bx));else if(a)u=(c=t.crossPos+M(P+f.y)-M(t.by/2-P))+M(t.by);else{var k=w(T*P+f.x),L=k+w(T*t.bx);c=t.crossPos+Math.min(k,L),u=t.crossPos+Math.max(k,L)}a?void 0!==x&&void 0!==b&&Math.min(u,b)-Math.max(c,x)>1&&("left"===i.side?(s=i._mainLinePosition,l=n.width):l=i._mainLinePosition):void 0!==y&&void 0!==_&&Math.min(u,_)-Math.max(c,y)>1&&("top"===i.side?(s=i._mainLinePosition,l=n.height):l=i._mainLinePosition)}g[v++]=[{datum:t,traceIndex:t.trace.index,dp:0,pos:t.pos,posref:t.posref,size:t.by*(a?A:1)/2,pmin:s,pmax:l}]})),g.sort((function(t,e){return t[0].posref-e[0].posref||p*(e[0].traceIndex-t[0].traceIndex)}));!i&&f<=m;){for(f++,i=!0,s=0;s<g.length-1;){var k=g[s],L=g[s+1],C=k[k.length-1],S=L[0];if((a=C.pos+C.dp+C.size-S.pos-S.dp+S.size)>.01){for(l=L.length-1;l>=0;l--)L[l].dp+=a;for(k.push.apply(k,L),g.splice(s+1,1),u=0,l=k.length-1;l>=0;l--)u+=k[l].dp;for(o=u/k.length,l=k.length-1;l>=0;l--)k[l].dp-=o;i=!1}else s++}g.forEach(T)}for(s=g.length-1;s>=0;s--){var D=g[s];for(l=D.length-1;l>=0;l--){var O=D[l],E=O.datum;E.offset=O.dp,E.del=O.del}}}(ce,oe,b,le.commonLabelBoundingBox),H(ce,oe,b._invScaleX,b._invScaleY)),l&&l.tagName){var ue=y.getComponentMethod("annotations","hasClickToShow")(t,Wt);h(e.select(l),ue?"pointer":"")}!l||s||!function(t,e,n){if(!n||n.length!==t._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],a=t._hoverdata[r];if(i.curveNumber!==a.curveNumber||String(i.pointNumber)!==String(a.pointNumber)||String(i.pointNumbers)!==String(a.pointNumbers))return!0}return!1}(t,0,Yt)||(Yt&&t.emit("plotly_unhover",{event:r,points:Yt}),t.emit("plotly_hover",{event:r,points:t._hoverdata,xaxes:J,yaxes:K,xvals:rt,yvals:it}))}(t,r,o,s,l)}))},t.loneHover=function(t,n){var r=!0;Array.isArray(t)||(r=!1,t=[t]);var i=n.gd,a=G(i),o=q(i),s=!1,l=F(t.map((function(t){var e=t._x0||t.x0||t.x||0,r=t._x1||t.x1||t.x||0,s=t._y0||t.y0||t.y||0,l=t._y1||t.y1||t.y||0,c=t.eventData;if(c){var u=Math.min(e,r),h=Math.max(e,r),d=Math.min(s,l),f=Math.max(s,l),m=t.trace;if(y.traceIs(m,"gl3d")){var g=i._fullLayout[m.scene]._scene.container,v=g.offsetLeft,_=g.offsetTop;u+=v,h+=v,d+=_,f+=_}c.bbox={x0:u+o,x1:h+o,y0:d+a,y1:f+a},n.inOut_bbox&&n.inOut_bbox.push(c.bbox)}else c=!1;return{color:t.color||p.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,nameLength:t.nameLength,textAlign:t.textAlign,trace:t.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:t.hovertemplate||!1,hovertemplateLabels:t.hovertemplateLabels||!1,eventData:c}})),{gd:i,hovermode:"closest",rotateLabels:s,bgColor:n.bgColor||p.background,container:e.select(n.container),outerContainer:n.outerContainer||n.container}).hoverLabels,c=0,u=0;return l.sort((function(t,e){return t.y0-e.y0})).each((function(t,e){var r=t.y0-t.by/2;t.offset=r-5<c?c-r+5:0,c=r+t.by+t.offset,e===n.anchorIndex&&(u=t.offset)})).each((function(t){t.offset-=u})),H(l,s,i._fullLayout._invScaleX,i._fullLayout._invScaleY),r?l:l.node()};var R=/<extra>([\s\S]*)<\/extra>/;function F(t,n){var r=n.gd,a=r._fullLayout,l=n.hovermode,c=n.rotateLabels,h=n.bgColor,f=n.container,m=n.outerContainer,g=n.commonLabelOpts||{};if(0===t.length)return[[]];var v=n.fontFamily||x.HOVERFONT,T=n.fontSize||x.HOVERFONTSIZE,k=n.fontWeight||a.font.weight,A=n.fontStyle||a.font.style,L=n.fontVariant||a.font.variant,C=n.fontTextcase||a.font.textcase,S=n.fontLineposition||a.font.lineposition,O=n.fontShadow||a.font.shadow,E=t[0],I=E.xa,z=E.ya,R=l.charAt(0),F=R+"Label",B=E[F];if(void 0===B&&"multicategory"===I.type)for(var H=0;H<t.length&&void 0===(B=t[H][F]);H++);var U=X(r,m),Z=U.top,V=U.width,Y=U.height,W=void 0!==B&&E.distance<=n.hoverdistance&&("x"===l||"y"===l);if(W){var G,q,J=!0;for(G=0;G<t.length;G++)if(J&&void 0===t[G].zLabel&&(J=!1),q=t[G].hoverinfo||t[G].trace.hoverinfo){var K=Array.isArray(q)?q:q.split("+");if(-1===K.indexOf("all")&&-1===K.indexOf(l)){W=!1;break}}J&&(W=!1)}var $=f.selectAll("g.axistext").data(W?[0]:[]);$.enter().append("g").classed("axistext",!0),$.exit().remove();var Q={minX:0,maxX:0,minY:0,maxY:0};if($.each((function(){var t=e.select(this),n=i.ensureSingle(t,"path","",(function(t){t.style({"stroke-width":"1px"})})),s=i.ensureSingle(t,"text","",(function(t){t.attr("data-notex",1)})),c=g.bgcolor||p.defaultLine,h=g.bordercolor||p.contrast(c),f=p.contrast(c),m=g.font,y={weight:m.weight||k,style:m.style||A,variant:m.variant||L,textcase:m.textcase||C,lineposition:m.lineposition||S,shadow:m.shadow||O,family:m.family||v,size:m.size||T,color:m.color||f};n.style({fill:c,stroke:h}),s.text(B).call(d.font,y).call(u.positionText,0,0).call(u.convertToTspans,r),t.attr("transform","");var _,x,b=X(r,s.node());if("x"===l){var w="top"===I.side?"-":"";s.attr("text-anchor","middle").call(u.positionText,0,"top"===I.side?Z-b.bottom-P-D:Z-b.top+P+D),_=I._offset+(E.x0+E.x1)/2,x=z._offset+("top"===I.side?0:z._length);var M=b.width/2+D,N=_;_<M?N=M:_>a.width-M&&(N=a.width-M),n.attr("d","M"+(_-N)+",0L"+(_-N+P)+","+w+P+"H"+M+"v"+w+(2*D+b.height)+"H"+-M+"V"+w+P+"H"+(_-N-P)+"Z"),_=N,Q.minX=_-M,Q.maxX=_+M,"top"===I.side?(Q.minY=x-(2*D+b.height),Q.maxY=x-D):(Q.minY=x+D,Q.maxY=x+(2*D+b.height))}else{var R,F,j;"right"===z.side?(R="start",F=1,j="",_=I._offset+I._length):(R="end",F=-1,j="-",_=I._offset),x=z._offset+(E.y0+E.y1)/2,s.attr("text-anchor",R),n.attr("d","M0,0L"+j+P+","+P+"V"+(D+b.height/2)+"h"+j+(2*D+b.width)+"V-"+(D+b.height/2)+"H"+j+P+"V-"+P+"Z"),Q.minY=x-(D+b.height/2),Q.maxY=x+(D+b.height/2),"right"===z.side?(Q.minX=_+P,Q.maxX=_+P+(2*D+b.width)):(Q.minX=_-P-(2*D+b.width),Q.maxX=_-P);var H,U=b.height/2,V=Z-b.top-U,Y="clip"+a._uid+"commonlabel"+z._id;if(_<b.width+2*D+P){H="M-"+(P+D)+"-"+U+"h-"+(b.width-D)+"V"+U+"h"+(b.width-D)+"Z";var W=b.width-_+D;u.positionText(s,W,V),"end"===R&&s.selectAll("tspan").each((function(){var t=e.select(this),n=d.tester.append("text").text(t.text()).call(d.font,y),i=X(r,n.node());Math.round(i.width)<Math.round(b.width)&&t.attr("x",W-i.width),n.remove()}))}else u.positionText(s,F*(D+P),V),H=null;var G=a._topclips.selectAll("#"+Y).data(H?[0]:[]);G.enter().append("clipPath").attr("id",Y).append("path"),G.exit().remove(),G.select("path").attr("d",H),d.setClipUrl(s,H?Y:null,r)}t.attr("transform",o(_,x))})),_.isUnifiedHover(l)){f.selectAll("g.hovertext").remove();var tt=t.filter((function(t){return"none"!==t.hoverinfo}));if(0===tt.length)return[];var et=a.hoverlabel,nt=et.font,rt={showlegend:!0,legend:{title:{text:B,font:nt},font:nt,bgcolor:et.bgcolor,bordercolor:et.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:a.legend?a.legend.traceorder:void 0,orientation:"v"}},it={font:nt};b(rt,it,r._fullData);var at=it.legend;at.entries=[];for(var ot=0;ot<tt.length;ot++){var st=tt[ot];if("none"!==st.hoverinfo){var lt=j(st,!0,l,a,B),ct=lt[0],ut=lt[1];st.name=ut,st.text=""!==ut?ut+" : "+ct:ct;var ht=st.cd[st.index];ht&&(ht.mc&&(st.mc=ht.mc),ht.mcc&&(st.mc=ht.mcc),ht.mlc&&(st.mlc=ht.mlc),ht.mlcc&&(st.mlc=ht.mlcc),ht.mlw&&(st.mlw=ht.mlw),ht.mrc&&(st.mrc=ht.mrc),ht.dir&&(st.dir=ht.dir)),st._distinct=!0,at.entries.push([st])}}at.entries.sort((function(t,e){return t[0].trace.index-e[0].trace.index})),at.layer=f,at._inHover=!0,at._groupTitleFont=et.grouptitlefont,w(r,at);var dt,ft,pt,mt,gt=f.select("g.legend"),vt=X(r,gt.node()),yt=vt.width+2*D,_t=vt.height+2*D,xt=tt[0],bt=(xt.x0+xt.x1)/2,wt=(xt.y0+xt.y1)/2,Mt=!(y.traceIs(xt.trace,"bar-like")||y.traceIs(xt.trace,"box-violin"));"y"===R?Mt?(ft=wt-D,dt=wt+D):(ft=Math.min.apply(null,tt.map((function(t){return Math.min(t.y0,t.y1)}))),dt=Math.max.apply(null,tt.map((function(t){return Math.max(t.y0,t.y1)})))):ft=dt=i.mean(tt.map((function(t){return(t.y0+t.y1)/2})))-_t/2,"x"===R?Mt?(pt=bt+D,mt=bt-D):(pt=Math.max.apply(null,tt.map((function(t){return Math.max(t.x0,t.x1)}))),mt=Math.min.apply(null,tt.map((function(t){return Math.min(t.x0,t.x1)})))):pt=mt=i.mean(tt.map((function(t){return(t.x0+t.x1)/2})))-yt/2;var Tt,kt,At=I._offset,Lt=z._offset;return mt+=At-yt,ft+=Lt-_t,Tt=(pt+=At)+yt<V&&pt>=0?pt:mt+yt<V&&mt>=0?mt:At+yt<V?At:pt-bt<bt-mt+yt?V-yt:0,Tt+=D,kt=(dt+=Lt)+_t<Y&&dt>=0?dt:ft+_t<Y&&ft>=0?ft:Lt+_t<Y?Lt:dt-wt<wt-ft+_t?Y-_t:0,kt+=D,gt.attr("transform",o(Tt-1,kt-1)),gt}var Ct=f.selectAll("g.hovertext").data(t,(function(t){return N(t)}));return Ct.enter().append("g").classed("hovertext",!0).each((function(){var t=e.select(this);t.append("rect").call(p.fill,p.addOpacity(h,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(d.font,{weight:k,style:A,variant:L,textcase:C,lineposition:S,shadow:O,family:v,size:T})})),Ct.exit().remove(),Ct.each((function(t){var n=e.select(this).attr("transform",""),i=t.color;Array.isArray(i)&&(i=i[t.eventData[0].pointNumber]);var f=t.bgcolor||i,m=p.combine(p.opacity(f)?f:p.defaultLine,h),g=p.combine(p.opacity(i)?i:p.defaultLine,h),y=t.borderColor||p.contrast(m),_=j(t,W,l,a,B,n),x=_[0],b=_[1],w=n.select("text.nums").call(d.font,{family:t.fontFamily||v,size:t.fontSize||T,color:t.fontColor||y,weight:t.fontWeight||k,style:t.fontStyle||A,variant:t.fontVariant||L,textcase:t.fontTextcase||C,lineposition:t.fontLineposition||S,shadow:t.fontShadow||O}).text(x).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r),E=n.select("text.name"),I=0,z=0;if(b&&b!==x){E.call(d.font,{family:t.fontFamily||v,size:t.fontSize||T,color:g,weight:t.fontWeight||k,style:t.fontStyle||A,variant:t.fontVariant||L,textcase:t.fontTextcase||C,lineposition:t.fontLineposition||S,shadow:t.fontShadow||O}).text(b).attr("data-notex",1).call(u.positionText,0,0).call(u.convertToTspans,r);var N=X(r,E.node());I=N.width+2*D,z=N.height+2*D}else E.remove(),n.select("rect").remove();n.select("path").style({fill:m,stroke:y});var R=t.xa._offset+(t.x0+t.x1)/2,F=t.ya._offset+(t.y0+t.y1)/2,H=Math.abs(t.x1-t.x0),U=Math.abs(t.y1-t.y0),G=X(r,w.node()),q=G.width/a._invScaleX,J=G.height/a._invScaleY;t.ty0=(Z-G.top)/a._invScaleY,t.bx=q+2*D,t.by=Math.max(J+2*D,z),t.anchor="start",t.txwidth=q,t.tx2width=I,t.offset=0;var K,$,Q=(q+P+D+I)*a._invScaleX;if(c)t.pos=R,K=F+U/2+Q<=Y,$=F-U/2-Q>=0,"top"!==t.idealAlign&&K||!$?K?(F+=U/2,t.anchor="start"):t.anchor="middle":(F-=U/2,t.anchor="end"),t.crossPos=F;else{if(t.pos=F,K=R+H/2+Q<=V,$=R-H/2-Q>=0,"left"!==t.idealAlign&&K||!$)if(K)R+=H/2,t.anchor="start";else{t.anchor="middle";var tt=Q/2,et=R+tt-V,nt=R-tt;et>0&&(R-=et),nt<0&&(R+=-nt)}else R-=H/2,t.anchor="end";t.crossPos=R}w.attr("text-anchor",t.anchor),I&&E.attr("text-anchor",t.anchor),n.attr("transform",o(R,F)+(c?s(M):""))})),{hoverLabels:Ct,commonLabelBoundingBox:Q}}function j(t,e,n,r,a,o){var s="",l="";void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name&&(t.trace._meta&&(t.name=i.templateString(t.name,t.trace._meta)),s=Y(t.name,t.nameLength));var c=n.charAt(0),u="x"===c?"y":"x";void 0!==t.zLabel?(void 0!==t.xLabel&&(l+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(l+="y: "+t.yLabel+"<br>"),"choropleth"!==t.trace.type&&"choroplethmapbox"!==t.trace.type&&"choroplethmap"!==t.trace.type&&(l+=(l?"z: ":"")+t.zLabel)):e&&t[c+"Label"]===a?l=t[u+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&"scattercarpet"!==t.trace.type&&(l=t.yLabel):l=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",(t.text||0===t.text)&&!Array.isArray(t.text)&&(l+=(l?"<br>":"")+t.text),void 0!==t.extraText&&(l+=(l?"<br>":"")+t.extraText),o&&""===l&&!t.hovertemplate&&(""===s&&o.remove(),l=s);var h=t.hovertemplate||!1;if(h){var d=t.hovertemplateLabels||t;t[c+"Label"]!==a&&(d[c+"other"]=d[c+"Val"],d[c+"otherLabel"]=d[c+"Label"]),l=(l=i.hovertemplateString(h,d,r._d3locale,t.eventData[0]||{},t.trace._meta)).replace(R,(function(e,n){return s=Y(n,t.nameLength),""}))}return[l,s]}function B(t,e){var n=0,r=t.offset;return e&&(r*=-S,n=t.offset*C),{x:n,y:r}}function H(t,n,r,i){var a=function(t){return t*r},o=function(t){return t*i};t.each((function(t){var r=e.select(this);if(t.del)return r.remove();var i=r.select("text.nums"),s=t.anchor,l="end"===s?-1:1,c=function(t){var e={start:1,end:-1,middle:0}[t.anchor],n=e*(P+D),r=n+e*(t.txwidth+D);return"middle"===t.anchor&&(n-=t.tx2width/2,r+=t.txwidth/2+D),{alignShift:e,textShiftX:n,text2ShiftX:r}}(t),h=B(t,n),f=h.x,p=h.y,m="middle"===s;r.select("path").attr("d",m?"M-"+a(t.bx/2+t.tx2width/2)+","+o(p-t.by/2)+"h"+a(t.bx)+"v"+o(t.by)+"h-"+a(t.bx)+"Z":"M0,0L"+a(l*P+f)+","+o(P+p)+"v"+o(t.by/2-P)+"h"+a(l*t.bx)+"v-"+o(t.by)+"H"+a(l*P+f)+"V"+o(p-P)+"Z");var g=f+c.textShiftX,v=p+t.ty0-t.by/2+D,y=t.textAlign||"auto";"auto"!==y&&("left"===y&&"start"!==s?(i.attr("text-anchor","start"),g=m?-t.bx/2-t.tx2width/2+D:-t.bx-D):"right"===y&&"end"!==s&&(i.attr("text-anchor","end"),g=m?t.bx/2-t.tx2width/2-D:t.bx+D)),i.call(u.positionText,a(g),o(v)),t.tx2width&&(r.select("text.name").call(u.positionText,a(c.text2ShiftX+c.alignShift*D+f),o(p+t.ty0-t.by/2+D)),r.select("rect").call(d.setRect,a(c.text2ShiftX+(c.alignShift-1)*t.tx2width/2+f),o(p-t.by/2-1),a(t.tx2width),o(t.by+2)))}))}function U(t,e){var r=t.index,a=t.trace||{},o=t.cd[0],s=t.cd[r]||{};function l(t){return t||n(t)&&0===t}var c=Array.isArray(r)?function(t,e){var n=i.castOption(o,r,t);return l(n)?n:i.extractOption({},a,"",e)}:function(t,e){return i.extractOption(s,a,t,e)};function u(e,n,r){var i=c(n,r);l(i)&&(t[e]=i)}if(u("hoverinfo","hi","hoverinfo"),u("bgcolor","hbg","hoverlabel.bgcolor"),u("borderColor","hbc","hoverlabel.bordercolor"),u("fontFamily","htf","hoverlabel.font.family"),u("fontSize","hts","hoverlabel.font.size"),u("fontColor","htc","hoverlabel.font.color"),u("fontWeight","htw","hoverlabel.font.weight"),u("fontStyle","hty","hoverlabel.font.style"),u("fontVariant","htv","hoverlabel.font.variant"),u("nameLength","hnl","hoverlabel.namelength"),u("textAlign","hta","hoverlabel.align"),t.posref="y"===e||"closest"===e&&"h"===a.orientation?t.xa._offset+(t.x0+t.x1)/2:t.ya._offset+(t.y0+t.y1)/2,t.x0=i.constrain(t.x0,0,t.xa._length),t.x1=i.constrain(t.x1,0,t.xa._length),t.y0=i.constrain(t.y0,0,t.ya._length),t.y1=i.constrain(t.y1,0,t.ya._length),void 0!==t.xLabelVal&&(t.xLabel="xLabel"in t?t.xLabel:g.hoverLabelText(t.xa,t.xLabelVal,a.xhoverformat),t.xVal=t.xa.c2d(t.xLabelVal)),void 0!==t.yLabelVal&&(t.yLabel="yLabel"in t?t.yLabel:g.hoverLabelText(t.ya,t.yLabelVal,a.yhoverformat),t.yVal=t.ya.c2d(t.yLabelVal)),void 0!==t.zLabelVal&&void 0===t.zLabel&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var h=g.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+h+" / -"+g.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+=" ± "+h,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var d=g.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+d+" / -"+g.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+=" ± "+d,"y"===e&&(t.distance+=1)}var f=t.hoverinfo||t.trace.hoverinfo;return f&&"all"!==f&&(-1===(f=Array.isArray(f)?f:f.split("+")).indexOf("x")&&(t.xLabel=void 0),-1===f.indexOf("y")&&(t.yLabel=void 0),-1===f.indexOf("z")&&(t.zLabel=void 0),-1===f.indexOf("text")&&(t.text=void 0),-1===f.indexOf("name")&&(t.name=void 0)),t}function Z(t,e,n){var i,a,o=n.container,s=n.fullLayout,l=s._size,c=n.event,u=!!e.hLinePoint,h=!!e.vLinePoint;if(o.selectAll(".spikeline").remove(),h||u){var f=p.combine(s.plot_bgcolor,s.paper_bgcolor);if(u){var m,v,y=e.hLinePoint;i=y&&y.xa,"cursor"===(a=y&&y.ya).spikesnap?(m=c.pointerX,v=c.pointerY):(m=i._offset+y.x,v=a._offset+y.y);var _,x,b=r.readability(y.color,f)<1.5?p.contrast(f):y.color,w=a.spikemode,M=a.spikethickness,T=a.spikecolor||b,k=g.getPxPosition(t,a);if(-1!==w.indexOf("toaxis")||-1!==w.indexOf("across")){if(-1!==w.indexOf("toaxis")&&(_=k,x=m),-1!==w.indexOf("across")){var A=a._counterDomainMin,L=a._counterDomainMax;"free"===a.anchor&&(A=Math.min(A,a.position),L=Math.max(L,a.position)),_=l.l+A*l.w,x=l.l+L*l.w}o.insert("line",":first-child").attr({x1:_,x2:x,y1:v,y2:v,"stroke-width":M,stroke:T,"stroke-dasharray":d.dashStyle(a.spikedash,M)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:_,x2:x,y1:v,y2:v,"stroke-width":M+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0)}-1!==w.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:k+("right"!==a.side?M:-M),cy:v,r:M,fill:T}).classed("spikeline",!0)}if(h){var C,S,P=e.vLinePoint;i=P&&P.xa,a=P&&P.ya,"cursor"===i.spikesnap?(C=c.pointerX,S=c.pointerY):(C=i._offset+P.x,S=a._offset+P.y);var D,O,E=r.readability(P.color,f)<1.5?p.contrast(f):P.color,I=i.spikemode,z=i.spikethickness,N=i.spikecolor||E,R=g.getPxPosition(t,i);if(-1!==I.indexOf("toaxis")||-1!==I.indexOf("across")){if(-1!==I.indexOf("toaxis")&&(D=R,O=S),-1!==I.indexOf("across")){var F=i._counterDomainMin,j=i._counterDomainMax;"free"===i.anchor&&(F=Math.min(F,i.position),j=Math.max(j,i.position)),D=l.t+(1-j)*l.h,O=l.t+(1-F)*l.h}o.insert("line",":first-child").attr({x1:C,x2:C,y1:D,y2:O,"stroke-width":z,stroke:N,"stroke-dasharray":d.dashStyle(i.spikedash,z)}).classed("spikeline",!0).classed("crisp",!0),o.insert("line",":first-child").attr({x1:C,x2:C,y1:D,y2:O,"stroke-width":z+2,stroke:f}).classed("spikeline",!0).classed("crisp",!0)}-1!==I.indexOf("marker")&&o.insert("circle",":first-child").attr({cx:C,cy:R-("top"!==i.side?z:-z),r:z,fill:N}).classed("spikeline",!0)}}}function V(t,e){return!e||e.vLinePoint!==t._spikepoints.vLinePoint||e.hLinePoint!==t._spikepoints.hLinePoint}function Y(t,e){return u.plainText(t||"",{len:e,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function W(t,e,n){var r=e[t+"a"],i=e[t+"Val"],a=e.cd[0];if("category"===r.type||"multicategory"===r.type)i=r._categoriesMap[i];else if("date"===r.type){var o=e.trace[t+"periodalignment"];if(o){var s=e.cd[e.index],l=s[t+"Start"];void 0===l&&(l=s[t]);var c=s[t+"End"];void 0===c&&(c=s[t]);var u=c-l;"end"===o?i+=u:"middle"===o&&(i+=u/2)}i=r.d2c(i)}return a&&a.t&&a.t.posLetter===r._id&&("group"===n.boxmode||"group"===n.violinmode)&&(i+=a.t.dPos),i}function G(t){return t.offsetTop+t.clientTop}function q(t){return t.offsetLeft+t.clientLeft}function X(t,e){var n=t._fullLayout,r=e.getBoundingClientRect(),a=r.left,o=r.top,s=a+r.width,l=o+r.height,c=i.apply3DTransform(n._invTransform)(a,o),u=i.apply3DTransform(n._invTransform)(s,l),h=c[0],d=c[1],f=u[0],p=u[1];return{x:h,y:d,width:f-h,height:p-d,top:Math.min(d,p),left:Math.min(h,f),right:Math.max(h,f),bottom:Math.max(d,p)}}})),yn=a(((t,e)=>{var n=$t(),r=E(),i=Be().isUnifiedHover;e.exports=function(t,e,a,o){o=o||{};var s=e.legend;function l(t){o.font[t]||(o.font[t]=s?e.legend.font[t]:e.font[t])}e&&i(e.hovermode)&&(o.font||(o.font={}),l("size"),l("family"),l("color"),l("weight"),l("style"),l("variant"),s?(o.bgcolor||(o.bgcolor=r.combine(e.legend.bgcolor,e.paper_bgcolor)),o.bordercolor||(o.bordercolor=e.legend.bordercolor)):o.bgcolor||(o.bgcolor=e.paper_bgcolor)),a("hoverlabel.bgcolor",o.bgcolor),a("hoverlabel.bordercolor",o.bordercolor),a("hoverlabel.namelength",o.namelength),n.coerceFont(a,"hoverlabel.font",o.font),a("hoverlabel.align",o.align)}})),_n=a(((t,e)=>{var n=$t(),r=yn(),i=C();e.exports=function(t,e){r(t,e,(function(r,a){return n.coerce(t,e,i,r,a)}))}})),xn=a(((t,e)=>{var n=$t(),r=S(),i=yn();e.exports=function(t,e,a,o){var s=n.extendFlat({},o.hoverlabel);e.hovertemplate&&(s.namelength=-1),i(t,e,(function(i,a){return n.coerce(t,e,r,i,a)}),s)}})),bn=a(((t,e)=>{var n=$t(),r=C();e.exports=function(t,e){function i(i,a){return void 0!==e[i]?e[i]:n.coerce(t,e,r,i,a)}return i("clickmode"),i("hoversubplots"),i("hovermode")}})),wn=a(((t,e)=>{var n=$t(),r=C(),i=bn(),a=yn();e.exports=function(t,e){function o(i,a){return n.coerce(t,e,r,i,a)}i(t,e)&&(o("hoverdistance"),o("spikedistance")),"select"===o("dragmode")&&o("selectdirection");var s=e._has("mapbox"),l=e._has("map"),c=e._has("geo"),u=e._basePlotModules.length;"zoom"===e.dragmode&&((s||l||c)&&1===u||(s||l)&&c&&2===u)&&(e.dragmode="pan"),a(t,e,o),n.coerceFont(o,"hoverlabel.grouptitlefont",e.hoverlabel.font)}})),Mn=a(((t,e)=>{var n=$t(),r=Et();function i(t,e,r,i){i=i||n.identity,Array.isArray(t)&&(e[0][r]=i(t))}e.exports=function(t){var e=t.calcdata,a=t._fullLayout;function o(t){return function(e){return n.coerceHoverinfo({hoverinfo:e},{_module:t._module},a)}}for(var s=0;s<e.length;s++){var l=e[s],c=l[0].trace;if(!r.traceIs(c,"pie-like")){var u=r.traceIs(c,"2dMap")?i:n.fillArray;u(c.hoverinfo,l,"hi",o(c)),c.hovertemplate&&u(c.hovertemplate,l,"ht"),c.hoverlabel&&(u(c.hoverlabel.bgcolor,l,"hbg"),u(c.hoverlabel.bordercolor,l,"hbc"),u(c.hoverlabel.font.size,l,"hts"),u(c.hoverlabel.font.color,l,"htc"),u(c.hoverlabel.font.family,l,"htf"),u(c.hoverlabel.font.weight,l,"htw"),u(c.hoverlabel.font.style,l,"hty"),u(c.hoverlabel.font.variant,l,"htv"),u(c.hoverlabel.namelength,l,"hnl"),u(c.hoverlabel.align,l,"hta"))}}}})),Tn=a(((t,e)=>{var n=Et(),r=vn().hover;e.exports=function(t,e,i){var a=n.getComponentMethod("annotations","onClick")(t,t._hoverdata);function o(){t.emit("plotly_click",{points:t._hoverdata,event:e})}void 0!==i&&r(t,e,i,!0),t._hoverdata&&e&&e.target&&(a&&a.then?a.then(o):o(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}})),kn=a(((t,e)=>{var n=l(),r=$t(),i=nn(),a=Be(),o=C(),s=vn();e.exports={moduleType:"component",name:"fx",constants:L(),schema:{layout:o},attributes:S(),layoutAttributes:o,supplyLayoutGlobalDefaults:_n(),supplyDefaults:xn(),supplyLayoutDefaults:wn(),calc:Mn(),getDistanceFunction:a.getDistanceFunction,getClosest:a.getClosest,inbox:a.inbox,quadrature:a.quadrature,appendArrayPointValue:a.appendArrayPointValue,castHoverOption:function(t,e,n){return r.castOption(t,e,"hoverlabel."+n)},castHoverinfo:function(t,e,n){return r.castOption(t,n,"hoverinfo",(function(n){return r.coerceHoverinfo({hoverinfo:n},{_module:t._module},e)}))},hover:s.hover,unhover:i.unhover,loneHover:s.loneHover,loneUnhover:function(t){var e=r.isD3Selection(t)?t:n.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()},click:Tn()}})),An=a((t=>{t.selectMode=function(t){return"lasso"===t||"select"===t},t.drawMode=function(t){return"drawclosedpath"===t||"drawopenpath"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},t.openMode=function(t){return"drawline"===t||"drawopenpath"===t},t.rectMode=function(t){return"select"===t||"drawline"===t||"drawrect"===t||"drawcircle"===t},t.freeMode=function(t){return"lasso"===t||"drawclosedpath"===t||"drawopenpath"===t},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}})),Ln=a(((t,e)=>{e.exports=function(t){var e=t._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each((function(t){t.regl&&t.regl.clear({color:!0,depth:!0})}))}})),Cn=a(((t,e)=>{e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}})),Sn=a(((t,e)=>{e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}})),Pn=a(((t,e)=>{var n=$t().strTranslate;function r(t,e){switch(t.type){case"log":return t.p2d(e);case"date":return t.p2r(e,0,t.calendar);default:return t.p2r(e)}}e.exports={p2r:r,r2p:function(t,e){switch(t.type){case"log":return t.d2p(e);case"date":return t.r2p(e,0,t.calendar);default:return t.r2p(e)}},axValue:function(t){var e="y"===t._id.charAt(0)?1:0;return function(n){return r(t,n[e])}},getTransform:function(t){return n(t.xaxis._offset,t.yaxis._offset)}}})),Dn=a((t=>{var e=He(),n=Sn(),r=n.CIRCLE_SIDES,i=n.SQRT2,a=Pn(),o=a.p2r,s=a.r2p,l=[0,3,4,5,6,1,2],c=[0,3,4,1,2];function u(t,e){return Math.abs(t-e)<=1e-6}function h(t,e){var n=e[1]-t[1],r=e[2]-t[2];return Math.sqrt(n*n+r*r)}t.writePaths=function(t){var e=t.length;if(!e)return"M0,0Z";for(var n="",r=0;r<e;r++)for(var i=t[r].length,a=0;a<i;a++){var o=t[r][a][0];if("Z"===o)n+="Z";else for(var s=t[r][a].length,u=0;u<s;u++){var h=u;"Q"===o||"S"===o?h=c[u]:"C"===o&&(h=l[u]),n+=t[r][a][h],u>0&&u<s-1&&(n+=",")}}return n},t.readPaths=function(t,n,i,a){var l,c,u,h=e(t),d=[],f=-1,p=0,m=0,g=function(){c=p,u=m};g();for(var v=0;v<h.length;v++){var y,_,x,b,w=[],M=h[v][0],T=M;switch(M){case"M":d[++f]=[],p=+h[v][1],m=+h[v][2],w.push([T,p,m]),g();break;case"Q":case"S":y=+h[v][1],x=+h[v][2],p=+h[v][3],m=+h[v][4],w.push([T,p,m,y,x]);break;case"C":y=+h[v][1],x=+h[v][2],_=+h[v][3],b=+h[v][4],p=+h[v][5],m=+h[v][6],w.push([T,p,m,y,x,_,b]);break;case"T":case"L":p=+h[v][1],m=+h[v][2],w.push([T,p,m]);break;case"H":T="L",p=+h[v][1],w.push([T,p,m]);break;case"V":T="L",m=+h[v][1],w.push([T,p,m]);break;case"A":T="L";var k=+h[v][1],A=+h[v][2];+h[v][4]||(k=-k,A=-A);var L=p-k,C=m;for(l=1;l<=r/2;l++){var S=2*Math.PI*l/r;w.push([T,L+k*Math.cos(S),C+A*Math.sin(S)])}break;case"Z":(p!==c||m!==u)&&(p=c,m=u,w.push([T,p,m]))}for(var P=(i||{}).domain,D=n._fullLayout._size,O=i&&"pixel"===i.xsizemode,E=i&&"pixel"===i.ysizemode,I=!1===a,z=0;z<w.length;z++){for(l=0;l+2<7;l+=2){var N=w[z][l+1],R=w[z][l+2];void 0===N||void 0===R||(p=N,m=R,i&&(i.xaxis&&i.xaxis.p2r?(I&&(N-=i.xaxis._offset),N=O?s(i.xaxis,i.xanchor)+N:o(i.xaxis,N)):(I&&(N-=D.l),P?N=P.x[0]+N/D.w:N/=D.w),i.yaxis&&i.yaxis.p2r?(I&&(R-=i.yaxis._offset),R=E?s(i.yaxis,i.yanchor)-R:o(i.yaxis,R)):(I&&(R-=D.t),R=P?P.y[1]-R/D.h:1-R/D.h)),w[z][l+1]=N,w[z][l+2]=R)}d[f].push(w[z].slice())}}return d},t.pointsOnRectangle=function(t){if(5!==t.length)return!1;for(var e=1;e<3;e++){if(!u(t[0][e]-t[1][e],t[3][e]-t[2][e]))return!1;if(!u(t[0][e]-t[3][e],t[1][e]-t[2][e]))return!1}return!(!u(t[0][1],t[1][1])&&!u(t[0][1],t[3][1])||!(h(t[0],t[1])*h(t[0],t[3])))},t.pointsOnEllipse=function(t){var e=t.length;if(e!==r+1)return!1;e=r;for(var n=0;n<e;n++){var i=(2*e-n)%e,a=(e/2+i)%e,o=(e/2+n)%e;if(!u(h(t[n],t[o]),h(t[i],t[a])))return!1}return!0},t.handleEllipse=function(e,n,a){if(!e)return[n,a];var o=t.ellipseOver({x0:n[0],y0:n[1],x1:a[0],y1:a[1]}),s=(o.x1+o.x0)/2,l=(o.y1+o.y0)/2,c=(o.x1-o.x0)/2,u=(o.y1-o.y0)/2;c||(c=u/=i),u||(u=c/=i);for(var h=[],d=0;d<r;d++){var f=2*d*Math.PI/r;h.push([s+c*Math.cos(f),l+u*Math.sin(f)])}return h},t.ellipseOver=function(t){var e=t.x0,n=t.y0,r=t.x1,a=t.y1,o=r-e,s=a-n,l=((e-=o)+r)/2,c=((n-=s)+a)/2;return{x0:l-(o*=i),y0:c-(s*=i),x1:l+o,y1:c+s}},t.fixDatesForPaths=function(t,e,n){var r="date"===e.type,i="date"===n.type;if(!r&&!i)return t;for(var a=0;a<t.length;a++)for(var o=0;o<t[a].length;o++)for(var s=0;s+2<t[a][o].length;s+=2)r&&(t[a][o][s+1]=t[a][o][s+1].replace(" ","_")),i&&(t[a][o][s+2]=t[a][o][s+2].replace(" ","_"));return t}})),On=a(((t,e)=>{var n=An(),r=n.drawMode,i=n.openMode,a=Sn(),o=a.i000,s=a.i090,l=a.i180,c=a.i270,u=a.cos45,h=a.sin45,d=Pn(),f=d.p2r,p=d.r2p,m=ue().clearOutline,g=Dn(),v=g.readPaths,y=g.writePaths,_=g.ellipseOver,x=g.fixDatesForPaths;function b(t,e,n){var r,a=t[0][0],d=e.gd,m=a.getAttribute("d"),g=d._fullLayout.newshape,b=e.plotinfo,w=e.isActiveShape,M=b.xaxis,T=b.yaxis,k=!!b.domain||!b.xaxis,A=!!b.domain||!b.yaxis,L=i(n),C=v(m,d,b,w),S={editable:!0,visible:g.visible,name:g.name,showlegend:g.showlegend,legend:g.legend,legendwidth:g.legendwidth,legendgroup:g.legendgroup,legendgrouptitle:{text:g.legendgrouptitle.text,font:g.legendgrouptitle.font},legendrank:g.legendrank,label:g.label,xref:k?"paper":M._id,yref:A?"paper":T._id,layer:g.layer,opacity:g.opacity,line:{color:g.line.color,width:g.line.width,dash:g.line.dash}};if(L||(S.fillcolor=g.fillcolor,S.fillrule=g.fillrule),1===C.length&&(r=C[0]),r&&5===r.length&&"drawrect"===n)S.type="rect",S.x0=r[0][1],S.y0=r[0][2],S.x1=r[2][1],S.y1=r[2][2];else if(r&&"drawline"===n)S.type="line",S.x0=r[0][1],S.y0=r[0][2],S.x1=r[1][1],S.y1=r[1][2];else if(r&&"drawcircle"===n){S.type="circle";var P=r[o][1],D=r[s][1],O=r[l][1],E=r[c][1],I=r[o][2],z=r[s][2],N=r[l][2],R=r[c][2],F=b.xaxis&&("date"===b.xaxis.type||"log"===b.xaxis.type),j=b.yaxis&&("date"===b.yaxis.type||"log"===b.yaxis.type);F&&(P=p(b.xaxis,P),D=p(b.xaxis,D),O=p(b.xaxis,O),E=p(b.xaxis,E)),j&&(I=p(b.yaxis,I),z=p(b.yaxis,z),N=p(b.yaxis,N),R=p(b.yaxis,R));var B=(D+E)/2,H=(I+N)/2,U=_({x0:B,y0:H,x1:B+(E-D+O-P)/2*u,y1:H+(R-z+N-I)/2*h});F&&(U.x0=f(b.xaxis,U.x0),U.x1=f(b.xaxis,U.x1)),j&&(U.y0=f(b.yaxis,U.y0),U.y1=f(b.yaxis,U.y1)),S.x0=U.x0,S.y0=U.y0,S.x1=U.x1,S.y1=U.y1}else S.type="path",M&&T&&x(C,M,T),S.path=y(C),r=null;return S}e.exports={newShapes:function(t,e){if(t.length&&t[0][0]){var n=e.gd,i=e.isActiveShape,a=e.dragmode,o=(n.layout||{}).shapes||[];if(!r(a)&&void 0!==i){var s=n._fullLayout._activeShapeIndex;if(s<o.length)switch(n._fullLayout.shapes[s].type){case"rect":a="drawrect";break;case"circle":a="drawcircle";break;case"line":a="drawline";break;case"path":var l=o[s].path||"";a="Z"===l[l.length-1]?"drawclosedpath":"drawopenpath"}}var c=b(t,e,a);m(n);for(var u=e.editHelpers,h=(u||{}).modifyItem,d=[],f=0;f<o.length;f++){var p=n._fullLayout.shapes[f];if(d[f]=p._input,void 0!==i&&f===n._fullLayout._activeShapeIndex){var g=c;switch(p.type){case"line":case"rect":case"circle":h("x0",g.x0-(p.x0shift||0)),h("x1",g.x1-(p.x1shift||0)),h("y0",g.y0-(p.y0shift||0)),h("y1",g.y1-(p.y1shift||0));break;case"path":h("path",g.path)}}}return void 0===i?(d.push(c),d):u?u.getUpdateObj():{}}},createShapeObj:b}})),En=a(((t,e)=>{var n=An().selectMode,r=ue().clearOutline,i=Dn(),a=i.readPaths,o=i.writePaths,s=i.fixDatesForPaths;e.exports=function(t,e){if(t.length){var i=t[0][0];if(i){var l=i.getAttribute("d"),c=e.gd,u=c._fullLayout.newselection,h=e.plotinfo,d=h.xaxis,f=h.yaxis,p=e.isActiveSelection,m=e.dragmode,g=(c.layout||{}).selections||[];if(!n(m)&&void 0!==p){var v=c._fullLayout._activeSelectionIndex;if(v<g.length)switch(c._fullLayout.selections[v].type){case"rect":m="select";break;case"path":m="lasso"}}var y,_=a(l,c,h,p),x={xref:d._id,yref:f._id,opacity:u.opacity,line:{color:u.line.color,width:u.line.width,dash:u.line.dash}};1===_.length&&(y=_[0]),y&&5===y.length&&"select"===m?(x.type="rect",x.x0=y[0][1],x.y0=y[0][2],x.x1=y[2][1],x.y1=y[2][2]):(x.type="path",d&&f&&s(_,d,f),x.path=o(_),y=null),r(c);for(var b=e.editHelpers,w=(b||{}).modifyItem,M=[],T=0;T<g.length;T++){var k=c._fullLayout.selections[T];if(k){if(M[T]=k._input,void 0!==p&&T===c._fullLayout._activeSelectionIndex){var A=x;switch(k.type){case"rect":w("x0",A.x0),w("x1",A.x1),w("y0",A.y0),w("y1",A.y1);break;case"path":w("path",A.path)}}}else M[T]=k}return void 0===p?(M.push(x),M):b?b.getUpdateObj():{}}}}})),In=a(((t,e)=>{e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}})),zn=a((t=>{var e=In(),n=$t(),r=qe();function i(t,e){var n=0;return(e=e||0)&&t&&("category"===t.type||"multicategory"===t.type)&&(n=(t.r2p(1)-t.r2p(0))*e),n}t.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},t.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},t.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},t.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},t.extractPathCoords=function(t,r,i){var a=[];return t.match(e.segmentRE).forEach((function(t){var o=r[t.charAt(0)].drawn;if(void 0!==o){var s=t.substr(1).match(e.paramRE);if(s&&!(s.length<o)){var l=s[o],c=i?l:n.cleanNumber(l);a.push(c)}}})),a},t.getDataToPixel=function(e,n,r,a,o){var s,l=e._fullLayout._size;if(n)if("domain"===o)s=function(t){return n._length*(a?1-t:t)+n._offset};else{var c=t.shapePositionToRange(n);s=function(t){var e=i(n,r);return n._offset+n.r2p(c(t,!0))+e},"date"===n.type&&(s=t.decodeDate(s))}else s=a?function(t){return l.t+l.h*(1-t)}:function(t){return l.l+l.w*t};return s},t.getPixelToData=function(e,n,r,i){var a,o=e._fullLayout._size;if(n)if("domain"===i)a=function(t){var e=(t-n._offset)/n._length;return r?1-e:e};else{var s=t.rangeToShapePosition(n);a=function(t){return s(n.p2r(t-n._offset))}}else a=r?function(t){return 1-(t-o.t)/o.h}:function(t){return(t-o.l)/o.w};return a},t.roundPositionForSharpStrokeRendering=function(t,e){var n=1===Math.round(e%2),r=Math.round(t);return n?r+.5:r},t.makeShapesOptionsAndPlotinfo=function(t,e){var n=t._fullLayout.shapes[e]||{},r=t._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&"paper"!==n.xref&&(r.xaxis=t._fullLayout[n.xref+"axis"]),n.yref&&"paper"!==n.yref&&(r.yaxis=t._fullLayout[n.yref+"axis"])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}},t.makeSelectionsOptionsAndPlotinfo=function(t,e){var n=t._fullLayout.selections[e]||{},r=t._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&(r.xaxis=t._fullLayout[n.xref+"axis"]),n.yref&&(r.yaxis=t._fullLayout[n.yref+"axis"])),{options:n,plotinfo:r}},t.getPathString=function(a,o){var s,l,c,u,h,d,f,p,m=o.type,g=r.getRefType(o.xref),v=r.getRefType(o.yref),y=r.getFromId(a,o.xref),_=r.getFromId(a,o.yref),x=a._fullLayout._size,b=i(y,o.x0shift),w=i(y,o.x1shift),M=i(_,o.y0shift),T=i(_,o.y1shift);if(y?"domain"===g?l=function(t){return y._offset+y._length*t}:(s=t.shapePositionToRange(y),l=function(t){return y._offset+y.r2p(s(t,!0))}):l=function(t){return x.l+x.w*t},_?"domain"===v?u=function(t){return _._offset+_._length*(1-t)}:(c=t.shapePositionToRange(_),u=function(t){return _._offset+_.r2p(c(t,!0))}):u=function(t){return x.t+x.h*(1-t)},"path"===m)return y&&"date"===y.type&&(l=t.decodeDate(l)),_&&"date"===_.type&&(u=t.decodeDate(u)),function(t,r,i){var a=t.path,o=t.xsizemode,s=t.ysizemode,l=t.xanchor,c=t.yanchor;return a.replace(e.segmentRE,(function(t){var a=0,u=t.charAt(0),h=e.paramIsX[u],d=e.paramIsY[u],f=e.numParams[u],p=t.substr(1).replace(e.paramRE,(function(t){return h[a]?t="pixel"===o?r(l)+Number(t):r(t):d[a]&&(t="pixel"===s?i(c)-Number(t):i(t)),++a>f&&(t="X"),t}));return a>f&&(p=p.replace(/[\s,]*X.*/,""),n.log("Ignoring extra params in segment "+t)),u+p}))}(o,l,u);if("pixel"===o.xsizemode){var k=l(o.xanchor);h=k+o.x0+b,d=k+o.x1+w}else h=l(o.x0)+b,d=l(o.x1)+w;if("pixel"===o.ysizemode){var A=u(o.yanchor);f=A-o.y0+M,p=A-o.y1+T}else f=u(o.y0)+M,p=u(o.y1)+T;if("line"===m)return"M"+h+","+f+"L"+d+","+p;if("rect"===m)return"M"+h+","+f+"H"+d+"V"+p+"H"+h+"Z";var L=(h+d)/2,C=(f+p)/2,S=Math.abs(L-h),P=Math.abs(C-f),D="A"+S+","+P,O=L+S+","+C;return"M"+O+D+" 0 1,1 "+L+","+(C-P)+D+" 0 0,1 "+O+"Z"}})),Nn=a(((t,e)=>{var n=$t(),r=qe(),i=ve(),a=Ze(),o=Dn().readPaths,s=zn(),l=s.getPathString,c=kt(),u=ge().FROM_TL;e.exports=function(t,e,h,d){if(d.selectAll(".shape-label").remove(),h.label.text||h.label.texttemplate){var f;if(h.label.texttemplate){var p={};if("path"!==h.type){var m=r.getFromId(t,h.xref),g=r.getFromId(t,h.yref);for(var v in c){var y=c[v](h,m,g);void 0!==y&&(p[v]=y)}}f=n.texttemplateStringForShapes(h.label.texttemplate,{},t._fullLayout._d3locale,p)}else f=h.label.text;var _,x,b,w,M={"data-index":e},T=h.label.font,k=d.append("g").attr(M).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(f);if(h.path){var A=l(t,h),L=o(A,t);_=1/0,b=1/0,x=-1/0,w=-1/0;for(var C=0;C<L.length;C++)for(var S=0;S<L[C].length;S++)for(var P=L[C][S],D=1;D<P.length;D+=2){var O=P[D],E=P[D+1];_=Math.min(_,O),x=Math.max(x,O),b=Math.min(b,E),w=Math.max(w,E)}}else{var I=r.getFromId(t,h.xref),z=h.x0shift,N=h.x1shift,R=r.getRefType(h.xref),F=r.getFromId(t,h.yref),j=h.y0shift,B=h.y1shift,H=r.getRefType(h.yref),U=function(e,n){return s.getDataToPixel(t,I,n,!1,R)(e)},Z=function(e,n){return s.getDataToPixel(t,F,n,!0,H)(e)};_=U(h.x0,z),x=U(h.x1,N),b=Z(h.y0,j),w=Z(h.y1,B)}var V=h.label.textangle;"auto"===V&&(V="line"===h.type?function(t,e,n,r){var i,a;return a=Math.abs(n-t),i=n>=t?e-r:r-e,-180/Math.PI*Math.atan2(i,a)}(_,b,x,w):0),k.call((function(e){return e.call(a.font,T).attr({}),i.convertToTspans(e,t),e}));var Y=function(t,e,n,r,i,a,o){var s,l,c,h,d=i.label.textposition,f=i.label.textangle,p=i.label.padding,m=i.type,g=Math.PI/180*a,v=Math.sin(g),y=Math.cos(g),_=i.label.xanchor,x=i.label.yanchor;if("line"===m){"start"===d?(s=t,l=e):"end"===d?(s=n,l=r):(s=(t+n)/2,l=(e+r)/2),"auto"===_&&(_="start"===d?"auto"===f?n>t?"left":n<t?"right":"center":n>t?"right":n<t?"left":"center":"end"===d?"auto"===f?n>t?"right":n<t?"left":"center":n>t?"left":n<t?"right":"center":"center");var b={bottom:-1,middle:0,top:1};if("auto"===f){var w=b[x];c=-p*v*w,h=p*y*w}else c=p*{left:1,center:0,right:-1}[_],h=p*b[x];s+=c,l+=h}else c=p+3,-1!==d.indexOf("right")?(s=Math.max(t,n)-c,"auto"===_&&(_="right")):-1!==d.indexOf("left")?(s=Math.min(t,n)+c,"auto"===_&&(_="left")):(s=(t+n)/2,"auto"===_&&(_="center")),l=-1!==d.indexOf("top")?Math.min(e,r):-1!==d.indexOf("bottom")?Math.max(e,r):(e+r)/2,h=p,"bottom"===x?l-=h:"top"===x&&(l+=h);var M=u[x],T=i.label.font.size,k=o.height;return{textx:s+(k*M-T)*v,texty:l+-(k*M-T)*y,xanchor:_}}(_,b,x,w,h,V,a.bBox(k.node())),W=Y.textx,G=Y.texty,q=Y.xanchor;k.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[q],y:G,x:W,transform:"rotate("+V+","+W+","+G+")"}).call(i.positionText,W,G)}}})),Rn=a(((t,e)=>{var n=$t().strTranslate,r=nn(),i=An(),a=i.drawMode,o=i.selectMode,s=Et(),l=E(),c=Sn(),u=c.i000,h=c.i090,d=c.i180,f=c.i270,p=ue().clearOutlineControllers,m=Dn(),g=m.pointsOnRectangle,v=m.pointsOnEllipse,y=m.writePaths,_=On().newShapes,x=On().createShapeObj,b=En(),w=Nn();function M(t,e){var n,r,i,a=t[e][1],o=t[e][2],s=t.length;return r=t[n=(e+1)%s][1],i=t[n][2],r===a&&i===o&&(r=t[n=(e+2)%s][1],i=t[n][2]),[n,r,i]}e.exports=function t(e,i,c,m){m||(m=0);var T=c.gd;function k(){t(e,i,c,m++),(v(e[0])||c.hasText)&&A({redrawing:!0})}function A(t){var e={};void 0!==c.isActiveShape&&(c.isActiveShape=!1,e=_(i,c)),void 0!==c.isActiveSelection&&(c.isActiveSelection=!1,e=b(i,c),T._fullLayout._reselect=!0),Object.keys(e).length&&s.call((t||{}).redrawing?"relayout":"_guiRelayout",T,e)}var L,C,S,P,D,O=T._fullLayout._zoomlayer,E=c.dragmode,I=a(E),z=o(E);if((I||z)&&(T._fullLayout._outlining=!0),p(T),i.attr("d",y(e)),m||!c.isActiveShape&&!c.isActiveSelection||(D=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];t[n]=[];for(var i=0;i<r.length;i++){t[n][i]=[];for(var a=0;a<r[i].length;a++)t[n][i][a]=r[i][a]}}return t}([],e),function(t){L=[];for(var i=0;i<e.length;i++){var a=e[i],o=g(a),s=!o&&v(a);L[i]=[];for(var p=a.length,m=0;m<p;m++)if("Z"!==a[m][0]&&(!s||m===u||m===h||m===d||m===f)){var y,_=o&&c.isActiveSelection;_&&(y=M(a,m));var x=a[m][1],b=a[m][2],w=t.append(_?"rect":"circle").attr("data-i",i).attr("data-j",m).style({fill:l.background,stroke:l.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(_){var k=y[1]-x,A=y[2]-b,C=A?5:Math.max(Math.min(25,Math.abs(k)-5),5),S=k?5:Math.max(Math.min(25,Math.abs(A)-5),5);w.classed(A?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",C).attr("height",S).attr("x",x-C/2).attr("y",b-S/2).attr("transform",n(k/2,A/2))}else w.classed("cursor-grab",!0).attr("r",5).attr("cx",x).attr("cy",b);L[i][m]={element:w.node(),gd:T,prepFn:F,doneFn:B,clickFn:H},r.init(L[i][m])}}}(O.append("g").attr("class","outline-controllers")),function(){if(C=[],e.length){C[0]={element:i[0][0],gd:T,prepFn:Z,doneFn:V,clickFn:Y},r.init(C[0])}}()),I&&c.hasText){var N=O.select(".label-temp"),R=x(i,c,c.dragmode);w(T,"label-temp",R,N)}function F(t){S=+t.srcElement.getAttribute("data-i"),P=+t.srcElement.getAttribute("data-j"),L[S][P].moveFn=j}function j(t,n){if(e.length){var r=D[S][P][1],i=D[S][P][2],a=e[S],o=a.length;if(g(a)){var s=t,l=n;c.isActiveSelection&&(M(a,P)[1]===a[P][1]?l=0:s=0);for(var u=0;u<o;u++)if(u!==P){var h=a[u];h[1]===a[P][1]&&(h[1]=r+s),h[2]===a[P][2]&&(h[2]=i+l)}if(a[P][1]=r+s,a[P][2]=i+l,!g(a))for(var d=0;d<o;d++)for(var f=0;f<a[d].length;f++)a[d][f]=D[S][d][f]}else a[P][1]=r+t,a[P][2]=i+n;k()}}function B(){A()}function H(t,n){if(2===t){S=+n.srcElement.getAttribute("data-i"),P=+n.srcElement.getAttribute("data-j");var r=e[S];!g(r)&&!v(r)&&function(){if(e.length&&e[S]&&e[S].length){for(var t=[],n=0;n<e[S].length;n++)n!==P&&t.push(e[S][n]);t.length>1&&(2!==t.length||"Z"!==t[1][0])&&(0===P&&(t[0][0]="M"),e[S]=t,k(),A())}}()}}function U(t,n){(function(t,n){if(e.length)for(var r=0;r<e.length;r++)for(var i=0;i<e[r].length;i++)for(var a=0;a+2<e[r][i].length;a+=2)e[r][i][a+1]=D[r][i][a+1]+t,e[r][i][a+2]=D[r][i][a+2]+n})(t,n),k()}function Z(t){(S=+t.srcElement.getAttribute("data-i"))||(S=0),C[S].moveFn=U}function V(){A()}function Y(t){2===t&&function(t){if(o(t._fullLayout.dragmode)){p(t);var e=t._fullLayout._activeSelectionIndex,n=(t.layout||{}).selections||[];if(e<n.length){for(var r=[],i=0;i<n.length;i++)i!==e&&r.push(n[i]);delete t._fullLayout._activeSelectionIndex;var a=t._fullLayout.selections[e];t._fullLayout._deselect={xref:a.xref,yref:a.yref},s.call("_guiRelayout",t,{selections:r})}}}(T)}}})),Fn=a(((t,e)=>{var n=l(),r=Et(),i=$t(),a=qe(),o=Dn().readPaths,s=Rn(),c=Nn(),u=ue().clearOutlineControllers,h=E(),d=Ze(),f=se().arrayEditor,p=nn(),m=rn(),g=In(),v=zn(),y=v.getPathString;function _(t){var e=t._fullLayout;for(var n in e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeUpperLayer.selectAll("text").remove(),e._shapeLowerLayer.selectAll("text").remove(),e._plots){var r=e._plots[n].shapelayer;r&&(r.selectAll("path").remove(),r.selectAll("text").remove())}for(var i=0;i<e.shapes.length;i++)!0===e.shapes[i].visible&&w(t,i)}function x(t){return!!t._fullLayout._outlining}function b(t){return!t._context.edits.shapePosition}function w(t,e){t._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+e+'"]').remove();var l=v.makeShapesOptionsAndPlotinfo(t,e),u=l.options,w=l.plotinfo;function A(l){var A=y(t,u),L={"data-index":e,"fill-rule":u.fillrule,d:A},C=u.opacity,S=u.fillcolor,P=u.line.width?u.line.color:"rgba(0,0,0,0)",D=u.line.width,O=u.line.dash;!D&&!0===u.editable&&(D=5,O="solid");var E="Z"!==A[A.length-1],I=b(t)&&u.editable&&t._fullLayout._activeShapeIndex===e;I&&(S=E?"rgba(0,0,0,0)":t._fullLayout.activeshape.fillcolor,C=t._fullLayout.activeshape.opacity);var z,N=l.append("g").classed("shape-group",!0).attr({"data-index":e}),R=N.append("path").attr(L).style("opacity",C).call(h.stroke,P).call(h.fill,S).call(d.dashLine,O,D);if(M(N,t,u),c(t,e,u,N),(I||t._context.edits.shapePosition)&&(z=f(t.layout,"shapes",u)),I){R.style({cursor:"move"});var F={element:R.node(),plotinfo:w,gd:t,editHelpers:z,hasText:u.label.text||u.label.texttemplate,isActiveShape:!0},j=o(A,t);s(j,R,F)}else t._context.edits.shapePosition?function(t,e,o,s,l,u){var h,f,_,b,w,k,A,L,C,S,P,D,O,E,I,z,N="pixel"===o.xsizemode,R="pixel"===o.ysizemode,F="line"===o.type,j="path"===o.type,B=u.modifyItem,H=n.select(e.node().parentNode),U=a.getFromId(t,o.xref),Z=a.getRefType(o.xref),V=a.getFromId(t,o.yref),Y=a.getRefType(o.yref),W=o.x0shift,G=o.x1shift,q=o.y0shift,X=o.y1shift,J=function(e,n){return v.getDataToPixel(t,U,n,!1,Z)(e)},K=function(e,n){return v.getDataToPixel(t,V,n,!0,Y)(e)},$=v.getPixelToData(t,U,!1,Z),Q=v.getPixelToData(t,V,!0,Y),tt=F?function(){var t=10,n=Math.max(o.line.width,t),r=l.append("g").attr("data-index",s).attr("drag-helper",!0);r.append("path").attr("d",e.attr("d")).style({cursor:"move","stroke-width":n,"stroke-opacity":"0"});var i={"fill-opacity":"0"},a=Math.max(n/2,t);return r.append("circle").attr({"data-line-point":"start-point",cx:N?J(o.xanchor)+o.x0:J(o.x0,W),cy:R?K(o.yanchor)-o.y0:K(o.y0,q),r:a}).style(i).classed("cursor-grab",!0),r.append("circle").attr({"data-line-point":"end-point",cx:N?J(o.xanchor)+o.x1:J(o.x1,G),cy:R?K(o.yanchor)-o.y1:K(o.y1,X),r:a}).style(i).classed("cursor-grab",!0),r}():e,et={element:tt.node(),gd:t,prepFn:function(n){x(t)||(N&&(w=J(o.xanchor)),R&&(k=K(o.yanchor)),"path"===o.type?I=o.path:(h=N?o.x0:J(o.x0),f=R?o.y0:K(o.y0),_=N?o.x1:J(o.x1),b=R?o.y1:K(o.y1)),h<_?(C=h,O="x0",S=_,E="x1"):(C=_,O="x1",S=h,E="x0"),!R&&f<b||R&&f>b?(A=f,P="y0",L=b,D="y1"):(A=b,P="y1",L=f,D="y0"),nt(n),at(l,o),function(t,e,n){var r=e.xref,i=e.yref,o=a.getFromId(n,r),s=a.getFromId(n,i),l="";"paper"!==r&&!o.autorange&&(l+=r),"paper"!==i&&!s.autorange&&(l+=i),d.setClipUrl(t,l?"clip"+n._fullLayout._uid+l:null,n)}(e,o,t),et.moveFn="move"===z?rt:it,et.altKey=n.altKey)},doneFn:function(){x(t)||(m(e),ot(l),M(e,t,o),r.call("_guiRelayout",t,u.getUpdateObj()))},clickFn:function(){x(t)||ot(l)}};function nt(n){if(x(t))z=null;else if(F)z="path"===n.target.tagName?"move":"start-point"===n.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var r=et.element.getBoundingClientRect(),i=r.right-r.left,a=r.bottom-r.top,o=n.clientX-r.left,s=n.clientY-r.top,l=!j&&i>10&&a>10&&!n.shiftKey?p.getCursor(o/i,1-s/a):"move";m(e,l),z=l.split("-")[0]}}function rt(n,r){if("path"===o.type){var i=function(t){return t},a=i,u=i;N?B("xanchor",o.xanchor=$(w+n)):(a=function(t){return $(J(t)+n)},U&&"date"===U.type&&(a=v.encodeDate(a))),R?B("yanchor",o.yanchor=Q(k+r)):(u=function(t){return Q(K(t)+r)},V&&"date"===V.type&&(u=v.encodeDate(u))),B("path",o.path=T(I,a,u))}else N?B("xanchor",o.xanchor=$(w+n)):(B("x0",o.x0=$(h+n)),B("x1",o.x1=$(_+n))),R?B("yanchor",o.yanchor=Q(k+r)):(B("y0",o.y0=Q(f+r)),B("y1",o.y1=Q(b+r)));e.attr("d",y(t,o)),at(l,o),c(t,s,o,H)}function it(n,r){if(j){var i=function(t){return t},a=i,u=i;N?B("xanchor",o.xanchor=$(w+n)):(a=function(t){return $(J(t)+n)},U&&"date"===U.type&&(a=v.encodeDate(a))),R?B("yanchor",o.yanchor=Q(k+r)):(u=function(t){return Q(K(t)+r)},V&&"date"===V.type&&(u=v.encodeDate(u))),B("path",o.path=T(I,a,u))}else if(F){if("resize-over-start-point"===z){var d=h+n,p=R?f-r:f+r;B("x0",o.x0=N?d:$(d)),B("y0",o.y0=R?p:Q(p))}else if("resize-over-end-point"===z){var m=_+n,g=R?b-r:b+r;B("x1",o.x1=N?m:$(m)),B("y1",o.y1=R?g:Q(g))}}else{var x=function(t){return-1!==z.indexOf(t)},M=x("n"),Z=x("s"),Y=x("w"),W=x("e"),G=M?A+r:A,q=Z?L+r:L,X=Y?C+n:C,tt=W?S+n:S;R&&(M&&(G=A-r),Z&&(q=L-r)),(!R&&q-G>10||R&&G-q>10)&&(B(P,o[P]=R?G:Q(G)),B(D,o[D]=R?q:Q(q))),tt-X>10&&(B(O,o[O]=N?X:$(X)),B(E,o[E]=N?tt:$(tt)))}e.attr("d",y(t,o)),at(l,o),c(t,s,o,H)}function at(t,e){(N||R)&&function(){var n="path"!==e.type,r=t.selectAll(".visual-cue").data([0]);r.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var a=J(N?e.xanchor:i.midRange(n?[e.x0,e.x1]:v.extractPathCoords(e.path,g.paramIsX))),o=K(R?e.yanchor:i.midRange(n?[e.y0,e.y1]:v.extractPathCoords(e.path,g.paramIsY)));if(a=v.roundPositionForSharpStrokeRendering(a,1),o=v.roundPositionForSharpStrokeRendering(o,1),N&&R){var s="M"+(a-1-1)+","+(o-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";r.attr("d",s)}else if(N){var l="M"+(a-1-1)+","+(o-9-1)+"v18 h2 v-18 Z";r.attr("d",l)}else{var c="M"+(a-9-1)+","+(o-1-1)+"h18 v2 h-18 Z";r.attr("d",c)}}()}function ot(t){t.selectAll(".visual-cue").remove()}p.init(et),tt.node().onmousemove=nt}(t,R,u,e,l,z):!0===u.editable&&R.style("pointer-events",E||h.opacity(S)*C<=.5?"stroke":"all");R.node().addEventListener("click",(function(){return function(t,e){if(b(t)){var n=+e.node().getAttribute("data-index");if(n>=0){if(n===t._fullLayout._activeShapeIndex)return void k(t);t._fullLayout._activeShapeIndex=n,t._fullLayout._deactivateShape=k,_(t)}}}(t,R)}))}u._input&&!0===u.visible&&("above"===u.layer?A(t._fullLayout._shapeUpperLayer):"paper"===u.xref||"paper"===u.yref?A(t._fullLayout._shapeLowerLayer):"between"===u.layer?A(w.shapelayerBetween):w._hadPlotinfo?A((w.mainplotinfo||w).shapelayer):A(t._fullLayout._shapeLowerLayer))}function M(t,e,n){var r=(n.xref+n.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");d.setClipUrl(t,r?"clip"+e._fullLayout._uid+r:null,e)}function T(t,e,n){return t.replace(g.segmentRE,(function(t){var r=0,i=t.charAt(0),a=g.paramIsX[i],o=g.paramIsY[i],s=g.numParams[i];return i+t.substr(1).replace(g.paramRE,(function(t){return r>=s||(a[r]?t=e(t):o[r]&&(t=n(t)),r++),t}))}))}function k(t){b(t)&&t._fullLayout._activeShapeIndex>=0&&(u(t),delete t._fullLayout._activeShapeIndex,_(t))}e.exports={draw:_,drawOne:w,eraseActiveShape:function(t){if(b(t)){u(t);var e=t._fullLayout._activeShapeIndex,n=(t.layout||{}).shapes||[];if(e<n.length){for(var i=[],a=0;a<n.length;a++)a!==e&&i.push(n[a]);return delete t._fullLayout._activeShapeIndex,r.call("_guiRelayout",t,{shapes:i})}}},drawLabel:c}})),jn=a(((t,e)=>{var n=Et(),r=pe(),i=ce(),a=Cn(),o=Fn().eraseActiveShape,s=$t(),l=s._,c=e.exports={};function u(t,e){var r,a,o=e.currentTarget,s=o.getAttribute("data-attr"),l=o.getAttribute("data-val")||!0,c=t._fullLayout,u={},h=i.list(t,null,!0),d=c._cartesianSpikesEnabled;if("zoom"===s){var f,p="in"===l?.5:2,m=(1+p)/2,g=(1-p)/2;for(a=0;a<h.length;a++)if(!(r=h[a]).fixedrange)if(f=r._name,"auto"===l)u[f+".autorange"]=!0;else if("reset"===l)void 0===r._rangeInitial0&&void 0===r._rangeInitial1?u[f+".autorange"]=!0:void 0===r._rangeInitial0?(u[f+".autorange"]=r._autorangeInitial,u[f+".range"]=[null,r._rangeInitial1]):void 0===r._rangeInitial1?(u[f+".range"]=[r._rangeInitial0,null],u[f+".autorange"]=r._autorangeInitial):u[f+".range"]=[r._rangeInitial0,r._rangeInitial1],void 0!==r._showSpikeInitial&&(u[f+".showspikes"]=r._showSpikeInitial,"on"===d&&!r._showSpikeInitial&&(d="off"));else{var v=[r.r2l(r.range[0]),r.r2l(r.range[1])],y=[m*v[0]+g*v[1],m*v[1]+g*v[0]];u[f+".range[0]"]=r.l2r(y[0]),u[f+".range[1]"]=r.l2r(y[1])}}else"hovermode"===s&&("x"===l||"y"===l)&&(l=c._isHoriz?"y":"x",o.setAttribute("data-val",l)),u[s]=l;c._cartesianSpikesEnabled=d,n.call("_guiRelayout",t,u)}function h(t,e){for(var r=e.currentTarget,i=r.getAttribute("data-attr"),a=r.getAttribute("data-val")||!0,o=t._fullLayout._subplots.gl3d||[],s={},l=i.split("."),c=0;c<o.length;c++)s[o[c]+"."+l[1]]=a;var u="pan"===a?a:"zoom";s.dragmode=u,n.call("_guiRelayout",t,s)}function d(t,e){for(var r=e.currentTarget.getAttribute("data-attr"),i="resetLastSave"===r,a="resetDefault"===r,o=t._fullLayout,s=o._subplots.gl3d||[],l={},c=0;c<s.length;c++){var u,h=s[c],d=h+".camera",f=h+".aspectratio",p=h+".aspectmode",m=o[h]._scene;i?(l[d+".up"]=m.viewInitial.up,l[d+".eye"]=m.viewInitial.eye,l[d+".center"]=m.viewInitial.center,u=!0):a&&(l[d+".up"]=null,l[d+".eye"]=null,l[d+".center"]=null,u=!0),u&&(l[f+".x"]=m.viewInitial.aspectratio.x,l[f+".y"]=m.viewInitial.aspectratio.y,l[f+".z"]=m.viewInitial.aspectratio.z,l[p]=m.viewInitial.aspectmode)}n.call("_guiRelayout",t,l)}function f(t,e){var n=e.currentTarget,r=n._previousVal,i=t._fullLayout,a=i._subplots.gl3d||[],o=["xaxis","yaxis","zaxis"],s={},l={};if(r)l=r,n._previousVal=null;else{for(var c=0;c<a.length;c++){var u=a[c],h=i[u],d=u+".hovermode";s[d]=h.hovermode,l[d]=!1;for(var f=0;f<3;f++){var p=o[f],m=u+"."+p+".showspikes";l[m]=!1,s[m]=h[p].showspikes}}n._previousVal=s}return l}function p(t,e){for(var r=e.currentTarget,i=r.getAttribute("data-attr"),a=r.getAttribute("data-val")||!0,o=t._fullLayout,s=o._subplots.geo||[],l=0;l<s.length;l++){var c=s[l],u=o[c];if("zoom"===i){var h=u.projection.scale,d="in"===a?2*h:.5*h;n.call("_guiRelayout",t,c+".projection.scale",d)}}"reset"===i&&x(t,"geo")}function m(t){var e=t._fullLayout;return!e.hovermode&&(e._has("cartesian")?e._isHoriz?"y":"x":"closest")}function g(t){var e=m(t);n.call("_guiRelayout",t,"hovermode",e)}function v(t,e){_(t,e,"mapbox")}function y(t,e){_(t,e,"map")}function _(t,e,r){for(var i=e.currentTarget.getAttribute("data-val"),a=t._fullLayout,o=a._subplots[r]||[],s={},l=0;l<o.length;l++){var c=o[l],u=a[c].zoom,h="in"===i?1.05*u:u/1.05;s[c+".zoom"]=h}n.call("_guiRelayout",t,s)}function x(t,e){for(var r=t._fullLayout,i=r._subplots[e]||[],a={},o=0;o<i.length;o++)for(var s=i[o],l=r[s]._subplot.viewInitial,c=Object.keys(l),u=0;u<c.length;u++){var h=c[u];a[s+"."+h]=l[h]}n.call("_guiRelayout",t,a)}c.toImage={name:"toImage",title:function(t){var e=(t._context.toImageButtonOptions||{}).format||"png";return l(t,"png"===e?"Download plot as a png":"Download plot")},icon:a.camera,click:function(t){var e=t._context.toImageButtonOptions,r={format:e.format||"png"};s.notifier(l(t,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach((function(t){t in e&&(r[t]=e[t])})),n.call("downloadImage",t,r).then((function(e){s.notifier(l(t,"Snapshot succeeded")+" - "+e,"long")})).catch((function(){s.notifier(l(t,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},c.sendDataToCloud={name:"sendDataToCloud",title:function(t){return l(t,"Edit in Chart Studio")},icon:a.disk,click:function(t){r.sendDataToCloud(t)}},c.editInChartStudio={name:"editInChartStudio",title:function(t){return l(t,"Edit in Chart Studio")},icon:a.pencil,click:function(t){r.sendDataToCloud(t)}},c.zoom2d={name:"zoom2d",_cat:"zoom",title:function(t){return l(t,"Zoom")},attr:"dragmode",val:"zoom",icon:a.zoombox,click:u},c.pan2d={name:"pan2d",_cat:"pan",title:function(t){return l(t,"Pan")},attr:"dragmode",val:"pan",icon:a.pan,click:u},c.select2d={name:"select2d",_cat:"select",title:function(t){return l(t,"Box Select")},attr:"dragmode",val:"select",icon:a.selectbox,click:u},c.lasso2d={name:"lasso2d",_cat:"lasso",title:function(t){return l(t,"Lasso Select")},attr:"dragmode",val:"lasso",icon:a.lasso,click:u},c.drawclosedpath={name:"drawclosedpath",title:function(t){return l(t,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:a.drawclosedpath,click:u},c.drawopenpath={name:"drawopenpath",title:function(t){return l(t,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:a.drawopenpath,click:u},c.drawline={name:"drawline",title:function(t){return l(t,"Draw line")},attr:"dragmode",val:"drawline",icon:a.drawline,click:u},c.drawrect={name:"drawrect",title:function(t){return l(t,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:a.drawrect,click:u},c.drawcircle={name:"drawcircle",title:function(t){return l(t,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:a.drawcircle,click:u},c.eraseshape={name:"eraseshape",title:function(t){return l(t,"Erase active shape")},icon:a.eraseshape,click:o},c.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(t){return l(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:u},c.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(t){return l(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:u},c.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(t){return l(t,"Autoscale")},attr:"zoom",val:"auto",icon:a.autoscale,click:u},c.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(t){return l(t,"Reset axes")},attr:"zoom",val:"reset",icon:a.home,click:u},c.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(t){return l(t,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:u},c.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(t){return l(t,"Compare data on hover")},attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:a.tooltip_compare,gravity:"ne",click:u},c.zoom3d={name:"zoom3d",_cat:"zoom",title:function(t){return l(t,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:a.zoombox,click:h},c.pan3d={name:"pan3d",_cat:"pan",title:function(t){return l(t,"Pan")},attr:"scene.dragmode",val:"pan",icon:a.pan,click:h},c.orbitRotation={name:"orbitRotation",title:function(t){return l(t,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:a["3d_rotate"],click:h},c.tableRotation={name:"tableRotation",title:function(t){return l(t,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:a["z-axis"],click:h},c.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(t){return l(t,"Reset camera to default")},attr:"resetDefault",icon:a.home,click:d},c.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(t){return l(t,"Reset camera to last save")},attr:"resetLastSave",icon:a.movie,click:d},c.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(t){return l(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(t,e){var r=f(t,e);n.call("_guiRelayout",t,r)}},c.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(t){return l(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:p},c.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(t){return l(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:p},c.resetGeo={name:"resetGeo",_cat:"reset",title:function(t){return l(t,"Reset")},attr:"reset",val:null,icon:a.autoscale,click:p},c.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(t){return l(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:g},c.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(t){return l(t,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:a.tooltip_basic,gravity:"ne",click:g},c.resetViewSankey={name:"resetSankeyGroup",title:function(t){return l(t,"Reset view")},icon:a.home,click:function(t){for(var e={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<t._fullData.length;r++){var i=t._fullData[r]._viewInitial;e["node.groups"].push(i.node.groups.slice()),e["node.x"].push(i.node.x.slice()),e["node.y"].push(i.node.y.slice())}n.call("restyle",t,e)}},c.toggleHover={name:"toggleHover",title:function(t){return l(t,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:a.tooltip_basic,gravity:"ne",click:function(t,e){var r=f(t,e);r.hovermode=m(t),n.call("_guiRelayout",t,r)}},c.resetViews={name:"resetViews",title:function(t){return l(t,"Reset views")},icon:a.home,click:function(t,e){var n=e.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),u(t,e),n.setAttribute("data-attr","resetLastSave"),d(t,e),x(t,"geo"),x(t,"mapbox"),x(t,"map")}},c.toggleSpikelines={name:"toggleSpikelines",title:function(t){return l(t,"Toggle Spike Lines")},icon:a.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout,r=e._cartesianSpikesEnabled;e._cartesianSpikesEnabled="on"===r?"off":"on",n.call("_guiRelayout",t,function(t){for(var e="on"===t._fullLayout._cartesianSpikesEnabled,n=i.list(t,null,!0),r={},a=0;a<n.length;a++){var o=n[a];r[o._name+".showspikes"]=!!e||o._showSpikeInitial}return r}(t))}},c.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(t){return l(t,"Reset view")},attr:"reset",icon:a.home,click:function(t){x(t,"mapbox")}},c.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(t){return l(t,"Reset view")},attr:"reset",icon:a.home,click:function(t){x(t,"map")}},c.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(t){return l(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:v},c.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(t){return l(t,"Zoom in")},attr:"zoom",val:"in",icon:a.zoom_plus,click:y},c.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(t){return l(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:v},c.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(t){return l(t,"Zoom out")},attr:"zoom",val:"out",icon:a.zoom_minus,click:y}})),Bn=a(((t,e)=>{var n=jn(),r=Object.keys(n),i=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],a=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(i),o=[];r.forEach((function(t){!function(t){if(-1===a.indexOf(t._cat||t.name)){var e=t.name,n=(t._cat||t.name).toLowerCase();-1===o.indexOf(e)&&o.push(e),-1===o.indexOf(n)&&o.push(n)}}(n[t])})),o.sort(),e.exports={DRAW_MODES:i,backButtons:a,foreButtons:o}})),Hn=a(((t,e)=>{Bn(),e.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}})),Un=a(((t,e)=>{var n=$t(),r=E(),i=se(),a=Hn();e.exports=function(t,e){var o=t.modebar||{},s=i.newContainer(e,"modebar");function l(t,e){return n.coerce(o,s,a,t,e)}l("orientation"),l("bgcolor",r.addOpacity(e.paper_bgcolor,.5));var c=r.contrast(r.rgb(e.modebar.bgcolor));l("color",r.addOpacity(c,.3)),l("activecolor",r.addOpacity(c,.7)),l("uirevision",e.uirevision),l("add"),l("remove")}})),Zn=a(((t,e)=>{var n=l(),r=f(),i=$t(),a=Cn(),s=o().version,c=new DOMParser;function u(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}var h=u.prototype;h.update=function(t,e){this.graphInfo=t;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,a="modebar-"+r._uid;this.element.setAttribute("id",a),this._uid=a,this.element.className="modebar","hover"===n.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===r.modebar.orientation&&(this.element.className+=" vertical",e=e.reverse());var o=r.modebar,s="#"+a+" .modebar-group";document.querySelectorAll(s).forEach((function(t){t.style.backgroundColor=o.bgcolor}));var l=!this.hasButtons(e),c=this.hasLogo!==n.displaylogo,u=this.locale!==n.locale;if(this.locale=n.locale,(l||c||u)&&(this.removeAllButtons(),this.updateButtons(e),n.watermark||n.displaylogo)){var h=this.getLogo();n.watermark&&(h.className=h.className+" watermark"),"v"===r.modebar.orientation?this.element.insertBefore(h,this.element.childNodes[0]):this.element.appendChild(h),this.hasLogo=!0}this.updateActiveButton(),i.setStyleOnHover("#"+a+" .modebar-btn",".active",".icon path","fill: "+o.activecolor,"fill: "+o.color,this.element)},h.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(t){var n=e.createGroup();t.forEach((function(t){var r=t.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");e.buttonsNames.push(r);var i=e.createButton(t);e.buttonElements.push(i),n.appendChild(i)})),e.element.appendChild(n)}))},h.createGroup=function(){var t=document.createElement("div");t.className="modebar-group";var e=this.graphInfo._fullLayout.modebar;return t.style.backgroundColor=e.bgcolor,t},h.createButton=function(t){var e=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var i=t.title;void 0===i?i=t.name:"function"==typeof i&&(i=i(this.graphInfo)),(i||0===i)&&r.setAttribute("data-title",i),void 0!==t.attr&&r.setAttribute("data-attr",t.attr);var o=t.val;if(void 0!==o&&("function"==typeof o&&(o=o(this.graphInfo)),r.setAttribute("data-val",o)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",(function(n){t.click(e.graphInfo,n),e.updateActiveButton(n.currentTarget)})),r.setAttribute("data-toggle",t.toggle||!1),t.toggle&&n.select(r).classed("active",!0);var s=t.icon;return"function"==typeof s?r.appendChild(s()):r.appendChild(this.createIcon(s||a.question)),r.setAttribute("data-gravity",t.gravity||"n"),r},h.createIcon=function(t){var e,n=r(t.height)?Number(t.height):t.ascent-t.descent,i="http://www.w3.org/2000/svg";if(t.path){(e=document.createElementNS(i,"svg")).setAttribute("viewBox",[0,0,t.width,n].join(" ")),e.setAttribute("class","icon");var a=document.createElementNS(i,"path");a.setAttribute("d",t.path),t.transform?a.setAttribute("transform",t.transform):void 0!==t.ascent&&a.setAttribute("transform","matrix(1 0 0 -1 0 "+t.ascent+")"),e.appendChild(a)}return t.svg&&(e=c.parseFromString(t.svg,"application/xml").childNodes[0]),e.setAttribute("height","1em"),e.setAttribute("width","1em"),e},h.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,r=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach((function(t){var a=t.getAttribute("data-val")||!0,o=t.getAttribute("data-attr"),s="true"===t.getAttribute("data-toggle"),l=n.select(t),c=function(t,n){var r=e.modebar,i=t.querySelector(".icon path");i&&(n||t.matches(":hover")?i.style.fill=r.activecolor:i.style.fill=r.color)};if(s){if(o===r){var u=!l.classed("active");l.classed("active",u),c(t,u)}}else{var h=null===o?o:i.nestedProperty(e,o).get();l.classed("active",h===a),c(t,h===a)}}))},h.hasButtons=function(t){var e=this.buttons;if(!e||t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r].name!==e[n][r].name)return!1}return!0},h.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plotly.com/",e.target="_blank",e.setAttribute("data-title",function(t){return t+" (v"+s+")"}(i._(this.graphInfo,"Produced with Plotly.js"))),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(a.newplotlylogo)),t.appendChild(e),t},h.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},h.destroy=function(){i.removeElement(this.container.querySelector(".modebar"))},e.exports=function(t,e){var r=t._fullLayout,i=new u({graphInfo:t,container:r._modebardiv.node(),buttons:e});return r._privateplot&&n.select(i.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),i}})),Vn=a(((t,e)=>{var n=ce(),r=Fe(),i=Et(),a=Be().isUnifiedHover,o=Zn(),s=jn(),l=Bn().DRAW_MODES,c=$t().extendDeep;e.exports=function(t){var e=t._fullLayout,u=t._context,h=e._modeBar;if(u.displayModeBar||u.watermark){if(!Array.isArray(u.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(u.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d,f=u.modeBarButtons;d=Array.isArray(f)&&f.length?function(t){for(var e=c([],t),n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.length;i++){var a=r[i];if("string"==typeof a){if(void 0===s[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[n][i]=s[a]}}return e}(f):!u.displayModeBar&&u.watermark?[]:function(t){var e=t._fullLayout,o=t._fullData,c=t._context;function u(t,e){if("string"==typeof e){if(e.toLowerCase()===t.toLowerCase())return!0}else{var n=e.name,r=e._cat||e.name;if(n===t||r===t.toLowerCase())return!0}return!1}var h=e.modebar.add;"string"==typeof h&&(h=[h]);var d=e.modebar.remove;"string"==typeof d&&(d=[d]);var f=c.modeBarButtonsToAdd.concat(h.filter((function(t){for(var e=0;e<c.modeBarButtonsToRemove.length;e++)if(u(t,c.modeBarButtonsToRemove[e]))return!1;return!0}))),p=c.modeBarButtonsToRemove.concat(d.filter((function(t){for(var e=0;e<c.modeBarButtonsToAdd.length;e++)if(u(t,c.modeBarButtonsToAdd[e]))return!1;return!0}))),m=e._has("cartesian"),g=e._has("gl3d"),v=e._has("geo"),y=e._has("pie"),_=e._has("funnelarea"),x=e._has("ternary"),b=e._has("mapbox"),w=e._has("map"),M=e._has("polar"),T=e._has("smith"),k=e._has("sankey"),A=function(t){for(var e=n.list({_fullLayout:t},null,!0),r=0;r<e.length;r++)if(!e[r].fixedrange)return!1;return!0}(e),L=a(e.hovermode),C=[];function S(t){if(t.length){for(var e=[],n=0;n<t.length;n++){for(var r=t[n],i=s[r],a=i.name.toLowerCase(),o=(i._cat||i.name).toLowerCase(),l=!1,c=0;c<p.length;c++){var u=p[c].toLowerCase();if(u===a||u===o){l=!0;break}}l||e.push(s[r])}C.push(e)}}var P=["toImage"];c.showEditInChartStudio?P.push("editInChartStudio"):c.showSendToCloud&&P.push("sendDataToCloud"),S(P);var D=[],O=[],E=[],I=[];(m||y||_||x)+v+g+b+w+M+T>1?(O=["toggleHover"],E=["resetViews"]):v?(D=["zoomInGeo","zoomOutGeo"],O=["hoverClosestGeo"],E=["resetGeo"]):g?(O=["hoverClosest3d"],E=["resetCameraDefault3d","resetCameraLastSave3d"]):b?(D=["zoomInMapbox","zoomOutMapbox"],O=["toggleHover"],E=["resetViewMapbox"]):w?(D=["zoomInMap","zoomOutMap"],O=["toggleHover"],E=["resetViewMap"]):y?O=["hoverClosestPie"]:k?(O=["hoverClosestCartesian","hoverCompareCartesian"],E=["resetViewSankey"]):O=["toggleHover"],m&&O.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(function(t){for(var e=0;e<t.length;e++)if(!i.traceIs(t[e],"noHover"))return!1;return!0}(o)||L)&&(O=[]),m&&!A&&(D=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==E[0]&&(E=["resetScale2d"])),g?I=["zoom3d","pan3d","orbitRotation","tableRotation"]:m&&!A||x?I=["zoom2d","pan2d"]:b||w||v?I=["pan2d"]:M&&(I=["zoom2d"]),function(t){for(var e=!1,n=0;n<t.length&&!e;n++){var a=t[n];!a._module||!a._module.selectPoints||(i.traceIs(a,"scatter-like")?(r.hasMarkers(a)||r.hasText(a))&&(e=!0):i.traceIs(a,"box-violin")?("all"===a.boxpoints||"all"===a.points)&&(e=!0):e=!0)}return e}(o)&&I.push("select2d","lasso2d");var z=[],N=function(t){-1===z.indexOf(t)&&-1!==O.indexOf(t)&&z.push(t)};if(Array.isArray(f)){for(var R=[],F=0;F<f.length;F++){var j=f[F];"string"==typeof j?(j=j.toLowerCase(),-1!==l.indexOf(j)?(e._has("mapbox")||e._has("map")||e._has("cartesian"))&&I.push(j):"togglespikelines"===j?N("toggleSpikelines"):"togglehover"===j?N("toggleHover"):"hovercompare"===j?N("hoverCompareCartesian"):"hoverclosest"===j?(N("hoverClosestCartesian"),N("hoverClosestGeo"),N("hoverClosest3d"),N("hoverClosestPie")):"v1hovermode"===j&&(N("hoverClosestCartesian"),N("hoverCompareCartesian"),N("hoverClosestGeo"),N("hoverClosest3d"),N("hoverClosestPie"))):R.push(j)}f=R}return S(I),S(D.concat(E)),S(z),function(t,e){if(e.length)if(Array.isArray(e[0]))for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}(C,f)}(t),h?h.update(t,d):e._modeBar=o(t,d)}else h&&(h.destroy(),delete e._modeBar)}})),Yn=a(((t,e)=>{e.exports={moduleType:"component",name:"modebar",layoutAttributes:Hn(),supplyLayoutDefaults:Un(),manage:Vn()}})),Wn=a(((t,e)=>{var n=ge().FROM_BL;e.exports=function(t,e,r){void 0===r&&(r=n[t.constraintoward||"center"]);var i=[t.r2l(t.range[0]),t.r2l(t.range[1])],a=i[0]+(i[1]-i[0])*r;t.range=t._input.range=[t.l2r(a+(i[0]-a)*e),t.l2r(a+(i[1]-a)*e)],t.setScale()}})),Gn=a((t=>{var e=$t(),n=Ge(),r=ce().id2name,i=xe(),a=Wn(),o=Ye(),s=p().ALMOST_EQUAL,l=ge().FROM_BL;function c(t,n,a){var o=a.axIds,s=a.layoutOut,l=a.hasImage,c=s._axisConstraintGroups,f=s._axisMatchGroups,p=n._id,m=p.charAt(0),g=((s._splomAxes||{})[m]||{})[p]||{},v=n._id,y="x"===v.charAt(0);function _(r,a){return e.coerce(t,n,i,r,a)}n._matchGroup=null,n._constraintGroup=null,_("constrain",l?"domain":"range"),e.coerce(t,n,{constraintoward:{valType:"enumerated",values:y?["left","center","right"]:["bottom","middle","top"],dflt:y?"center":"middle"}},"constraintoward");var x,b,w=n.type,M=[];for(x=0;x<o.length;x++)(b=o[x])!==v&&s[r(b)].type===w&&M.push(b);var T=h(c,v);if(T){var k=[];for(x=0;x<M.length;x++)T[b=M[x]]||k.push(b);M=k}var A,L,C=M.length;C&&(t.matches||g.matches)&&(A=e.coerce(t,n,{matches:{valType:"enumerated",values:M,dflt:-1!==M.indexOf(g.matches)?g.matches:void 0}},"matches"));var S=l&&!y?n.anchor:void 0;if(C&&!A&&(t.scaleanchor||S)&&(L=e.coerce(t,n,{scaleanchor:{valType:"enumerated",values:M.concat([!1])}},"scaleanchor",S)),A){n._matchGroup=d(f,v,A,1);var P=s[r(A)],D=u(s,n)/u(s,P);y!==("x"===A.charAt(0))&&(D=(y?"x":"y")+D),d(c,v,A,D)}else t.matches&&-1!==o.indexOf(t.matches)&&e.warn("ignored "+n._name+'.matches: "'+t.matches+'" to avoid an infinite loop');if(L){var O=_("scaleratio");O||(O=n.scaleratio=1),d(c,v,L,O)}else t.scaleanchor&&-1!==o.indexOf(t.scaleanchor)&&e.warn("ignored "+n._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function u(t,e){var n=e.domain;return n||(n=t[r(e.overlaying)].domain),n[1]-n[0]}function h(t,e){for(var n=0;n<t.length;n++)if(t[n][e])return t[n];return null}function d(t,e,n,r){var i,a,o,s,l,c=h(t,e);null===c?((c={})[e]=1,l=t.length,t.push(c)):l=t.indexOf(c);var u=Object.keys(c);for(i=0;i<t.length;i++)if(o=t[i],i!==l&&o[n]){var d=o[n];for(a=0;a<u.length;a++)o[s=u[a]]=f(d,f(r,c[s]));return void t.splice(l,1)}if(1!==r)for(a=0;a<u.length;a++){var p=u[a];c[p]=f(r,c[p])}c[n]=1}function f(t,e){var n,r,i="",a="";"string"==typeof t&&(n=(i=t.match(/^[xy]*/)[0]).length,t=+t.substr(n)),"string"==typeof e&&(r=(a=e.match(/^[xy]*/)[0]).length,e=+e.substr(r));var o=t*e;return n||r?n&&r&&i.charAt(0)!==a.charAt(0)?n===r?o:(n>r?i.substr(r):a.substr(n))+o:i+a+t*e:o}function m(t,e){for(var n=e._size,r=n.h/n.w,i={},a=Object.keys(t),o=0;o<a.length;o++){var s=a[o],l=t[s];if("string"==typeof l){var c=l.match(/^[xy]*/)[0],u=c.length;l=+l.substr(u);for(var h="y"===c.charAt(0)?r:1/r,d=0;d<u;d++)l*=h}i[s]=l}return i}function g(t,e){var n=t._inputDomain,r=l[t.constraintoward],i=n[0]+(n[1]-n[0])*r;t.domain=t._input.domain=[i+(n[0]-i)/e,i+(n[1]-i)/e],t.setScale()}t.handleDefaults=function(t,n,i){var a,s,l,u,h,d,f,p,m=i.axIds,g=i.axHasImage,v=n._axisConstraintGroups=[],y=n._axisMatchGroups=[];for(a=0;a<m.length;a++)c(h=t[u=r(m[a])],d=n[u],{axIds:m,layoutOut:n,hasImage:g[u]});function _(t,e){for(a=0;a<t.length;a++)for(l in s=t[a])n[r(l)][e]=s}for(_(y,"_matchGroup"),a=0;a<v.length;a++)for(l in s=v[a])if((d=n[r(l)]).fixedrange){for(var x in s){var b=r(x);!1===(t[b]||{}).fixedrange&&e.warn("fixedrange was specified as false for axis "+b+" but was overridden because another axis in its constraint group has fixedrange true"),n[b].fixedrange=!0}break}for(a=0;a<v.length;){for(l in s=v[a]){(d=n[r(l)])._matchGroup&&Object.keys(d._matchGroup).length===Object.keys(s).length&&(v.splice(a,1),a--);break}a++}_(v,"_constraintGroup");var w=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],M=!1,T=!1;function k(){p=d[f],"rangebreaks"===f&&(T=d._hasDayOfWeekBreaks)}for(a=0;a<y.length;a++){s=y[a];for(var A=0;A<w.length;A++){var L;for(l in f=w[A],p=null,s)if(h=t[u=r(l)],d=n[u],f in d){if(!d.matches&&(L=d,f in h)){k();break}null===p&&f in h&&k()}if("range"===f&&p&&h.range&&2===h.range.length&&null!==h.range[0]&&null!==h.range[1]&&(M=!0),"autorange"===f&&null===p&&M&&(p=!1),null===p&&f in L&&(p=L[f]),null!==p)for(l in s)(d=n[r(l)])[f]="range"===f?p.slice():p,"rangebreaks"===f&&(d._hasDayOfWeekBreaks=T,o(d,n))}}},t.enforce=function(t){var e,i,o,l,c,u,h,d,f=t._fullLayout,p=f._axisConstraintGroups||[];for(e=0;e<p.length;e++){o=m(p[e],f);var v=Object.keys(o),y=1/0,_=0,x=1/0,b={},w={},M=!1;for(i=0;i<v.length;i++)w[l=v[i]]=c=f[r(l)],c._inputDomain?c.domain=c._inputDomain.slice():c._inputDomain=c.domain.slice(),c._inputRange||(c._inputRange=c.range.slice()),c.setScale(),b[l]=u=Math.abs(c._m)/o[l],y=Math.min(y,u),("domain"===c.constrain||!c._constraintShrinkable)&&(x=Math.min(x,u)),delete c._constraintShrinkable,_=Math.max(_,u),"domain"===c.constrain&&(M=!0);if(!(y>s*_)||M)for(i=0;i<v.length;i++)if(u=b[l=v[i]],h=(c=w[l]).constrain,u!==x||"domain"===h)if(d=u/x,"range"===h)a(c,d);else{var T=c._inputDomain,k=(c.domain[1]-c.domain[0])/(T[1]-T[0]),A=(c.r2l(c.range[1])-c.r2l(c.range[0]))/(c.r2l(c._inputRange[1])-c.r2l(c._inputRange[0]));if((d/=k)*A<1){c.domain=c._input.domain=T.slice(),a(c,d);continue}if(A<1&&(c.range=c._input.range=c._inputRange.slice(),d*=A),c.autorange){var L=c.r2l(c.range[0]),C=c.r2l(c.range[1]),S=(L+C)/2,P=S,D=S,O=Math.abs(C-S),E=S-O*d*1.0001,I=S+O*d*1.0001,z=n.makePadFn(f,c,0),N=n.makePadFn(f,c,1);g(c,d);var R,F,j=Math.abs(c._m),B=n.concatExtremes(t,c),H=B.min,U=B.max;for(F=0;F<H.length;F++)(R=H[F].val-z(H[F])/j)>E&&R<P&&(P=R);for(F=0;F<U.length;F++)(R=U[F].val+N(U[F])/j)<I&&R>D&&(D=R);d/=(D-P)/(2*O),P=c.l2r(P),D=c.l2r(D),c.range=c._input.range=L<C?[P,D]:[D,P]}g(c,d)}}},t.getAxisGroup=function(t,e){for(var n=t._axisMatchGroups,r=0;r<n.length;r++)if(n[r][e])return"g"+r;return e},t.clean=function(t,e){if(e._inputDomain){for(var n=!1,r=e._id,i=t._fullLayout._axisConstraintGroups,a=0;a<i.length;a++)if(i[a][r]){n=!0;break}(!n||"domain"!==e.constrain)&&(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}})),qn=a((t=>{var e=l(),n=Et(),r=pe(),i=$t(),a=ve(),o=Ln(),s=E(),c=Ze(),u=Ve(),h=Yn(),d=qe(),f=ge(),p=Gn(),m=p.enforce,g=p.clean,v=Ge().doAutoRange,y="start",_=le().zindexSeparator;function x(t,e,n){for(var r=0;r<n.length;r++){var i=n[r][0],a=n[r][1];if(!(i[0]>=t[1]||i[1]<=t[0])&&a[0]<e[1]&&a[1]>e[0])return!0}return!1}function b(n){var a,o,l,u,p,m,g=n._fullLayout,v=g._size,y=v.p,b=d.list(n,"",!0);if(g._paperdiv.style({width:n._context.responsive&&g.autosize&&!n._context._hasZeroWidth&&!n.layout.width?"100%":g.width+"px",height:n._context.responsive&&g.autosize&&!n._context._hasZeroHeight&&!n.layout.height?"100%":g.height+"px"}).selectAll(".main-svg").call(c.setSize,g.width,g.height),n._context.setBackground(n,g.paper_bgcolor),t.drawMainTitle(n),h.manage(n),!g._has("cartesian"))return r.previousPromises(n);function M(t,e,n){var r=t._lw/2;return"x"===t._id.charAt(0)?e?"top"===n?e._offset-y-r:e._offset+e._length+y+r:v.t+v.h*(1-(t.position||0))+r%1:e?"right"===n?e._offset+e._length+y+r:e._offset-y-r:v.l+v.w*(t.position||0)+r%1}for(a=0;a<b.length;a++){var k=(u=b[a])._anchorAxis;u._linepositions={},u._lw=c.crispRound(n,u.linewidth,1),u._mainLinePosition=M(u,k,u.side),u._mainMirrorPosition=u.mirror&&k?M(u,k,f.OPPOSITE_SIDE[u.side]):null}var A=[],L=[],C=[],S=1===s.opacity(g.paper_bgcolor)&&1===s.opacity(g.plot_bgcolor)&&g.paper_bgcolor===g.plot_bgcolor;for(o in g._plots)if((l=g._plots[o]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var P=l.xaxis.domain,D=l.yaxis.domain,O=l.plotgroup;if(x(P,D,C)&&-1===o.indexOf(_)){var E=O.node(),I=l.bg=i.ensureSingle(O,"rect","bg");E.insertBefore(I.node(),E.childNodes[0]),L.push(o)}else O.select("rect.bg").remove(),C.push([P,D]),S||(A.push(o),L.push(o))}var z,N,R,F,j,B,H,U,Z,V,Y,W,G,q=g._bgLayer.selectAll(".bg").data(A);for(q.enter().append("rect").classed("bg",!0),q.exit().remove(),q.each((function(t){g._plots[t].bg=e.select(this)})),a=0;a<L.length;a++)l=g._plots[L[a]],p=l.xaxis,m=l.yaxis,l.bg&&void 0!==p._offset&&void 0!==m._offset&&l.bg.call(c.setRect,p._offset-y,m._offset-y,p._length+2*y,m._length+2*y).call(s.fill,g.plot_bgcolor).style("stroke-width",0);if(!g._hasOnlyLargeSploms)for(o in g._plots){l=g._plots[o],p=l.xaxis,m=l.yaxis;var X,J,K=l.clipId="clip"+g._uid+o+"plot",$=i.ensureSingleById(g._clips,"clipPath",K,(function(t){t.classed("plotclip",!0).append("rect")}));l.clipRect=$.select("rect").attr({width:p._length,height:m._length}),c.setTranslate(l.plot,p._offset,m._offset),l._hasClipOnAxisFalse?(X=null,J=K):(X=K,J=null),c.setClipUrl(l.plot,X,n),l.layerClipId=J}function Q(t){return"M"+z+","+t+"H"+N}function tt(t){return"M"+p._offset+","+t+"h"+p._length}function et(t){return"M"+t+","+U+"V"+H}function nt(t){return void 0!==m._shift&&(t+=m._shift),"M"+t+","+m._offset+"v"+m._length}function rt(t,e,n){if(!t.showline||o!==t._mainSubplot)return"";if(!t._anchorAxis)return n(t._mainLinePosition);var r=e(t._mainLinePosition);return t.mirror&&(r+=e(t._mainMirrorPosition)),r}for(o in g._plots){l=g._plots[o],p=l.xaxis,m=l.yaxis;var it="M0,0";w(p,o)&&(j=T(p,"left",m,b),z=p._offset-(j?y+j:0),B=T(p,"right",m,b),N=p._offset+p._length+(B?y+B:0),R=M(p,m,"bottom"),F=M(p,m,"top"),(G=!p._anchorAxis||o!==p._mainSubplot)&&("allticks"===p.mirror||"all"===p.mirror)&&(p._linepositions[o]=[R,F]),it=rt(p,Q,tt),G&&p.showline&&("all"===p.mirror||"allticks"===p.mirror)&&(it+=Q(R)+Q(F)),l.xlines.style("stroke-width",p._lw+"px").call(s.stroke,p.showline?p.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",it);var at="M0,0";w(m,o)&&(Y=T(m,"bottom",p,b),H=m._offset+m._length+(Y?y:0),W=T(m,"top",p,b),U=m._offset-(W?y:0),Z=M(m,p,"left"),V=M(m,p,"right"),(G=!m._anchorAxis||o!==m._mainSubplot)&&("allticks"===m.mirror||"all"===m.mirror)&&(m._linepositions[o]=[Z,V]),at=rt(m,et,nt),G&&m.showline&&("all"===m.mirror||"allticks"===m.mirror)&&(at+=et(Z)+et(V)),l.ylines.style("stroke-width",m._lw+"px").call(s.stroke,m.showline?m.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",at)}return d.makeClipPaths(n),r.previousPromises(n)}function w(t,e){return(t.ticks||t.showline)&&(e===t._mainSubplot||"all"===t.mirror||"allticks"===t.mirror)}function M(t,e,n){if(!n.showline||!n._lw)return!1;if("all"===n.mirror||"allticks"===n.mirror)return!0;var r=n._anchorAxis;if(!r)return!1;var i=f.FROM_BL[e];return n.side===e?r.domain[i]===t.domain[i]:n.mirror&&r.domain[1-i]===t.domain[1-i]}function T(t,e,n,r){if(M(t,e,n))return n._lw;for(var i=0;i<r.length;i++){var a=r[i];if(a._mainAxis===n._mainAxis&&M(t,e,a))return a._lw}return 0}function k(t){return"top"===t?f.CAP_SHIFT+.3+"em":"bottom"===t?"-0.3em":f.MID_SHIFT+"em"}t.layoutStyles=function(t){return i.syncOrAsync([r.doAutoMargin,b],t)},t.drawMainTitle=function(t){var n=t._fullLayout.title,o=t._fullLayout,s=function(t){var e=t.title,n="middle";return i.isRightAnchor(e)?n="end":i.isLeftAnchor(e)&&(n=y),n}(o),l=function(t){var e=t.title,n="0em";return i.isTopAnchor(e)?n=f.CAP_SHIFT+"em":i.isMiddleAnchor(e)&&(n=f.MID_SHIFT+"em"),n}(o),h=function(t,e){var n=t.title,r=t._size,i=0;return"0em"!==e&&e?e===f.CAP_SHIFT+"em"&&(i=n.pad.t):i=-n.pad.b,"auto"===n.y?r.t/2:"paper"===n.yref?r.t+r.h-r.h*n.y+i:t.height-t.height*n.y+i}(o,l),d=function(t,e){var n=t.title,r=t._size,i=0;return"paper"===(e===y?i=n.pad.l:"end"===e&&(i=-n.pad.r),n.xref)?r.l+r.w*n.x+i:t.width*n.x+i}(o,s);if(u.draw(t,"gtitle",{propContainer:o,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:o._dfltTitle.plot,subtitlePlaceholder:o._dfltTitle.subtitle,attributes:{x:d,y:h,"text-anchor":s,dy:l}}),n.text&&n.automargin){var p=e.selectAll(".gtitle"),m=c.bBox(e.selectAll(".g-gtitle").node()).height,g=function(t,e,n){var r=e.y,i=e.yanchor,a=r>.5?"t":"b",o=t._fullLayout.margin[a],s=0;return"paper"===e.yref?s=n+e.pad.t+e.pad.b:"container"===e.yref&&(s=function(t,e,n,r,i){var a=0;return"middle"===n&&(a+=i/2),"t"===t?("top"===n&&(a+=i),a+=r-e*r):("bottom"===n&&(a+=i),a+=e*r),a}(a,r,i,t._fullLayout.height,n)+e.pad.t+e.pad.b),s>o?s:0}(t,n,m);if(g>0){(function(t,e,n,a){var o="title.automargin",s=t._fullLayout.title,l=s.y>.5?"t":"b",c={x:s.x,y:s.y,t:0,b:0},u={};"paper"===s.yref&&function(t,e,n,r,a){var o="paper"===e.yref?t._fullLayout._size.h:t._fullLayout.height,s=i.isTopAnchor(e)?r:r-a,l="b"===n?o-s:s;return!(i.isTopAnchor(e)&&"t"===n||i.isBottomAnchor(e)&&"b"===n)&&l<a}(t,s,l,e,a)?c[l]=n:"container"===s.yref&&(u[l]=n,t._fullLayout._reservedMargin[o]=u),r.allowAutoMargin(t,o),r.autoMargin(t,o,c)})(t,h,g,m),p.attr({x:d,y:h,"text-anchor":s,dy:k(n.yanchor)}).call(a.positionText,d,h);var v=(n.text.match(a.BR_TAG_ALL)||[]).length;if(v){var _=f.LINE_SPACING*v+f.MID_SHIFT;0===n.y&&(_=-_),p.selectAll(".line").each((function(){var t=+this.getAttribute("dy").slice(0,-2)-_+"em";this.setAttribute("dy",t)}))}var x=e.selectAll(".gtitle-subtitle");if(x.node()){var b=p.node().getBBox(),w=b.y+b.height+u.SUBTITLE_PADDING_EM*n.subtitle.font.size;x.attr({x:d,y:w,"text-anchor":s,dy:k(n.yanchor)}).call(a.positionText,d,w)}}}},t.doTraceStyle=function(e){var i,a=e.calcdata,s=[];for(i=0;i<a.length;i++){var l=a[i],c=l[0]||{},u=c.trace||{},h=u._module||{},d=h.arraysToCalcdata;d&&d(l,u);var f=h.editStyle;f&&s.push({fn:f,cd0:c})}if(s.length){for(i=0;i<s.length;i++){var p=s[i];p.fn(e,p.cd0)}o(e),t.redrawReglTraces(e)}return r.style(e),n.getComponentMethod("legend","draw")(e),r.previousPromises(e)},t.doColorBars=function(t){return n.getComponentMethod("colorbar","draw")(t),r.previousPromises(t)},t.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,n.call("_doPlot",t,"",e)},t.doLegend=function(t){return n.getComponentMethod("legend","draw")(t),r.previousPromises(t)},t.doTicksRelayout=function(e){return d.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(n.subplotsRegistry.splom.updateGrid(e),o(e),t.redrawReglTraces(e)),t.drawMainTitle(e),r.previousPromises(e)},t.doModeBar=function(t){var e=t._fullLayout;h.manage(t);for(var n=0;n<e._basePlotModules.length;n++){var i=e._basePlotModules[n].updateFx;i&&i(t)}return r.previousPromises(t)},t.doCamera=function(t){for(var e=t._fullLayout,n=e._subplots.gl3d,r=0;r<n.length;r++){var i=e[n[r]];i._scene.setViewport(i)}},t.drawData=function(e){var i=e._fullLayout;o(e);for(var a=i._basePlotModules,s=0;s<a.length;s++)a[s].plot(e);return t.redrawReglTraces(e),r.style(e),n.getComponentMethod("selections","draw")(e),n.getComponentMethod("shapes","draw")(e),n.getComponentMethod("annotations","draw")(e),n.getComponentMethod("images","draw")(e),i._replotting=!1,r.previousPromises(e)},t.redrawReglTraces=function(t){var e=t._fullLayout;if(e._has("regl")){var n,r,a=t._fullData,o=[],s=[];for(e._hasOnlyLargeSploms&&e._splomGrid.draw(),n=0;n<a.length;n++){var l=a[n];!0===l.visible&&0!==l._length&&("splom"===l.type?e._splomScenes[l.uid].draw():"scattergl"===l.type?i.pushUnique(o,l.xaxis+l.yaxis):"scatterpolargl"===l.type&&i.pushUnique(s,l.subplot))}for(n=0;n<o.length;n++)(r=e._plots[o[n]])._scene&&r._scene.draw();for(n=0;n<s.length;n++)(r=e[s[n]]._subplot)._scene&&r._scene.draw()}},t.doAutoRangeAndConstraints=function(t){for(var e,n=d.list(t,"",!0),r={},i=0;i<n.length;i++)if(!r[(e=n[i])._id]){r[e._id]=1,g(t,e),v(t,e);var a=e._matchGroup;if(a)for(var o in a){var s=d.getFromId(t,o);v(t,s,e.range),r[o]=1}}m(t)},t.finalDraw=function(t){n.getComponentMethod("rangeslider","draw")(t),n.getComponentMethod("rangeselector","draw")(t)},t.drawMarginPushers=function(t){n.getComponentMethod("legend","draw")(t),n.getComponentMethod("rangeselector","draw")(t),n.getComponentMethod("sliders","draw")(t),n.getComponentMethod("updatemenus","draw")(t),n.getComponentMethod("colorbar","draw")(t)}})),Xn=a(((t,e)=>{var n=Dn().readPaths,r=Rn(),i=ue().clearOutlineControllers,a=E(),o=Ze(),s=se().arrayEditor,l=zn(),c=l.getPathString;function u(t){var e=t._fullLayout;for(var n in i(t),e._selectionLayer.selectAll("path").remove(),e._plots){var r=e._plots[n].selectionLayer;r&&r.selectAll("path").remove()}for(var a=0;a<e.selections.length;a++)d(t,a)}function h(t){return t._context.editSelection}function d(t,e){t._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+e+'"]').remove();var i=l.makeSelectionsOptionsAndPlotinfo(t,e),d=i.options,m=i.plotinfo;d._input&&function(i){var l=c(t,d),g={"data-index":e,"fill-rule":"evenodd",d:l},v=d.opacity,y="rgba(0,0,0,0)",_=d.line.color||a.contrast(t._fullLayout.plot_bgcolor),x=d.line.width,b=d.line.dash;x||(x=5,b="solid");var w=h(t)&&t._fullLayout._activeSelectionIndex===e;w&&(y=t._fullLayout.activeselection.fillcolor,v=t._fullLayout.activeselection.opacity);for(var M=[],T=1;T>=0;T--){var k=i.append("path").attr(g).style("opacity",T?.1:v).call(a.stroke,_).call(a.fill,y).call(o.dashLine,T?"solid":b,T?4+x:x);if(f(k,t,d),w){var A=s(t.layout,"selections",d);k.style({cursor:"move"});var L={element:k.node(),plotinfo:m,gd:t,editHelpers:A,isActiveSelection:!0},C=n(l,t);r(C,k,L)}else k.style("pointer-events",T?"all":"none");M[T]=k}var S=M[0];M[1].node().addEventListener("click",(function(){return function(t,e){if(h(t)){var n=+e.node().getAttribute("data-index");if(n>=0){if(n===t._fullLayout._activeSelectionIndex)return void p(t);t._fullLayout._activeSelectionIndex=n,t._fullLayout._deactivateSelection=p,u(t)}}}(t,S)}))}(t._fullLayout._selectionLayer)}function f(t,e,n){var r=n.xref+n.yref;o.setClipUrl(t,"clip"+e._fullLayout._uid+r,e)}function p(t){h(t)&&t._fullLayout._activeSelectionIndex>=0&&(i(t),delete t._fullLayout._activeSelectionIndex,u(t))}e.exports={draw:u,drawOne:d,activateLastSelection:function(t){if(h(t)){var e=t._fullLayout.selections.length-1;t._fullLayout._activeSelectionIndex=e,t._fullLayout._deactivateSelection=p,u(t)}}}})),Jn=a(((t,e)=>{e.exports=function(){var t,e=0,n=!1;function r(e,n){return t.list.push({type:e,data:n?JSON.parse(JSON.stringify(n)):void 0}),t}return t={list:[],segmentId:function(){return e++},checkIntersection:function(t,e){return r("check",{seg1:t,seg2:e})},segmentChop:function(t,e){return r("div_seg",{seg:t,pt:e}),r("chop",{seg:t,pt:e})},statusRemove:function(t){return r("pop_seg",{seg:t})},segmentUpdate:function(t){return r("seg_update",{seg:t})},segmentNew:function(t,e){return r("new_seg",{seg:t,primary:e})},segmentRemove:function(t){return r("rem_seg",{seg:t})},tempStatus:function(t,e,n){return r("temp_status",{seg:t,above:e,below:n})},rewind:function(t){return r("rewind",{seg:t})},status:function(t,e,n){return r("status",{seg:t,above:e,below:n})},vert:function(e){return e===n?t:(n=e,r("vert",{x:e}))},log:function(t){return"string"!=typeof t&&(t=JSON.stringify(t,!1,"  ")),r("log",{txt:t})},reset:function(){return r("reset")},selected:function(t){return r("selected",{segs:t})},chainStart:function(t){return r("chain_start",{seg:t})},chainRemoveHead:function(t,e){return r("chain_rem_head",{index:t,pt:e})},chainRemoveTail:function(t,e){return r("chain_rem_tail",{index:t,pt:e})},chainNew:function(t,e){return r("chain_new",{pt1:t,pt2:e})},chainMatch:function(t){return r("chain_match",{index:t})},chainClose:function(t){return r("chain_close",{index:t})},chainAddHead:function(t,e){return r("chain_add_head",{index:t,pt:e})},chainAddTail:function(t,e){return r("chain_add_tail",{index:t,pt:e})},chainConnect:function(t,e){return r("chain_con",{index1:t,index2:e})},chainReverse:function(t){return r("chain_rev",{index:t})},chainJoin:function(t,e){return r("chain_join",{index1:t,index2:e})},done:function(){return r("done")}}}})),Kn=a(((t,e)=>{e.exports=function(t){"number"!=typeof t&&(t=1e-10);var e={epsilon:function(e){return"number"==typeof e&&(t=e),t},pointAboveOrOnLine:function(e,n,r){var i=n[0],a=n[1],o=r[0],s=r[1],l=e[0];return(o-i)*(e[1]-a)-(s-a)*(l-i)>=-t},pointBetween:function(e,n,r){var i=e[1]-n[1],a=r[0]-n[0],o=e[0]-n[0],s=r[1]-n[1],l=o*a+i*s;return!(l<t||l-(a*a+s*s)>-t)},pointsSameX:function(e,n){return Math.abs(e[0]-n[0])<t},pointsSameY:function(e,n){return Math.abs(e[1]-n[1])<t},pointsSame:function(t,n){return e.pointsSameX(t,n)&&e.pointsSameY(t,n)},pointsCompare:function(t,n){return e.pointsSameX(t,n)?e.pointsSameY(t,n)?0:t[1]<n[1]?-1:1:t[0]<n[0]?-1:1},pointsCollinear:function(e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-o*a)<t},linesIntersect:function(e,n,r,i){var a=n[0]-e[0],o=n[1]-e[1],s=i[0]-r[0],l=i[1]-r[1],c=a*l-o*s;if(Math.abs(c)<t)return!1;var u=e[0]-r[0],h=e[1]-r[1],d=(s*h-l*u)/c,f=(a*h-o*u)/c,p={alongA:0,alongB:0,pt:[e[0]+d*a,e[1]+d*o]};return p.alongA=d<=-t?-2:d<t?-1:d-1<=-t?0:d-1<t?1:2,p.alongB=f<=-t?-2:f<t?-1:f-1<=-t?0:f-1<t?1:2,p},pointInsideRegion:function(e,n){for(var r=e[0],i=e[1],a=n[n.length-1][0],o=n[n.length-1][1],s=!1,l=0;l<n.length;l++){var c=n[l][0],u=n[l][1];u-i>t!=o-i>t&&(a-c)*(i-u)/(o-u)+c-r>t&&(s=!s),a=c,o=u}return s}};return e}})),$n=a(((t,e)=>{e.exports={create:function(){var t={root:{root:!0,next:null},exists:function(e){return!(null===e||e===t.root)},isEmpty:function(){return null===t.root.next},getHead:function(){return t.root.next},insertBefore:function(e,n){for(var r=t.root,i=t.root.next;null!==i;){if(n(i))return e.prev=i.prev,e.next=i,i.prev.next=e,void(i.prev=e);r=i,i=i.next}r.next=e,e.prev=r,e.next=null},findTransition:function(e){for(var n=t.root,r=t.root.next;null!==r&&!e(r);)n=r,r=r.next;return{before:n===t.root?null:n,after:r,insert:function(t){return t.prev=n,t.next=r,n.next=t,null!==r&&(r.prev=t),t}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}}})),Qn=a(((t,e)=>{var n=$n();e.exports=function(t,e,r){function i(t,e){return{id:r?r.segmentId():-1,start:t,end:e,myFill:{above:null,below:null},otherFill:null}}function a(t,e,n){return{id:r?r.segmentId():-1,start:t,end:e,myFill:{above:n.myFill.above,below:n.myFill.below},otherFill:null}}var o=n.create();function s(t,n){o.insertBefore(t,(function(r){var i=function(t,n,r,i,a,o){var s=e.pointsCompare(n,a);return 0!==s?s:e.pointsSame(r,o)?0:t!==i?t?1:-1:e.pointAboveOrOnLine(r,i?a:o,i?o:a)?1:-1}(t.isStart,t.pt,n,r.isStart,r.pt,r.other.pt);return i<0}))}function l(t,e){var r=function(t,e){var r=n.node({isStart:!0,pt:t.start,seg:t,primary:e,other:null,status:null});return s(r,t.end),r}(t,e);return function(t,e,r){var i=n.node({isStart:!1,pt:e.end,seg:e,primary:r,other:t,status:null});t.other=i,s(i,t.pt)}(r,t,e),r}function c(t,e){var n=a(e,t.seg.end,t.seg);return function(t,e){r&&r.segmentChop(t.seg,e),t.other.remove(),t.seg.end=e,t.other.pt=e,s(t.other,t.pt)}(t,e),l(n,t.primary)}function u(i,a){var s=n.create();function l(t){return s.findTransition((function(n){var r=function(t,n){var r=t.seg.start,i=t.seg.end,a=n.seg.start,o=n.seg.end;return e.pointsCollinear(r,a,o)?e.pointsCollinear(i,a,o)||e.pointAboveOrOnLine(i,a,o)?1:-1:e.pointAboveOrOnLine(r,a,o)?1:-1}(t,n.ev);return r>0}))}function u(t,n){var i=t.seg,a=n.seg,o=i.start,s=i.end,l=a.start,u=a.end;r&&r.checkIntersection(i,a);var h=e.linesIntersect(o,s,l,u);if(!1===h){if(!e.pointsCollinear(o,s,l)||e.pointsSame(o,u)||e.pointsSame(s,l))return!1;var d=e.pointsSame(o,l),f=e.pointsSame(s,u);if(d&&f)return n;var p=!d&&e.pointBetween(o,l,u),m=!f&&e.pointBetween(s,l,u);if(d)return m?c(n,s):c(t,u),n;p&&(f||(m?c(n,s):c(t,u)),c(n,o))}else 0===h.alongA&&(-1===h.alongB?c(t,l):0===h.alongB?c(t,h.pt):1===h.alongB&&c(t,u)),0===h.alongB&&(-1===h.alongA?c(n,o):0===h.alongA?c(n,h.pt):1===h.alongA&&c(n,s));return!1}for(var h=[];!o.isEmpty();){var d=o.getHead();if(r&&r.vert(d.pt[0]),d.isStart){let e=function(){if(p){var t=u(d,p);if(t)return t}return!!m&&u(d,m)};r&&r.segmentNew(d.seg,d.primary);var f=l(d),p=f.before?f.before.ev:null,m=f.after?f.after.ev:null;r&&r.tempStatus(d.seg,!!p&&p.seg,!!m&&m.seg);var g,v=e();if(v&&(t?(g=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below)&&(v.seg.myFill.above=!v.seg.myFill.above):v.seg.otherFill=d.seg.myFill,r&&r.segmentUpdate(v.seg),d.other.remove(),d.remove()),o.getHead()!==d){r&&r.rewind(d.seg);continue}if(t)g=null===d.seg.myFill.below||d.seg.myFill.above!==d.seg.myFill.below,d.seg.myFill.below=m?m.seg.myFill.above:i,d.seg.myFill.above=g?!d.seg.myFill.below:d.seg.myFill.below;else if(null===d.seg.otherFill){var y;y=m?d.primary===m.primary?m.seg.otherFill.above:m.seg.myFill.above:d.primary?a:i,d.seg.otherFill={above:y,below:y}}r&&r.status(d.seg,!!p&&p.seg,!!m&&m.seg),d.other.status=f.insert(n.node({ev:d}))}else{var _=d.status;if(null===_)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(s.exists(_.prev)&&s.exists(_.next)&&u(_.prev.ev,_.next.ev),r&&r.statusRemove(_.ev.seg),_.remove(),!d.primary){var x=d.seg.myFill;d.seg.myFill=d.seg.otherFill,d.seg.otherFill=x}h.push(d.seg)}o.getHead().remove()}return r&&r.done(),h}return t?{addRegion:function(t){for(var n,r=t[t.length-1],a=0;a<t.length;a++){n=r,r=t[a];var o=e.pointsCompare(n,r);0!==o&&l(i(o<0?n:r,o<0?r:n),!0)}},calculate:function(t){return u(t,!1)}}:{calculate:function(t,e,n,r){return t.forEach((function(t){l(a(t.start,t.end,t),!0)})),n.forEach((function(t){l(a(t.start,t.end,t),!1)})),u(e,r)}}}})),tr=a(((t,e)=>{e.exports=function(t,e,n){var r=[],i=[];return t.forEach((function(t){var a=t.start,o=t.end;if(e.pointsSame(a,o))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{n&&n.chainStart(t);for(var s={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},c=s,u=0;u<r.length;u++){var h=(g=r[u])[0],d=(g[1],g[g.length-1]);if(g[g.length-2],e.pointsSame(h,a)){if(T(u,!0,!0))break}else if(e.pointsSame(h,o)){if(T(u,!0,!1))break}else if(e.pointsSame(d,a)){if(T(u,!1,!0))break}else if(e.pointsSame(d,o)&&T(u,!1,!1))break}if(c===s)return r.push([a,o]),void(n&&n.chainNew(a,o));if(c===l){n&&n.chainMatch(s.index);var f=s.index,p=s.matches_pt1?o:a,m=s.matches_head,g=r[f],v=m?g[0]:g[g.length-1],y=m?g[1]:g[g.length-2],_=m?g[g.length-1]:g[0],x=m?g[g.length-2]:g[1];return e.pointsCollinear(y,v,p)&&(m?(n&&n.chainRemoveHead(s.index,p),g.shift()):(n&&n.chainRemoveTail(s.index,p),g.pop()),v=y),e.pointsSame(_,p)?(r.splice(f,1),e.pointsCollinear(x,_,v)&&(m?(n&&n.chainRemoveTail(s.index,v),g.pop()):(n&&n.chainRemoveHead(s.index,v),g.shift())),n&&n.chainClose(s.index),void i.push(g)):void(m?(n&&n.chainAddHead(s.index,p),g.unshift(p)):(n&&n.chainAddTail(s.index,p),g.push(p)))}var b=s.index,w=l.index;n&&n.chainConnect(b,w);var M=r[b].length<r[w].length;s.matches_head?l.matches_head?M?(k(b),A(b,w)):(k(w),A(w,b)):A(w,b):l.matches_head?A(b,w):M?(k(b),A(w,b)):(k(w),A(b,w))}function T(t,e,n){return c.index=t,c.matches_head=e,c.matches_pt1=n,c===s?(c=l,!1):(c=null,!0)}function k(t){n&&n.chainReverse(t),r[t].reverse()}function A(t,i){var a=r[t],o=r[i],s=a[a.length-1],l=a[a.length-2],c=o[0],u=o[1];e.pointsCollinear(l,s,c)&&(n&&n.chainRemoveTail(t,s),a.pop(),s=l),e.pointsCollinear(s,c,u)&&(n&&n.chainRemoveHead(i,c),o.shift()),n&&n.chainJoin(t,i),r[t]=a.concat(o),r.splice(i,1)}})),i}})),er=a(((t,e)=>{function n(t,e,n){var r=[];return t.forEach((function(t){var i=(t.myFill.above?8:0)+(t.myFill.below?4:0)+(t.otherFill&&t.otherFill.above?2:0)+(t.otherFill&&t.otherFill.below?1:0);0!==e[i]&&r.push({id:n?n.segmentId():-1,start:t.start,end:t.end,myFill:{above:1===e[i],below:2===e[i]},otherFill:null})})),n&&n.selected(r),r}var r={union:function(t,e){return n(t,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],e)},intersect:function(t,e){return n(t,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],e)},difference:function(t,e){return n(t,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],e)},differenceRev:function(t,e){return n(t,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],e)},xor:function(t,e){return n(t,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],e)}};e.exports=r})),nr=a(((t,e)=>{var n={toPolygon:function(t,e){function n(e){if(e.length<=0)return t.segments({inverted:!1,regions:[]});function n(e){var n=e.slice(0,e.length-1);return t.segments({inverted:!1,regions:[n]})}for(var r=n(e[0]),i=1;i<e.length;i++)r=t.selectDifference(t.combine(r,n(e[i])));return r}if("Polygon"===e.type)return t.polygon(n(e.coordinates));if("MultiPolygon"===e.type){for(var r=t.segments({inverted:!1,regions:[]}),i=0;i<e.coordinates.length;i++)r=t.selectUnion(t.combine(r,n(e.coordinates[i])));return t.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,e,n){function r(t,n){return e.pointInsideRegion([.5*(t[0][0]+t[1][0]),.5*(t[0][1]+t[1][1])],n)}function i(t){return{region:t,children:[]}}n=t.polygon(t.segments(n));var a=i(null);function o(t,e){for(var n=0;n<t.children.length;n++)if(r(e,(s=t.children[n]).region))return void o(s,e);var a=i(e);for(n=0;n<t.children.length;n++){var s;r((s=t.children[n]).region,e)&&(a.children.push(s),t.children.splice(n,1),n--)}t.children.push(a)}for(var s=0;s<n.regions.length;s++){var l=n.regions[s];l.length<3||o(a,l)}function c(t,e){for(var n=0,r=t[t.length-1][0],i=t[t.length-1][1],a=[],o=0;o<t.length;o++){var s=t[o][0],l=t[o][1];a.push([s,l]),n+=l*r-s*i,r=s,i=l}return n<0!==e&&a.reverse(),a.push([a[0][0],a[0][1]]),a}var u=[];function h(t){var e=[c(t.region,!1)];u.push(e);for(var n=0;n<t.children.length;n++)e.push(d(t.children[n]))}function d(t){for(var e=0;e<t.children.length;e++)h(t.children[e]);return c(t.region,!0)}for(s=0;s<a.children.length;s++)h(a.children[s]);return u.length<=0?{type:"Polygon",coordinates:[]}:1==u.length?{type:"Polygon",coordinates:u[0]}:{type:"MultiPolygon",coordinates:u}}};e.exports=n})),rr=a(((t,e)=>{var n,r=Jn(),i=Kn(),a=Qn(),o=tr(),s=er(),l=nr(),c=!1,u=i();function h(t,e,r){var i=n.segments(t),a=n.segments(e),o=r(n.combine(i,a));return n.polygon(o)}n={buildLog:function(t){return!0===t?c=r():!1===t&&(c=!1),!1!==c&&c.list},epsilon:function(t){return u.epsilon(t)},segments:function(t){var e=a(!0,u,c);return t.regions.forEach(e.addRegion),{segments:e.calculate(t.inverted),inverted:t.inverted}},combine:function(t,e){return{combined:a(!1,u,c).calculate(t.segments,t.inverted,e.segments,e.inverted),inverted1:t.inverted,inverted2:e.inverted}},selectUnion:function(t){return{segments:s.union(t.combined,c),inverted:t.inverted1||t.inverted2}},selectIntersect:function(t){return{segments:s.intersect(t.combined,c),inverted:t.inverted1&&t.inverted2}},selectDifference:function(t){return{segments:s.difference(t.combined,c),inverted:t.inverted1&&!t.inverted2}},selectDifferenceRev:function(t){return{segments:s.differenceRev(t.combined,c),inverted:!t.inverted1&&t.inverted2}},selectXor:function(t){return{segments:s.xor(t.combined,c),inverted:t.inverted1!==t.inverted2}},polygon:function(t){return{regions:o(t.segments,u,c),inverted:t.inverted}},polygonFromGeoJSON:function(t){return l.toPolygon(n,t)},polygonToGeoJSON:function(t){return l.fromPolygon(n,u,t)},union:function(t,e){return h(t,e,n.selectUnion)},intersect:function(t,e){return h(t,e,n.selectIntersect)},difference:function(t,e){return h(t,e,n.selectDifference)},differenceRev:function(t,e){return h(t,e,n.selectDifferenceRev)},xor:function(t,e){return h(t,e,n.selectXor)}},"object"==typeof window&&(window.PolyBool=n),e.exports=n})),ir=a(((t,e)=>{e.exports=function(t,e,n,r){var i=t[0],a=t[1],o=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var s=r-n,l=0,c=s-1;l<s;c=l++){var u=e[l+n][0],h=e[l+n][1],d=e[c+n][0],f=e[c+n][1];h>a!=f>a&&i<(d-u)*(a-h)/(f-h)+u&&(o=!o)}return o}})),ar=a(((t,e)=>{var n=yt().dot,r=p().BADNUM,i=e.exports={};i.tester=function(t){var e,n=t.slice(),i=n[0][0],a=i,o=n[0][1],s=o;for((n[n.length-1][0]!==n[0][0]||n[n.length-1][1]!==n[0][1])&&n.push(n[0]),e=1;e<n.length;e++)i=Math.min(i,n[e][0]),a=Math.max(a,n[e][0]),o=Math.min(o,n[e][1]),s=Math.max(s,n[e][1]);var l,c=!1;5===n.length&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(c=!0,l=function(t){return t[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(c=!0,l=function(t){return t[1]===n[0][1]}));var u=!0,h=n[0];for(e=1;e<n.length;e++)if(h[0]!==n[e][0]||h[1]!==n[e][1]){u=!1;break}return{xmin:i,xmax:a,ymin:o,ymax:s,pts:n,contains:c?function(t,e){var n=t[0],c=t[1];return!(n===r||n<i||n>a||c===r||c<o||c>s||e&&l(t))}:function(t,e){var l=t[0],c=t[1];if(l===r||l<i||l>a||c===r||c<o||c>s)return!1;var u,h,d,f,p,m=n.length,g=n[0][0],v=n[0][1],y=0;for(u=1;u<m;u++)if(h=g,d=v,g=n[u][0],v=n[u][1],!(l<(f=Math.min(h,g))||l>Math.max(h,g)||c>Math.max(d,v)))if(c<Math.min(d,v))l!==f&&y++;else{if(c===(p=g===h?c:d+(l-h)*(v-d)/(g-h)))return!(1===u&&e);c<=p&&l!==f&&y++}return y%2==1},isRect:c,degenerate:u}},i.isSegmentBent=function(t,e,r,i){var a,o,s,l=t[e],c=[t[r][0]-l[0],t[r][1]-l[1]],u=n(c,c),h=Math.sqrt(u),d=[-c[1]/h,c[0]/h];for(a=e+1;a<r;a++)if(o=[t[a][0]-l[0],t[a][1]-l[1]],(s=n(o,c))<0||s>u||Math.abs(n(o,d))>i)return!0;return!1},i.filter=function(t,e){var n=[t[0]],r=0,a=0;function o(o){t.push(o);var s=n.length,l=r;n.splice(a+1);for(var c=l+1;c<t.length;c++)(c===t.length-1||i.isSegmentBent(t,l,c+1,e))&&(n.push(t[c]),n.length<s-2&&(r=c,a=n.length-1),l=c)}return t.length>1&&o(t.pop()),{addPt:o,raw:t,filtered:n}}})),or=a(((t,e)=>{e.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}})),sr=a(((t,e)=>{var n=rr(),r=ir(),i=Et(),a=Ze().dashStyle,o=E(),s=kn(),l=Be().makeEventData,c=An(),u=c.freeMode,h=c.rectMode,d=c.drawMode,f=c.openMode,p=c.selectMode,m=zn(),g=In(),v=Rn(),y=ue().clearOutline,_=Dn(),x=_.handleEllipse,b=_.readPaths,w=On().newShapes,M=En(),T=Xn().activateLastSelection,k=$t(),A=k.sorterAsc,L=ar(),C=Ut(),S=ce().getFromId,P=Ln(),D=qn().redrawReglTraces,O=or(),I=O.MINSELECT,z=L.filter,N=L.tester,R=Pn(),F=R.p2r,j=R.axValue,B=R.getTransform;function H(t){return void 0!==t.subplot}function U(t,e,n,r,i,a,o){var s,l,c,u,h,d,p,m,g,y=e._hoverdata,_=e._fullLayout.clickmode.indexOf("event")>-1,x=[];if(function(t){return t&&Array.isArray(t)&&!0!==t[0].hoverOnBox}(y)){W(t,e,a);var b=function(t,e){var n,r,i=t[0],a=-1,o=[];for(r=0;r<e.length;r++)if(n=e[r],i.fullData.index===n.cd[0].trace.index){if(!0===i.hoverOnBox)break;void 0!==i.pointNumber?a=i.pointNumber:void 0!==i.binNumber&&(a=i.binNumber,o=i.pointNumbers);break}return{pointNumber:a,pointNumbers:o,searchInfo:n}}(y,s=X(e,n,r,i));if(b.pointNumbers.length>0?function(t,e){var n,r,i,a=[];for(i=0;i<t.length;i++)(n=t[i]).cd[0].trace.selectedpoints&&n.cd[0].trace.selectedpoints.length>0&&a.push(n);if(1===a.length&&a[0]===e.searchInfo&&(r=e.searchInfo.cd[0].trace).selectedpoints.length===e.pointNumbers.length){for(i=0;i<e.pointNumbers.length;i++)if(r.selectedpoints.indexOf(e.pointNumbers[i])<0)return!1;return!0}return!1}(s,b):function(t){var e,n,r=0;for(n=0;n<t.length;n++)if((e=t[n].cd[0].trace).selectedpoints&&(e.selectedpoints.length>1||(r+=e.selectedpoints.length)>1))return!1;return 1===r}(s)&&(d=K(b))){for(o&&o.remove(),g=0;g<s.length;g++)(l=s[g])._module.selectPoints(l,!1);$(e,s),G(a),_&&dt(e)}else{for(p=t.shiftKey&&(void 0!==d?d:K(b)),c=function(t,e,n){return{pointNumber:t,searchInfo:e,subtract:!!n}}(b.pointNumber,b.searchInfo,p),u=Y(a.selectionDefs.concat([c])),g=0;g<s.length;g++)if(h=tt(s[g]._module.selectPoints(s[g],u),s[g]),x.length)for(var w=0;w<h.length;w++)x.push(h[w]);else x=h;if($(e,s,m={points:x}),c&&a&&a.selectionDefs.push(c),o){var M=a.mergedPolygons,T=f(a.dragmode);v(et(M,T),o,a)}_&&ht(e,m)}}}function Z(t){return"pointNumber"in t&&"searchInfo"in t}function V(t){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(e,n,r,i){var a=t.searchInfo.cd[0].trace.index;return i.cd[0].trace.index===a&&r===t.pointNumber},isRect:!1,degenerate:!1,subtract:!!t.subtract}}function Y(t){if(t.length){for(var e=[],n=Z(t[0])?0:t[0][0][0],r=n,i=Z(t[0])?0:t[0][0][1],a=i,o=0;o<t.length;o++)if(Z(t[o]))e.push(V(t[o]));else{var s=N(t[o]);s.subtract=!!t[o].subtract,e.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),a=Math.max(a,s.ymax)}return{xmin:n,xmax:r,ymin:i,ymax:a,pts:[],contains:function(t,n,r,i){for(var a=!1,o=0;o<e.length;o++)e[o].contains(t,n,r,i)&&(a=!e[o].subtract);return a},isRect:!1,degenerate:!1}}}function W(t,e,n){var r=e._fullLayout,i=n.plotinfo,a=n.dragmode,o=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=(t.shiftKey||t.altKey)&&!(d(a)&&f(a));o&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):(!s||!i.selection)&&G(n),o||(y(e),r._lastSelectedSubplot=i.id)}function G(t,e){var n=t.dragmode,r=t.plotinfo,a=t.gd;(function(t){return t._fullLayout._activeShapeIndex>=0})(a)&&a._fullLayout._deactivateShape(a),function(t){return t._fullLayout._activeSelectionIndex>=0}(a)&&a._fullLayout._deactivateSelection(a);var o=a._fullLayout._zoomlayer,s=d(n),l=p(n);if(s||l){var c,u,h=o.selectAll(".select-outline-"+r.id);h&&a._fullLayout._outlining&&(s&&(c=w(h,t)),c&&i.call("_guiRelayout",a,{shapes:c}),l&&!H(t)&&(u=M(h,t)),u&&(a._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",a,{selections:u}).then((function(){e&&T(a)}))),a._fullLayout._outlining=!1)}r.selection={},r.selection.selectionDefs=t.selectionDefs=[],r.selection.mergedPolygons=t.mergedPolygons=[]}function q(t){return t._id}function X(t,e,n,r){if(!t.calcdata)return[];var i,a,o,s=[],l=e.map(q),c=n.map(q);for(o=0;o<t.calcdata.length;o++)if(!0===(a=(i=t.calcdata[o])[0].trace).visible&&a._module&&a._module.selectPoints)if(!H({subplot:r})||a.subplot!==r&&a.geo!==r)if("splom"===a.type){if(a._xaxes[l[0]]&&a._yaxes[c[0]]){var u=J(a._module,i,e[0],n[0]);u.scene=t._fullLayout._splomScenes[a.uid],s.push(u)}}else if("sankey"===a.type){var h=J(a._module,i,e[0],n[0]);s.push(h)}else{if(!(-1!==l.indexOf(a.xaxis)||a._xA&&a._xA.overlaying)||!(-1!==c.indexOf(a.yaxis)||a._yA&&a._yA.overlaying))continue;s.push(J(a._module,i,S(t,a.xaxis),S(t,a.yaxis)))}else s.push(J(a._module,i,e[0],n[0]));return s}function J(t,e,n,r){return{_module:t,cd:e,xaxis:n,yaxis:r}}function K(t){var e=t.searchInfo.cd[0].trace,n=t.pointNumber,r=t.pointNumbers,i=r.length>0?r[0]:n;return!!e.selectedpoints&&e.selectedpoints.indexOf(i)>-1}function $(t,e,n){var r,a;for(r=0;r<e.length;r++){var o=e[r].cd[0].trace._fullInput,s=t._fullLayout._tracePreGUI[o.uid]||{};void 0===s.selectedpoints&&(s.selectedpoints=o._input.selectedpoints||null)}if(n){var l=n.points||[];for(r=0;r<e.length;r++)(a=e[r].cd[0].trace)._input.selectedpoints=a._fullInput.selectedpoints=[],a._fullInput!==a&&(a.selectedpoints=[]);for(var c=0;c<l.length;c++){var u=l[c],h=u.data,d=u.fullData,f=u.pointIndex,p=u.pointIndices;p?([].push.apply(h.selectedpoints,p),a._fullInput!==a&&[].push.apply(d.selectedpoints,p)):(h.selectedpoints.push(f),a._fullInput!==a&&d.selectedpoints.push(f))}}else for(r=0;r<e.length;r++)delete(a=e[r].cd[0].trace).selectedpoints,delete a._input.selectedpoints,a._fullInput!==a&&delete a._fullInput.selectedpoints;!function(t,e){for(var n=!1,r=0;r<e.length;r++){var a=e[r],o=a.cd;i.traceIs(o[0].trace,"regl")&&(n=!0);var s=a._module,l=s.styleOnSelect||s.style;l&&(l(t,o,o[0].node3),o[0].nodeRangePlot3&&l(t,o,o[0].nodeRangePlot3))}n&&(P(t),D(t))}(t,e)}function Q(t,e,r){for(var i=(r?n.difference:n.union)({regions:t},{regions:[e]}).regions.reverse(),a=0;a<i.length;a++){var o=i[a];o.subtract=st(o,i.slice(0,a))}return i}function tt(t,e){if(Array.isArray(t))for(var n=e.cd,r=e.cd[0].trace,i=0;i<t.length;i++)t[i]=l(t[i],r,n);return t}function et(t,e){for(var n=[],r=0;r<t.length;r++){n[r]=[];for(var i=0;i<t[r].length;i++){n[r][i]=[],n[r][i][0]=i?"L":"M";for(var a=0;a<t[r][i].length;a++)n[r][i].push(t[r][i][a])}e||n[r].push(["Z",n[r][0][1],n[r][0][2]])}return n}function nt(t,e){for(var n,r,i=[],a=[],o=0;o<e.length;o++){var s=e[o];r=s._module.selectPoints(s,t),a.push(r),n=tt(r,s),i=i.concat(n)}return i}function rt(t,e,n,r,i){var a,o,s,l=!!r;i&&(a=i.plotinfo,o=i.xaxes[0]._id,s=i.yaxes[0]._id);var c=[],u=[],h=ot(t),f=t._fullLayout;if(a){var m=f._zoomlayer,g=f.dragmode,v=d(g),y=p(g);if(v||y){var _=S(t,o,"x"),x=S(t,s,"y");if(_&&x){var w=m.selectAll(".select-outline-"+a.id);if(w&&t._fullLayout._outlining&&w.length){for(var M=w[0][0].getAttribute("d"),T=b(M,t,a),k=[],A=0;A<T.length;A++){for(var L=T[A],C=[],P=0;P<L.length;P++)C.push([lt(_,L[P][1]),lt(x,L[P][2])]);C.xref=o,C.yref=s,C.subtract=st(C,k),k.push(C)}h=h.concat(k)}}}}var D=o&&s?[o+s]:f._subplots.cartesian;!function(t){var e=t.calcdata;if(e)for(var n=0;n<e.length;n++){var r=e[n][0].trace,i=t._fullLayout._splomScenes;if(i){var a=i[r.uid];a&&(a.selectBatch=[])}}}(t);for(var O={},E=0;E<D.length;E++){var I=D[E],z=I.indexOf("y"),N=I.slice(0,z),R=I.slice(z),F=o&&s?n:void 0;if(F=at(h,N,R,F)){var j=r;if(!l){var B=S(t,N,"x"),H=S(t,R,"y");j=X(t,[B],[H],I);for(var U=0;U<j.length;U++){var Z=j[U],V=Z.cd[0],Y=V.trace;if("scattergl"===Z._module.name&&!V.t.xpx){var W=Y.x,G=Y.y,q=Y._length;V.t.xpx=[],V.t.ypx=[];for(var J=0;J<q;J++)V.t.xpx[J]=B.c2p(W[J]),V.t.ypx[J]=H.c2p(G[J])}"splom"===Z._module.name&&(O[Y.uid]||(O[Y.uid]=!0))}}var K=nt(F,j);c=c.concat(K),u=u.concat(j)}}var Q={points:c};$(t,u,Q);var tt=f.clickmode.indexOf("event")>-1&&e;if(!a&&e){var et=ot(t,!0);if(et.length){var rt=et[0].xref,ft=et[0].yref;if(rt&&ft){var pt=ct(et);ut([S(t,rt,"x"),S(t,ft,"y")])(Q,pt)}}t._fullLayout._noEmitSelectedAtStart?t._fullLayout._noEmitSelectedAtStart=!1:tt&&ht(t,Q),f._reselect=!1}if(!a&&f._deselect){var mt=f._deselect;(function(t,e,n){for(var r=0;r<n.length;r++){var i=n[r];if(i.xaxis&&i.xaxis._id===t&&i.yaxis&&i.yaxis._id===e)return!0}return!1})(o=mt.xref,s=mt.yref,u)||it(t,o,s,r),tt&&(Q.points.length?ht(t,Q):dt(t)),f._deselect=!1}return{eventData:Q,selectionTesters:n}}function it(t,e,n,r){r=X(t,[S(t,e,"x")],[S(t,n,"y")],e+n);for(var i=0;i<r.length;i++){var a=r[i];a._module.selectPoints(a,!1)}$(t,r)}function at(t,e,n,r){for(var i,a=0;a<t.length;a++){var o=t[a];e===o.xref&&n===o.yref&&(i?r=Y(i=Q(i,o,!!o.subtract)):(i=[o],r=N(o)))}return r}function ot(t,e){for(var n=[],r=t._fullLayout,i=r.selections,a=i.length,o=0;o<a;o++)if(!e||o===r._activeSelectionIndex){var s=i[o];if(s){var l,c,u,h,d,f=s.xref,p=s.yref,v=S(t,f,"x"),y=S(t,p,"y");if("rect"===s.type){d=[];var _=lt(v,s.x0),x=lt(v,s.x1),b=lt(y,s.y0),w=lt(y,s.y1);d=[[_,b],[_,w],[x,w],[x,b]],l=Math.min(_,x),c=Math.max(_,x),u=Math.min(b,w),h=Math.max(b,w),d.xmin=l,d.xmax=c,d.ymin=u,d.ymax=h,d.xref=f,d.yref=p,d.subtract=!1,d.isRect=!0,n.push(d)}else if("path"===s.type)for(var M=s.path.split("Z"),T=[],k=0;k<M.length;k++){var A=M[k];if(A){A+="Z";var L=m.extractPathCoords(A,g.paramIsX,"raw"),C=m.extractPathCoords(A,g.paramIsY,"raw");l=1/0,c=-1/0,u=1/0,h=-1/0,d=[];for(var P=0;P<L.length;P++){var D=lt(v,L[P]),O=lt(y,C[P]);d.push([D,O]),l=Math.min(D,l),c=Math.max(D,c),u=Math.min(O,u),h=Math.max(O,h)}d.xmin=l,d.xmax=c,d.ymin=u,d.ymax=h,d.xref=f,d.yref=p,d.subtract=st(d,T),T.push(d),n.push(d)}}}}return n}function st(t,e){for(var n=!1,i=0;i<e.length;i++)for(var a=e[i],o=0;o<t.length;o++)if(r(t[o],a)){n=!n;break}return n}function lt(t,e){return"date"===t.type&&(e=e.replace("_"," ")),"log"===t.type?t.c2p(e):t.r2p(e,null,t.calendar)}function ct(t){for(var e=t.length,n=[],r=0;r<e;r++){var i=t[r];n=(n=n.concat(i)).concat([i[0]])}return function(t){return t.isRect=5===t.length&&t[0][0]===t[4][0]&&t[0][1]===t[4][1]&&t[0][0]===t[1][0]&&t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]||t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0],t.isRect&&(t.xmin=Math.min(t[0][0],t[2][0]),t.xmax=Math.max(t[0][0],t[2][0]),t.ymin=Math.min(t[0][1],t[2][1]),t.ymax=Math.max(t[0][1],t[2][1])),t}(n)}function ut(t){return function(e,n){for(var r,i,a=0;a<t.length;a++){var o=t[a],s=o._id,l=s.charAt(0);if(n.isRect){r||(r={});var c=n[l+"min"],u=n[l+"max"];void 0!==c&&void 0!==u&&(r[s]=[F(o,c),F(o,u)].sort(A))}else i||(i={}),i[s]=n.map(j(o))}r&&(e.range=r),i&&(e.lassoPoints=i)}}function ht(t,e){e&&(e.selections=(t.layout||{}).selections||[]),t.emit("plotly_selected",e)}function dt(t){t.emit("plotly_deselect",null)}e.exports={reselect:rt,prepSelect:function(t,e,n,r,l){var c=!H(r),m=u(l),g=h(l),y=f(l),_=d(l),b=p(l),w="drawcircle"===l,M="drawline"===l||w,T=r.gd,A=T._fullLayout,L=b&&"immediate"===A.newselection.mode&&c,S=A._zoomlayer,P=r.element.getBoundingClientRect(),D=r.plotinfo,E=B(D),R=e-P.left,F=n-P.top;A._calcInverseTransform(T);var j=k.apply3DTransform(A._invTransform)(R,F);R=j[0],F=j[1];var Z,V,q,J,K,tt,at,ot=A._invScaleX,st=A._invScaleY,lt=R,ft=F,pt="M"+R+","+F,mt=r.xaxes[0],gt=r.yaxes[0],vt=mt._length,yt=gt._length,_t=t.altKey&&!(d(l)&&y);W(t,T,r),m&&(Z=z([[R,F]],O.BENDPX));var xt=S.selectAll("path.select-outline-"+D.id).data([1]),bt=_?A.newshape:A.newselection;_&&(r.hasText=bt.label.text||bt.label.texttemplate);var wt=_&&!y?bt.fillcolor:"rgba(0,0,0,0)",Mt=bt.line.color||(c?o.contrast(T._fullLayout.plot_bgcolor):"#7f7f7f");xt.enter().append("path").attr("class","select-outline select-outline-"+D.id).style({opacity:_?bt.opacity/2:1,"stroke-dasharray":a(bt.line.dash,bt.line.width),"stroke-width":bt.line.width+"px","shape-rendering":"crispEdges"}).call(o.stroke,Mt).call(o.fill,wt).attr("fill-rule","evenodd").classed("cursor-move",!!_).attr("transform",E).attr("d",pt+"Z");var Tt=S.append("path").attr("class","zoombox-corners").style({fill:o.background,stroke:o.defaultLine,"stroke-width":1}).attr("transform",E).attr("d","M0,0Z");if(_&&r.hasText){var kt=S.select(".label-temp");kt.empty()&&(kt=S.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var At=A._uid+O.SELECTID,Lt=[],Ct=X(T,r.xaxes,r.yaxes,r.subplot);L&&!t.shiftKey&&(r._clearSubplotSelections=function(){if(c){var t=mt._id,e=gt._id;it(T,t,e,Ct);for(var n=(T.layout||{}).selections||[],r=[],a=!1,o=0;o<n.length;o++){var s=A.selections[o];s&&s.xref===t&&s.yref===e?a=!0:r.push(n[o])}a&&(T._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",T,{selections:r}))}});var St=function(t){return t.plotinfo.fillRangeItems||ut(t.xaxes.concat(t.yaxes))}(r);r.moveFn=function(t,e){r._clearSubplotSelections&&(r._clearSubplotSelections(),r._clearSubplotSelections=void 0),lt=Math.max(0,Math.min(vt,ot*t+R)),ft=Math.max(0,Math.min(yt,st*e+F));var n=Math.abs(lt-R),i=Math.abs(ft-F);if(g){var a,o,s;if(b){var l=A.selectdirection;switch(a="any"===l?i<Math.min(.6*n,I)?"h":n<Math.min(.6*i,I)?"v":"d":l){case"h":o=w?yt/2:0,s=yt;break;case"v":o=w?vt/2:0,s=vt}}if(_)switch(A.newshape.drawdirection){case"vertical":a="h",o=w?yt/2:0,s=yt;break;case"horizontal":a="v",o=w?vt/2:0,s=vt;break;case"ortho":n<i?(a="h",o=F,s=ft):(a="v",o=R,s=lt);break;default:a="d"}"h"===a?((J=M?x(w,[lt,o],[lt,s]):[[R,o],[R,s],[lt,s],[lt,o]]).xmin=M?lt:Math.min(R,lt),J.xmax=M?lt:Math.max(R,lt),J.ymin=Math.min(o,s),J.ymax=Math.max(o,s),Tt.attr("d","M"+J.xmin+","+(F-I)+"h-4v"+2*I+"h4ZM"+(J.xmax-1)+","+(F-I)+"h4v"+2*I+"h-4Z")):"v"===a?((J=M?x(w,[o,ft],[s,ft]):[[o,F],[o,ft],[s,ft],[s,F]]).xmin=Math.min(o,s),J.xmax=Math.max(o,s),J.ymin=M?ft:Math.min(F,ft),J.ymax=M?ft:Math.max(F,ft),Tt.attr("d","M"+(R-I)+","+J.ymin+"v-4h"+2*I+"v4ZM"+(R-I)+","+(J.ymax-1)+"v4h"+2*I+"v-4Z")):"d"===a&&((J=M?x(w,[R,F],[lt,ft]):[[R,F],[R,ft],[lt,ft],[lt,F]]).xmin=Math.min(R,lt),J.xmax=Math.max(R,lt),J.ymin=Math.min(F,ft),J.ymax=Math.max(F,ft),Tt.attr("d","M0,0Z"))}else m&&(Z.addPt([lt,ft]),J=Z.filtered);if(r.selectionDefs&&r.selectionDefs.length?(q=Q(r.mergedPolygons,J,_t),J.subtract=_t,V=Y(r.selectionDefs.concat([J]))):(q=[J],V=N(J)),v(et(q,y),xt,r),b){var c,u=rt(T,!1),h=u.eventData?u.eventData.points.slice():[];u=rt(T,!1,V,Ct,r),V=u.selectionTesters,at=u.eventData,c=Z?Z.filtered:ct(q),C.throttle(At,O.SELECTDELAY,(function(){for(var t=(Lt=nt(V,Ct)).slice(),e=0;e<h.length;e++){for(var n=h[e],r=!1,i=0;i<t.length;i++)if(t[i].curveNumber===n.curveNumber&&t[i].pointNumber===n.pointNumber){r=!0;break}r||t.push(n)}t.length&&(at||(at={}),at.points=t),St(at,c),function(t,e){t.emit("plotly_selecting",e)}(T,at)}))}},r.clickFn=function(t,e){if(Tt.remove(),T._fullLayout._activeShapeIndex>=0)T._fullLayout._deactivateShape(T);else if(!_){var n=A.clickmode;C.done(At).then((function(){if(C.clear(At),2===t){for(xt.remove(),K=0;K<Ct.length;K++)(tt=Ct[K])._module.selectPoints(tt,!1);if($(T,Ct),G(r),dt(T),Ct.length){var a=Ct[0].xaxis,o=Ct[0].yaxis;if(a&&o){for(var l=[],c=T._fullLayout.selections,u=0;u<c.length;u++){var h=c[u];h&&(h.xref!==a._id||h.yref!==o._id)&&l.push(h)}l.length<c.length&&(T._fullLayout._noEmitSelectedAtStart=!0,i.call("_guiRelayout",T,{selections:l}))}}}else n.indexOf("select")>-1&&U(e,T,r.xaxes,r.yaxes,r.subplot,r,xt),"event"===n&&ht(T,void 0);s.click(T,e,D.id)})).catch(k.error)}},r.doneFn=function(){Tt.remove(),C.done(At).then((function(){C.clear(At),!L&&J&&r.selectionDefs&&(J.subtract=_t,r.selectionDefs.push(J),r.mergedPolygons.length=0,[].push.apply(r.mergedPolygons,q)),(L||_)&&G(r,L),r.doneFnCompleted&&r.doneFnCompleted(Lt),b&&ht(T,at)})).catch(k.error)}},clearOutline:y,clearSelectionsCache:G,selectOnClick:U}})),lr=a(((t,e)=>{e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]})),cr=a(((t,e)=>{e.exports={axisRefDescription:function(t,e,n){return["If set to a",t,"axis id (e.g. *"+t+"* or","*"+t+"2*), the `"+t+"` position refers to a",t,"coordinate. If set to *paper*, the `"+t+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+n+"). If set to a",t,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+t+"2 domain* refers to the domain of the second",t," axis and a",t,"position of 0.5 refers to the","point between the",e,"and the",n,"of the domain of the","second",t,"axis."].join(" ")}}})),ur=a(((t,e)=>{var n=lr(),r=A(),i=le(),a=se().templatedArray;cr(),e.exports=a("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:r({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:n.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:r({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})})),hr=a(((t,e)=>{e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}})),dr=a(((t,e)=>{e.exports=function(t){return{valType:"color",editType:"style",anim:!0}}})),fr=a(((t,e)=>{var n=_e().axisHoverFormat,r=Tt().texttemplateAttrs,i=Tt().hovertemplateAttrs,a=we(),o=A(),s=wt().dash,l=wt().pattern,c=Ze(),u=hr(),h=k().extendFlat,d=dr();e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:n("x"),yhoverformat:n("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:r({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:i({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:h({},s,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:d(!0),fillgradient:h({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:l,marker:h({symbol:{valType:"enumerated",values:c.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:h({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},a("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},a("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:o({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}})),pr=a(((t,e)=>{var n=ur(),r=fr().line,i=wt().dash,a=k().extendFlat,o=bt().overrideAll,s=se().templatedArray;cr(),e.exports=o(s("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:a({},n.xref,{}),yref:a({},n.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:r.color,width:a({},r.width,{min:1,dflt:1}),dash:a({},i,{dflt:"dot"})}}),"arraydraw","from-root")})),mr=a(((t,e)=>{var n=$t(),r=qe(),i=Se(),a=pr(),o=zn();function s(t,e,i){function s(r,i){return n.coerce(t,e,a,r,i)}var l=s("path"),c="path"!==s("type",l?"path":"rect");c&&delete e.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var u=["x","y"],h=0;h<2;h++){var d,f,p,m=u[h],g={_fullLayout:i},v=r.coerceRef(t,e,g,m);if((d=r.getFromId(g,v))._selectionIndices.push(e._index),p=o.rangeToShapePosition(d),f=o.shapePositionToRange(d),c){var y=m+"0",_=m+"1",x=t[y],b=t[_];t[y]=f(t[y],!0),t[_]=f(t[_],!0),r.coercePosition(e,g,s,v,y),r.coercePosition(e,g,s,v,_);var w=e[y],M=e[_];void 0!==w&&void 0!==M&&(e[y]=p(w),e[_]=p(M),t[y]=x,t[_]=b)}}c&&n.noneOrAll(t,e,["x0","x1","y0","y1"])}e.exports=function(t,e){i(t,e,{name:"selections",handleItemDefaults:s});for(var n=e.selections,r=0;r<n.length;r++){var a=n[r];a&&void 0===a.path&&(void 0===a.x0||void 0===a.x1||void 0===a.y0||void 0===a.y1)&&(e.selections[r]=null)}}})),gr=a(((t,e)=>{e.exports=function(t,e,n){n("newselection.mode"),n("newselection.line.width")&&(n("newselection.line.color"),n("newselection.line.dash")),n("activeselection.fillcolor"),n("activeselection.opacity")}})),vr=a(((t,e)=>{var n=Et(),r=$t(),i=ce();e.exports=function(t){return function(e,a){var o=e[t];if(Array.isArray(o))for(var s=n.subplotsRegistry.cartesian,l=s.idRegex,c=a._subplots,u=c.xaxis,h=c.yaxis,d=c.cartesian,f=a._has("cartesian"),p=0;p<o.length;p++){var m=o[p];if(r.isPlainObject(m)){var g=i.cleanId(m.xref,"x",!1),v=i.cleanId(m.yref,"y",!1),y=l.x.test(g),_=l.y.test(v);if(y||_){f||r.pushUnique(a._basePlotModules,s);var x=!1;y&&-1===u.indexOf(g)&&(u.push(g),x=!0),_&&-1===h.indexOf(v)&&(h.push(v),x=!0),x&&y&&_&&d.push(g+v)}}}}}})),yr=a(((t,e)=>{var n=Xn(),r=sr();e.exports={moduleType:"component",name:"selections",layoutAttributes:pr(),supplyLayoutDefaults:mr(),supplyDrawNewSelectionDefaults:gr(),includeBasePlot:vr()("selections"),draw:n.draw,drawOne:n.drawOne,reselect:r.reselect,prepSelect:r.prepSelect,clearOutline:r.clearOutline,clearSelectionsCache:r.clearSelectionsCache,selectOnClick:r.selectOnClick}})),_r=a(((t,e)=>{var n=l(),r=$t(),i=r.numberFormat,a=T(),o=$e(),s=Et(),c=r.strTranslate,u=ve(),h=E(),d=Ze(),f=kn(),p=qe(),m=rn(),g=nn(),v=An(),y=v.selectingOrDrawing,_=v.freeMode,x=ge().FROM_TL,b=Ln(),w=qn().redrawReglTraces,M=pe(),k=ce().getFromId,A=yr().prepSelect,L=yr().clearOutline,C=yr().selectOnClick,S=Wn(),P=le(),D=P.MINDRAG,O=P.MINZOOM,I=!0;function z(t,e,n,i){var a=r.ensureSingle(t.draglayer,e,n,(function(e){e.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id)}));return a.call(m,i),a.node()}function N(t,e,r,i,a,o,s){var l=z(t,"rect",e,r);return n.select(l).call(d.setRect,i,a,o,s),l}function R(t,e){for(var n=0;n<t.length;n++)if(!t[n].fixedrange)return e;return""}function F(t,e,n,r,i){for(var a=0;a<t.length;a++){var o=t[a];if(!o.fixedrange)if(o.rangebreaks){var s="y"===o._id.charAt(0),l=s?1-e:e,c=s?1-n:n;r[o._name+".range[0]"]=o.l2r(o.p2l(l*o._length)),r[o._name+".range[1]"]=o.l2r(o.p2l(c*o._length))}else{var u=o._rl[0],h=o._rl[1]-u;r[o._name+".range[0]"]=o.l2r(u+h*e),r[o._name+".range[1]"]=o.l2r(u+h*n)}}if(i&&i.length){var d=(e+(1-n))/2;F(i,d,1-d,r,[])}}function j(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(!r.fixedrange){if(r.rangebreaks){var i=r._length,a=(r.p2l(0+e)-r.p2l(0)+(r.p2l(i+e)-r.p2l(i)))/2;r.range=[r.l2r(r._rl[0]-a),r.l2r(r._rl[1]-a)]}else r.range=[r.l2r(r._rl[0]-e/r._m),r.l2r(r._rl[1]-e/r._m)];r.limitRange&&r.limitRange()}}}function B(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function H(t,e,n,r,i){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",c(n,r)).attr("d",i+"Z")}function U(t,e,n){return t.append("path").attr("class","zoombox-corners").style({fill:h.background,stroke:h.defaultLine,"stroke-width":1,opacity:0}).attr("transform",c(e,n)).attr("d","M0,0Z")}function Z(t,e,n,r,i,a){t.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),V(t,e,i,a)}function V(t,e,n,r){n||(t.transition().style("fill",r>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function Y(t){n.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function W(t){I&&t.data&&t._context.showTips&&(r.notifier(r._(t,"Double-click to zoom back out"),"long"),I=!1)}function G(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,O)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function q(t,e,n,i,a){for(var o,s,l,c,u=!1,h={},d={},f=(a||{}).xaHash,p=(a||{}).yaHash,m=0;m<e.length;m++){var g=e[m];for(o in n)if(g[o]){for(l in g)(!a||!f[l]&&!p[l])&&!("x"===l.charAt(0)?n:i)[l]&&(h[l]=o);for(s in i)(!a||!f[s]&&!p[s])&&g[s]&&(u=!0)}for(s in i)if(g[s])for(c in g)(!a||!f[c]&&!p[c])&&!("x"===c.charAt(0)?n:i)[c]&&(d[c]=s)}u&&(r.extendFlat(h,d),d={});var v={},y=[];for(l in h){var _=k(t,l);y.push(_),v[_._id]=_}var x={},b=[];for(c in d){var w=k(t,c);b.push(w),x[w._id]=w}return{xaHash:v,yaHash:x,xaxes:y,yaxes:b,xLinks:h,yLinks:d,isSubplotConstrained:u}}function X(t,e){if(o){var n=void 0!==t.onwheel?"wheel":"mousewheel";t._onwheel&&t.removeEventListener(n,t._onwheel),t._onwheel=e,t.addEventListener(n,e,{passive:!1})}else void 0!==t.onwheel?t.onwheel=e:void 0!==t.onmousewheel?t.onmousewheel=e:t.isAddedWheelEvent||(t.isAddedWheelEvent=!0,t.addEventListener("wheel",e,{passive:!1}))}function J(t){var e=[];for(var n in t)e.push(t[n]);return e}e.exports={makeDragBox:function(t,e,o,l,c,h,m,v){var T,E,I,z,V,K,$,Q,tt,et,nt,rt,it,at,ot,st,lt,ct,ut,ht,dt,ft,pt,mt=t._fullLayout._zoomlayer,gt=m+v==="nsew",vt=1===(m+v).length;function yt(){if(T=e.xaxis,E=e.yaxis,tt=T._length,et=E._length,$=T._offset,Q=E._offset,(I={})[T._id]=T,(z={})[E._id]=E,m&&v)for(var n=e.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;I[i._id]=i;var a=n[r].yaxis;z[a._id]=a}V=J(I),K=J(z),it=R(V,v),at=R(K,m),ot=!at&&!it,rt=q(t,t._fullLayout._axisMatchGroups,I,z);var o=(nt=q(t,t._fullLayout._axisConstraintGroups,I,z,rt)).isSubplotConstrained||rt.isSubplotConstrained;st=v||o,lt=m||o;var s=t._fullLayout;ct=s._has("scattergl"),ut=s._has("splom"),ht=s._has("svg")}o+=e.yaxis._shift,yt();var _t=function(t,e,n){return t?"nsew"===t?n?"":"pan"===e?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}(at+it,t._fullLayout.dragmode,gt),xt=N(e,m+v+"drag",_t,o,l,c,h);if(ot&&!gt)return xt.onmousedown=null,xt.style.pointerEvents="none",xt;var bt,wt,Mt,Tt,kt,At,Lt,Ct,St,Pt,Dt={element:xt,gd:t,plotinfo:e};function Ot(){Dt.plotinfo.selection=!1,L(t)}function Et(r,a){var o=Dt.gd;if(o._fullLayout._activeShapeIndex>=0)o._fullLayout._deactivateShape(o);else{var l=o._fullLayout.clickmode;if(Y(o),2===r&&!vt&&function(){if(!t._transitioningWithDuration){var e=t._context.doubleClick,n=[];it&&(n=n.concat(V)),at&&(n=n.concat(K)),rt.xaxes&&(n=n.concat(rt.xaxes)),rt.yaxes&&(n=n.concat(rt.yaxes));var r,i,a={};if("reset+autosize"===e)for(e="autosize",i=0;i<n.length;i++){var o=(r=n[i])._rangeInitial0,l=r._rangeInitial1,c=void 0!==o||void 0!==l;if(c&&(void 0!==o&&o!==r.range[0]||void 0!==l&&l!==r.range[1])||!c&&!0!==r.autorange){e="reset";break}}if("autosize"===e)for(i=0;i<n.length;i++)(r=n[i]).fixedrange||(a[r._name+".autorange"]=!0);else if("reset"===e)for((it||nt.isSubplotConstrained)&&(n=n.concat(nt.xaxes)),at&&!nt.isSubplotConstrained&&(n=n.concat(nt.yaxes)),nt.isSubplotConstrained&&(it?at||(n=n.concat(K)):n=n.concat(V)),i=0;i<n.length;i++)if(!(r=n[i]).fixedrange){var u=r._name,h=r._autorangeInitial;void 0===r._rangeInitial0&&void 0===r._rangeInitial1?a[u+".autorange"]=!0:void 0===r._rangeInitial0?(a[u+".autorange"]=h,a[u+".range"]=[null,r._rangeInitial1]):void 0===r._rangeInitial1?(a[u+".range"]=[r._rangeInitial0,null],a[u+".autorange"]=h):a[u+".range"]=[r._rangeInitial0,r._rangeInitial1]}t.emit("plotly_doubleclick",null),s.call("_guiRelayout",t,a)}}(),gt)l.indexOf("select")>-1&&C(a,o,V,K,e.id,Dt),l.indexOf("event")>-1&&f.click(o,a,e.id);else if(1===r&&vt){var c=m?E:T,h="s"===m||"w"===v?0:1,d=c._name+".range["+h+"]",p=function(t,e){var n,r=t.range[e],a=Math.abs(r-t.range[1-e]);return"date"===t.type?r:"log"===t.type?(n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,i("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,i("."+String(n)+"g")(r))}(c,h),g="left",y="middle";if(c.fixedrange)return;m?(y="n"===m?"top":"bottom","right"===c.side&&(g="right")):"e"===v&&(g="right"),o._context.showAxisRangeEntryBoxes&&n.select(xt).call(u.makeEditable,{gd:o,immediate:!0,background:o._fullLayout.paper_bgcolor,text:String(p),fill:c.tickfont?c.tickfont.color:"#444",horizontalAlign:g,verticalAlign:y}).on("edit",(function(t){var e=c.d2r(t);void 0!==e&&s.call("_guiRelayout",o,d,e)}))}}}function It(e,n){if(t._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(tt,ft*e+bt)),i=Math.max(0,Math.min(et,pt*n+wt)),a=Math.abs(r-bt),o=Math.abs(i-wt);function s(){Lt="",Mt.r=Mt.l,Mt.t=Mt.b,St.attr("d","M0,0Z")}if(Mt.l=Math.min(bt,r),Mt.r=Math.max(bt,r),Mt.t=Math.min(wt,i),Mt.b=Math.max(wt,i),nt.isSubplotConstrained)a>O||o>O?(Lt="xy",a/tt>o/et?(o=a*et/tt,wt>i?Mt.t=wt-o:Mt.b=wt+o):(a=o*tt/et,bt>r?Mt.l=bt-a:Mt.r=bt+a),St.attr("d",G(Mt))):s();else if(rt.isSubplotConstrained)if(a>O||o>O){Lt="xy";var l=Math.min(Mt.l/tt,(et-Mt.b)/et),c=Math.max(Mt.r/tt,(et-Mt.t)/et);Mt.l=l*tt,Mt.r=c*tt,Mt.b=(1-l)*et,Mt.t=(1-c)*et,St.attr("d",G(Mt))}else s();else!at||o<Math.min(Math.max(.6*a,D),O)?a<D||!it?s():(Mt.t=0,Mt.b=et,Lt="x",St.attr("d",function(t,e){return"M"+(t.l-.5)+","+(e-O-.5)+"h-3v"+(2*O+1)+"h3ZM"+(t.r+.5)+","+(e-O-.5)+"h3v"+(2*O+1)+"h-3Z"}(Mt,wt))):!it||a<Math.min(.6*o,O)?(Mt.l=0,Mt.r=tt,Lt="y",St.attr("d",function(t,e){return"M"+(e-O-.5)+","+(t.t-.5)+"v-3h"+(2*O+1)+"v3ZM"+(e-O-.5)+","+(t.b+.5)+"v3h"+(2*O+1)+"v-3Z"}(Mt,bt))):(Lt="xy",St.attr("d",G(Mt)));Mt.w=Mt.r-Mt.l,Mt.h=Mt.b-Mt.t,Lt&&(Pt=!0),t._dragged=Pt,Z(Ct,St,Mt,kt,At,Tt),zt(),t.emit("plotly_relayouting",dt),At=!0}function zt(){dt={},("xy"===Lt||"x"===Lt)&&(F(V,Mt.l/tt,Mt.r/tt,dt,nt.xaxes),Ut("x",dt)),("xy"===Lt||"y"===Lt)&&(F(K,(et-Mt.b)/et,(et-Mt.t)/et,dt,nt.yaxes),Ut("y",dt))}function Nt(){zt(),Y(t),Vt(),W(t)}Dt.prepFn=function(e,n,i){var o=Dt.dragmode,s=t._fullLayout.dragmode;s!==o&&(Dt.dragmode=s),yt(),ft=t._fullLayout._invScaleX,pt=t._fullLayout._invScaleY,ot||(gt?e.shiftKey?"pan"===s?s="zoom":y(s)||(s="pan"):e.ctrlKey&&(s="pan"):s="pan"),_(s)?Dt.minDrag=1:Dt.minDrag=void 0,y(s)?(Dt.xaxes=V,Dt.yaxes=K,A(e,n,i,Dt,s)):(Dt.clickFn=Et,y(o)&&Ot(),ot||("zoom"===s?(Dt.moveFn=It,Dt.doneFn=Nt,Dt.minDrag=1,function(e,n,i){var o=xt.getBoundingClientRect();bt=n-o.left,wt=i-o.top,t._fullLayout._calcInverseTransform(t);var s=r.apply3DTransform(t._fullLayout._invTransform)(bt,wt);bt=s[0],wt=s[1],Mt={l:bt,r:bt,w:0,t:wt,b:wt,h:0},Tt=t._hmpixcount?t._hmlumcount/t._hmpixcount:a(t._fullLayout.plot_bgcolor).getLuminance(),At=!1,Lt="xy",Pt=!1,Ct=H(mt,Tt,$,Q,kt="M0,0H"+tt+"V"+et+"H0V0"),St=U(mt,$,Q)}(0,n,i)):"pan"===s&&(Dt.moveFn=Ht,Dt.doneFn=Vt))),t._fullLayout._redrag=function(){var e=t._dragdata;if(e&&e.element===xt){var n=t._fullLayout.dragmode;y(n)||(yt(),Yt([0,0,tt,et]),Dt.moveFn(e.dx,e.dy))}}},g.init(Dt);var Rt=[0,0,tt,et],Ft=null,jt=P.REDRAWDELAY,Bt=e.mainplot?t._fullLayout._plots[e.mainplot]:e;function Ht(e,n){if(e*=ft,n*=pt,!t._transitioningWithDuration){if(t._fullLayout._replotting=!0,"ew"===it||"ns"===at){var r=it?-e:0,i=at?-n:0;if(rt.isSubplotConstrained){if(it&&at){var a=(e/tt-n/et)/2;r=-(e=a*tt),i=-(n=-a*et)}at?r=-i*tt/et:i=-r*et/tt}return it&&(j(V,e),Ut("x")),at&&(j(K,n),Ut("y")),Yt([r,i,tt,et]),Zt(),void t.emit("plotly_relayouting",dt)}var o,s,l="w"===it==("n"===at)?1:-1;if(it&&at&&(nt.isSubplotConstrained||rt.isSubplotConstrained)){var c=(e/tt+l*n/et)/2;e=c*tt,n=l*c*et}if("w"===it?e=f(V,0,e):"e"===it?e=f(V,1,-e):it||(e=0),"n"===at?n=f(K,1,n):"s"===at?n=f(K,0,-n):at||(n=0),o="w"===it?e:0,s="n"===at?n:0,nt.isSubplotConstrained&&!rt.isSubplotConstrained||rt.isSubplotConstrained&&it&&at&&l>0){var u;if(rt.isSubplotConstrained||!it&&1===at.length){for(u=0;u<V.length;u++)V[u].range=V[u]._r.slice(),S(V[u],1-n/et);o=(e=n*tt/et)/2}if(rt.isSubplotConstrained||!at&&1===it.length){for(u=0;u<K.length;u++)K[u].range=K[u]._r.slice(),S(K[u],1-e/tt);s=(n=e*et/tt)/2}}(!rt.isSubplotConstrained||!at)&&Ut("x"),(!rt.isSubplotConstrained||!it)&&Ut("y");var h=tt-e,d=et-n;rt.isSubplotConstrained&&!(it&&at)&&(it?(s=o?0:e*et/tt,d=h*et/tt):(o=s?0:n*tt/et,h=d*tt/et)),Yt([o,s,h,d]),Zt(),t.emit("plotly_relayouting",dt)}function f(t,e,n){for(var r,i,a=1-e,o=0;o<t.length;o++){var s=t[o];if(!s.fixedrange){r=s,i=s._rl[a]+(s._rl[e]-s._rl[a])/B(n/s._length);var l=s.l2r(i);!1!==l&&void 0!==l&&(s.range[e]=l)}}return r._length*(r._rl[e]-i)/(r._rl[e]-r._rl[a])}}function Ut(t,e){for(var n=rt.isSubplotConstrained?{x:K,y:V}[t]:rt[t+"axes"],r=rt.isSubplotConstrained?{x:V,y:K}[t]:[],i=0;i<n.length;i++){var a=n[i],o=a._id,s=rt.xLinks[o]||rt.yLinks[o],l=r[0]||I[s]||z[s];l&&(e?(e[a._name+".range[0]"]=e[l._name+".range[0]"],e[a._name+".range[1]"]=e[l._name+".range[1]"]):a.range=l.range.slice())}}function Zt(){var n,r=[];function i(t){for(n=0;n<t.length;n++)t[n].fixedrange||r.push(t[n]._id)}function a(t,e){for(n=0;n<t.length;n++){var i=t[n],a=i[e];!i.fixedrange&&"sync"===a.tickmode&&r.push(a._id)}}for(st&&(i(V),i(nt.xaxes),i(rt.xaxes),a(e.overlays,"xaxis")),lt&&(i(K),i(nt.yaxes),i(rt.yaxes),a(e.overlays,"yaxis")),dt={},n=0;n<r.length;n++){var o=r[n],s=k(t,o);p.drawOne(t,s,{skipTitle:!0}),dt[s._name+".range[0]"]=s.range[0],dt[s._name+".range[1]"]=s.range[1]}p.redrawComponents(t,r)}function Vt(){Yt([0,0,tt,et]),r.syncOrAsync([M.previousPromises,function(){t._fullLayout._replotting=!1,s.call("_guiRelayout",t,dt)}],t)}function Yt(e){var n,i,a,o,l=t._fullLayout,c=l._plots,u=l._subplots.cartesian;if(ut&&s.subplotsRegistry.splom.drag(t),ct)for(n=0;n<u.length;n++)if(a=(i=c[u[n]]).xaxis,o=i.yaxis,i._scene){a.limitRange&&a.limitRange(),o.limitRange&&o.limitRange();var h=r.simpleMap(a.range,a.r2l),f=r.simpleMap(o.range,o.r2l);i._scene.update({range:[h[0],f[0],h[1],f[1]]})}if((ut||ct)&&(b(t),w(t)),ht){var p=e[2]/T._length,g=e[3]/E._length;for(n=0;n<u.length;n++){a=(i=c[u[n]]).xaxis,o=i.yaxis;var y,_,x,M,k=(st||rt.isSubplotConstrained)&&!a.fixedrange&&I[a._id],A=(lt||rt.isSubplotConstrained)&&!o.fixedrange&&z[o._id];if(k?(y=p,x=v||rt.isSubplotConstrained?e[0]:qt(a,y)):rt.xaHash[a._id]?(y=p,x=e[0]*a._length/T._length):rt.yaHash[a._id]?(y=g,x="ns"===at?-e[1]*a._length/E._length:qt(a,y,{n:"top",s:"bottom"}[at])):x=Gt(a,y=Wt(a,p,g)),y>1&&(void 0!==a.maxallowed&&st===(a.range[0]<a.range[1]?"e":"w")||void 0!==a.minallowed&&st===(a.range[0]<a.range[1]?"w":"e"))&&(y=1,x=0),A?(_=g,M=m||rt.isSubplotConstrained?e[1]:qt(o,_)):rt.yaHash[o._id]?(_=g,M=e[1]*o._length/E._length):rt.xaHash[o._id]?(_=p,M="ew"===it?-e[0]*o._length/T._length:qt(o,_,{e:"right",w:"left"}[it])):M=Gt(o,_=Wt(o,p,g)),_>1&&(void 0!==o.maxallowed&&lt===(o.range[0]<o.range[1]?"n":"s")||void 0!==o.minallowed&&lt===(o.range[0]<o.range[1]?"s":"n"))&&(_=1,M=0),y||_){y||(y=1),_||(_=1);var L=a._offset-x/y,C=o._offset-M/_;i.clipRect.call(d.setTranslate,x,M).call(d.setScale,y,_),i.plot.call(d.setTranslate,L,C).call(d.setScale,1/y,1/_),(y!==i.xScaleFactor||_!==i.yScaleFactor)&&(d.setPointGroupScale(i.zoomScalePts,y,_),d.setTextPointsScale(i.zoomScaleTxt,y,_)),d.hideOutsideRangePoints(i.clipOnAxisFalseTraces,i),i.xScaleFactor=y,i.yScaleFactor=_}}}}function Wt(t,e,n){return t.fixedrange?0:st&&nt.xaHash[t._id]?e:lt&&(nt.isSubplotConstrained?nt.xaHash:nt.yaHash)[t._id]?n:0}function Gt(t,e){return e?(t.range=t._r.slice(),S(t,e),qt(t,e)):0}function qt(t,e,n){return t._length*(1-e)*x[n||t.constraintoward||"middle"]}return m.length*v.length!=1&&X(xt,(function(e){if(t._context._scrollZoom.cartesian||t._fullLayout._enablescrollzoom){if(Ot(),t._transitioningWithDuration)return e.preventDefault(),void e.stopPropagation();yt(),clearTimeout(Ft);var n=-e.deltaY;if(isFinite(n)||(n=e.wheelDelta/10),isFinite(n)){var i,a=Math.exp(-Math.min(Math.max(n,-20),20)/200),o=Bt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),s=(e.clientX-o.left)/o.width,l=(o.bottom-e.clientY)/o.height;if(st){for(v||(s=.5),i=0;i<V.length;i++)c(V[i],s,a);Ut("x"),Rt[2]*=a,Rt[0]+=Rt[2]*s*(1/a-1)}if(lt){for(m||(l=.5),i=0;i<K.length;i++)c(K[i],l,a);Ut("y"),Rt[3]*=a,Rt[1]+=Rt[3]*(1-l)*(1/a-1)}Yt(Rt),Zt(),t.emit("plotly_relayouting",dt),Ft=setTimeout((function(){t._fullLayout&&(Rt=[0,0,tt,et],Vt())}),jt),e.preventDefault()}else r.log("Did not find wheel motion attributes: ",e)}function c(t,e,n){if(!t.fixedrange){var i=r.simpleMap(t.range,t.r2l),a=i[0]+(i[1]-i[0])*e;t.range=i.map((function(e){return t.l2r(a+(e-a)*n)}))}}})),xt},makeDragger:z,makeRectDragger:N,makeZoombox:H,makeCorners:U,updateZoombox:Z,xyCorners:G,transitionZoombox:V,removeZoombox:Y,showDoubleClickNotifier:W,attachWheelEventHandler:X}})),xr=a((t=>{var e=l(),n=kn(),r=nn(),i=rn(),a=_r().makeDragBox,o=le().DRAGGERSIZE;t.initInteractions=function(i){var s=i._fullLayout;if(i._context.staticPlot)e.select(i).selectAll(".drag").remove();else if(s._has("cartesian")||s._has("splom")){Object.keys(s._plots||{}).sort((function(t,e){if((s._plots[t].mainplot&&!0)===(s._plots[e].mainplot&&!0)){var n=t.split("y"),r=e.split("y");return n[0]===r[0]?Number(n[1]||1)-Number(r[1]||1):Number(n[0]||1)-Number(r[0]||1)}return s._plots[t].mainplot?1:-1})).forEach((function(t){var e=s._plots[t],l=e.xaxis,c=e.yaxis;if(!e.mainplot){var u=a(i,e,l._offset,c._offset,l._length,c._length,"ns","ew");u.onmousemove=function(e){i._fullLayout._rehover=function(){i._fullLayout._hoversubplot===t&&i._fullLayout._plots[t]&&n.hover(i,e,t)},n.hover(i,e,t),i._fullLayout._lasthover=u,i._fullLayout._hoversubplot=t},u.onmouseout=function(t){i._dragging||(i._fullLayout._hoversubplot=null,r.unhover(i,t))},i._context.showAxisDragHandles&&(a(i,e,l._offset-o,c._offset-o,o,o,"n","w"),a(i,e,l._offset+l._length,c._offset-o,o,o,"n","e"),a(i,e,l._offset-o,c._offset+c._length,o,o,"s","w"),a(i,e,l._offset+l._length,c._offset+c._length,o,o,"s","e"))}if(i._context.showAxisDragHandles){if(t===l._mainSubplot){var h=l._mainLinePosition;"top"===l.side&&(h-=o),a(i,e,l._offset+.1*l._length,h,.8*l._length,o,"","ew"),a(i,e,l._offset,h,.1*l._length,o,"","w"),a(i,e,l._offset+.9*l._length,h,.1*l._length,o,"","e")}if(t===c._mainSubplot){var d=c._mainLinePosition;"right"!==c.side&&(d-=o),a(i,e,d,c._offset+.1*c._length,o,.8*c._length,"ns",""),a(i,e,d,c._offset+.9*c._length,o,.1*c._length,"s",""),a(i,e,d,c._offset,o,.1*c._length,"n","")}}}));var l=s._hoverlayer.node();l.onmousemove=function(t){t.target=i._fullLayout._lasthover,n.hover(i,t,s._hoversubplot)},l.onclick=function(t){t.target=i._fullLayout._lasthover,n.click(i,t)},l.onmousedown=function(t){i._fullLayout._lasthover.onmousedown(t)},t.updateFx(i)}},t.updateFx=function(t){var e=t._fullLayout,n="pan"===e.dragmode?"move":"crosshair";i(e._draggers,n)}})),br=a(((t,e)=>{var n=Et();e.exports=function(t){for(var e,r,i=n.layoutArrayContainers,a=n.layoutArrayRegexes,o=t.split("[")[0],s=0;s<a.length;s++)if((r=t.match(a[s]))&&0===r.index){e=r[0];break}if(e||(e=i[i.indexOf(o)]),!e)return!1;var l=t.substr(e.length);return l?!!(r=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(r[1]),property:r[3]||""}:{array:e,index:"",property:""}}})),wr=a((t=>{var e=g(),n=B(),r=j(),i=Nt().sorterAsc,a=Et();t.containerArrayMatch=br();var o=t.isAddVal=function(t){return"add"===t||e(t)},s=t.isRemoveVal=function(t){return null===t||"remove"===t};t.applyContainerArrayChanges=function(t,e,l,c,u){var h=e.astr,d=a.getComponentMethod(h,"supplyLayoutDefaults"),f=a.getComponentMethod(h,"draw"),p=a.getComponentMethod(h,"drawOne"),m=c.replot||c.recalc||d===n||f===n,g=t.layout,v=t._fullLayout;if(l[""]){Object.keys(l).length>1&&r.warn("Full array edits are incompatible with other edits",h);var y=l[""][""];if(s(y))e.set(null);else{if(!Array.isArray(y))return r.warn("Unrecognized full array edit value",h,y),!0;e.set(y)}return!m&&(d(g,v),f(t),!0)}var _,x,b,w,M,T,k,A,L=Object.keys(l).map(Number).sort(i),C=e.get(),S=C||[],P=u(v,h).get(),D=[],O=-1,E=S.length;for(_=0;_<L.length;_++)if(w=l[b=L[_]],M=Object.keys(w),T=w[""],k=o(T),b<0||b>S.length-(k?0:1))r.warn("index out of range",h,b);else if(void 0!==T)M.length>1&&r.warn("Insertion & removal are incompatible with edits to the same index.",h,b),s(T)?D.push(b):k?("add"===T&&(T={}),S.splice(b,0,T),P&&P.splice(b,0,{})):r.warn("Unrecognized full object edit value",h,b,T),-1===O&&(O=b);else for(x=0;x<M.length;x++)A=h+"["+b+"].",u(S[b],M[x],A).set(w[M[x]]);for(_=D.length-1;_>=0;_--)S.splice(D[_],1),P&&P.splice(D[_],1);if(S.length?C||e.set(S):e.set(null),m)return!1;if(d(g,v),p!==n){var I;if(-1===O)I=L;else{for(E=Math.max(S.length,E),I=[],_=0;_<L.length&&!((b=L[_])>=O);_++)I.push(b);for(_=O;_<E;_++)I.push(_)}for(_=0;_<I.length;_++)p(t,I[_])}else f(t);return!0}})),Mr=a((t=>{var e=f(),n=(ut(),Et()),r=$t(),i=pe(),a=ce(),o=E(),s=a.cleanId,l=a.getFromTrace,c=n.traceIs;function u(t,e){var n=t[e],r=e.charAt(0);n&&"paper"!==n&&(t[e]=s(n,r,!0))}function h(t){if(!r.isPlainObject(t))return!1;var e=t.name;return delete t.name,delete t.showlegend,("string"==typeof e||"number"==typeof e)&&String(e)}function d(t,e,n,r){if(n&&!r)return t;if(r&&!n||!t.trim())return e;if(!e.trim())return t;var i,a=Math.min(t.length,e.length);for(i=0;i<a&&t.charAt(i)===e.charAt(i);i++);return t.substr(0,i).trim()}function p(t){var e="middle",n="center";return"string"==typeof t&&(-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?n="left":-1!==t.indexOf("right")&&(n="right")),e+" "+n}function m(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}t.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&r.log("Clearing previous rejected promises from queue."),t._promises=[]},t.cleanLayout=function(e){var n;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var a=(i.subplotsRegistry.cartesian||{}).attrRegex,l=((i.subplotsRegistry.polar||{}).attrRegex,(i.subplotsRegistry.ternary||{}).attrRegex,(i.subplotsRegistry.gl3d||{}).attrRegex,Object.keys(e));for(n=0;n<l.length;n++){var c=l[n];if(a&&a.test(c)){var h=e[c];h.anchor&&"free"!==h.anchor&&(h.anchor=s(h.anchor)),h.overlaying&&(h.overlaying=s(h.overlaying)),h.type||(h.isdate?h.type="date":h.islog?h.type="log":!1===h.isdate&&!1===h.islog&&(h.type="linear")),("withzero"===h.autorange||"tozero"===h.autorange)&&(h.autorange=!0,h.rangemode="tozero"),h.insiderange&&delete h.range,delete h.islog,delete h.isdate,delete h.categories,m(h,"domain")&&delete h.domain}}var d=Array.isArray(e.annotations)?e.annotations.length:0;for(n=0;n<d;n++){var f=e.annotations[n];r.isPlainObject(f)&&(u(f,"xref"),u(f,"yref"))}var p=Array.isArray(e.shapes)?e.shapes.length:0;for(n=0;n<p;n++){var g=e.shapes[n];r.isPlainObject(g)&&(u(g,"xref"),u(g,"yref"))}var v=Array.isArray(e.images)?e.images.length:0;for(n=0;n<v;n++){var y=e.images[n];r.isPlainObject(y)&&(u(y,"xref"),u(y,"yref"))}var _=e.legend;return _&&(_.x>3?(_.x=1.02,_.xanchor="left"):_.x<-2&&(_.x=-.02,_.xanchor="right"),_.y>3?(_.y=1.02,_.yanchor="bottom"):_.y<-2&&(_.y=-.02,_.yanchor="top")),"rotate"===e.dragmode&&(e.dragmode="orbit"),o.clean(e),e.template&&e.template.layout&&t.cleanLayout(e.template.layout),e},t.cleanData=function(e){for(var a=0;a<e.length;a++){var l,u=e[a];if("histogramy"===u.type&&"xbins"in u&&!("ybins"in u)&&(u.ybins=u.xbins,delete u.xbins),"histogramy"===u.type&&t.swapXYData(u),("histogramx"===u.type||"histogramy"===u.type)&&(u.type="histogram"),"scl"in u&&!("colorscale"in u)&&(u.colorscale=u.scl,delete u.scl),"reversescl"in u&&!("reversescale"in u)&&(u.reversescale=u.reversescl,delete u.reversescl),u.xaxis&&(u.xaxis=s(u.xaxis,"x")),u.yaxis&&(u.yaxis=s(u.yaxis,"y")),c(u,"gl3d")&&u.scene&&(u.scene=i.subplotsRegistry.gl3d.cleanId(u.scene)),!c(u,"pie-like")&&!c(u,"bar-like"))if(Array.isArray(u.textposition))for(l=0;l<u.textposition.length;l++)u.textposition[l]=p(u.textposition[l]);else u.textposition&&(u.textposition=p(u.textposition));var f=n.getModule(u);if(f&&f.colorbar){var g=f.colorbar.container,v=g?u[g]:u;v&&v.colorscale&&("YIGnBu"===v.colorscale&&(v.colorscale="YlGnBu"),"YIOrRd"===v.colorscale&&(v.colorscale="YlOrRd"))}if("surface"===u.type&&r.isPlainObject(u.contours)){var y=["x","y","z"];for(l=0;l<y.length;l++){var _=u.contours[y[l]];r.isPlainObject(_)&&(_.highlightColor&&(_.highlightcolor=_.highlightColor,delete _.highlightColor),_.highlightWidth&&(_.highlightwidth=_.highlightWidth,delete _.highlightWidth))}}if("candlestick"===u.type||"ohlc"===u.type){var x=!1!==(u.increasing||{}).showlegend,b=!1!==(u.decreasing||{}).showlegend,w=h(u.increasing),M=h(u.decreasing);if(!1!==w&&!1!==M){var T=d(w,M,x,b);T&&(u.name=T)}else(w||M)&&!u.name&&(u.name=w||M)}m(u,"line")&&delete u.line,"marker"in u&&(m(u.marker,"line")&&delete u.marker.line,m(u,"marker")&&delete u.marker),o.clean(u),u.autobinx&&(delete u.autobinx,delete u.xbins),u.autobiny&&(delete u.autobiny,delete u.ybins)}},t.swapXYData=function(t){var e;if(r.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var n=t.error_y,i="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);r.swapAttrs(t,["error_?.copy_ystyle"]),i&&r.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var a=t.hoverinfo.split("+");for(e=0;e<a.length;e++)"x"===a[e]?a[e]="y":"y"===a[e]&&(a[e]="x");t.hoverinfo=a.join("+")}},t.coerceTraceIndices=function(t,n){if(e(n))return[n];if(!Array.isArray(n)||!n.length)return t.data.map((function(t,e){return e}));if(Array.isArray(n)){for(var i=[],a=0;a<n.length;a++)r.isIndex(n[a],t.data.length)?i.push(n[a]):r.warn("trace index (",n[a],") is not a number or is out of bounds");return i}return n},t.manageArrayContainers=function(t,n,i){var a=t.obj,o=t.parts,s=o.length,l=o[s-1],c=e(l);if(c&&null===n){var u=o.slice(0,s-1).join(".");r.nestedProperty(a,u).get().splice(l,1)}else c&&void 0===t.get()&&void 0===t.get()&&(i[t.astr]=null),t.set(n)};var g=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function v(t){var e=t.search(g);if(e>0)return t.substr(0,e)}t.hasParent=function(t,e){for(var n=v(e);n;){if(n in t)return!0;n=v(n)}return!1};var y=["x","y","z"];t.clearAxisTypes=function(t,e,n){for(var i=0;i<e.length;i++)for(var a=t._fullData[i],o=0;o<3;o++){var s=l(t,a,y[o]);if(s&&"log"!==s.type){var c=s._name,u=s._id.substr(1);if("scene"===u.substr(0,5)){if(void 0!==n[u])continue;c=u+"."+c}var h=c+".type";void 0===n[c]&&void 0===n[h]&&r.nestedProperty(t.layout,h).set(null)}}}})),Tr=a((t=>{var e=l(),n=f(),r=ee(),i=$t(),a=i.nestedProperty,o=re(),s=ie(),c=Et(),u=oe(),h=pe(),d=qe(),p=Je(),m=xe(),g=Ze(),v=E(),y=xr().initInteractions,_=me(),x=yr().clearOutline,b=R().dfltConfig,w=wr(),M=Mr(),T=qn(),k=bt(),A=le().AX_NAME_PATTERN,L=0;function C(t){var e=t._fullLayout;e._redrawFromAutoMarginCount?e._redrawFromAutoMarginCount--:t.emit("plotly_afterplot")}function S(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){i.error(t)}}function P(t,e){S(t,v.combine(e,"white"))}function D(t,n){if(!t._context){t._context=i.extendDeep({},b);var a=e.select("base");t._context._baseUrl=a.size()&&a.attr("href")?window.location.href.split("#")[0]:""}var o,s,l,c=t._context;if(n){for(s=Object.keys(n),o=0;o<s.length;o++)"editable"!==(l=s[o])&&"edits"!==l&&l in c&&("setBackground"===l&&"opaque"===n[l]?c[l]=P:c[l]=n[l]);var u=n.editable;if(void 0!==u)for(c.editable=u,s=Object.keys(c.edits),o=0;o<s.length;o++)c.edits[s[o]]=u;if(n.edits)for(s=Object.keys(n.edits),o=0;o<s.length;o++)(l=s[o])in c.edits&&(c.edits[l]=n.edits[l]);c._exportedPlot=n._exportedPlot}c.staticPlot&&(c.editable=!1,c.edits={},c.autosizable=!1,c.scrollZoom=!1,c.doubleClick=!1,c.showTips=!1,c.showLink=!1,c.displayModeBar=!1),"hover"===c.displayModeBar&&!r&&(c.displayModeBar=!0),("transparent"===c.setBackground||"function"!=typeof c.setBackground)&&(c.setBackground=S),c._hasZeroHeight=c._hasZeroHeight||0===t.clientHeight,c._hasZeroWidth=c._hasZeroWidth||0===t.clientWidth;var h=c.scrollZoom,d=c._scrollZoom={};if(!0===h)d.cartesian=1,d.gl3d=1,d.geo=1,d.mapbox=1,d.map=1;else if("string"==typeof h){var f=h.split("+");for(o=0;o<f.length;o++)d[f[o]]=1}else!1!==h&&(d.gl3d=1,d.geo=1,d.mapbox=1,d.map=1)}function O(t,e){var n,r,i=e+1,a=[];for(n=0;n<t.length;n++)(r=t[n])<0?a.push(i+r):a.push(r);return a}function I(t,e,n){var r,i;for(r=0;r<e.length;r++){if((i=e[r])!==parseInt(i,10))throw new Error("all values in "+n+" must be integers");if(i>=t.data.length||i<-t.data.length)throw new Error(n+" must be valid indices for gd.data.");if(e.indexOf(i,r+1)>-1||i>=0&&e.indexOf(-t.data.length+i)>-1||i<0&&e.indexOf(t.data.length+i)>-1)throw new Error("each index in "+n+" must be unique.")}}function z(t,e,n){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),I(t,e,"currentIndices"),void 0!==n&&!Array.isArray(n)&&(n=[n]),void 0!==n&&I(t,n,"newIndices"),void 0!==n&&e.length!==n.length)throw new Error("current and new indices must be of equal length.")}function N(t,e,r,o,s){!function(t,e,n,r){var a=i.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!i.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");for(var o in I(t,n,"indices"),e){if(!Array.isArray(e[o])||e[o].length!==n.length)throw new Error("attribute "+o+" must be an array of length equal to indices array length");if(a&&(!(o in r)||!Array.isArray(r[o])||r[o].length!==e[o].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(t,e,r,o);for(var l=function(t,e,r,o){var s,l,c,u,h,d=i.isPlainObject(o),f=[];for(var p in Array.isArray(r)||(r=[r]),r=O(r,t.data.length-1),e)for(var m=0;m<r.length;m++){if(s=t.data[r[m]],l=(c=a(s,p)).get(),u=e[p][m],!i.isArrayOrTypedArray(u))throw new Error("attribute: "+p+" index: "+m+" must be an array");if(!i.isArrayOrTypedArray(l))throw new Error("cannot extend missing or non-array attribute: "+p);if(l.constructor!==u.constructor)throw new Error("cannot extend array with an array of a different type: "+p);h=d?o[p][m]:o,n(h)||(h=-1),f.push({prop:c,target:l,insert:u,maxp:Math.floor(h)})}return f}(t,e,r,o),c={},u={},h=0;h<l.length;h++){var d=l[h].prop,f=l[h].maxp,p=s(l[h].target,l[h].insert,f);d.set(p[0]),Array.isArray(c[d.astr])||(c[d.astr]=[]),c[d.astr].push(p[1]),Array.isArray(u[d.astr])||(u[d.astr]=[]),u[d.astr].push(l[h].target.length)}return{update:c,maxPoints:u}}function F(t,e){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}function j(e,n,r,a){e=i.getGraphDiv(e),M.clearPromiseQueue(e);var o={};if("string"==typeof n)o[n]=r;else{if(!i.isPlainObject(n))return i.warn("Restyle fail.",n,r,a),Promise.reject();o=i.extendFlat({},n),void 0===a&&(a=r)}Object.keys(o).length&&(e.changed=!0);var l=M.coerceTraceIndices(e,a),c=Z(e,o,l),u=c.flags;u.calc&&(e.calcdata=void 0),u.clearAxisTypes&&M.clearAxisTypes(e,l,{});var d=[];u.fullReplot?d.push(t._doPlot):(d.push(h.previousPromises),h.supplyDefaults(e),u.markerSize&&(h.doCalcdata(e),W(d)),u.style&&d.push(T.doTraceStyle),u.colorbars&&d.push(T.doColorBars),d.push(C)),d.push(h.rehover,h.redrag,h.reselect),s.add(e,j,[e,c.undoit,c.traces],j,[e,c.redoit,c.traces]);var f=i.syncOrAsync(d,e);return(!f||!f.then)&&(f=Promise.resolve()),f.then((function(){return e.emit("plotly_restyle",c.eventData),e}))}function B(t){return void 0===t?null:t}function H(t,e){return e?function(e,n,r){var i=a(e,n),o=i.set;return i.set=function(e){U((r||"")+n,i.get(),e,t),o(e)},i}:a}function U(t,e,n,r){if(Array.isArray(e)||Array.isArray(n))for(var a=Array.isArray(e)?e:[],o=Array.isArray(n)?n:[],s=Math.max(a.length,o.length),l=0;l<s;l++)U(t+"["+l+"]",a[l],o[l],r);else if(i.isPlainObject(e)||i.isPlainObject(n)){var c=i.isPlainObject(e)?e:{},u=i.isPlainObject(n)?n:{},h=i.extendFlat({},c,u);for(var d in h)U(t+"."+d,c[d],u[d],r)}else void 0===r[t]&&(r[t]=B(e))}function Z(t,e,n){var r,o,s=t._fullLayout,l=t._fullData,f=t.data,p=s._guiEditing,m=H(s._preGUI,p),g=i.extendDeepAll({},e),v=k.traceFlags(),y={},_={};function x(){return n.map((function(){}))}function b(t){var e=d.id2name(t);-1===o.indexOf(e)&&o.push(e)}function w(t){return"LAYOUT"+t+".autorange"}function T(t){return"LAYOUT"+t+".range"}function A(t){for(var e=t;e<l.length;e++)if(l[e]._input===f[t])return l[e]}function L(r,i,a){if(Array.isArray(r))r.forEach((function(t){L(t,i,a)}));else if(!(r in e)&&!M.hasParent(e,r)){var o;if("LAYOUT"===r.substr(0,6))o=m(t.layout,r.replace("LAYOUT",""));else{var l=n[a];o=H(s._tracePreGUI[A(l)._fullInput.uid],p)(f[l],r)}r in _||(_[r]=x()),void 0===_[r][a]&&(_[r][a]=B(o.get())),void 0!==i&&o.set(i)}}function C(t){return function(e){return l[e][t]}}function S(t){return function(e,r){return!1===e?l[n[r]][t]:null}}for(var P in e){if(M.hasParent(e,P))throw new Error("cannot set "+P+" and a parent attribute simultaneously");var D,O,E,I,z,N,R=e[P];if(("autobinx"===P||"autobiny"===P)&&(P=P.charAt(P.length-1)+"bins",R=Array.isArray(R)?R.map(S(P)):!1===R?n.map(C(P)):null),y[P]=R,"LAYOUT"!==P.substr(0,6)){for(_[P]=x(),r=0;r<n.length;r++)if(D=f[n[r]],O=A(n[r]),I=(E=H(s._tracePreGUI[O._fullInput.uid],p)(D,P)).get(),void 0!==(z=Array.isArray(R)?R[r%R.length]:R)){var F=E.parts[E.parts.length-1],j=P.substr(0,P.length-F.length-1),U=j?j+".":"",Z=j?a(O,j).get():O;if((N=u.getTraceValObject(O,E.parts))&&N.impliedEdits&&null!==z)for(var V in N.impliedEdits)L(i.relativeAttr(P,V),N.impliedEdits[V],r);else if("thicknessmode"!==F&&"lenmode"!==F||I===z||"fraction"!==z&&"pixels"!==z||!Z){if("type"===P&&("pie"===z!=("pie"===I)||"funnelarea"===z!=("funnelarea"===I))){var Y="x",W="y";("bar"===z||"bar"===I)&&"h"===D.orientation&&(Y="y",W="x"),i.swapAttrs(D,["?","?src"],"labels",Y),i.swapAttrs(D,["d?","?0"],"label",Y),i.swapAttrs(D,["?","?src"],"values",W),"pie"===I||"funnelarea"===I?(a(D,"marker.color").set(a(D,"marker.colors").get()),s._pielayer.selectAll("g.trace").remove()):c.traceIs(D,"cartesian")&&a(D,"marker.colors").set(a(D,"marker.color").get())}}else{var G=s._size,q=Z.orient,X="top"===q||"bottom"===q;if("thicknessmode"===F){var J=X?G.h:G.w;L(U+"thickness",Z.thickness*("fraction"===z?1/J:J),r)}else{var K=X?G.w:G.h;L(U+"len",Z.len*("fraction"===z?1/K:K),r)}}if(_[P][r]=B(I),-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(P)){if("orientation"===P){E.set(z);var $=D.x&&!D.y?"h":"v";if((E.get()||$)===O.orientation)continue}else"orientationaxes"===P&&(D.orientation={v:"h",h:"v"}[O.orientation]);M.swapXYData(D),v.calc=v.clearAxisTypes=!0}else-1!==h.dataArrayContainers.indexOf(E.parts[0])?(M.manageArrayContainers(E,z,_),v.calc=!0):(N?N.arrayOk&&!c.traceIs(O,"regl")&&(i.isArrayOrTypedArray(z)||i.isArrayOrTypedArray(I))?v.calc=!0:k.update(v,N):v.calc=!0,E.set(z))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(P)&&d.swap(t,n),"orientationaxes"===P){var Q=a(t.layout,"hovermode"),tt=Q.get();"x"===tt?Q.set("y"):"y"===tt?Q.set("x"):"x unified"===tt?Q.set("y unified"):"y unified"===tt&&Q.set("x unified")}if(-1!==["orientation","type"].indexOf(P)){for(o=[],r=0;r<n.length;r++){var et=f[n[r]];c.traceIs(et,"cartesian")&&(b(et.xaxis||"x"),b(et.yaxis||"y"))}L(o.map(w),!0,0),L(o.map(T),[0,1],0)}}else E=m(t.layout,P.replace("LAYOUT","")),_[P]=[B(E.get())],E.set(Array.isArray(R)?R[0]:R),v.calc=!0}return(v.calc||v.plot)&&(v.fullReplot=!0),{flags:v,undoit:_,redoit:y,traces:n,eventData:i.extendDeepNoArrays([],[g,n])}}function V(t,e,n){t=i.getGraphDiv(t),M.clearPromiseQueue(t);var r={};if("string"==typeof e)r[e]=n;else{if(!i.isPlainObject(e))return i.warn("Relayout fail.",e,n),Promise.reject();r=i.extendFlat({},e)}Object.keys(r).length&&(t.changed=!0);var a=J(t,r),o=a.flags;o.calc&&(t.calcdata=void 0);var l=[h.previousPromises];o.layoutReplot?l.push(T.layoutReplot):Object.keys(r).length&&(Y(t,o,a)||h.supplyDefaults(t),o.legend&&l.push(T.doLegend),o.layoutstyle&&l.push(T.layoutStyles),o.axrange&&W(l,a.rangesAltered),o.ticks&&l.push(T.doTicksRelayout),o.modebar&&l.push(T.doModeBar),o.camera&&l.push(T.doCamera),o.colorbars&&l.push(T.doColorBars),l.push(C)),l.push(h.rehover,h.redrag,h.reselect),s.add(t,V,[t,a.undoit],V,[t,a.redoit]);var c=i.syncOrAsync(l,t);return(!c||!c.then)&&(c=Promise.resolve(t)),c.then((function(){return t.emit("plotly_relayout",a.eventData),t}))}function Y(t,e,n){var r=t._fullLayout;if(!e.axrange)return!1;for(var a in e)if("axrange"!==a&&e[a])return!1;var o,s,l=function(t,e){return i.coerce(o,s,m,t,e)},c={};for(var u in n.rangesAltered){var h=d.id2name(u);if(o=t.layout[h],s=r[h],p(o,s,l,c),s._matchGroup)for(var f in s._matchGroup)if(f!==u){var g=r[d.id2name(f)];g.autorange=s.autorange,g.range=s.range.slice(),g._input.range=s.range.slice()}}return!0}function W(t,e){var n=e?function(t){var n=[];for(var r in e){var i=d.getFromId(t,r);if(n.push(r),-1!==(i.ticklabelposition||"").indexOf("inside")&&i._anchorAxis&&n.push(i._anchorAxis._id),i._matchGroup)for(var a in i._matchGroup)e[a]||n.push(a)}return d.draw(t,n,{skipTitle:!0})}:function(t){return d.draw(t,"redraw")};t.push(x,T.doAutoRangeAndConstraints,n,T.drawData,T.finalDraw)}var G=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,q=/^[xyz]axis[0-9]*\.autorange$/,X=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function J(t,e){var n,r,o,s=t.layout,l=t._fullLayout,h=l._guiEditing,f=H(l._preGUI,h),p=Object.keys(e),m=d.list(t),g=i.extendDeepAll({},e),v={};for(p=Object.keys(e),r=0;r<p.length;r++)if(0===p[r].indexOf("allaxes")){for(o=0;o<m.length;o++){var y=m[o]._id.substr(1),_=-1!==y.indexOf("scene")?y+".":"",x=p[r].replace("allaxes",_+m[o]._name);e[x]||(e[x]=e[p[r]])}delete e[p[r]]}var b=k.layoutFlags(),T={},L={};function C(t,n){if(Array.isArray(t))t.forEach((function(t){C(t,n)}));else if(!(t in e)&&!M.hasParent(e,t)){var r=f(s,t);t in L||(L[t]=B(r.get())),void 0!==n&&r.set(n)}}var S,P={};function D(t){var e=d.name2id(t.split(".")[0]);return P[e]=1,e}for(var O in e){if(M.hasParent(e,O))throw new Error("cannot set "+O+" and a parent attribute simultaneously");for(var E=f(s,O),I=e[O],z=E.parts.length-1;z>0&&"string"!=typeof E.parts[z];)z--;var N=E.parts[z],R=E.parts[z-1]+"."+N,F=E.parts.slice(0,z).join("."),j=a(t.layout,F).get(),U=a(l,F).get(),Z=E.get();if(void 0!==I){T[O]=I,L[O]="reverse"===N?I:B(Z);var V=u.getLayoutValObject(l,E.parts);if(V&&V.impliedEdits&&null!==I)for(var Y in V.impliedEdits)C(i.relativeAttr(O,Y),V.impliedEdits[Y]);if(-1!==["width","height"].indexOf(O))if(I){C("autosize",null);var W="height"===O?"width":"height";C(W,l[W])}else l[O]=t._initialAutoSize[O];else if("autosize"===O)C("width",I?null:l.width),C("height",I?null:l.height);else if(R.match(G))D(R),a(l,F+"._inputRange").set(null);else if(R.match(q)){D(R),a(l,F+"._inputRange").set(null);var J=a(l,F).get();J._inputDomain&&(J._input.domain=J._inputDomain.slice())}else R.match(X)&&a(l,F+"._inputDomain").set(null);if("type"===N){S=j;var $="linear"===U.type&&"log"===I,Q="log"===U.type&&"linear"===I;if($||Q){if(S&&S.range)if(U.autorange)$&&(S.range=S.range[1]>S.range[0]?[1,2]:[2,1]);else{var tt=S.range[0],et=S.range[1];$?(tt<=0&&et<=0&&C(F+".autorange",!0),tt<=0?tt=et/1e6:et<=0&&(et=tt/1e6),C(F+".range[0]",Math.log(tt)/Math.LN10),C(F+".range[1]",Math.log(et)/Math.LN10)):(C(F+".range[0]",Math.pow(10,tt)),C(F+".range[1]",Math.pow(10,et)))}else C(F+".autorange",!0);Array.isArray(l._subplots.polar)&&l._subplots.polar.length&&l[E.parts[0]]&&"radialaxis"===E.parts[1]&&delete l[E.parts[0]]._subplot.viewInitial["radialaxis.range"],c.getComponentMethod("annotations","convertCoords")(t,U,I,C),c.getComponentMethod("images","convertCoords")(t,U,I,C)}else C(F+".autorange",!0),C(F+".range",null);a(l,F+"._inputRange").set(null)}else if(N.match(A)){var nt=a(l,O).get(),rt=(I||{}).type;(!rt||"-"===rt)&&(rt="linear"),c.getComponentMethod("annotations","convertCoords")(t,nt,rt,C),c.getComponentMethod("images","convertCoords")(t,nt,rt,C)}var it=w.containerArrayMatch(O);if(it){n=it.array,r=it.index;var at=it.property,ot=V||{editType:"calc"};""!==r&&""===at&&(w.isAddVal(I)?L[O]=null:w.isRemoveVal(I)?L[O]=(a(s,n).get()||[])[r]:i.warn("unrecognized full object value",e)),k.update(b,ot),v[n]||(v[n]={});var st=v[n][r];st||(st=v[n][r]={}),st[at]=I,delete e[O]}else"reverse"===N?(j.range?j.range.reverse():(C(F+".autorange",!0),j.range=[1,0]),U.autorange?b.calc=!0:b.plot=!0):("dragmode"===O&&(!1===I&&!1!==Z||!1!==I&&!1===Z)||l._has("scatter-like")&&l._has("regl")&&"dragmode"===O&&("lasso"===I||"select"===I)&&"lasso"!==Z&&"select"!==Z?b.plot=!0:V?k.update(b,V):b.calc=!0,E.set(I))}}for(n in v)w.applyContainerArrayChanges(t,f(s,n),v[n],b,f)||(b.plot=!0);for(var lt in P){var ct=(S=d.getFromId(t,lt))&&S._constraintGroup;if(ct)for(var ut in b.calc=!0,ct)P[ut]||(d.getFromId(t,ut)._constraintShrinkable=!0)}(K(t)||e.height||e.width)&&(b.plot=!0);var ht=l.shapes;for(r=0;r<ht.length;r++)if(ht[r].showlegend){b.calc=!0;break}return(b.plot||b.calc)&&(b.layoutReplot=!0),{flags:b,rangesAltered:P,undoit:L,redoit:T,eventData:g}}function K(t){var e=t._fullLayout,n=e.width,r=e.height;return t.layout.autosize&&h.plotAutoSize(t,t.layout,e),e.width!==n||e.height!==r}function $(e,n,r,a){e=i.getGraphDiv(e),M.clearPromiseQueue(e),i.isPlainObject(n)||(n={}),i.isPlainObject(r)||(r={}),Object.keys(n).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var o=M.coerceTraceIndices(e,a),l=Z(e,i.extendFlat({},n),o),c=l.flags,u=J(e,i.extendFlat({},r)),d=u.flags;(c.calc||d.calc)&&(e.calcdata=void 0),c.clearAxisTypes&&M.clearAxisTypes(e,o,r);var f=[];d.layoutReplot?f.push(T.layoutReplot):c.fullReplot?f.push(t._doPlot):(f.push(h.previousPromises),Y(e,d,u)||h.supplyDefaults(e),c.style&&f.push(T.doTraceStyle),(c.colorbars||d.colorbars)&&f.push(T.doColorBars),d.legend&&f.push(T.doLegend),d.layoutstyle&&f.push(T.layoutStyles),d.axrange&&W(f,u.rangesAltered),d.ticks&&f.push(T.doTicksRelayout),d.modebar&&f.push(T.doModeBar),d.camera&&f.push(T.doCamera),f.push(C)),f.push(h.rehover,h.redrag,h.reselect),s.add(e,$,[e,l.undoit,u.undoit,l.traces],$,[e,l.redoit,u.redoit,l.traces]);var p=i.syncOrAsync(f,e);return(!p||!p.then)&&(p=Promise.resolve(e)),p.then((function(){return e.emit("plotly_update",{data:l.eventData,layout:u.eventData}),e}))}function Q(t){return function(e){e._fullLayout._guiEditing=!0;var n=t.apply(null,arguments);return e._fullLayout._guiEditing=!1,n}}var tt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],et=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=t.match(r.pattern);if(i){var a=i[1]||"";return{head:a,tail:t.substr(a.length+1),attr:r.attr}}}}function rt(t,e){var n=a(e,t).get();if(void 0!==n)return n;var r=t.split(".");for(r.pop();r.length>1;)if(r.pop(),void 0!==(n=a(e,r.join(".")+".uirevision").get()))return n;return e.uirevision}function it(t,e){for(var n=0;n<e.length;n++)if(e[n]._fullInput.uid===t)return n;return-1}function at(t,e,n){for(var r=0;r<e.length;r++)if(e[r].uid===t)return r;return!e[n]||e[n].uid?-1:n}function ot(t,e){var n=i.isPlainObject(t),r=Array.isArray(t);return n||r?(n&&i.isPlainObject(e)||r&&Array.isArray(e))&&JSON.stringify(t)===JSON.stringify(e):t===e}function st(t,e,n,r){var a,o,s,l=r.getValObject,c=r.flags,u=r.immutable,h=r.inArray,d=r.arrayIndex;function f(){var t=a.editType;h&&-1!==t.indexOf("arraydraw")?i.pushUnique(c.arrays[h],d):(k.update(c,a),"none"!==t&&c.nChanges++,r.transition&&a.anim&&c.nChangesAnim++,(G.test(s)||q.test(s))&&(c.rangesAltered[n[0]]=1),"datarevision"===o&&(c.newDataRevision=1))}function p(t){return"data_array"===t.valType||t.arrayOk}for(o in t){if(c.calc&&!r.transition)return;var m=t[o],g=e[o],v=n.concat(o);if(s=v.join("."),"_"!==o.charAt(0)&&"function"!=typeof m&&m!==g){if(("tick0"===o||"dtick"===o)&&"geo"!==n[0]){var y=e.tickmode;if("auto"===y||"array"===y||!y)continue}if(("range"!==o||!e.autorange)&&("zmin"!==o&&"zmax"!==o||"contourcarpet"!==e.type)&&(a=l(v))&&(!a._compareAsJSON||JSON.stringify(m)!==JSON.stringify(g))){var _,x=a.valType,b=p(a),w=Array.isArray(m),M=Array.isArray(g);if(w&&M){var T="_input_"+o,A=t[T],L=e[T];if(Array.isArray(A)&&A===L)continue}if(void 0===g)b&&w?c.calc=!0:f();else if(a._isLinkedToArray){var C=[],S=!1;h||(c.arrays[o]=C);var P=Math.min(m.length,g.length),D=Math.max(m.length,g.length);if(P!==D){if("arraydraw"!==a.editType){f();continue}S=!0}for(_=0;_<P;_++)st(m[_],g[_],v.concat(_),i.extendFlat({inArray:o,arrayIndex:_},r));if(S)for(_=P;_<D;_++)C.push(_)}else!x&&i.isPlainObject(m)?st(m,g,v,r):b?w&&M?(u&&(c.calc=!0),(u||r.newDataRevision)&&f()):w!==M?c.calc=!0:f():w&&M?(m.length!==g.length||String(m)!==String(g))&&f():f()}}}for(o in e)if(!(o in t)&&"_"!==o.charAt(0)&&"function"!=typeof e[o]){if(p(a=l(n.concat(o)))&&Array.isArray(e[o]))return void(c.calc=!0);f()}}function lt(t,e){var n;for(n in t)if("_"!==n.charAt(0)){var r=t[n],a=e[n];if(r!==a)if(i.isPlainObject(r)&&i.isPlainObject(a)){if(lt(r,a))return!0}else{if(!Array.isArray(r)||!Array.isArray(a))return!0;if(r.length!==a.length)return!0;for(var o=0;o<r.length;o++)if(r[o]!==a[o]){if(!i.isPlainObject(r[o])||!i.isPlainObject(a[o]))return!0;if(lt(r[o],a[o]))return!0}}}}function ct(t){var e=t._fullLayout,n=t.getBoundingClientRect();if(!i.equalDomRects(n,e._lastBBox)){var r=e._invTransform=i.inverseTransformMatrix(i.getFullTransformMatrix(t));e._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),e._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),e._lastBBox=n}}t.animate=function(t,e,n){if(t=i.getGraphDiv(t),!i.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var r=t._transitionData;r._frameQueue||(r._frameQueue=[]);var a=(n=h.supplyAnimationDefaults(n)).transition,o=n.frame;function s(t){return Array.isArray(a)?t>=a.length?a[0]:a[t]:a}function l(t){return Array.isArray(o)?t>=o.length?o[0]:o[t]:o}function c(t,e){var n=0;return function(){if(t&&++n===e)return t()}}return void 0===r._frameWaitingCnt&&(r._frameWaitingCnt=0),new Promise((function(o,u){var d=0;function f(t){return Array.isArray(a)?d>=a.length?t.transitionOpts=a[d]:t.transitionOpts=a[0]:t.transitionOpts=a,d++,t}var p,m,g=[],v=null==e,y=Array.isArray(e);if(v||y||!i.isPlainObject(e)){if(v||-1!==["string","number"].indexOf(typeof e))for(p=0;p<r._frames.length;p++)(m=r._frames[p])&&(v||String(m.group)===String(e))&&g.push({type:"byname",name:String(m.name),data:f({name:m.name})});else if(y)for(p=0;p<e.length;p++){var _=e[p];-1!==["number","string"].indexOf(typeof _)?(_=String(_),g.push({type:"byname",name:_,data:f({name:_})})):i.isPlainObject(_)&&g.push({type:"object",data:f(i.extendFlat({},_))})}}else g.push({type:"object",data:f(i.extendFlat({},e))});for(p=0;p<g.length;p++)if("byname"===(m=g[p]).type&&!r._frameHash[m.data.name])return i.warn('animate failure: frame not found: "'+m.data.name+'"'),void u();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==r._frameQueue.length){for(;r._frameQueue.length;){var e=r._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&g.reverse();var x=t._fullLayout._currentFrame;if(x&&n.fromcurrent){var b=-1;for(p=0;p<g.length;p++)if("byname"===(m=g[p]).type&&m.name===x){b=p;break}if(b>0&&b<g.length-1){var w=[];for(p=0;p<g.length;p++)m=g[p],("byname"!==g[p].type||p>b)&&w.push(m);g=w}}g.length>0?function(e){if(0!==e.length){for(var i=0;i<e.length;i++){var a;a="byname"===e[i].type?h.computeFrame(t,e[i].name):e[i].data;var d=l(i),f=s(i);f.duration=Math.min(f.duration,d.duration);var p={frame:a,name:e[i].name,frameOpts:d,transitionOpts:f};i===e.length-1&&(p.onComplete=c(o,2),p.onInterrupt=u),r._frameQueue.push(p)}"immediate"===n.mode&&(r._lastFrameAt=-1/0),r._animationRaf||function(){t.emit("plotly_animating"),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;var e=function(){r._animationRaf=window.requestAnimationFrame(e),Date.now()-r._lastFrameAt>r._timeToNext&&function(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var e=r._currentFrame=r._frameQueue.shift();if(e){var n=e.name?e.name.toString():null;t._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=e.frameOpts.duration,h.transition(t,e.frame.data,e.frame.layout,M.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then((function(){e.onComplete&&e.onComplete()})),t.emit("plotly_animatingframe",{name:n,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else t.emit("plotly_animated"),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}()};e()}()}}(g):(t.emit("plotly_animated"),o())}))},t.addFrames=function(t,e,n){if(t=i.getGraphDiv(t),null==e)return Promise.resolve();if(!i.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var r,a,o,l,c=t._transitionData._frames,u=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var d=c.length+2*e.length,f=[],p={};for(r=e.length-1;r>=0;r--)if(i.isPlainObject(e[r])){var m=e[r].name,g=(u[m]||p[m]||{}).name,v=e[r].name,y=u[g]||p[g];g&&v&&"number"==typeof v&&y&&L<5&&(L++,i.warn('addFrames: overwriting frame "'+(u[g]||p[g]).name+'" with a frame whose name of type "number" also equates to "'+g+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===L&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),p[m]={name:m},f.push({frame:h.supplyFrameDefaults(e[r]),index:n&&void 0!==n[r]&&null!==n[r]?n[r]:d+r})}f.sort((function(t,e){return t.index>e.index?-1:t.index<e.index?1:0}));var _=[],x=[],b=c.length;for(r=f.length-1;r>=0;r--){if("number"==typeof(a=f[r].frame).name&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!a.name)for(;u[a.name="frame "+t._transitionData._counter++];);if(u[a.name]){for(o=0;o<c.length&&(c[o]||{}).name!==a.name;o++);_.push({type:"replace",index:o,value:a}),x.unshift({type:"replace",index:o,value:c[o]})}else l=Math.max(0,Math.min(f[r].index,b)),_.push({type:"insert",index:l,value:a}),x.unshift({type:"delete",index:l}),b++}var w=h.modifyFrames,M=h.modifyFrames,T=[t,x],k=[t,_];return s&&s.add(t,w,T,M,k),h.modifyFrames(t,_)},t.deleteFrames=function(t,e){if(t=i.getGraphDiv(t),!i.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var n,r,a=t._transitionData._frames,o=[],l=[];if(!e)for(e=[],n=0;n<a.length;n++)e.push(n);for((e=e.slice()).sort(),n=e.length-1;n>=0;n--)r=e[n],o.push({type:"delete",index:r}),l.unshift({type:"insert",index:r,value:a[r]});var c=h.modifyFrames,u=h.modifyFrames,d=[t,l],f=[t,o];return s&&s.add(t,c,d,u,f),h.modifyFrames(t,o)},t.addTraces=function e(n,r,a){n=i.getGraphDiv(n);var o,l,c=[],u=t.deleteTraces,h=e,d=[n,c],f=[n,r];for(function(t,e,n){var r,i;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),r=0;r<e.length;r++)if("object"!=typeof(i=e[r])||Array.isArray(i)||null===i)throw new Error("all values in traces array must be non-array objects");if(void 0!==n&&!Array.isArray(n)&&(n=[n]),void 0!==n&&n.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(n,r,a),Array.isArray(r)||(r=[r]),r=r.map((function(t){return i.extendFlat({},t)})),M.cleanData(r),o=0;o<r.length;o++)n.data.push(r[o]);for(o=0;o<r.length;o++)c.push(-r.length+o);if(void 0===a)return l=t.redraw(n),s.add(n,u,d,h,f),l;Array.isArray(a)||(a=[a]);try{z(n,c,a)}catch(t){throw n.data.splice(n.data.length-r.length,r.length),t}return s.startSequence(n),s.add(n,u,d,h,f),l=t.moveTraces(n,c,a),s.stopSequence(n),l},t.deleteTraces=function e(n,r){n=i.getGraphDiv(n);var a,o,l=[],c=t.addTraces,u=e,h=[n,l,r],d=[n,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),I(n,r,"indices"),(r=O(r,n.data.length-1)).sort(i.sorterDes),a=0;a<r.length;a+=1)o=n.data.splice(r[a],1)[0],l.push(o);var f=t.redraw(n);return s.add(n,c,h,u,d),f},t.extendTraces=function e(n,r,a,o){var l=N(n=i.getGraphDiv(n),r,a,o,(function(t,e,n){var r,a;if(i.isTypedArray(t))if(n<0){var o=new t.constructor(0),s=F(t,e);n<0?(r=s,a=o):(r=o,a=s)}else if(r=new t.constructor(n),a=new t.constructor(t.length+e.length-n),n===e.length)r.set(e),a.set(t);else if(n<e.length){var l=e.length-n;r.set(e.subarray(l)),a.set(t),a.set(e.subarray(0,l),t.length)}else{var c=n-e.length,u=t.length-c;r.set(t.subarray(u)),r.set(e,c),a.set(t.subarray(0,u))}else r=t.concat(e),a=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,a]})),c=t.redraw(n),u=[n,l.update,a,l.maxPoints];return s.add(n,t.prependTraces,u,e,arguments),c},t.moveTraces=function e(n,r,a){var o,l=[],c=[],u=e,h=e,d=[n=i.getGraphDiv(n),a,r],f=[n,r,a];if(z(n,r,a),r=Array.isArray(r)?r:[r],void 0===a)for(a=[],o=0;o<r.length;o++)a.push(-r.length+o);for(a=Array.isArray(a)?a:[a],r=O(r,n.data.length-1),a=O(a,n.data.length-1),o=0;o<n.data.length;o++)-1===r.indexOf(o)&&l.push(n.data[o]);for(o=0;o<r.length;o++)c.push({newIndex:a[o],trace:n.data[r[o]]});for(c.sort((function(t,e){return t.newIndex-e.newIndex})),o=0;o<c.length;o+=1)l.splice(c[o].newIndex,0,c[o].trace);n.data=l;var p=t.redraw(n);return s.add(n,u,d,h,f),p},t.prependTraces=function e(n,r,a,o){var l=N(n=i.getGraphDiv(n),r,a,o,(function(t,e,n){var r,a;if(i.isTypedArray(t))if(n<=0){var o=new t.constructor(0),s=F(e,t);n<0?(r=s,a=o):(r=o,a=s)}else if(r=new t.constructor(n),a=new t.constructor(t.length+e.length-n),n===e.length)r.set(e),a.set(t);else if(n<e.length){var l=e.length-n;r.set(e.subarray(0,l)),a.set(e.subarray(l)),a.set(t,l)}else{var c=n-e.length;r.set(e),r.set(t.subarray(0,c),e.length),a.set(t.subarray(c))}else r=e.concat(t),a=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,a]})),c=t.redraw(n),u=[n,l.update,a,l.maxPoints];return s.add(n,t.extendTraces,u,e,arguments),c},t.newPlot=function(e,n,r,a){return e=i.getGraphDiv(e),h.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),h.purge(e),t._doPlot(e,n,r,a)},t._doPlot=function(n,r,a,s){var l;if(n=i.getGraphDiv(n),o.init(n),i.isPlainObject(r)){var u=r;r=u.data,a=u.layout,s=u.config,l=u.frames}if(!1===o.triggerHandler(n,"plotly_beforeplot",[r,a,s]))return Promise.reject();!r&&!a&&!i.isPlotDiv(n)&&i.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",n),D(n,s),a||(a={}),e.select(n).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(n._promises)||(n._promises=[]);var f=0===(n.data||[]).length&&Array.isArray(r);Array.isArray(r)&&(M.cleanData(r),f?n.data=r:n.data.push.apply(n.data,r),n.empty=!1),(!n.layout||f)&&(n.layout=M.cleanLayout(a)),h.supplyDefaults(n);var p=n._fullLayout,m=p._has("cartesian");p._replotting=!0,(f||p._shouldCreateBgLayer)&&(function(t){var n=e.select(t),r=t._fullLayout;if(r._calcInverseTransform=ct,r._calcInverseTransform(t),r._container=n.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var a={};e.selectAll("defs").each((function(){this.id&&(a[this.id.split("-")[1]]=1)})),r._uid=i.randstr(a)}r._paperdiv.selectAll(".main-svg").attr(_.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var o=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=o.append("g").classed("imagelayer",!0),r._shapeLowerLayer=o.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._smithlayer=r._paper.append("g").classed("smithlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._iciclelayer=r._paper.append("g").classed("iciclelayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var s=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=s.append("g").classed("imagelayer",!0),r._shapeUpperLayer=s.append("g").classed("shapelayer",!0),r._selectionLayer=r._toppaper.append("g").classed("selectionlayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),t.emit("plotly_framework")}(n),p._shouldCreateBgLayer&&delete p._shouldCreateBgLayer),g.initGradients(n),g.initPatterns(n),f&&d.saveShowSpikeInitial(n);var v=!n.calcdata||n.calcdata.length!==(n._fullData||[]).length;v&&h.doCalcdata(n);for(var x=0;x<n.calcdata.length;x++)n.calcdata[x][0].trace=n._fullData[x];n._context.responsive?n._responsiveChartHandler||(n._responsiveChartHandler=function(){i.isHidden(n)||h.resize(n)},window.addEventListener("resize",n._responsiveChartHandler)):i.clearResponsive(n);var b=i.extendFlat({},p._size),w=0;function k(){if(h.clearAutoMarginIds(n),T.drawMarginPushers(n),d.allowAutoMargin(n),n._fullLayout.title.text&&n._fullLayout.title.automargin&&h.allowAutoMargin(n,"title.automargin"),p._has("pie"))for(var t=n._fullData,e=0;e<t.length;e++){var r=t[e];"pie"===r.type&&r.automargin&&h.allowAutoMargin(n,"pie."+r.uid+".automargin")}return h.doAutoMargin(n),h.previousPromises(n)}function A(){n._transitioning||(T.doAutoRangeAndConstraints(n),f&&d.saveRangeInitial(n),c.getComponentMethod("rangeslider","calcAutorange")(n))}var L=[h.previousPromises,function(){if(l)return t.addFrames(n,l)},function t(){for(var e=p._basePlotModules,r=0;r<e.length;r++)e[r].drawFramework&&e[r].drawFramework(n);!p._glcanvas&&p._has("gl")&&(p._glcanvas=p._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(t){return t.key})),p._glcanvas.enter().append("canvas").attr("class",(function(t){return"gl-canvas gl-canvas-"+t.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var a=n._context.plotGlPixelRatio;if(p._glcanvas){p._glcanvas.attr("width",p.width*a).attr("height",p.height*a).style("width",p.width+"px").style("height",p.height+"px");var o=p._glcanvas.data()[0].regl;if(o&&(Math.floor(p.width*a)!==o._gl.drawingBufferWidth||Math.floor(p.height*a)!==o._gl.drawingBufferHeight)){var s="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!w)return i.log(s+" Clearing graph and plotting again."),h.cleanPlot([],{},n._fullData,p),h.supplyDefaults(n),p=n._fullLayout,h.doCalcdata(n),w++,t();i.error(s)}}return"h"===p.modebar.orientation?p._modebardiv.style("height",null).style("width","100%"):p._modebardiv.style("width",null).style("height",p.height+"px"),h.previousPromises(n)},k,function(){if(h.didMarginChange(b,p._size))return i.syncOrAsync([k,T.layoutStyles],n)}];m&&L.push((function(){if(v)return i.syncOrAsync([c.getComponentMethod("shapes","calcAutorange"),c.getComponentMethod("annotations","calcAutorange"),A],n);A()})),L.push(T.layoutStyles),m&&L.push((function(){return d.draw(n,f?"":"redraw")}),(function(t){var e=t._fullLayout._insideTickLabelsUpdaterange;if(e)return t._fullLayout._insideTickLabelsUpdaterange=void 0,V(t,e).then((function(){d.saveRangeInitial(t,!0)}))})),L.push(T.drawData,T.finalDraw,y,h.addLinks,h.rehover,h.redrag,h.reselect,h.doAutoMargin,h.previousPromises);var S=i.syncOrAsync(L,n);return(!S||!S.then)&&(S=Promise.resolve()),S.then((function(){return C(n),n}))},t.purge=function(t){var e=(t=i.getGraphDiv(t))._fullLayout||{},n=t._fullData||[];return h.cleanPlot([],{},n,e),h.purge(t),o.purge(t),e._container&&e._container.remove(),delete t._context,t},t.react=function(e,n,r,o){var s,l;e=i.getGraphDiv(e),M.clearPromiseQueue(e);var d=e._fullData,f=e._fullLayout;if(i.isPlotDiv(e)&&d&&f){if(i.isPlainObject(n)){var p=n;n=p.data,r=p.layout,o=p.config,s=p.frames}var m=!1;if(o){var g=i.extendDeep({},e._context);e._context=void 0,D(e,o),m=lt(g,e._context)}e.data=n||[],M.cleanData(e.data),e.layout=r||{},M.cleanLayout(e.layout),function(t,e,n,r){var o,s,l,c,u,h,d,f,p,m,g=r._preGUI,v=[],y={},_={};for(o in g){if(u=nt(o,tt)){if(p=u.head,m=u.tail,s=u.attr||p+".uirevision",(c=(l=a(r,s).get())&&rt(s,e))&&c===l){if(null===(h=g[o])&&(h=void 0),ot(f=(d=a(e,o)).get(),h)){void 0===f&&"autorange"===m&&v.push(p),d.set(B(a(r,o).get()));continue}if("autorange"===m||"range["===m.substr(0,6)){var x=g[p+".range[0]"],b=g[p+".range[1]"],w=g[p+".autorange"];if(w||null===w&&null===x&&null===b){if(!(p in y)){var M=a(e,p).get();y[p]=M&&(M.autorange||!1!==M.autorange&&(!M.range||2!==M.range.length))}if(y[p]){d.set(B(a(r,o).get()));continue}}}}}else i.warn("unrecognized GUI edit: "+o);delete g[o],u&&"range["===u.tail.substr(0,6)&&(_[u.head]=1)}for(var T=0;T<v.length;T++){var k=v[T];if(_[k]){var A=a(e,k).get();A&&delete A.autorange}}var L=r._tracePreGUI;for(var C in L){var S,P=L[C],D=null;for(o in P){if(!D){var O=it(C,n);if(O<0){delete L[C];break}var E=at(C,t,(S=n[O]._fullInput).index);if(E<0){delete L[C];break}D=t[E]}if(u=nt(o,et)){if(u.attr?c=(l=a(r,u.attr).get())&&rt(u.attr,e):(l=S.uirevision,void 0===(c=D.uirevision)&&(c=e.uirevision)),c&&c===l&&(null===(h=P[o])&&(h=void 0),ot(f=(d=a(D,o)).get(),h))){d.set(B(a(S,o).get()));continue}}else i.warn("unrecognized GUI edit: "+o+" in trace uid "+C);delete P[o]}}}(e.data,e.layout,d,f),h.supplyDefaults(e,{skipUpdateCalc:!0});var v=e._fullData,y=e._fullLayout,_=void 0===y.datarevision,x=y.transition,b=function(t,e,n,r,i){var a=k.layoutFlags();for(var o in a.arrays={},a.rangesAltered={},a.nChanges=0,a.nChangesAnim=0,n)if((o.startsWith("xaxis")||o.startsWith("yaxis"))&&e[o]){var s=n[o].domain,l=e[o].domain,c=e[o]._inputDomain;e[o]._inputDomain&&(s[0]===c[0]&&s[1]===c[1]?n[o].domain=e[o].domain:(s[0]!==l[0]||s[1]!==l[1])&&(n[o]._inputDomain=null))}var h={getValObject:function(t){return u.getLayoutValObject(n,t)},flags:a,immutable:r,transition:i,gd:t};return st(e,n,[],h),(a.plot||a.calc)&&(a.layoutReplot=!0),i&&a.nChanges&&a.nChangesAnim&&(a.anim=a.nChanges===a.nChangesAnim?"all":"some"),a}(e,f,y,_,x),w=b.newDataRevision,A=function(t,e,n,r,i,a){var o=e.length===n.length;if(!i&&!o)return{fullReplot:!0,calc:!0};var s,l,c=k.traceFlags();c.arrays={},c.nChanges=0,c.nChangesAnim=0;var h={getValObject:function(t){var e=u.getTraceValObject(l,t);return!l._module.animatable&&e.anim&&(e.anim=!1),e},flags:c,immutable:r,transition:i,newDataRevision:a,gd:t},d={};for(s=0;s<e.length;s++)if(n[s]){if(d[(l=n[s]._fullInput).uid])continue;d[l.uid]=1,st(e[s]._fullInput,l,[],h)}return(c.calc||c.plot)&&(c.fullReplot=!0),i&&c.nChanges&&c.nChangesAnim&&(c.anim=c.nChanges===c.nChangesAnim&&o?"all":"some"),c}(e,d,v,_,x,w);if(K(e)&&(b.layoutReplot=!0),A.calc||b.calc){e.calcdata=void 0;for(var L=Object.getOwnPropertyNames(y),S=0;S<L.length;S++){var P=L[S],O=P.substring(0,5);if("xaxis"===O||"yaxis"===O){var E=y[P]._emptyCategories;E&&E()}}}else h.supplyDefaultsUpdateCalc(e.calcdata,v);var I=[];if(s&&(e._transitionData={},h.createTransitionData(e),I.push((function(){return t.addFrames(e,s)}))),y.transition&&!m&&(A.anim||b.anim))b.ticks&&I.push(T.doTicksRelayout),h.doCalcdata(e),T.doAutoRangeAndConstraints(e),I.push((function(){return h.transitionFromReact(e,A,b,f)}));else if(A.fullReplot||b.layoutReplot||m)e._fullLayout._skipDefaults=!0,I.push(t._doPlot);else{for(var z in b.arrays){var N=b.arrays[z];if(N.length){var R=c.getComponentMethod(z,"drawOne");if(R!==i.noop)for(var F=0;F<N.length;F++)R(e,N[F]);else{var j=c.getComponentMethod(z,"draw");if(j===i.noop)throw new Error("cannot draw components: "+z);j(e)}}}I.push(h.previousPromises),A.style&&I.push(T.doTraceStyle),(A.colorbars||b.colorbars)&&I.push(T.doColorBars),b.legend&&I.push(T.doLegend),b.layoutstyle&&I.push(T.layoutStyles),b.axrange&&W(I),b.ticks&&I.push(T.doTicksRelayout),b.modebar&&I.push(T.doModeBar),b.camera&&I.push(T.doCamera),I.push(C)}I.push(h.rehover,h.redrag,h.reselect),(!(l=i.syncOrAsync(I,e))||!l.then)&&(l=Promise.resolve(e))}else l=t.newPlot(e,n,r,o);return l.then((function(){return e.emit("plotly_react",{data:n,layout:r}),e}))},t.redraw=function(e){if(e=i.getGraphDiv(e),!i.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return M.cleanData(e.data),M.cleanLayout(e.layout),e.calcdata=void 0,t._doPlot(e).then((function(){return e.emit("plotly_redraw"),e}))},t.relayout=V,t.restyle=j,t.setPlotConfig=function(t){return i.extendFlat(b,t)},t.update=$,t._guiRelayout=Q(V),t._guiRestyle=Q(j),t._guiUpdate=Q($),t._storeDirectGUIEdit=function(t,e,n){for(var r in n)U(r,a(t,r).get(),n[r],e)}})),kr=a((t=>{var e=Et();t.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("mapbox")||t._has("map"))?500:0},t.getRedrawFunc=function(t){return function(){e.getComponentMethod("colorbar","draw")(t)}},t.encodeSVG=function(t){return"data:image/svg+xml,"+encodeURIComponent(t)},t.encodeJSON=function(t){return"data:application/json,"+encodeURIComponent(t)};var n=window.URL||window.webkitURL;t.createObjectURL=function(t){return n.createObjectURL(t)},t.revokeObjectURL=function(t){return n.revokeObjectURL(t)},t.createBlob=function(t,e){if("svg"===e)return new window.Blob([t],{type:"image/svg+xml;charset=utf-8"});if("full-json"===e)return new window.Blob([t],{type:"application/json;charset=utf-8"});var n=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(window.atob(t));return new window.Blob([n],{type:"image/"+e})},t.octetStream=function(t){document.location.href="data:application/octet-stream"+t},t.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/})),Ar=a(((t,e)=>{var n=l(),r=($t(),Ze()),i=E(),a=(me(),/"/g),o="TOBESTRIPPED",s=new RegExp('("'+o+")|("+o+'")',"g");e.exports=function(t,e,l){var c,u=t._fullLayout,h=u._paper,d=u._toppaper,f=u.width,p=u.height;h.insert("rect",":first-child").call(r.setRect,0,0,f,p).call(i.fill,u.paper_bgcolor);var m=u._basePlotModules||[];for(c=0;c<m.length;c++){var g=m[c];g.toSVG&&g.toSVG(t)}if(d){var v=d.node().childNodes,y=Array.prototype.slice.call(v);for(c=0;c<y.length;c++){var _=y[c];_.childNodes.length&&h.node().appendChild(_)}}u._draggers&&u._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var t=n.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(a,o));var r=this.style.fontWeight;r&&("normal"===r||"400"===r)&&t.style("font-weight",void 0);var i=this.style.fontStyle;i&&"normal"===i&&t.style("font-style",void 0);var s=this.style.fontVariant;s&&"normal"===s&&t.style("font-variant",void 0)}else t.remove()})),h.selectAll(".gradient_filled,.pattern_filled").each((function(){var t=n.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(a,o));var r=this.style.stroke;r&&-1!==r.indexOf("url(")&&t.style("stroke",r.replace(a,o))})),("pdf"===e||"eps"===e)&&h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),"svg"===e&&l&&(h.attr("width",l*f),h.attr("height",l*p),h.attr("viewBox","0 0 "+f+" "+p));var x=(new window.XMLSerializer).serializeToString(h.node());return x=function(t){var e=n.select("body").append("div").style({display:"none"}).html(""),r=t.replace(/(&[^;]*;)/gi,(function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":e.html(t).text()}));return e.remove(),r}(x),(x=x.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(s,"'")}})),Lr=a(((t,e)=>{var n=$t(),r=ne().EventEmitter,i=kr();e.exports=function(t){var e=t.emitter||new r,a=new Promise((function(r,a){var o,s,l=window.Image,c=t.svg,u=t.format||"png",h=t.canvas,d=t.scale||1,f=t.width||300,p=t.height||150,m=d*f,g=d*p,v=h.getContext("2d",{willReadFrequently:!0}),y=new l;"svg"===u||n.isSafari()?s=i.encodeSVG(c):(o=i.createBlob(c,"svg"),s=i.createObjectURL(o)),h.width=m,h.height=g,y.onload=function(){var n;switch(o=null,i.revokeObjectURL(s),"svg"!==u&&v.drawImage(y,0,0,m,g),u){case"jpeg":n=h.toDataURL("image/jpeg");break;case"png":n=h.toDataURL("image/png");break;case"webp":n=h.toDataURL("image/webp");break;case"svg":n=s;break;default:var l="Image format is not jpeg, png, svg or webp.";if(a(new Error(l)),!t.promise)return e.emit("error",l)}r(n),t.promise||e.emit("success",n)},y.onerror=function(n){if(o=null,i.revokeObjectURL(s),a(n),!t.promise)return e.emit("error",n)},y.src=s}));return t.promise?a:e}})),Cr=a(((t,e)=>{var n=f(),r=Tr(),i=pe(),a=$t(),s=kr(),l=Ar(),c=Lr(),u=o().version,h={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};e.exports=function(t,e){var o,d,f,p;function m(t){return!(t in e)||a.validate(e[t],h[t])}if(e=e||{},a.isPlainObject(t)?(o=t.data||[],d=t.layout||{},f=t.config||{},p={}):(t=a.getGraphDiv(t),o=a.extendDeep([],t.data),d=a.extendDeep({},t.layout),f=t._context,p=t._fullLayout||{}),!m("width")&&null!==e.width||!m("height")&&null!==e.height)throw new Error("Height and width should be pixel values.");if(!m("format"))throw new Error("Export format is not "+a.join2(h.format.values,", "," or ")+".");var g={};function v(t,n){return a.coerce(e,g,h,t,n)}var y=v("format"),_=v("width"),x=v("height"),b=v("scale"),w=v("setBackground"),M=v("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var k=a.extendFlat({},d);_?k.width=_:null===e.width&&n(p.width)&&(k.width=p.width),x?k.height=x:null===e.height&&n(p.height)&&(k.height=p.height);var A=a.extendFlat({},f,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),L=s.getRedrawFunc(T);function C(){return new Promise((function(t){setTimeout(t,s.getDelay(T._fullLayout))}))}function S(){return new Promise((function(t,e){var n=l(T,y,b),o=T._fullLayout.width,h=T._fullLayout.height;function d(){r.purge(T),document.body.removeChild(T)}if("full-json"===y){var f=i.graphJson(T,!1,"keepdata","object",!0,!0);return f.version=u,f=JSON.stringify(f),d(),t(M?f:s.encodeJSON(f))}if(d(),"svg"===y)return t(M?n:s.encodeSVG(n));var p=document.createElement("canvas");p.id=a.randstr(),c({format:y,width:o,height:h,scale:b,canvas:p,svg:n,promise:!0}).then(t).catch(e)}))}return new Promise((function(t,e){r.newPlot(T,o,k,A).then(L).then(C).then(S).then((function(e){t(function(t){return M?t.replace(s.IMAGE_URL_PREFIX,""):t}(e))})).catch((function(t){e(t)}))}))}})),Sr=a(((t,e)=>{var n=$t(),r=pe(),i=oe(),a=R().dfltConfig,o=n.isPlainObject,s=Array.isArray,l=n.isArrayOrTypedArray;function c(t,e,r,i,a,u){u=u||[];for(var h=Object.keys(t),m=0;m<h.length;m++){var g=h[m],v=u.slice();v.push(g);var y=t[g],_=e[g],x=p(r,g),b=(x||{}).valType,w="info_array"===b,M="colorscale"===b,T=(x||{}).items;if(f(r,g))if(o(y)&&o(_)&&"any"!==b)c(y,_,x,i,a,v);else if(w&&s(y)){y.length>_.length&&i.push(d("unused",a,v.concat(_.length)));var k,A,L,C,S,P=_.length,D=Array.isArray(T);if(D&&(P=Math.min(P,T.length)),2===x.dimensions)for(A=0;A<P;A++)if(s(y[A])){y[A].length>_[A].length&&i.push(d("unused",a,v.concat(A,_[A].length)));var O=_[A].length;for(k=0;k<(D?Math.min(O,T[A].length):O);k++)L=D?T[A][k]:T,C=y[A][k],S=_[A][k],n.validate(C,L)?S!==C&&S!==+C&&i.push(d("dynamic",a,v.concat(A,k),C,S)):i.push(d("value",a,v.concat(A,k),C))}else i.push(d("array",a,v.concat(A),y[A]));else for(A=0;A<P;A++)L=D?T[A]:T,C=y[A],S=_[A],n.validate(C,L)?S!==C&&S!==+C&&i.push(d("dynamic",a,v.concat(A),C,S)):i.push(d("value",a,v.concat(A),C))}else if(x.items&&!w&&s(y)){var E,I,z=T[Object.keys(T)[0]],N=[];for(E=0;E<_.length;E++){var R=_[E]._index||E;if((I=v.slice()).push(R),o(y[R])&&o(_[E])){N.push(R);var F=y[R],j=_[E];o(F)&&!1!==F.visible&&!1===j.visible?i.push(d("invisible",a,I)):c(F,j,z,i,a,I)}}for(E=0;E<y.length;E++)(I=v.slice()).push(E),o(y[E])?-1===N.indexOf(E)&&i.push(d("unused",a,I)):i.push(d("object",a,I,y[E]))}else!o(y)&&o(_)?i.push(d("object",a,v,y)):l(y)||!l(_)||w||M?g in e?n.validate(y,x)?"enumerated"===x.valType&&(x.coerceNumber&&y!==+_||y!==_)&&i.push(d("dynamic",a,v,y,_)):i.push(d("value",a,v,y)):i.push(d("unused",a,v,y)):i.push(d("array",a,v,y));else i.push(d("schema",a,v))}return i}e.exports=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={});var l,u,h=i.get(),f=[],p={_context:n.extendFlat({},a)};s(t)?(p.data=n.extendDeep([],t),l=t):(p.data=[],l=[],f.push(d("array","data"))),o(e)?(p.layout=n.extendDeep({},e),u=e):(p.layout={},u={},arguments.length>1&&f.push(d("object","layout"))),r.supplyDefaults(p);for(var m=p._fullData,g=l.length,v=0;v<g;v++){var y=l[v],_=["data",v];if(o(y)){var x=m[v],b=x.type,w=h.traces[b].attributes;w.type={valType:"enumerated",values:[b]},!1===x.visible&&!1!==y.visible&&f.push(d("invisible",_)),c(y,x,w,f,_)}else f.push(d("object",_))}var M=p._fullLayout,T=function(t,e){for(var r=t.layout.layoutAttributes,i=0;i<e.length;i++){var a=e[i],o=t.traces[a.type],s=o.layoutAttributes;s&&(a.subplot?n.extendFlat(r[o.attributes.subplot.dflt],s):n.extendFlat(r,s))}return r}(h,m);return c(u,M,T,f,"layout"),0===f.length?void 0:f};var u={object:function(t,e){return("layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":h(t)+"key "+e)+" must be linked to an object container"},array:function(t,e){return("data"===t?"The data argument":h(t)+"key "+e)+" must be linked to an array container"},schema:function(t,e){return h(t)+"key "+e+" is not part of the schema"},unused:function(t,e,n){var r=o(n)?"container":"key";return h(t)+r+" "+e+" did not get coerced"},dynamic:function(t,e,n,r){return[h(t)+"key",e,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(t,e){return(e?h(t)+"item "+e:"Trace "+t[1])+" got defaulted to be not visible"},value:function(t,e,n){return[h(t)+"key "+e,"is set to an invalid value ("+n+")"].join(" ")}};function h(t){return s(t)?"In data trace "+t[1]+", ":"In "+t+", "}function d(t,e,r,i,a){var o,l;r=r||"",s(e)?(o=e[0],l=e[1]):(o=e,l=null);var c=function(t){if(!s(t))return String(t);for(var e="",n=0;n<t.length;n++){var r=t[n];"number"==typeof r?e=e.substr(0,e.length-1)+"["+r+"]":e+=r,n<t.length-1&&(e+=".")}return e}(r),h=u[t](e,c,i,a);return n.log(h),{code:t,container:o,trace:l,path:r,astr:c,msg:h}}function f(t,e){var n=g(e),r=n.keyMinusId,i=n.id;return!!(r in t&&t[r]._isSubplotObj&&i)||e in t}function p(t,e){return e in t?t[e]:t[g(e).keyMinusId]}var m=n.counterRegex("([a-z]+)");function g(t){var e=t.match(m);return{keyMinusId:e&&e[1],id:e&&e[2]}}})),Pr=a(((t,e)=>{var n=$t(),r=kr();e.exports=function(t,e,i){var a=document.createElement("a"),o="download"in a;return new Promise((function(s,l){var c,u;if(o)return c=r.createBlob(t,i),u=r.createObjectURL(c),a.href=u,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),r.revokeObjectURL(u),c=null,s(e);if(n.isSafari()){var h="svg"===i?",":";base64,";return r.octetStream(h+encodeURIComponent(t)),s(e)}l(new Error("download error"))}))}})),Dr=a(((t,e)=>{var n=$t(),r=Cr(),i=Pr();kr(),e.exports=function(t,e){var a;return n.isPlainObject(t)||(a=n.getGraphDiv(t)),(e=e||{}).format=e.format||"png",e.width=e.width||null,e.height=e.height||null,e.imageDataOnly=!0,new Promise((function(n,o){a&&a._snapshotInProgress&&o(new Error("Snapshotting already in progress.")),a&&(a._snapshotInProgress=!0);var s=r(t,e),l=e.filename||t.fn||"newplot";l+="."+e.format.replace("-","."),s.then((function(t){return a&&(a._snapshotInProgress=!1),i(t,l,e.format)})).then((function(t){n(t)})).catch((function(t){a&&(a._snapshotInProgress=!1),o(t)}))}))}})),Or=a((t=>{var e=$t(),n=e.isPlainObject,r=oe(),i=pe(),a=P(),o=se(),s=R().dfltConfig;function l(t,r){t=e.extendDeep({},t);var i,a,s=Object.keys(t).sort();function u(e,r,i){if(n(r)&&n(e))l(e,r);else if(Array.isArray(r)&&Array.isArray(e)){var s=o.arrayTemplater({_template:t},i);for(a=0;a<r.length;a++){var c=r[a],u=s.newItem(c)._template;u&&l(u,c)}var h=s.defaultItems();for(a=0;a<h.length;a++)r.push(h[a]._template);for(a=0;a<r.length;a++)delete r[a].templateitemname}}for(i=0;i<s.length;i++){var h=s[i],d=t[h];if(h in r?u(d,r[h],h):r[h]=d,c(h)===h)for(var f in r){var p=c(f);f!==p&&p===h&&!(f in t)&&u(d,r[f],h)}}}function c(t){return t.replace(/[0-9]+$/,"")}function u(t,r,i,a,s){var l=s&&i(s);for(var h in t){var d=t[h],p=f(t,h,a),m=f(t,h,s),g=i(m);if(!g){var v=c(h);v!==h&&(g=i(m=f(t,v,s)))}if(!(l&&l===g||!g||g._noTemplating||"data_array"===g.valType||g.arrayOk&&Array.isArray(d)))if(!g.valType&&n(d))u(d,r,i,p,m);else if(g._isLinkedToArray&&Array.isArray(d))for(var y=!1,_=0,x={},b=0;b<d.length;b++){var w=d[b];if(n(w)){var M=w.name;if(M)x[M]||(u(w,r,i,f(d,_,p),f(d,_,m)),_++,x[M]=1);else if(!y){var T=f(t,o.arrayDefaultKey(h),a),k=f(d,_,p);u(w,r,i,k,f(d,_,m));var A=e.nestedProperty(r,k);e.nestedProperty(r,T).set(A.get()),A.set(null),y=!0}}}else e.nestedProperty(r,p).set(d)}}function h(t,n){return r.getLayoutValObject(t,e.nestedProperty({},n).parts)}function d(t,n){return r.getTraceValObject(t,e.nestedProperty({},n).parts)}function f(t,e,n){return n?Array.isArray(t)?n+"["+e+"]":n+"."+e:e}function p(t){for(var e=0;e<t.length;e++)if(n(t[e]))return!0}function m(t){var e;switch(t.code){case"data":e="The template has no key data.";break;case"layout":e="The template has no key layout.";break;case"missing":e=t.path?"There are no templates for item "+t.path+" with name "+t.templateitemname:"There are no templates for trace "+t.index+", of type "+t.traceType+".";break;case"unused":e=t.path?"The template item at "+t.path+" was not used in constructing the plot.":t.dataCount?"Some of the templates of type "+t.traceType+" were not used. The template has "+t.templateCount+" traces, the data only has "+t.dataCount+" of this type.":"The template has "+t.templateCount+" traces of type "+t.traceType+" but there are none in the data.";break;case"reused":e="Some of the templates of type "+t.traceType+" were used more than once. The template has "+t.templateCount+" traces, the data has "+t.dataCount+" of this type."}return t.msg=e,t}t.makeTemplate=function(t){t=e.isPlainObject(t)?t:e.getGraphDiv(t),t=e.extendDeep({_context:s},{data:t.data,layout:t.layout}),i.supplyDefaults(t);var r=t.data||[],o=t.layout||{};o._basePlotModules=t._fullLayout._basePlotModules,o._modules=t._fullLayout._modules;var c={data:{},layout:{}};r.forEach((function(t){var n={};u(t,n,d.bind(null,t));var r=e.coerce(t,{},a,"type"),i=c.data[r];i||(i=c.data[r]=[]),i.push(n)})),u(o,c.layout,h.bind(null,o)),delete c.layout.template;var f=o.template;if(n(f)){var p,m,g,v,y,_,x=f.layout;n(x)&&l(x,c.layout);var b=f.data;if(n(b)){for(m in c.data)if(g=b[m],Array.isArray(g)){for(_=(y=c.data[m]).length,v=g.length,p=0;p<_;p++)l(g[p%v],y[p]);for(p=_;p<v;p++)y.push(e.extendDeep({},g[p]))}for(m in b)m in c.data||(c.data[m]=e.extendDeep([],b[m]))}}return c},t.validateTemplate=function(t,r){var a=e.extendDeep({},{_context:s,data:t.data,layout:t.layout}),o=a.layout||{};n(r)||(r=o.template||{});var l=r.layout,u=r.data,h=[];a.layout=o,a.layout.template=r,i.supplyDefaults(a);var d=a._fullLayout,g=a._fullData,v={};if(n(l)?(function t(e,r){for(var i in e)if("_"!==i.charAt(0)&&n(e[i])){var a,o=c(i),s=[];for(a=0;a<r.length;a++)s.push(f(e,i,r[a])),o!==i&&s.push(f(e,o,r[a]));for(a=0;a<s.length;a++)v[s[a]]=1;t(e[i],s)}}(d,["layout"]),function t(e,r){for(var i in e)if(-1===i.indexOf("defaults")&&n(e[i])){var a=f(e,i,r);v[a]?t(e[i],a):h.push({code:"unused",path:a})}}(l,"layout")):h.push({code:"layout"}),n(u)){for(var y,_={},x=0;x<g.length;x++){var b=g[x];_[y=b.type]=(_[y]||0)+1,b._fullInput._template||h.push({code:"missing",index:b.index,traceType:y})}for(y in u){var w=u[y].length,M=_[y]||0;w>M?h.push({code:"unused",traceType:y,templateCount:w,dataCount:M}):M>w&&h.push({code:"reused",traceType:y,templateCount:w,dataCount:M})}}else h.push({code:"data"});if(function t(e,r){for(var i in e)if("_"!==i.charAt(0)){var a=e[i],o=f(e,i,r);n(a)?(Array.isArray(e)&&!1===a._template&&a.templateitemname&&h.push({code:"missing",path:o,templateitemname:a.templateitemname}),t(a,o)):Array.isArray(a)&&p(a)&&t(a,o)}}({data:g,layout:d},""),h.length)return h.map(m)}})),Er=a((t=>{var e=Tr();t._doPlot=e._doPlot,t.newPlot=e.newPlot,t.restyle=e.restyle,t.relayout=e.relayout,t.redraw=e.redraw,t.update=e.update,t._guiRestyle=e._guiRestyle,t._guiRelayout=e._guiRelayout,t._guiUpdate=e._guiUpdate,t._storeDirectGUIEdit=e._storeDirectGUIEdit,t.react=e.react,t.extendTraces=e.extendTraces,t.prependTraces=e.prependTraces,t.addTraces=e.addTraces,t.deleteTraces=e.deleteTraces,t.moveTraces=e.moveTraces,t.purge=e.purge,t.addFrames=e.addFrames,t.deleteFrames=e.deleteFrames,t.animate=e.animate,t.setPlotConfig=e.setPlotConfig;var n=_t().getGraphDiv,r=Fn().eraseActiveShape;t.deleteActiveShape=function(t){return r(n(t))},t.toImage=Cr(),t.validate=Sr(),t.downloadImage=Dr();var i=Or();t.makeTemplate=i.makeTemplate,t.validateTemplate=i.validateTemplate})),Ir=a(((t,e)=>{var n=$t(),r=Et();e.exports=function(t,e,i,a){var o,s=a("x"),l=a("y");if(r.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],i),s){var c=n.minRowLength(s);l?o=Math.min(c,n.minRowLength(l)):(o=c,a("y0"),a("dy"))}else{if(!l)return 0;o=n.minRowLength(l),a("x0"),a("dx")}return e._length=o,o}})),zr=a(((t,e)=>{var n=$t().dateTick0,r=p().ONEWEEK;function i(t,e){return n(e,t%r==0?1:0)}e.exports=function(t,e,n,r,a){if(a||(a={x:!0,y:!0}),a.x){var o=r("xperiod");o&&(r("xperiod0",i(o,e.xcalendar)),r("xperiodalignment"))}if(a.y){var s=r("yperiod");s&&(r("yperiod0",i(s,e.ycalendar)),r("yperiodalignment"))}}})),Nr=a(((t,e)=>{var n=["orientation","groupnorm","stackgaps"];e.exports=function(t,e,r,i){var a=r._scatterStackOpts,o=i("stackgroup");if(o){var s=e.xaxis+e.yaxis,l=a[s];l||(l=a[s]={});var c=l[o],u=!1;c?c.traces.push(e):(c=l[o]={traceIndices:[],traces:[e]},u=!0);for(var h={orientation:e.x&&!e.y?"h":"v"},d=0;d<n.length;d++){var f=n[d],p=f+"Found";if(!c[p]){var m=void 0!==t[f],g="orientation"===f;if((m||u)&&(c[f]=i(f,h[f]),g&&(c.fillDflt="h"===c[f]?"tonextx":"tonexty"),m&&(c[p]=!0,!u&&(delete c.traces[0][f],g))))for(var v=0;v<c.traces.length-1;v++){var y=c.traces[v];y._input.fill!==y.fill&&(y.fill=c.fillDflt)}}}return c}}})),Rr=a(((t,e)=>{var n=E(),r=ye().hasColorscale,i=Ee(),a=Fe();e.exports=function(t,e,o,s,l,c){var u=a.isBubble(t),h=(t.line||{}).color;c=c||{},h&&(o=h),l("marker.symbol"),l("marker.opacity",u?.7:1),l("marker.size"),c.noAngle||(l("marker.angle"),c.noAngleRef||l("marker.angleref"),c.noStandOff||l("marker.standoff")),l("marker.color",o),r(t,"marker")&&i(t,e,s,l,{prefix:"marker.",cLetter:"c"}),c.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),c.noLine||(l("marker.line.color",h&&!Array.isArray(h)&&e.marker.color!==h?h:u?n.background:n.defaultLine),r(t,"marker.line")&&i(t,e,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",u?1:0)),u&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),c.gradient&&"none"!==l("marker.gradient.type")&&l("marker.gradient.color")}})),Fr=a(((t,e)=>{var n=$t().isArrayOrTypedArray,r=ye().hasColorscale,i=Ee();e.exports=function(t,e,a,o,s,l){l||(l={});var c=(t.marker||{}).color;c&&c._inputArray&&(c=c._inputArray),s("line.color",a),r(t,"line")?i(t,e,o,s,{prefix:"line.",cLetter:"c"}):s("line.color",!n(c)&&c||a),s("line.width"),l.noDash||s("line.dash"),l.backoff&&s("line.backoff")}})),jr=a(((t,e)=>{e.exports=function(t,e,n){"spline"===n("line.shape")&&n("line.smoothing")}})),Br=a(((t,e)=>{var n=$t();e.exports=function(t,e,r,i,a){a=a||{},i("textposition"),n.coerceFont(i,"textfont",a.font||r.font,a),a.noSelect||(i("selected.textfont.color"),i("unselected.textfont.color"))}})),Hr=a(((t,e)=>{var n=E(),r=$t().isArrayOrTypedArray;e.exports=function(t,e,i,a,o){o||(o={});var s,l=!1;if(e.marker){var c=e.marker.color,u=(e.marker.line||{}).color;c&&!r(c)?l=c:u&&!r(u)&&(l=u)}if(o.moduleHasFillgradient&&"none"!==a("fillgradient.type")){a("fillgradient.start"),a("fillgradient.stop");var h=a("fillgradient.colorscale");h&&(s=function(t){for(var e=n.interpolate(t[0][1],t[1][1],.5),r=2;r<t.length;r++){var i=n.interpolate(t[r-1][1],t[r][1],.5);e=n.interpolate(e,i,t[r-1][0]/t[r][0])}return e}(h))}a("fillcolor",n.addOpacity((e.line||{}).color||l||s||i,.5))}})),Ur=a(((t,e)=>{var n=$t(),r=Et(),i=fr(),a=hr(),o=Fe(),s=Ir(),l=zr(),c=Nr(),u=Rr(),h=Fr(),d=jr(),f=Br(),p=Hr(),m=$t().coercePattern;e.exports=function(t,e,g,v){function y(r,a){return n.coerce(t,e,i,r,a)}var _=s(t,e,v,y);if(_||(e.visible=!1),e.visible){l(t,e,v,y),y("xhoverformat"),y("yhoverformat"),y("zorder");var x=c(t,e,v,y);"group"===v.scattermode&&void 0===e.orientation&&y("orientation","v");var b=!x&&_<a.PTS_LINESONLY?"lines+markers":"lines";y("text"),y("hovertext"),y("mode",b),o.hasMarkers(e)&&u(t,e,g,v,y,{gradient:!0}),o.hasLines(e)&&(h(t,e,g,v,y,{backoff:!0}),d(t,e,y),y("connectgaps"),y("line.simplify")),o.hasText(e)&&(y("texttemplate"),f(t,e,v,y));var w=[];(o.hasMarkers(e)||o.hasText(e))&&(y("cliponaxis"),y("marker.maxdisplayed"),w.push("points")),y("fill",x?x.fillDflt:"none"),"none"!==e.fill&&(p(t,e,g,y,{moduleHasFillgradient:!0}),o.hasLines(e)||d(t,e,y),m(y,"fillpattern",e.fillcolor,!1));var M=(e.line||{}).color,T=(e.marker||{}).color;("tonext"===e.fill||"toself"===e.fill)&&w.push("fills"),y("hoveron",w.join("+")||"points"),"fills"!==e.hoveron&&y("hovertemplate");var k=r.getComponentMethod("errorbars","supplyDefaults");k(t,e,M||T||g,{axis:"y"}),k(t,e,M||T||g,{axis:"x",inherit:"y"}),n.coerceSelectionMarkerOpacity(e,y)}}})),Zr=a(((t,e)=>{var n=Gn().getAxisGroup;e.exports=function(t,e,r,i,a){var o=e.orientation,s=e[{v:"x",h:"y"}[o]+"axis"],l=n(r,s)+o,c=r._alignmentOpts||{},u=i("alignmentgroup"),h=c[l];h||(h=c[l]={});var d=h[u];d?d.traces.push(e):d=h[u]={traces:[e],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var f=i("offsetgroup")||"",p=d.offsetGroups,m=p[f];e._offsetIndex=0,("group"!==a||f)&&(m||(m=p[f]={offsetIndex:Object.keys(p).length}),e._offsetIndex=m.offsetIndex)}})),Vr=a(((t,e)=>{var n=$t(),r=Zr(),i=fr();e.exports=function(t,e){var a,o,s,l=e.scattermode;function c(t){return n.coerce(o._input,o,i,t)}if("group"===e.scattermode)for(s=0;s<t.length;s++)"scatter"===(o=t[s]).type&&(a=o._input,r(a,o,e,c,l));for(s=0;s<t.length;s++){var u=t[s];if("scatter"===u.type){var h=u.fill;if("none"!==h&&"toself"!==h&&(u.opacity=void 0,"tonexty"===h||"tonextx"===h))for(var d=s-1;d>=0;d--){var f=t[d];if("scatter"===f.type&&f.xaxis===u.xaxis&&f.yaxis===u.yaxis){f.opacity=void 0;break}}}}}})),Yr=a(((t,e)=>{var n=$t(),r=he();e.exports=function(t,e){var i,a="group"===e.barmode;"group"===e.scattermode&&(i=a?e.bargap:.2,n.coerce(t,e,r,"scattergap",i))}})),Wr=a(((t,e)=>{var n=f(),r=$t(),i=r.dateTime2ms,a=r.incrementMonth,o=p().ONEAVGMONTH;e.exports=function(t,e,r,s){if("date"!==e.type)return{vals:s};var l=t[r+"periodalignment"];if(!l)return{vals:s};var c,u=t[r+"period"];if(n(u)){if((u=+u)<=0)return{vals:s}}else if("string"==typeof u&&"M"===u.charAt(0)){var h=+u.substring(1);if(!(h>0&&Math.round(h)===h))return{vals:s};c=h}for(var d=e.calendar,f="start"===l,p="end"===l,m=t[r+"period0"],g=i(m,d)||0,v=[],y=[],_=[],x=s.length,b=0;b<x;b++){var w,M,T,k=s[b];if(c){for(w=Math.round((k-g)/(c*o)),T=a(g,c*w,d);T>k;)T=a(T,-c,d);for(;T<=k;)T=a(T,c,d);M=a(T,-c,d)}else{for(T=g+(w=Math.round((k-g)/u))*u;T>k;)T-=u;for(;T<=k;)T+=u;M=T-u}v[b]=f?M:p?T:(M+T)/2,y[b]=M,_[b]=T}return{vals:v,starts:y,ends:_}}})),Gr=a(((t,e)=>{var n=ye().hasColorscale,r=Ne(),i=Fe();e.exports=function(t,e){i.hasLines(e)&&n(e,"line")&&r(t,e,{vals:e.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(e)&&(n(e,"marker")&&r(t,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),n(e,"marker.line")&&r(t,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}})),qr=a(((t,e)=>{var n=$t();e.exports=function(t,e){for(var r=0;r<t.length;r++)t[r].i=r;n.mergeArray(e.text,t,"tx"),n.mergeArray(e.texttemplate,t,"txt"),n.mergeArray(e.hovertext,t,"htx"),n.mergeArray(e.customdata,t,"data"),n.mergeArray(e.textposition,t,"tp"),e.textfont&&(n.mergeArrayCastPositive(e.textfont.size,t,"ts"),n.mergeArray(e.textfont.color,t,"tc"),n.mergeArray(e.textfont.family,t,"tf"),n.mergeArray(e.textfont.weight,t,"tw"),n.mergeArray(e.textfont.style,t,"ty"),n.mergeArray(e.textfont.variant,t,"tv"),n.mergeArray(e.textfont.textcase,t,"tC"),n.mergeArray(e.textfont.lineposition,t,"tE"),n.mergeArray(e.textfont.shadow,t,"tS"));var i=e.marker;if(i){n.mergeArrayCastPositive(i.size,t,"ms"),n.mergeArrayCastPositive(i.opacity,t,"mo"),n.mergeArray(i.symbol,t,"mx"),n.mergeArray(i.angle,t,"ma"),n.mergeArray(i.standoff,t,"mf"),n.mergeArray(i.color,t,"mc");var a=i.line;i.line&&(n.mergeArray(a.color,t,"mlc"),n.mergeArrayCastPositive(a.width,t,"mlw"));var o=i.gradient;o&&"none"!==o.type&&(n.mergeArray(o.type,t,"mgt"),n.mergeArray(o.color,t,"mgc"))}}})),Xr=a(((t,e)=>{var n=$t();e.exports=function(t,e){n.isArrayOrTypedArray(e.selectedpoints)&&n.tagSelected(t,e)}})),Jr=a(((t,e)=>{var n=f(),r=$t(),i=qe(),a=Wr(),o=p().BADNUM,s=Fe(),l=Gr(),c=qr(),u=Xr();function h(t,e,n,r,a,o,l){var c=e._length,u=t._fullLayout,h=n._id,d=r._id,f=u._firstScatter[g(e)]===e.uid,p=(v(e,u,n,r)||{}).orientation,m=e.fill;n._minDtick=0,r._minDtick=0;var y={padded:!0},_={padded:!0};l&&(y.ppad=_.ppad=l);var x=c<2||a[0]!==a[c-1]||o[0]!==o[c-1];x&&("tozerox"===m||"tonextx"===m&&(f||"h"===p))?y.tozero=!0:!(e.error_y||{}).visible&&("tonexty"===m||"tozeroy"===m||!s.hasMarkers(e)&&!s.hasText(e))&&(y.padded=!1,y.ppad=0),x&&("tozeroy"===m||"tonexty"===m&&(f||"v"===p))?_.tozero=!0:("tonextx"===m||"tozerox"===m)&&(_.padded=!1),h&&(e._extremes[h]=i.findExtremes(n,a,y)),d&&(e._extremes[d]=i.findExtremes(r,o,_))}function d(t,e){if(s.hasMarkers(t)){var n,a=t.marker,o=1.6*(t.marker.sizeref||1);if(n="area"===t.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/o),3)}:function(t){return Math.max((t||0)/o,3)},r.isArrayOrTypedArray(a.size)){var l={type:"linear"};i.setConvert(l);for(var c=l.makeCalcdata(t.marker,"size"),u=new Array(e),h=0;h<e;h++)u[h]=n(c[h]);return u}return n(a.size)}}function m(t,e){var n=g(e),r=t._firstScatter;r[n]||(r[n]=e.uid)}function g(t){var e=t.stackgroup;return t.xaxis+t.yaxis+t.type+(e?"-"+e:"")}function v(t,e,n,r){var i=t.stackgroup;if(i){var a=e._scatterStackOpts[n._id+r._id][i],o="v"===a.orientation?r:n;if("linear"===o.type||"log"===o.type)return a}}e.exports={calc:function(t,e){var s,f,p,g,y,_,x=t._fullLayout,b=e._xA=i.getFromId(t,e.xaxis||"x","x"),w=e._yA=i.getFromId(t,e.yaxis||"y","y"),M=b.makeCalcdata(e,"x"),T=w.makeCalcdata(e,"y"),k=a(e,b,"x",M),A=a(e,w,"y",T),L=k.vals,C=A.vals,S=e._length,P=new Array(S),D=e.ids,O=v(e,x,b,w),E=!1;m(x,e);var I,z="x",N="y";O?(r.pushUnique(O.traceIndices,e.index),(s="v"===O.orientation)?(N="s",I="x"):(z="s",I="y"),y="interpolate"===O.stackgaps):h(t,e,b,w,L,C,d(e,S));var R=!!e.xperiodalignment,F=!!e.yperiodalignment;for(f=0;f<S;f++){var j=P[f]={},B=n(L[f]),H=n(C[f]);B&&H?(j[z]=L[f],j[N]=C[f],R&&(j.orig_x=M[f],j.xEnd=k.ends[f],j.xStart=k.starts[f]),F&&(j.orig_y=T[f],j.yEnd=A.ends[f],j.yStart=A.starts[f])):O&&(s?B:H)?(j[I]=s?L[f]:C[f],j.gap=!0,y?(j.s=o,E=!0):j.s=0):j[z]=j[N]=o,D&&(j.id=String(D[f]))}if(c(P,e),l(t,e),u(P,e),O){for(f=0;f<P.length;)P[f][I]===o?P.splice(f,1):f++;if(r.sort(P,(function(t,e){return t[I]-e[I]||t.i-e.i})),E){for(f=0;f<P.length-1&&P[f].gap;)f++;for((_=P[f].s)||(_=P[f].s=0),p=0;p<f;p++)P[p].s=_;for(g=P.length-1;g>f&&P[g].gap;)g--;for(_=P[g].s,p=P.length-1;p>g;p--)P[p].s=_;for(;f<g;)if(P[++f].gap){for(p=f+1;P[p].gap;)p++;for(var U=P[f-1][I],Z=P[f-1].s,V=(P[p].s-Z)/(P[p][I]-U);f<p;)P[f].s=Z+(P[f][I]-U)*V,f++}}}return P},calcMarkerSize:d,calcAxisExpansion:h,setFirstScatter:m,getStackOpts:v}})),Kr=a(((t,e)=>{e.exports=r;var n=$t().distinctVals;function r(t,e){this.traces=t,this.sepNegVal=e.sepNegVal,this.overlapNoMerge=e.overlapNoMerge;for(var r=1/0,i=e.posAxis._id.charAt(0),a=[],o=0;o<t.length;o++){for(var s=t[o],l=0;l<s.length;l++){var c=s[l],u=c.p;void 0===u&&(u=c[i]),void 0!==u&&a.push(u)}s[0]&&s[0].width1&&(r=Math.min(s[0].width1,r))}this.positions=a;var h=n(a);this.distinctPositions=h.vals,1===h.vals.length&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(h.minDiff,r);var d=(e.posAxis||{}).type;("category"===d||"multicategory"===d)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}r.prototype.put=function(t,e,n){var r=this.getLabel(t,e,n),i=this.bins[r]||0;return this.bins[r]=i+n,i},r.prototype.get=function(t,e,n){var r=this.getLabel(t,e,n);return this.bins[r]||0},r.prototype.getLabel=function(t,e,n){return(n<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?t:Math.round(t/this.binWidth))+"g"+e}})),$r=a(((t,e)=>{var n=f(),r=$t().isArrayOrTypedArray,i=p().BADNUM,a=Et(),o=qe(),s=Gn().getAxisGroup,l=Kr();function c(t,e,a,s,c){if(s.length){var d,f,p,_;switch(function(t,e){var i,a;for(i=0;i<e.length;i++){var o,s=e[i],l=s[0].trace,c="funnel"===l.type?l._base:l.base,u="h"===l.orientation?l.xcalendar:l.ycalendar,h="category"===t.type||"multicategory"===t.type?function(){return null}:t.d2c;if(r(c)){for(a=0;a<Math.min(c.length,s.length);a++)o=h(c[a],0,u),n(o)?(s[a].b=+o,s[a].hasB=1):s[a].b=0;for(;a<s.length;a++)s[a].b=0}else{o=h(c,0,u);var d=n(o);for(o=d?o:0,a=0;a<s.length;a++)s[a].b=o,d&&(s[a].hasB=1)}}}(a,s),c.mode){case"overlay":u(t,e,a,s,c);break;case"group":for(d=[],f=[],p=0;p<s.length;p++)void 0===(_=s[p])[0].trace.offset?f.push(_):d.push(_);f.length&&function(t,e,n,r,a){var o=new l(r,{posAxis:e,sepNegVal:!1,overlapNoMerge:!a.norm});h(t,e,o,a),function(t,e){for(var n=t.traces,r=0;r<n.length;r++){var a=n[r],o=a[0].trace,s=a[0].t.offsetindex;if(void 0===o.base)for(var c=new l([a],{posAxis:e,sepNegVal:!0,overlapNoMerge:!0}),u=0;u<a.length;u++){var h=a[u];if(h.p!==i){var d=c.put(h.p,s,h.b+h.s);d&&(h.b=d)}}}}(o,e),a.norm?(g(o),v(n,o,a)):m(n,o)}(t,e,a,f,c),d.length&&u(t,e,a,d,c);break;case"stack":case"relative":for(d=[],f=[],p=0;p<s.length;p++)void 0===(_=s[p])[0].trace.base?f.push(_):d.push(_);(function(t){if(!(t.length<2)){var e,r,i,a,o,s;for(e=0;e<t.length&&void 0===(a=(r=t[e][0].trace).marker?r.marker.cornerradius:void 0);e++);if(void 0!==a)for(o=n(a)?+a:+a.slice(0,-1),s=n(a)?"px":"%",e=0;e<t.length;e++)(i=t[e][0].t).cornerradiusvalue=o,i.cornerradiusform=s}})(f),f.length&&function(t,e,n,r,a){var s=new l(r,{posAxis:e,sepNegVal:"relative"===a.mode,overlapNoMerge:!(a.norm||"stack"===a.mode||"relative"===a.mode)});h(t,e,s,a),function(t,e,n){var r,a,s,l,c,u,h,d=y(t),f=e.traces;for(l=0;l<f.length;l++)if("funnel"===(a=(r=f[l])[0].trace).type)for(h=r[0].t.offsetindex,c=0;c<r.length;c++)(u=r[c]).s!==i&&e.put(u.p,h,-.5*u.s);for(l=0;l<f.length;l++){s="funnel"===(a=(r=f[l])[0].trace).type,h="barpolar"===a.type?0:r[0].t.offsetindex;var p=[];for(c=0;c<r.length;c++)if((u=r[c]).s!==i){var m;m=s?u.s:u.s+u.b;var g=e.put(u.p,h,m),v=g+m;u.b=g,u[d]=v,n.norm||(p.push(v),u.hasB&&p.push(g))}n.norm||(a._extremes[t._id]=o.findExtremes(t,p,{tozero:!0,padded:!0}))}}(n,s,a);for(var c=0;c<r.length;c++)for(var u=r[c],d=u[0].t.offsetindex,f=0;f<u.length;f++){var p=u[f];p.s!==i&&p.b+p.s===s.get(p.p,d,p.s)&&(p._outmost=!0)}a.norm&&v(n,s,a)}(t,e,a,f,c),d.length&&u(t,e,a,d,c)}(function(t){var e,r,i,a,o,s,l;for(e=0;e<t.length;e++)i=(r=t[e])[0].trace,void 0===(a=r[0].t).cornerradiusvalue&&void 0!==(o=i.marker?i.marker.cornerradius:void 0)&&(s=n(o)?+o:+o.slice(0,-1),l=n(o)?"px":"%",a.cornerradiusvalue=s,a.cornerradiusform=l)})(s),function(t,e){var i,a,o,s=y(e),l={},c=1/0,u=-1/0;for(i=0;i<t.length;i++)for(o=t[i],a=0;a<o.length;a++){var h=o[a].p;n(h)&&(c=Math.min(c,h),u=Math.max(u,h))}var d=1e4/(u-c),f=l.round=function(t){return String(Math.round(d*(t-c)))},p={},m={},g=t.some((function(t){var e=t[0].trace;return"marker"in e&&e.marker.cornerradius}));for(i=0;i<t.length;i++){(o=t[i])[0].t.extents=l;var v=o[0].t.poffset,_=r(v);for(a=0;a<o.length;a++){var x=o[a],b=x[s]-x.w/2;if(n(b)){var w=x[s]+x.w/2,M=f(x.p);l[M]?l[M]=[Math.min(b,l[M][0]),Math.max(w,l[M][1])]:l[M]=[b,w]}if(x.p0=x.p+(_?v[a]:v),x.p1=x.p0+x.w,x.s0=x.b,x.s1=x.s0+x.s,g){var T=Math.min(x.s0,x.s1)||0,k=Math.max(x.s0,x.s1)||0,A=x[s];p[A]=A in p?Math.min(p[A],T):T,m[A]=A in m?Math.max(m[A],k):k}}}g&&function(t,e,n,r){for(var i=y(r),a=0;a<t.length;a++)for(var o=t[a],s=0;s<o.length;s++){var l=o[s],c=l[i];l._sMin=e[c],l._sMax=n[c]}}(t,p,m,e)}(s,e)}}function u(t,e,n,r,i){for(var a=0;a<r.length;a++){var o=r[a],s=new l([o],{posAxis:e,sepNegVal:!1,overlapNoMerge:!i.norm});h(t,e,s,i),i.norm?(g(s),v(n,s,i)):m(n,s)}}function h(t,e,i,a){var o,l,c,u,h=t._fullLayout,f=i.positions,p=i.distinctPositions,m=i.minDiff,g=i.traces,v=g.length,_=f.length!==p.length,x=m*(1-a.gap);if("angularaxis"===e._id)c=-(l=(o=x)*(1-(a.groupgap||0)))/2;else{var b=s(h,e._id)+g[0][0].trace.orientation;u=h._alignmentOpts[b]||{}}for(var w=0;w<v;w++){var M=g[w],T=M[0].trace;if("angularaxis"!==e._id){var k=u[T.alignmentgroup]||{},A=Object.keys(k.offsetGroups||{}).length;l=(o=A?x/A:_?x/v:x)*(1-(a.groupgap||0)),c=A?((2*T._offsetIndex+1-A)*o-l)/2:_?((2*w+1-v)*o-l)/2:-l/2}var L=M[0].t;L.barwidth=l,L.offsetindex=T._offsetIndex||0,L.poffset=c,L.bargroupwidth=x,L.bardelta=m}i.binWidth=g[0][0].t.barwidth/100,function(t){var e,i,a=t.traces;for(e=0;e<a.length;e++){var o,s=a[e],l=s[0],c=l.trace,u=l.t,h=c._offset||c.offset,d=u.poffset;if(r(h)){for(o=Array.prototype.slice.call(h,0,s.length),i=0;i<o.length;i++)n(o[i])||(o[i]=d);for(i=o.length;i<s.length;i++)o.push(d);u.poffset=o}else void 0!==h&&(u.poffset=h);var f=c._width||c.width,p=u.barwidth;if(r(f)){var m=Array.prototype.slice.call(f,0,s.length);for(i=0;i<m.length;i++)n(m[i])||(m[i]=p);for(i=m.length;i<s.length;i++)m.push(p);if(u.barwidth=m,void 0===h){for(o=[],i=0;i<s.length;i++)o.push(d+(p-m[i])/2);u.poffset=o}}else void 0!==f&&(u.barwidth=f,void 0===h&&(u.poffset=d+(p-f)/2))}}(i),function(t,e){for(var n=e.traces,i=y(t),a=0;a<n.length;a++)for(var o=n[a],s=o[0].t,l=s.poffset,c=r(l),u=s.barwidth,h=r(u),d=0;d<o.length;d++){var f=o[d],p=f.w=h?u[d]:u;void 0===f.p&&(f.p=f[i],f["orig_"+i]=f[i]);var m=(c?l[d]:l)+p/2;f[i]=f.p+m}}(e,i),"angularaxis"===e._id?d(e,i):d(e,i,_)}function d(t,e,n){var i=e.traces,a=e.minDiff/2;o.minDtick(t,e.minDiff,e.distinctPositions[0],n);for(var s=0;s<i.length;s++){var l,c,u,h,d=i[s],f=d[0],p=f.trace,m=[];for(h=0;h<d.length;h++)c=(l=d[h]).p-a,u=l.p+a,m.push(c,u);if(p.width||p.offset){var g=f.t,v=g.poffset,y=g.barwidth,_=r(v),x=r(y);for(h=0;h<d.length;h++){l=d[h];var b=_?v[h]:v,w=x?y[h]:y;u=(c=l.p+b)+w,m.push(c,u)}}p._extremes[t._id]=o.findExtremes(t,m,{padded:!1})}}function m(t,e){for(var n=e.traces,r=y(t),i=0;i<n.length;i++){for(var a=n[i],s=a[0].trace,l="scatter"===s.type,c="v"===s.orientation,u=[],h=!1,d=0;d<a.length;d++){var f=a[d],p=l?0:f.b,m=l?c?f.y:f.x:p+f.s;f[r]=m,u.push(m),f.hasB&&u.push(p),(!f.hasB||!f.b)&&(h=!0)}s._extremes[t._id]=o.findExtremes(t,u,{tozero:h,padded:!0})}}function g(t){for(var e=t.traces,n=0;n<e.length;n++)for(var r=e[n],a=r[0].t.offsetindex,o=0;o<r.length;o++){var s=r[o];s.s!==i&&t.put(s.p,a,s.b+s.s)}}function v(t,e,r){var a=e.traces,s=y(t),l="fraction"===r.norm?1:100,c=l/1e9,u=t.l2c(t.c2l(0)),h="stack"===r.mode?l:u;function d(e){return n(t.c2l(e))&&(e<u-c||e>h+c||!n(u))}for(var f=0;f<a.length;f++){for(var p=a[f],m=p[0].t.offsetindex,g=p[0].trace,v=[],_=!1,x=!1,b=0;b<p.length;b++){var w=p[b];if(w.s!==i){var M=Math.abs(l/e.get(w.p,m,w.s));w.b*=M,w.s*=M;var T=w.b,k=T+w.s;w[s]=k,v.push(k),x=x||d(k),w.hasB&&(v.push(T),x=x||d(T)),(!w.hasB||!w.b)&&(_=!0)}}g._extremes[t._id]=o.findExtremes(t,v,{tozero:_,padded:x})}}function y(t){return t._id.charAt(0)}e.exports={crossTraceCalc:function(t,e){for(var n=e.xaxis,r=e.yaxis,i=t._fullLayout,o=t._fullData,s=t.calcdata,l=[],u=[],h=0;h<o.length;h++){var d=o[h];if(!0===d.visible&&a.traceIs(d,"bar")&&d.xaxis===n._id&&d.yaxis===r._id&&("h"===d.orientation?l.push(s[h]):u.push(s[h]),d._computePh))for(var f=t.calcdata[h],p=0;p<f.length;p++)"function"==typeof f[p].ph0&&(f[p].ph0=f[p].ph0()),"function"==typeof f[p].ph1&&(f[p].ph1=f[p].ph1())}var m={xCat:"category"===n.type||"multicategory"===n.type,yCat:"category"===r.type||"multicategory"===r.type,mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};c(t,n,r,u,m),c(t,r,n,l,m)},setGroupPositions:c}})),Qr=a(((t,e)=>{var n=Jr(),r=$r().setGroupPositions;function i(t,e,n,r,i,a,o){i[r]=!0;var s={i:null,gap:!0,s:0};if(s[o]=n,t.splice(e,0,s),e&&n===t[e-1][o]){var l=t[e-1];s.s=l.s,s.i=l.i,s.gap=l.gap}else a&&(s.s=function(t,e,n,r){var i=t[e-1],a=t[e+1];return a?i?i.s+(a.s-i.s)*(n-i[r])/(a[r]-i[r]):a.s:i.s}(t,e,n,o));e||(t[0].t=t[1].t,t[0].trace=t[1].trace,delete t[1].t,delete t[1].trace)}e.exports=function(t,e){"group"===t._fullLayout.scattermode&&function(t,e){for(var n=e.xaxis,i=e.yaxis,a=t._fullLayout,o=t._fullData,s=t.calcdata,l=[],c=[],u=0;u<o.length;u++){var h=o[u];!0===h.visible&&"scatter"===h.type&&h.xaxis===n._id&&h.yaxis===i._id&&("h"===h.orientation?l.push(s[u]):"v"===h.orientation&&c.push(s[u]))}var d={mode:a.scattermode,gap:a.scattergap};r(t,n,i,c,d),r(t,i,n,l,d)}(t,e);var a=e.xaxis,o=e.yaxis,s=a._id+o._id,l=t._fullLayout._scatterStackOpts[s];if(l){var c,u,h,d,f,p,m,g,v,y,_,x,b,w,M,T=t.calcdata;for(var k in l){var A=(y=l[k]).traceIndices;if(A.length){for(_="interpolate"===y.stackgaps,x=y.groupnorm,"v"===y.orientation?(b="x",w="y"):(b="y",w="x"),M=new Array(A.length),c=0;c<M.length;c++)M[c]=!1;p=T[A[0]];var L=new Array(p.length);for(c=0;c<p.length;c++)L[c]=p[c][b];for(c=1;c<A.length;c++){for(f=T[A[c]],u=h=0;u<f.length;u++){for(m=f[u][b];m>L[h]&&h<L.length;h++)i(f,u,L[h],c,M,_,b),u++;if(m!==L[h]){for(d=0;d<c;d++)i(T[A[d]],h,m,d,M,_,b);L.splice(h,0,m)}h++}for(;h<L.length;h++)i(f,u,L[h],c,M,_,b),u++}var C=L.length;for(u=0;u<p.length;u++){for(g=p[u][w]=p[u].s,c=1;c<A.length;c++)(f=T[A[c]])[0].trace._rawLength=f[0].trace._length,f[0].trace._length=C,g+=f[u].s,f[u][w]=g;if(x)for(v=("fraction"===x?g:g/100)||1,c=0;c<A.length;c++){var S=T[A[c]][u];S[w]/=v,S.sNorm=S.s/v}}for(c=0;c<A.length;c++){var P=(f=T[A[c]])[0].trace,D=n.calcMarkerSize(P,P._rawLength),O=Array.isArray(D);if(D&&M[c]||O){var E=D;for(D=new Array(C),u=0;u<C;u++)D[u]=f[u].gap?0:O?E[f[u].i]:E}var I=new Array(C),z=new Array(C);for(u=0;u<C;u++)I[u]=f[u].x,z[u]=f[u].y;n.calcAxisExpansion(t,P,a,o,I,z,D),f[0].t.orientation=y.orientation}}}}}})),ti=a(((t,e)=>{var n=Ze(),r=p(),i=r.BADNUM,a=r.LOG_CLIP,o=a+.5,s=a-.5,l=$t(),c=l.segmentsIntersect,u=l.constrain,h=hr();e.exports=function(t,e){var r,a,d,f,p,m,g,v,y,_,x,b,w,M,T,k,A,L,C=e.trace||{},S=e.xaxis,P=e.yaxis,D="log"===S.type,O="log"===P.type,E=S._length,I=P._length,z=e.backoff,N=C.marker,R=e.connectGaps,F=e.baseTolerance,j=e.shape,B="linear"===j,H=C.fill&&"none"!==C.fill,U=[],Z=h.minTolerance,V=t.length,Y=new Array(V),W=0;function G(n){var r=t[n];if(!r)return!1;var a=e.linearized?S.l2p(r.x):S.c2p(r.x),l=e.linearized?P.l2p(r.y):P.c2p(r.y);if(a===i){if(D&&(a=S.c2p(r.x,!0)),a===i)return!1;O&&l===i&&(a*=Math.abs(S._m*I*(S._m>0?o:s)/(P._m*E*(P._m>0?o:s)))),a*=1e3}if(l===i){if(O&&(l=P.c2p(r.y,!0)),l===i)return!1;l*=1e3}return[a,l]}function q(t,e,n,r){var i=n-t,a=r-e,o=.5-t,s=.5-e,l=i*i+a*a,c=i*o+a*s;if(c>0&&c<l){var u=o*a-s*i;if(u*u<l)return!0}}function X(t,e){var n=t[0]/E,r=t[1]/I,i=Math.max(0,-n,n-1,-r,r-1);return i&&void 0!==A&&q(n,r,A,L)&&(i=0),i&&e&&q(n,r,e[0]/E,e[1]/I)&&(i=0),(1+h.toleranceGrowth*i)*F}function J(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}var K,$,Q,tt,et,nt,rt,it=h.maxScreensAway,at=-E*it,ot=E*(1+it),st=-I*it,lt=I*(1+it),ct=[[at,st,ot,st],[ot,st,ot,lt],[ot,lt,at,lt],[at,lt,at,st]];function ut(t){if(t[0]<at||t[0]>ot||t[1]<st||t[1]>lt)return[u(t[0],at,ot),u(t[1],st,lt)]}function ht(t,e){if(t[0]===e[0]&&(t[0]===at||t[0]===ot)||t[1]===e[1]&&(t[1]===st||t[1]===lt))return!0}function dt(t,e,n){return function(r,i){var a=ut(r),o=ut(i),s=[];if(a&&o&&ht(a,o))return s;a&&s.push(a),o&&s.push(o);var c=2*l.constrain((r[t]+i[t])/2,e,n)-((a||r)[t]+(o||i)[t]);return c&&((a&&o?c>0==a[t]>o[t]?a:o:a||o)[t]+=c),s}}function ft(t){var e=t[0],n=t[1],r=e===Y[W-1][0],i=n===Y[W-1][1];if(!r||!i)if(W>1){var a=e===Y[W-2][0],o=n===Y[W-2][1];r&&(e===at||e===ot)&&a?o?W--:Y[W-1]=t:i&&(n===st||n===lt)&&o?a?W--:Y[W-1]=t:Y[W++]=t}else Y[W++]=t}function pt(t){Y[W-1][0]!==t[0]&&Y[W-1][1]!==t[1]&&ft([Q,tt]),ft(t),et=null,Q=tt=0}"linear"===j||"spline"===j?rt=function(t,e){for(var n=[],r=0,i=0;i<4;i++){var a=ct[i],o=c(t[0],t[1],e[0],e[1],a[0],a[1],a[2],a[3]);o&&(!r||Math.abs(o.x-n[0][0])>1||Math.abs(o.y-n[0][1])>1)&&(o=[o.x,o.y],r&&J(o,t)<J(n[0],t)?n.unshift(o):n.push(o),r++)}return n}:"hv"===j||"vh"===j?rt=function(t,e){var n=[],r=ut(t),i=ut(e);return r&&i&&ht(r,i)||(r&&n.push(r),i&&n.push(i)),n}:"hvh"===j?rt=dt(0,at,ot):"vhv"===j&&(rt=dt(1,st,lt));var mt=l.isArrayOrTypedArray(N);function gt(e){if(e&&z&&(e.i=r,e.d=t,e.trace=C,e.marker=mt?N[e.i]:N,e.backoff=z),A=e[0]/E,L=e[1]/I,K=e[0]<at?at:e[0]>ot?ot:0,$=e[1]<st?st:e[1]>lt?lt:0,K||$){if(W)if(et){var n=rt(et,e);n.length>1&&(pt(n[0]),Y[W++]=n[1])}else nt=rt(Y[W-1],e)[0],Y[W++]=nt;else Y[W++]=[K||e[0],$||e[1]];var i=Y[W-1];K&&$&&(i[0]!==K||i[1]!==$)?(et&&(Q!==K&&tt!==$?ft(Q&&tt?function(t,e){var n=e[0]-t[0],r=(e[1]-t[1])/n;return(t[1]*e[0]-e[1]*t[0])/n>0?[r>0?at:ot,lt]:[r>0?ot:at,st]}(et,e):[Q||K,tt||$]):Q&&tt&&ft([Q,tt])),ft([K,$])):Q-K&&tt-$&&ft([K||Q,$||tt]),et=e,Q=K,tt=$}else et&&pt(rt(et,e)[0]),Y[W++]=e}for(r=0;r<V;r++)if(a=G(r)){for(W=0,et=null,gt(a),r++;r<V;r++){if(!(f=G(r))){if(R)continue;break}if(B&&e.simplify){var vt=G(r+1);if(_=J(f,a),H&&(0===W||W===V-1)||!(_<X(f,vt)*Z)){for(v=[(f[0]-a[0])/_,(f[1]-a[1])/_],p=a,x=_,b=M=T=0,g=!1,d=f,r++;r<t.length;r++){if(m=vt,vt=G(r+1),!m){if(R)continue;break}if(k=(y=[m[0]-a[0],m[1]-a[1]])[0]*v[1]-y[1]*v[0],M=Math.min(M,k),(T=Math.max(T,k))-M>X(m,vt))break;d=m,(w=y[0]*v[0]+y[1]*v[1])>x?(x=w,f=m,g=!1):w<b&&(b=w,p=m,g=!0)}if(g?(gt(f),d!==p&&gt(p)):(p!==a&&gt(p),d!==f&&gt(f)),gt(d),r>=t.length||!m)break;gt(m),a=m}}else gt(f)}et&&ft([Q||et[0],tt||et[1]]),U.push(Y.slice(0,W))}var yt=j.slice(j.length-1);if(z&&"h"!==yt&&"v"!==yt){for(var _t=!1,xt=-1,bt=[],wt=0;wt<U.length;wt++)for(var Mt=0;Mt<U[wt].length-1;Mt++){var Tt=U[wt][Mt],kt=U[wt][Mt+1],At=n.applyBackoff(kt,Tt);(At[0]!==kt[0]||At[1]!==kt[1])&&(_t=!0),bt[xt+1]||(bt[++xt]=[Tt,[At[0],At[1]]])}return _t?bt:U}return U}})),ei=a(((t,e)=>{var n={tonextx:1,tonexty:1,tonext:1};e.exports=function(t,e,r){var i,a,o,s,l,c={},u=!1,h=-1,d=0,f=-1;for(a=0;a<r.length;a++)(o=(i=r[a][0].trace).stackgroup||"")?o in c?l=c[o]:(l=c[o]=d,d++):i.fill in n&&f>=0?l=f:(l=f=d,d++),l<h&&(u=!0),i._groupIndex=h=l;var p=r.slice();u&&p.sort((function(t,e){var n=t[0].trace,r=e[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index}));var m={};for(a=0;a<p.length;a++)o=(i=p[a][0].trace).stackgroup||"",!0===i.visible?(i._nexttrace=null,i.fill in n&&(s=m[o],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&("tozero"===i.fill.substr(0,6)||"toself"===i.fill||"to"===i.fill.substr(0,2)&&!i._prevtrace),m[o]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return p}})),ni=a(((t,e)=>{var n=l(),r=Et(),i=$t(),a=i.ensureSingle,o=i.identity,s=Ze(),c=Fe(),u=ti(),h=ei(),d=ar().tester;function f(t,e,l,h,f,p,m){var g,v=t._context.staticPlot;!function(t,e,r,a,o){var s=r.xaxis,l=r.yaxis,u=n.extent(i.simpleMap(s.range,s.r2c)),h=n.extent(i.simpleMap(l.range,l.r2c)),d=a[0].trace;if(c.hasMarkers(d)){var f=d.marker.maxdisplayed;if(0!==f){var p=a.filter((function(t){return t.x>=u[0]&&t.x<=u[1]&&t.y>=h[0]&&t.y<=h[1]})),m=Math.ceil(p.length/f),g=0;o.forEach((function(t,n){var r=t[0].trace;c.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<e&&g++}));var v=Math.round(g*m/3+Math.floor(g/3)*m/7.1);a.forEach((function(t){delete t.vis})),p.forEach((function(t,e){0===Math.round((e+v)%m)&&(t.vis=!0)}))}}}(0,e,l,h,f);var y=!!m&&m.duration>0;function _(t){return y?t.transition():t}var x=l.xaxis,b=l.yaxis,w=h[0].trace,M=w.line,T=n.select(p),k=a(T,"g","errorbars"),A=a(T,"g","lines"),L=a(T,"g","points"),C=a(T,"g","text");if(r.getComponentMethod("errorbars","plot")(t,k,l,m),!0===w.visible){_(T).style("opacity",w.opacity);var S,P,D,O,E=w.fill.charAt(w.fill.length-1);"x"!==E&&"y"!==E&&(E=""),"y"===E?(D=1,O=b.c2p(0,!0)):"x"===E&&(D=0,O=x.c2p(0,!0)),h[0][l.isRangePlot?"nodeRangePlot3":"node3"]=T;var I="",z=[],N=w._prevtrace,R=null,F=null;N&&(I=N._prevRevpath||"",P=N._nextFill,z=N._ownPolygons,R=N._fillsegments,F=N._fillElement);var j,B,H,U,Z,V,Y,W,G="",q="",X=[];w._polygons=[];var J=[],K=[],$=i.noop;if(S=w._ownFill,c.hasLines(w)||"none"!==w.fill){P&&P.datum(h),-1!==["hv","vh","hvh","vhv"].indexOf(M.shape)?(H=s.steps(M.shape),U=s.steps(M.shape.split("").reverse().join(""))):H=U="spline"===M.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?s.smoothclosed(t.slice(1),M.smoothing):s.smoothopen(t,M.smoothing)}:function(t){return"M"+t.join("L")},Z=function(t){return U(t.reverse())},K=u(h,{xaxis:x,yaxis:b,trace:w,connectGaps:w.connectgaps,baseTolerance:Math.max(M.width||1,3)/4,shape:M.shape,backoff:M.backoff,simplify:M.simplify,fill:w.fill}),J=new Array(K.length);var Q=0;for(g=0;g<K.length;g++){var tt,et=K[g];tt&&E?tt.push.apply(tt,et):(tt=et.slice(),J[Q]=tt,Q++)}w._fillElement=null,w._fillExclusionElement=F,w._fillsegments=J.slice(0,Q),J=w._fillsegments,K.length&&(V=K[0][0].slice(),W=(Y=K[K.length-1])[Y.length-1].slice()),$=function(t){return function(e){if(j=H(e),B=Z(e),G?E?(G+="L"+j.substr(1),q=B+"L"+q.substr(1)):(G+="Z"+j,q=B+"Z"+q):(G=j,q=B),c.hasLines(w)){var r=n.select(this);if(r.datum(h),t)_(r.style("opacity",0).attr("d",j).call(s.lineGroupStyle)).style("opacity",1);else{var i=_(r);i.attr("d",j),s.singleLineStyle(h,i)}}}}}var nt=A.selectAll(".js-line").data(K);_(nt.exit()).style("opacity",0).remove(),nt.each($(!1)),nt.enter().append("path").classed("js-line",!0).style("vector-effect",v?"none":"non-scaling-stroke").call(s.lineGroupStyle).each($(!0)),s.setClipUrl(nt,l.layerClipId,t);var rt=function(){var t=new Array(J.length);for(g=0;g<J.length;g++)t[g]=d(J[g]);return t},it=function(t){var e,n;if(t&&0!==t.length){for(e=new Array(t.length-1+J.length),n=0;n<t.length-1;n++)e[n]=d(t[n]);var r=t[t.length-1].slice();for(r.reverse(),n=0;n<J.length;n++)e[t.length-1+n]=d(J[n].concat(r))}else for(e=new Array(J.length),n=0;n<J.length;n++){var i=J[n][0].slice(),a=J[n][J[n].length-1].slice();i[D]=a[D]=O;var o=[a,i].concat(J[n]);e[n]=d(o)}return e};K.length?(S?(S.datum(h),V&&W&&(E?(V[D]=W[D]=O,_(S).attr("d","M"+W+"L"+V+"L"+G.substr(1)).call(s.singleFillStyle,t),X=it(null)):(_(S).attr("d",G+"Z").call(s.singleFillStyle,t),X=rt())),w._polygons=X,w._fillElement=S):P&&("tonext"===w.fill.substr(0,6)&&G&&I?("tonext"===w.fill?(_(P).attr("d",G+"Z"+I+"Z").call(s.singleFillStyle,t),X=rt(),w._polygons=X.concat(z)):(_(P).attr("d",G+"L"+I.substr(1)+"Z").call(s.singleFillStyle,t),X=it(R),w._polygons=X),w._fillElement=P):ot(P)),w._prevRevpath=q):(S?ot(S):P&&ot(P),w._prevRevpath=null),w._ownPolygons=X,L.datum(h),C.datum(h),function(e,r,i){var a,u=i[0].trace,h=c.hasMarkers(u),d=c.hasText(u),f=function(t){if(t.ids)return ut}(u),p=ht,m=ht;if(h||d){var g=o,v=u.stackgroup,w=v&&"infer zero"===t._fullLayout._scatterStackOpts[x._id+b._id][v].stackgaps;u.marker.maxdisplayed||u._needsCull?g=w?lt:st:v&&!w&&(g=ct),h&&(p=g),d&&(m=g)}var M,T=(a=e.selectAll("path.point").data(p,f)).enter().append("path").classed("point",!0);y&&T.call(s.pointStyle,u,t).call(s.translatePoints,x,b).style("opacity",0).transition().style("opacity",1),a.order(),h&&(M=s.makePointStyleFns(u)),a.each((function(e){var r=n.select(this),i=_(r);s.translatePoint(e,i,x,b)?(s.singlePointStyle(e,i,u,M,t),l.layerClipId&&s.hideOutsideRangePoint(e,i,x,b,u.xcalendar,u.ycalendar),u.customdata&&r.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):i.remove()})),y?a.exit().transition().style("opacity",0).remove():a.exit().remove(),(a=r.selectAll("g").data(m,f)).enter().append("g").classed("textpoint",!0).append("text"),a.order(),a.each((function(t){var e=n.select(this),r=_(e.select("text"));s.translatePoint(t,r,x,b)?l.layerClipId&&s.hideOutsideRangePoint(t,e,x,b,u.xcalendar,u.ycalendar):e.remove()})),a.selectAll("text").call(s.textPointStyle,u,t).each((function(t){var e=x.c2p(t.x),r=b.c2p(t.y);n.select(this).selectAll("tspan.line").each((function(){_(n.select(this)).attr({x:e,y:r})}))})),a.exit().remove()}(L,C,h);var at=!1===w.cliponaxis?null:l.layerClipId;s.setClipUrl(L,at,t),s.setClipUrl(C,at,t)}function ot(t){_(t).attr("d","M0,0Z")}function st(t){return t.filter((function(t){return!t.gap&&t.vis}))}function lt(t){return t.filter((function(t){return t.vis}))}function ct(t){return t.filter((function(t){return!t.gap}))}function ut(t){return t.id}function ht(){return!1}}e.exports=function(t,e,r,i,l,c){var u,d,p=!l,m=!!l&&l.duration>0,g=h(t,e,r);(u=i.selectAll("g.trace").data(g,(function(t){return t[0].trace.uid}))).enter().append("g").attr("class",(function(t){return"trace scatter trace"+t[0].trace.uid})).style("stroke-miterlimit",2),u.order(),function(t,e,r){e.each((function(e){var i=a(n.select(this),"g","fills");s.setClipUrl(i,r.layerClipId,t);var l=e[0].trace,c=[];l._ownfill&&c.push("_ownFill"),l._nexttrace&&c.push("_nextFill");var u=i.selectAll("g").data(c,o);u.enter().append("g"),u.exit().each((function(t){l[t]=null})).remove(),u.order().each((function(t){l[t]=a(n.select(this),"path","js-fill")}))}))}(t,u,e),m?(c&&(d=c()),n.transition().duration(l.duration).ease(l.easing).each("end",(function(){d&&d()})).each("interrupt",(function(){d&&d()})).each((function(){i.selectAll("g.trace").each((function(n,r){f(t,r,e,n,g,this,l)}))}))):u.each((function(n,r){f(t,r,e,n,g,this,l)})),p&&u.exit().remove(),i.selectAll("path:not([d])").remove()}})),ri=a(((t,e)=>{e.exports={container:"marker",min:"cmin",max:"cmax"}})),ii=a(((t,e)=>{var n=qe();e.exports=function(t,e,r){var i={},a={_fullLayout:r},o=n.getFromTrace(a,e,"x"),s=n.getFromTrace(a,e,"y"),l=t.orig_x;void 0===l&&(l=t.x);var c=t.orig_y;return void 0===c&&(c=t.y),i.xLabel=n.tickText(o,o.c2l(l),!0).text,i.yLabel=n.tickText(s,s.c2l(c),!0).text,i}})),ai=a(((t,e)=>{var n=l(),r=Ze(),i=Et();function a(t,e,n){r.pointStyle(t.selectAll("path.point"),e,n)}function o(t,e,n){r.textPointStyle(t.selectAll("text"),e,n)}e.exports={style:function(t){var e=n.select(t).selectAll("g.trace.scatter");e.style("opacity",(function(t){return t[0].trace.opacity})),e.selectAll("g.points").each((function(e){a(n.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.text").each((function(e){o(n.select(this),e.trace||e[0].trace,t)})),e.selectAll("g.trace path.js-line").call(r.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(r.fillGroupStyle,t,!1),i.getComponentMethod("errorbars","style")(e)},stylePoints:a,styleText:o,styleOnSelect:function(t,e,n){var i=e[0].trace;i.selectedpoints?(r.selectedPointStyle(n.selectAll("path.point"),i),r.selectedTextStyle(n.selectAll("text"),i)):(a(n,i,t),o(n,i,t))}}})),oi=a(((t,e)=>{var n=E(),r=Fe();e.exports=function(t,e){var i,a;if("lines"===t.mode)return(i=t.line.color)&&n.opacity(i)?i:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var o=e.mcc||(t.marker||{}).color,s=e.mlcc||((t.marker||{}).line||{}).color;return(a=o&&n.opacity(o)?o:s&&n.opacity(s)&&(e.mlw||((t.marker||{}).line||{}).width)?s:"")?n.opacity(a)<.3?n.addOpacity(a,.3):a:(i=(t.line||{}).color)&&n.opacity(i)&&r.hasLines(t)&&t.line.width?i:t.fillcolor}})),si=a(((t,e)=>{var n=$t(),r=kn(),i=Et(),a=oi(),o=E(),s=n.fillText;e.exports=function(t,e,l,c){var u=t.cd,h=u[0].trace,d=t.xa,f=t.ya,p=d.c2p(e),m=f.c2p(l),g=[p,m],v=h.hoveron||"",y=-1!==h.mode.indexOf("markers")?3:.5,_=!!h.xperiodalignment,x=!!h.yperiodalignment;if(-1!==v.indexOf("points")){var b=function(t){var e=Math.max(y,t.mrc||0),n=d.c2p(t.x)-p,r=f.c2p(t.y)-m;return Math.max(Math.sqrt(n*n+r*r)-e,1-y/e)},w=r.getDistanceFunction(c,(function(t){if(_){var e=d.c2p(t.xStart),n=d.c2p(t.xEnd);return p>=Math.min(e,n)&&p<=Math.max(e,n)?0:1/0}var r=Math.max(3,t.mrc||0),i=1-1/r,a=Math.abs(d.c2p(t.x)-p);return a<r?i*a/r:a-r+i}),(function(t){if(x){var e=f.c2p(t.yStart),n=f.c2p(t.yEnd);return m>=Math.min(e,n)&&m<=Math.max(e,n)?0:1/0}var r=Math.max(3,t.mrc||0),i=1-1/r,a=Math.abs(f.c2p(t.y)-m);return a<r?i*a/r:a-r+i}),b);if(r.getClosest(u,w,t),!1!==t.index){var M=u[t.index],T=d.c2p(M.x,!0),k=f.c2p(M.y,!0),A=M.mrc||1;t.index=M.i;var L=u[0].t.orientation,C=L&&(M.sNorm||M.s),S="h"===L?C:void 0!==M.orig_x?M.orig_x:M.x,P="v"===L?C:void 0!==M.orig_y?M.orig_y:M.y;return n.extendFlat(t,{color:a(h,M),x0:T-A,x1:T+A,xLabelVal:S,y0:k-A,y1:k+A,yLabelVal:P,spikeDistance:b(M),hovertemplate:h.hovertemplate}),s(M,h,t),i.getComponentMethod("errorbars","hoverInfo")(M,h,t),[t]}}function D(t){if(!t)return!1;var e=t.node();try{var n=new DOMPoint(g[0],g[1]);return e.isPointInFill(n)}catch(t){var r=e.ownerSVGElement.createSVGPoint();return r.x=g[0],r.y=g[1],e.isPointInFill(r)}}if(-1!==v.indexOf("fills")&&h._fillElement&&D(h._fillElement)&&!D(h._fillExclusionElement)){var O=function(t){var e,n,r,i,a,o,s,l,c,u=[],h=1/0,p=-1/0,m=1/0,v=-1/0;for(e=0;e<t.length;e++){var y=t[e];y.contains(g)&&(u.push(y),m=Math.min(m,y.ymin),v=Math.max(v,y.ymax))}if(0===u.length)return null;for(n=((m=Math.max(m,0))+(v=Math.min(v,f._length)))/2,e=0;e<u.length;e++)for(i=u[e].pts,r=1;r<i.length;r++)(l=i[r-1][1])>n!=(c=i[r][1])>=n&&(o=i[r-1][0],s=i[r][0],c-l&&(a=o+(s-o)*(n-l)/(c-l),h=Math.min(h,a),p=Math.max(p,a)));return{x0:h=Math.max(h,0),x1:p=Math.min(p,d._length),y0:n,y1:n}}(h._polygons);null===O&&(O={x0:g[0],x1:g[0],y0:g[1],y1:g[1]});var E=o.defaultLine;return o.opacity(h.fillcolor)?E=h.fillcolor:o.opacity((h.line||{}).color)&&(E=h.line.color),n.extendFlat(t,{distance:t.maxHoverDistance,x0:O.x0,x1:O.x1,y0:O.y0,y1:O.y1,color:E,hovertemplate:!1}),delete t.index,h.text&&!n.isArrayOrTypedArray(h.text)?t.text=String(h.text):t.text=h.name,[t]}}})),li=a(((t,e)=>{var n=Fe();e.exports=function(t,e){var r,i,a,o,s=t.cd,l=t.xaxis,c=t.yaxis,u=[],h=s[0].trace;if(!n.hasMarkers(h)&&!n.hasText(h))return[];if(!1===e)for(r=0;r<s.length;r++)s[r].selected=0;else for(r=0;r<s.length;r++)i=s[r],a=l.c2p(i.x),o=c.c2p(i.y),null!==i.i&&e.contains([a,o],!1,r,t)?(u.push({pointNumber:i.i,x:l.c2d(i.x),y:c.c2d(i.y)}),i.selected=1):i.selected=0;return u}})),ci=a(((t,e)=>{e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}})),ui=a(((t,e)=>{var n=Et().traceIs,r=We();function i(t){return{v:"x",h:"y"}[t.orientation||"v"]}function a(t,e){var r=i(t),a=n(t,"box-violin"),o=n(t._fullInput||{},"candlestick");return a&&!o&&e===r&&void 0===t[r]&&void 0===t[r+"0"]}e.exports=function(t,e,o,s){o("autotypenumbers",s.autotypenumbersDflt),"-"===o("type",(s.splomStash||{}).type)&&(function(t,e){if("-"===t.type){var o,s=t._id,l=s.charAt(0);-1!==s.indexOf("scene")&&(s=l);var c=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if("splom"===i.type&&i._length>0&&(i["_"+n+"axes"]||{})[e])return i;if((i[n+"axis"]||n)===e){if(a(i,n))return i;if((i[n]||[]).length||i[n+"0"])return i}}}(e,s,l);if(c){if("histogram"===c.type&&l==={v:"y",h:"x"}[c.orientation||"v"])return void(t.type="linear");var u=l+"calendar",h=c[u],d={noMultiCategory:!n(c,"cartesian")||n(c,"noMultiCategory")};if("box"===c.type&&c._hasPreCompStats&&l==={h:"x",v:"y"}[c.orientation||"v"]&&(d.noMultiCategory=!0),d.autotypenumbers=t.autotypenumbers,a(c,l)){var f=i(c),p=[];for(o=0;o<e.length;o++){var m=e[o];!n(m,"box-violin")||(m[l+"axis"]||l)!==s||(void 0!==m[f]?p.push(m[f][0]):void 0!==m.name?p.push(m.name):p.push("text"),m[u]!==h&&(h=void 0))}t.type=r(p,h,d)}else if("splom"===c.type){var g=c.dimensions[c._axesDim[s]];g.visible&&(t.type=r(g.values,h,d))}else t.type=r(c[l]||[c[l+"0"]],h,d)}}}(e,s.data),"-"===e.type?e.type="linear":t.type=e.type)}})),hi=a(((t,e)=>{var n=v().isTypedArraySpec;e.exports=function(t,e,r,i){if("category"===e.type){var a,o=t.categoryarray,s=Array.isArray(o)&&o.length>0||n(o);s&&(a="array");var l,c=r("categoryorder",a);"array"===c&&(l=r("categoryarray")),!s&&"array"===c&&(c=e.categoryorder="trace"),"trace"===c?e._initialCategories=[]:"array"===c?e._initialCategories=l.slice():(l=function(t,e){var n,r,i,a=e.dataAttr||t._id.charAt(0),o={};if(e.axData)n=e.axData;else for(n=[],r=0;r<e.data.length;r++){var s=e.data[r];s[a+"axis"]===t._id&&n.push(s)}for(r=0;r<n.length;r++){var l=n[r][a];for(i=0;i<l.length;i++){var c=l[i];null!=c&&(o[c]=1)}}return Object.keys(o)}(e,i).sort(),"category ascending"===c?e._initialCategories=l:"category descending"===c&&(e._initialCategories=l.reverse()))}}})),di=a(((t,e)=>{var n=T().mix,r=O(),i=$t();e.exports=function(t,e,a,o){var s=(o=o||{}).dfltColor;function l(n,r){return i.coerce2(t,e,o.attributes,n,r)}var c=l("linecolor",s),u=l("linewidth");a("showline",o.showLine||!!c||!!u)||(delete e.linecolor,delete e.linewidth);var h=l("gridcolor",n(s,o.bgColor,o.blend||r.lightFraction).toRgbString()),d=l("gridwidth"),f=l("griddash");if(a("showgrid",o.showGrid||!!h||!!d||!!f)||(delete e.gridcolor,delete e.gridwidth,delete e.griddash),o.hasMinor){var p=l("minor.gridcolor",n(e.gridcolor,o.bgColor,67).toRgbString()),m=l("minor.gridwidth",e.gridwidth||1),g=l("minor.griddash",e.griddash||"solid");a("minor.showgrid",!!p||!!m||!!g)||(delete e.minor.gridcolor,delete e.minor.gridwidth,delete e.minor.griddash)}if(!o.noZeroLine){var v=l("zerolinecolor",s),y=l("zerolinewidth");a("zeroline",o.showGrid||!!v||!!y)||(delete e.zerolinecolor,delete e.zerolinewidth)}}})),fi=a(((t,e)=>{var n=f(),r=Et(),i=$t(),a=se(),o=Se(),s=xe(),l=Ae(),c=Le(),u=Pe(),h=De(),d=hi(),p=di(),m=Je(),g=Ye(),v=le().WEEKDAY_PATTERN,y=le().HOUR_PATTERN;function _(t,e,r){function a(n,r){return i.coerce(t,e,s.rangebreaks,n,r)}if(a("enabled")){var o=a("bounds");if(o&&o.length>=2){var l,c,u="";if(2===o.length)for(l=0;l<2;l++)if(c=b(o[l])){u=v;break}var h=a("pattern",u);if(h===v)for(l=0;l<2;l++)(c=b(o[l]))&&(e.bounds[l]=o[l]=c-1);if(h)for(l=0;l<2;l++)switch(c=o[l],h){case v:if(!n(c))return void(e.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(e.enabled=!1);e.bounds[l]=o[l]=c;break;case y:if(!n(c))return void(e.enabled=!1);if((c=+c)<0||c>24)return void(e.enabled=!1);e.bounds[l]=o[l]=c}if(!1===r.autorange){var d=r.range;if(d[0]<d[1]){if(o[0]<d[0]&&o[1]>d[1])return void(e.enabled=!1)}else if(o[0]>d[0]&&o[1]<d[1])return void(e.enabled=!1)}}else{var f=a("values");if(!f||!f.length)return void(e.enabled=!1);a("dvalue")}}}e.exports=function(t,e,n,f,y){var x,b=f.letter,w=f.font||{},M=f.splomStash||{},T=n("visible",!f.visibleDflt),k=e._template||{},A=e.type||k.type||"-";"date"===A&&(r.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",f.calendar),f.noTicklabelmode||(x=n("ticklabelmode"))),!f.noTicklabelindex&&("date"===A||"linear"===A)&&n("ticklabelindex");var L="";(!f.noTicklabelposition||"multicategory"===A)&&(L=i.coerce(t,e,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===x?["outside","inside"]:"x"===b?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),f.noTicklabeloverflow||n("ticklabeloverflow",-1!==L.indexOf("inside")?"hide past domain":"category"===A||"multicategory"===A?"allow":"hide past div"),g(e,y),m(t,e,n,f),d(t,e,n,f),"category"!==A&&!f.noHover&&n("hoverformat");var C=n("color"),S=C!==s.color.dflt?C:w.color,P=M.label||y._dfltTitle[b];if(h(t,e,n,A,f),!T)return e;n("title.text",P),i.coerceFont(n,"title.font",w,{overrideDflt:{size:i.bigFont(w.size),color:S}}),l(t,e,n,A);var D=f.hasMinor;if(D&&(a.newContainer(e,"minor"),l(t,e,n,A,{isMinor:!0})),u(t,e,n,A,f),c(t,e,n,f),D){var O=f.isMinor;f.isMinor=!0,c(t,e,n,f),f.isMinor=O}p(t,e,n,{dfltColor:C,bgColor:f.bgColor,showGrid:f.showGrid,hasMinor:D,attributes:s}),D&&!e.minor.ticks&&!e.minor.showgrid&&delete e.minor,(e.showline||e.ticks)&&n("mirror");var E,I="multicategory"===A;if(f.noTickson||"category"!==A&&!I||!e.ticks&&!e.showgrid||(I&&(E="boundaries"),"boundaries"===n("tickson",E)&&delete e.ticklabelposition),I&&n("showdividers")&&(n("dividercolor"),n("dividerwidth")),"date"===A)if(o(t,e,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:_}),e.rangebreaks.length){for(var z=0;z<e.rangebreaks.length;z++)if(e.rangebreaks[z].pattern===v){e._hasDayOfWeekBreaks=!0;break}if(g(e,y),y._has("scattergl")||y._has("splom"))for(var N=0;N<f.data.length;N++){var R=f.data[N];("scattergl"===R.type||"splom"===R.type)&&(R.visible=!1,i.warn(R.type+" traces do not work on axes with rangebreaks. Setting trace "+R.index+" to `visible: false`."))}}else delete e.rangebreaks;return e};var x={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function b(t){if("string"==typeof t)return x[t.substr(0,3).toLowerCase()]}})),pi=a(((t,e)=>{var n=f(),r=$t();e.exports=function(t,e,i,a){var o,s,l,c,u,h,d=a.counterAxes||[],f=a.overlayableAxes||[],p=a.letter,m=a.grid,g=a.overlayingDomain;m&&(s=m._domains[p][m._axisMap[e._id]],o=m._anchors[e._id],s&&(l=m[p+"side"].split(" ")[0],c=m.domain[p]["right"===l||"top"===l?1:0])),s=s||[0,1],o=o||(n(t.position)?"free":d[0]||"free"),l=l||("x"===p?"bottom":"left"),c=c||0,u=0,h=!1;var v=r.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(d),dflt:o}},"anchor"),y=r.coerce(t,e,{side:{valType:"enumerated",values:"x"===p?["bottom","top"]:["left","right"],dflt:l}},"side");"free"===v&&("y"===p&&(i("autoshift")&&(c="left"===y?g[0]:g[1],h=!e.automargin||e.automargin,u="left"===y?-3:3),i("shift",u)),i("position",c)),i("automargin",h);var _=!1;if(f.length&&(_=r.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!_){var x=i("domain",s);x[0]>x[1]-1/4096&&(e.domain=s),r.noneOrAll(t.domain,e.domain,s),"sync"===e.tickmode&&(e.tickmode="auto")}return i("layer"),e}})),mi=a(((t,e)=>{var n=$t(),r=E(),i=Be().isUnifiedHover,a=bn(),o=se(),s=St(),l=xe(),c=ui(),u=fi(),h=Gn(),d=pi(),f=ce(),p=f.id2name,m=f.name2id,g=le().AX_ID_PATTERN,v=Et(),y=v.traceIs,_=v.getComponentMethod;function x(t,e,n){Array.isArray(t[e])?t[e].push(n):t[e]=[n]}e.exports=function(t,e,v){var b,w,M=e.autotypenumbers,T={},k={},A={},L={},C={},S={},P={},D={},O={},E={};for(b=0;b<v.length;b++){var I=v[b];if(y(I,"cartesian")){var z,N;if(I.xaxis)z=p(I.xaxis),x(T,z,I);else if(I.xaxes)for(w=0;w<I.xaxes.length;w++)x(T,p(I.xaxes[w]),I);if(I.yaxis)N=p(I.yaxis),x(T,N,I);else if(I.yaxes)for(w=0;w<I.yaxes.length;w++)x(T,p(I.yaxes[w]),I);"funnel"===I.type?"h"===I.orientation?(z&&(k[z]=!0),N&&(P[N]=!0)):N&&(A[N]=!0):"image"===I.type?(N&&(D[N]=!0),z&&(D[z]=!0)):(N&&(C[N]=!0,S[N]=!0),(!y(I,"carpet")||"carpet"===I.type&&!I._cheater)&&z&&(L[z]=!0)),"carpet"===I.type&&I._cheater&&z&&(k[z]=!0),y(I,"2dMap")&&(O[z]=!0,O[N]=!0),y(I,"oriented")&&(E["h"===I.orientation?N:z]=!0)}}var R=e._subplots,F=R.xaxis,j=R.yaxis,B=n.simpleMap(F,p),H=n.simpleMap(j,p),U=B.concat(H),Z=r.background;F.length&&j.length&&(Z=n.coerce(t,e,s,"plot_bgcolor"));var V,Y,W,G,q,X=r.combine(Z,e.paper_bgcolor);function J(){var t=T[V]||[];q._traceIndices=t.map((function(t){return t.index})),q._annIndices=[],q._shapeIndices=[],q._selectionIndices=[],q._imgIndices=[],q._subplotsWith=[],q._counterAxes=[],q._name=q._attr=V,q._id=Y}function K(t,e){return n.coerce(G,q,l,t,e)}function $(t,e){return n.coerce2(G,q,l,t,e)}function Q(t){return"x"===t?j:F}function tt(e,n){for(var r="x"===e?B:H,i=[],a=0;a<r.length;a++){var o=r[a];o!==n&&!(t[o]||{}).overlaying&&i.push(m(o))}return i}var et={x:Q("x"),y:Q("y")},nt=et.x.concat(et.y),rt={},it=[];function at(){var t=G.matches;g.test(t)&&-1===nt.indexOf(t)&&(rt[t]=G.type,it=Object.keys(rt))}var ot=a(t,e),st=i(ot);for(b=0;b<U.length;b++){V=U[b],Y=m(V),W=V.charAt(0),n.isPlainObject(t[V])||(t[V]={}),G=t[V],q=o.newContainer(e,V,W+"axis"),J();var lt="x"===W&&!L[V]&&k[V]||"y"===W&&!C[V]&&A[V],ct="y"===W&&(!S[V]&&P[V]||D[V]),ut={hasMinor:!0,letter:W,font:e.font,outerTicks:O[V],showGrid:!E[V],data:T[V]||[],bgColor:X,calendar:e.calendar,automargin:!0,visibleDflt:lt,reverseDflt:ct,autotypenumbersDflt:M,splomStash:((e._splomAxes||{})[W]||{})[Y],noAutotickangles:"y"===W};K("uirevision",e.uirevision),c(G,q,K,ut),u(G,q,K,ut,e);var ht=st&&W===ot.charAt(0),dt=$("spikecolor",st?q.color:void 0),ft=$("spikethickness",st?1.5:void 0),pt=$("spikedash",st?"dot":void 0),mt=$("spikemode",st?"across":void 0),gt=$("spikesnap");K("showspikes",!!(ht||dt||ft||pt||mt||gt))||(delete q.spikecolor,delete q.spikethickness,delete q.spikedash,delete q.spikemode,delete q.spikesnap);var vt=p(G.overlaying),yt=[0,1];if(void 0!==e[vt]){var _t=p(e[vt].anchor);void 0!==e[_t]&&(yt=e[_t].domain)}d(G,q,K,{letter:W,counterAxes:et[W],overlayableAxes:tt(W,V),grid:e.grid,overlayingDomain:yt}),K("title.standoff"),at(),q._input=G}for(b=0;b<it.length;){Y=it[b++],W=(V=p(Y)).charAt(0),n.isPlainObject(t[V])||(t[V]={}),G=t[V],q=o.newContainer(e,V,W+"axis"),J();var xt={letter:W,font:e.font,outerTicks:O[V],showGrid:!E[V],data:[],bgColor:X,calendar:e.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:M,splomStash:((e._splomAxes||{})[W]||{})[Y]};K("uirevision",e.uirevision),q.type=rt[Y]||"linear",u(G,q,K,xt,e),d(G,q,K,{letter:W,counterAxes:et[W],overlayableAxes:tt(W,V),grid:e.grid}),K("fixedrange"),at(),q._input=G}var bt=_("rangeslider","handleDefaults"),wt=_("rangeselector","handleDefaults");for(b=0;b<B.length;b++)V=B[b],G=t[V],q=e[V],bt(t,e,V),"date"===q.type&&wt(G,q,e,H,q.calendar),K("fixedrange");for(b=0;b<H.length;b++){V=H[b],G=t[V],q=e[V];var Mt=e[p(q.anchor)];K("fixedrange",_("rangeslider","isVisible")(Mt))}h.handleDefaults(t,e,{axIds:nt.concat(it).sort(f.idSort),axHasImage:D})}})),gi=a(((t,e)=>{var n=l(),r=Et(),i=$t(),a=Ze(),o=qe();e.exports=function(t,e,s,l){var c=t._fullLayout;if(0!==e.length){var u;l&&(u=l());var h,d,f,p=n.ease(s.easing);return t._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(f),f=null,function(){for(var n={},i=0;i<e.length;i++){var a=e[i],o=a.plotinfo.xaxis,s=a.plotinfo.yaxis;a.xr0&&(n[o._name+".range"]=a.xr0.slice()),a.yr0&&(n[s._name+".range"]=a.yr0.slice())}return r.call("relayout",t,n).then((function(){for(var t=0;t<e.length;t++)m(e[t].plotinfo)}))}()})),h=Date.now(),f=window.requestAnimationFrame((function n(){d=Date.now();for(var i=Math.min(1,(d-h)/s.duration),a=p(i),o=0;o<e.length;o++)g(e[o],a);d-h>s.duration?(function(){for(var n={},i=0;i<e.length;i++){var a=e[i],o=a.plotinfo.xaxis,s=a.plotinfo.yaxis;a.xr1&&(n[o._name+".range"]=a.xr1.slice()),a.yr1&&(n[s._name+".range"]=a.yr1.slice())}u&&u(),r.call("relayout",t,n).then((function(){for(var t=0;t<e.length;t++)m(e[t].plotinfo)}))}(),f=window.cancelAnimationFrame(n)):f=window.requestAnimationFrame(n)})),Promise.resolve()}function m(t){var e=t.xaxis,n=t.yaxis;c._defs.select("#"+t.clipId+"> rect").call(a.setTranslate,0,0).call(a.setScale,1,1),t.plot.call(a.setTranslate,e._offset,n._offset).call(a.setScale,1,1);var r=t.plot.selectAll(".scatterlayer .trace");r.selectAll(".point").call(a.setPointGroupScale,1,1),r.selectAll(".textpoint").call(a.setTextPointsScale,1,1),r.call(a.hideOutsideRangePoints,t)}function g(e,n){var r=e.plotinfo,s=r.xaxis,l=r.yaxis,c=s._length,u=l._length,h=!!e.xr1,d=!!e.yr1,f=[];if(h){var p=i.simpleMap(e.xr0,s.r2l),m=i.simpleMap(e.xr1,s.r2l),g=p[1]-p[0],v=m[1]-m[0];f[0]=(p[0]*(1-n)+n*m[0]-p[0])/(p[1]-p[0])*c,f[2]=c*(1-n+n*v/g),s.range[0]=s.l2r(p[0]*(1-n)+n*m[0]),s.range[1]=s.l2r(p[1]*(1-n)+n*m[1])}else f[0]=0,f[2]=c;if(d){var y=i.simpleMap(e.yr0,l.r2l),_=i.simpleMap(e.yr1,l.r2l),x=y[1]-y[0],b=_[1]-_[0];f[1]=(y[1]*(1-n)+n*_[1]-y[1])/(y[0]-y[1])*u,f[3]=u*(1-n+n*b/x),l.range[0]=s.l2r(y[0]*(1-n)+n*_[0]),l.range[1]=l.l2r(y[1]*(1-n)+n*_[1])}else f[1]=0,f[3]=u;o.drawOne(t,s,{skipTitle:!0}),o.drawOne(t,l,{skipTitle:!0}),o.redrawComponents(t,[s._id,l._id]);var w=h?c/f[2]:1,M=d?u/f[3]:1,T=h?f[0]:0,k=d?f[1]:0,A=h?f[0]/f[2]*c:0,L=d?f[1]/f[3]*u:0,C=s._offset-A,S=l._offset-L;r.clipRect.call(a.setTranslate,T,k).call(a.setScale,1/w,1/M),r.plot.call(a.setTranslate,C,S).call(a.setScale,w,M),a.setPointGroupScale(r.zoomScalePts,1/w,1/M),a.setTextPointsScale(r.zoomScaleTxt,1/w,1/M)}o.redrawComponents(t)}})),vi=a((t=>{var e=l(),n=Et(),r=$t(),i=pe(),a=Ze(),o=de().getModuleCalcData,s=ce(),c=le(),u=me(),h=r.ensureSingle;function d(t,e,n){return r.ensureSingle(t,e,n,(function(t){t.datum(n)}))}var f=c.zindexSeparator;function p(t,r,i,s,l){for(var u,h,d,f=c.traceLayerClasses,p=t._fullLayout,m=p._zindices,g=p._modules,v=[],y=[],_=0;_<m.length;_++)for(var x=m[_],b=0;b<g.length;b++){var w=(u=g[b]).name,M=n.modules[w].categories;if(M.svg){var T=u.layerName||w+"layer",k=T+(_?Number(_)+1:""),A=u.plot;d=(h=o(i,A,x))[0],i=h[1],d.length&&v.push({i:f.indexOf(T),zindex:_,className:k,plotMethod:A,cdModule:d}),M.zoomScale&&y.push("."+k)}}v.sort((function(t,e){return(t.zindex||0)-(e.zindex||0)||t.i-e.i}));var L=r.plot.selectAll("g.mlayer").data(v,(function(t){return t.className}));if(L.enter().append("g").attr("class",(function(t){return t.className})).classed("mlayer",!0).classed("rangeplot",r.isRangePlot),L.exit().remove(),L.order(),L.each((function(n){var i=e.select(this),o=n.className;n.plotMethod(t,r,n.cdModule,i,s,l),-1===c.clipOnAxisFalseQuery.indexOf("."+o)&&a.setClipUrl(i,r.layerClipId,t)})),p._has("scattergl")&&(u=n.getModule("scattergl"),d=o(i,u)[0],u.plot(t,r,d)),!t._context.staticPlot&&(r._hasClipOnAxisFalse&&(r.clipOnAxisFalseTraces=r.plot.selectAll(c.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),y.length)){var C=r.plot.selectAll(y.join(",")).selectAll(".trace");r.zoomScalePts=C.selectAll("path.point"),r.zoomScaleTxt=C.selectAll(".textpoint")}}function m(t,e){var n=t._fullLayout,r=e.plotgroup,i=e.id,a=-1!==i.indexOf(f),o=c.layerValue2layerClass[e.xaxis.layer],l=c.layerValue2layerClass[e.yaxis.layer],u=n._hasOnlyLargeSploms,p=n._zindices.length>1,m=e.mainplotinfo;if(!e.mainplot||p)if(u)e.xlines=h(r,"path","xlines-above"),e.ylines=h(r,"path","ylines-above"),e.xaxislayer=h(r,"g","xaxislayer-above"),e.yaxislayer=h(r,"g","yaxislayer-above");else{if(!a){var g=h(r,"g","layer-subplot");e.shapelayer=h(g,"g","shapelayer"),e.imagelayer=h(g,"g","imagelayer"),m&&p?(e.minorGridlayer=m.minorGridlayer,e.gridlayer=m.gridlayer,e.zerolinelayer=m.zerolinelayer):(e.minorGridlayer=h(r,"g","minor-gridlayer"),e.gridlayer=h(r,"g","gridlayer"),e.zerolinelayer=h(r,"g","zerolinelayer"));var v=h(r,"g","layer-between");e.shapelayerBetween=h(v,"g","shapelayer"),e.imagelayerBetween=h(v,"g","imagelayer"),h(r,"path","xlines-below"),h(r,"path","ylines-below"),e.overlinesBelow=h(r,"g","overlines-below"),h(r,"g","xaxislayer-below"),h(r,"g","yaxislayer-below"),e.overaxesBelow=h(r,"g","overaxes-below")}e.overplot=h(r,"g","overplot"),e.plot=h(e.overplot,"g",i),a||(e.xlines=h(r,"path","xlines-above"),e.ylines=h(r,"path","ylines-above"),e.overlinesAbove=h(r,"g","overlines-above"),h(r,"g","xaxislayer-above"),h(r,"g","yaxislayer-above"),e.overaxesAbove=h(r,"g","overaxes-above"),e.xlines=r.select(".xlines-"+o),e.ylines=r.select(".ylines-"+l),e.xaxislayer=r.select(".xaxislayer-"+o),e.yaxislayer=r.select(".yaxislayer-"+l))}else{var y=m.plotgroup,_=i+"-x",x=i+"-y";e.minorGridlayer=m.minorGridlayer,e.gridlayer=m.gridlayer,e.zerolinelayer=m.zerolinelayer,h(m.overlinesBelow,"path",_),h(m.overlinesBelow,"path",x),h(m.overaxesBelow,"g",_),h(m.overaxesBelow,"g",x),e.plot=h(m.overplot,"g",i),h(m.overlinesAbove,"path",_),h(m.overlinesAbove,"path",x),h(m.overaxesAbove,"g",_),h(m.overaxesAbove,"g",x),e.xlines=y.select(".overlines-"+o).select("."+_),e.ylines=y.select(".overlines-"+l).select("."+x),e.xaxislayer=y.select(".overaxes-"+o).select("."+_),e.yaxislayer=y.select(".overaxes-"+l).select("."+x)}a||(u||(d(e.minorGridlayer,"g",e.xaxis._id),d(e.minorGridlayer,"g",e.yaxis._id),e.minorGridlayer.selectAll("g").map((function(t){return t[0]})).sort(s.idSort),d(e.gridlayer,"g",e.xaxis._id),d(e.gridlayer,"g",e.yaxis._id),e.gridlayer.selectAll("g").map((function(t){return t[0]})).sort(s.idSort)),e.xlines.style("fill","none").classed("crisp",!0),e.ylines.style("fill","none").classed("crisp",!0))}function g(t,n){if(t){var r={};for(var i in t.each((function(t){var i=t[0];e.select(this).remove(),v(i,n),r[i]=!0})),n._plots)for(var a=n._plots[i].overlays||[],o=0;o<a.length;o++){var s=a[o];r[s.id]&&s.plot.selectAll(".trace").remove()}}}function v(t,e){e._draggers.selectAll("g."+t).remove(),e._defs.select("#clip"+e._uid+t+"plot").remove()}t.name="cartesian",t.attr=["xaxis","yaxis"],t.idRoot=["x","y"],t.idRegex=c.idRegex,t.attrRegex=c.attrRegex,t.attributes=ci(),t.layoutAttributes=xe(),t.supplyLayoutDefaults=mi(),t.transitionAxes=gi(),t.finalizeSubplots=function(t,e){var n,i,a,o=e._subplots,l=o.xaxis,u=o.yaxis,h=o.cartesian,d=h,f={},p={};for(n=0;n<d.length;n++){var m=d[n].split("y");f[m[0]]=1,p["y"+m[1]]=1}for(n=0;n<l.length;n++)f[i=l[n]]||(a=(t[s.id2name(i)]||{}).anchor,c.idRegex.y.test(a)||(a="y"),h.push(i+a),d.push(i+a),p[a]||(p[a]=1,r.pushUnique(u,a)));for(n=0;n<u.length;n++)p[a=u[n]]||(i=(t[s.id2name(a)]||{}).anchor,c.idRegex.x.test(i)||(i="x"),h.push(i+a),d.push(i+a),f[i]||(f[i]=1,r.pushUnique(l,i)));if(!d.length){for(var g in i="",a="",t)c.attrRegex.test(g)&&("x"===g.charAt(0)?(!i||+g.substr(5)<+i.substr(5))&&(i=g):(!a||+g.substr(5)<+a.substr(5))&&(a=g));i=i?s.name2id(i):"x",a=a?s.name2id(a):"y",l.push(i),u.push(a),h.push(i+a)}},t.plot=function(t,e,n,i){var a,o=t._fullLayout,s=o._subplots.cartesian,l=t.calcdata;if(!Array.isArray(e))for(e=[],a=0;a<l.length;a++)e.push(a);for(var c=o._zindices,u=0;u<c.length;u++){var h=c[u];for(a=0;a<s.length;a++){var d=s[a],m=o._plots[d];if(u>0){var g=m.id;if(-1!==g.indexOf(f))continue;g+=f+(u+1),m=r.extendFlat({},m,{id:g,plot:o._cartesianlayer.selectAll(".subplot").select("."+g)})}for(var v,y=[],_=0;_<l.length;_++){var x=l[_],b=x[0].trace;h===(b.zorder||0)&&b.xaxis+b.yaxis===d&&((-1!==e.indexOf(b.index)||b.carpet)&&(v&&v[0].trace.xaxis+v[0].trace.yaxis===d&&-1!==["tonextx","tonexty","tonext"].indexOf(b.fill)&&-1===y.indexOf(v)&&y.push(v),y.push(x)),v=x)}p(t,m,y,n,i)}}},t.clean=function(t,e,n,r){var i,a,o,l=r._plots||{},c=e._plots||{},u=r._subplots||{};if(r._hasOnlyLargeSploms&&!e._hasOnlyLargeSploms)for(o in l)(i=l[o]).plotgroup&&i.plotgroup.remove();var h=r._has&&r._has("gl"),d=e._has&&e._has("gl");if(h&&!d)for(o in l)(i=l[o])._scene&&i._scene.destroy();if(u.xaxis&&u.yaxis){var p=s.listIds({_fullLayout:r});for(a=0;a<p.length;a++){var m=p[a];e[s.id2name(m)]||r._infolayer.selectAll(".g-"+m+"title").remove()}}var y=r._has&&r._has("cartesian"),_=e._has&&e._has("cartesian");if(y&&!_)g(r._cartesianlayer.selectAll(".subplot"),r),r._defs.selectAll(".axesclip").remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(u.cartesian)for(a=0;a<u.cartesian.length;a++){var x=u.cartesian[a];if(-1===x.indexOf(f)&&!c[x]){var b="."+x+",."+x+"-x,."+x+"-y";r._cartesianlayer.selectAll(b).remove(),v(x,r)}}},t.drawFramework=function(t){var n,i=t._fullLayout,a=t.calcdata,o={};for(n=0;n<a.length;n++){var s=a[n][0],l=s.trace.zorder||0;o[l]||(o[l]=[]),o[l].push(s)}var c=Object.keys(o).map(Number).sort(r.sorterAsc);c.length||(c=[0]),i._zindices=c;var u=function(t){var e,n,r,i,a,o,s=t._fullLayout,l=s._zindices.length,c=s._subplots.cartesian,u=c.length,h=[],d=[];for(e=0;e<u;e++){r=c[e],a=(i=s._plots[r]).xaxis,o=i.yaxis;var p=a._mainAxis,m=o._mainAxis,g=p._id+m._id,v=s._plots[g];i.overlays=[],g!==r&&v?(i.mainplot=g,i.mainplotinfo=v,d.push(r)):(i.mainplot=void 0,i.mainplotinfo=void 0,h.push(r))}for(e=0;e<d.length;e++)r=d[e],(i=s._plots[r]).mainplotinfo.overlays.push(i);var y=h.concat(d),_=[];for(e=0;e<u;e++){r=y[e],a=(i=s._plots[r]).xaxis,o=i.yaxis;for(var x=[],b=1;b<=l;b++){var w="";for(b>1&&(w+=f+b),x.push(r+w),n=0;n<i.overlays.length;n++)x.push(i.overlays[n].id+w)}x=x.concat([a.layer,o.layer,a.overlaying||"",o.overlaying||""]),_.push(x)}return _}(t),d=u.length,p=[];for(n=0;n<d;n++)p[n]=u[n].slice();for(var v=1;v<c.length;v++){var y=[];for(n=0;n<d;n++)y[n]=u[n].slice(),y[n][0]+=f+(v+1);p=p.concat(y)}var _=i._cartesianlayer.selectAll(".subplot").data(p,String);_.enter().append("g").attr("class",(function(t){return"subplot "+t[0]})),_.order(),_.exit().call(g,i),_.each((function(n){var a=n[0],o=a.indexOf(f),s=-1!==o,l=s?a.slice(0,o):a,c=i._plots[a];c||(c=r.extendFlat({},i._plots[l]))&&(c.id=a,i._plots[a]=c,i._subplots.cartesian.push(a)),c&&(c.plotgroup=e.select(this),m(t,c),s||(c.draglayer=h(i._draggers,"g",a)))}))},t.rangePlot=function(t,e,n){m(t,e),p(t,e,n),i.style(t)},t.toSVG=function(t){var n=t._fullLayout._glimages,r=e.select(t).selectAll(".svg-container");r.filter((function(t,e){return e===r.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function(){var t=this,e=t.toDataURL("image/png");n.append("svg:image").attr({xmlns:u.svg,"xlink:href":e,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}))},t.updateFx=xr().updateFx})),yi=a(((t,e)=>{var n=Fe();e.exports={hasLines:n.hasLines,hasMarkers:n.hasMarkers,hasText:n.hasText,isBubble:n.isBubble,attributes:fr(),layoutAttributes:he(),supplyDefaults:Ur(),crossTraceDefaults:Vr(),supplyLayoutDefaults:Yr(),calc:Jr().calc,crossTraceCalc:Qr(),arraysToCalcdata:qr(),plot:ni(),colorbar:ri(),formatLabels:ii(),style:ai().style,styleOnSelect:ai().styleOnSelect,hoverPoints:si(),selectPoints:li(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:vi(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}})),_i=a(((t,e)=>{var n=l(),r=E(),i=lr(),a=$t(),o=a.strScale,s=a.strRotate,c=a.strTranslate;e.exports=function(t,e,a){var l,u,h,d,f=t.node(),p=i[a.arrowhead||0],m=i[a.startarrowhead||0],g=(a.arrowwidth||1)*(a.arrowsize||1),v=(a.arrowwidth||1)*(a.startarrowsize||1),y=e.indexOf("start")>=0,_=e.indexOf("end")>=0,x=p.backoff*g+a.standoff,b=m.backoff*v+a.startstandoff;if("line"===f.nodeName){l={x:+t.attr("x1"),y:+t.attr("y1")},u={x:+t.attr("x2"),y:+t.attr("y2")};var w=l.x-u.x,M=l.y-u.y;if(d=(h=Math.atan2(M,w))+Math.PI,x&&b&&x+b>Math.sqrt(w*w+M*M))return void I();if(x){if(x*x>w*w+M*M)return void I();var T=x*Math.cos(h),k=x*Math.sin(h);u.x+=T,u.y+=k,t.attr({x2:u.x,y2:u.y})}if(b){if(b*b>w*w+M*M)return void I();var A=b*Math.cos(h),L=b*Math.sin(h);l.x-=A,l.y-=L,t.attr({x1:l.x,y1:l.y})}}else if("path"===f.nodeName){var C=f.getTotalLength(),S="";if(C<x+b)return void I();var P=f.getPointAtLength(0),D=f.getPointAtLength(.1);h=Math.atan2(P.y-D.y,P.x-D.x),l=f.getPointAtLength(Math.min(b,C)),S="0px,"+b+"px,";var O=f.getPointAtLength(C),E=f.getPointAtLength(C-.1);d=Math.atan2(O.y-E.y,O.x-E.x),u=f.getPointAtLength(Math.max(0,C-x)),S+=C-(S?b+x:x)+"px,"+C+"px",t.style("stroke-dasharray",S)}function I(){t.style("stroke-dasharray","0px,100px")}function z(e,i,l,u){e.path&&(e.noRotate&&(l=0),n.select(f.parentNode).append("path").attr({class:t.attr("class"),d:e.path,transform:c(i.x,i.y)+s(180*l/Math.PI)+o(u)}).style({fill:r.rgb(a.arrowcolor),"stroke-width":0}))}y&&z(m,l,h,v),_&&z(p,u,d,g)}})),xi=a(((t,e)=>{var n=l(),r=Et(),i=pe(),a=$t(),o=a.strTranslate,s=qe(),c=E(),u=Ze(),h=kn(),d=ve(),f=rn(),p=nn(),m=se().arrayEditor,g=_i();function v(t,e){var n=t._fullLayout.annotations[e]||{},r=s.getFromId(t,n.xref),i=s.getFromId(t,n.yref);r&&r.setScale(),i&&i.setScale(),_(t,n,e,!1,r,i)}function y(t,e,n,r,i){var a=i[n],o=i[n+"ref"],l=-1!==n.indexOf("y"),c="domain"===s.getRefType(o),u=l?r.h:r.w;return t?c?a+(l?-e:e)/t._length:t.p2r(t.r2p(a)+e):a+(l?-e:e)/u}function _(t,e,i,l,v,_){var x,b,w=t._fullLayout,M=t._fullLayout._size,T=t._context.edits;l?(x="annotation-"+l,b=l+".annotations"):(x="annotation",b="annotations");var k=m(t.layout,b,e),A=k.modifyBase,L=k.modifyItem,C=k.getUpdateObj;w._infolayer.selectAll("."+x+'[data-index="'+i+'"]').remove();var S="clip"+w._uid+"_ann"+i;if(e._input&&!1!==e.visible){var P={x:{},y:{}},D=+e.textangle||0,O=w._infolayer.append("g").classed(x,!0).attr("data-index",String(i)).style("opacity",e.opacity),E=O.append("g").classed("annotation-text-g",!0),I=T[e.showarrow?"annotationTail":"annotationPosition"],z=e.captureevents||T.annotationText||I,N=E.append("g").style("pointer-events",z?"all":null).call(f,"pointer").on("click",(function(){t._dragging=!1,t.emit("plotly_clickannotation",W(n.event))}));e.hovertext&&N.on("mouseover",(function(){var n=e.hoverlabel,r=n.font,i=this.getBoundingClientRect(),a=t.getBoundingClientRect();h.loneHover({x0:i.left-a.left,x1:i.right-a.left,y:(i.top+i.bottom)/2-a.top,text:e.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color,fontWeight:r.weight,fontStyle:r.style,fontVariant:r.variant,fontShadow:r.fontShadow,fontLineposition:r.fontLineposition,fontTextcase:r.fontTextcase},{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:t})})).on("mouseout",(function(){h.loneUnhover(w._hoverlayer.node())}));var R=e.borderwidth,F=e.borderpad,j=R+F,B=N.append("rect").attr("class","bg").style("stroke-width",R+"px").call(c.stroke,e.bordercolor).call(c.fill,e.bgcolor),H=e.width||e.height,U=w._topclips.selectAll("#"+S).data(H?[0]:[]);U.enter().append("clipPath").classed("annclip",!0).attr("id",S).append("rect"),U.exit().remove();var Z=e.font,V=w._meta?a.templateString(e.text,w._meta):e.text,Y=N.append("text").classed("annotation-text",!0).text(V);T.annotationText?Y.call(d.makeEditable,{delegate:N,gd:t}).call(G).on("edit",(function(n){e.text=n,this.call(G),L("text",n),v&&v.autorange&&A(v._name+".autorange",!0),_&&_.autorange&&A(_._name+".autorange",!0),r.call("_guiRelayout",t,C())})):Y.call(G)}else n.selectAll("#"+S).remove();function W(t){var n={index:i,annotation:e._input,fullAnnotation:e,event:t};return l&&(n.subplotId=l),n}function G(n){return n.call(u.font,Z).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),d.convertToTspans(n,t,q),n}function q(){var n=Y.selectAll("a");1===n.size()&&n.text()===Y.text()&&N.insert("a",":first-child").attr({"xlink:xlink:href":n.attr("xlink:href"),"xlink:xlink:show":n.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(B.node());var i=N.select(".annotation-text-math-group"),h=!i.empty(),m=u.bBox((h?i:Y).node()),x=m.width,b=m.height,k=e.width||x,z=e.height||b,F=Math.round(k+2*j),Z=Math.round(z+2*j);function V(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}for(var G=!1,q=["x","y"],X=0;X<q.length;X++){var J,K,$,Q,tt,et=q[X],nt=e[et+"ref"]||et,rt=e["a"+et+"ref"],it={x:v,y:_}[et],at=(D+("x"===et?0:-90))*Math.PI/180,ot=F*Math.cos(at),st=Z*Math.sin(at),lt=Math.abs(ot)+Math.abs(st),ct=e[et+"anchor"],ut=e[et+"shift"]*("x"===et?1:-1),ht=P[et],dt=s.getRefType(nt);if(it&&"domain"!==dt){var ft=it.r2fraction(e[et]);(ft<0||ft>1)&&(rt===nt?((ft=it.r2fraction(e["a"+et]))<0||ft>1)&&(G=!0):G=!0),J=it._offset+it.r2p(e[et]),Q=.5}else{var pt="domain"===dt;"x"===et?($=e[et],J=pt?it._offset+it._length*$:J=M.l+M.w*$):($=1-e[et],J=pt?it._offset+it._length*$:J=M.t+M.h*$),Q=e.showarrow?.5:$}if(e.showarrow){ht.head=J;var mt=e["a"+et];if(tt=ot*V(.5,e.xanchor)-st*V(.5,e.yanchor),rt===nt){var gt=s.getRefType(rt);"domain"===gt?("y"===et&&(mt=1-mt),ht.tail=it._offset+it._length*mt):"paper"===gt?"y"===et?(mt=1-mt,ht.tail=M.t+M.h*mt):ht.tail=M.l+M.w*mt:ht.tail=it._offset+it.r2p(mt),K=tt}else ht.tail=J+mt,K=tt+mt;ht.text=ht.tail+tt;var vt=w["x"===et?"width":"height"];if("paper"===nt&&(ht.head=a.constrain(ht.head,1,vt-1)),"pixel"===rt){var yt=-Math.max(ht.tail-3,ht.text),_t=Math.min(ht.tail+3,ht.text)-vt;yt>0?(ht.tail+=yt,ht.text+=yt):_t>0&&(ht.tail-=_t,ht.text-=_t)}ht.tail+=ut,ht.head+=ut}else K=tt=lt*V(Q,ct),ht.text=J+tt;ht.text+=ut,tt+=ut,K+=ut,e["_"+et+"padplus"]=lt/2+K,e["_"+et+"padminus"]=lt/2-K,e["_"+et+"size"]=lt,e["_"+et+"shift"]=tt}if(G)N.remove();else{var xt=0,bt=0;if("left"!==e.align&&(xt=(k-x)*("center"===e.align?.5:1)),"top"!==e.valign&&(bt=(z-b)*("middle"===e.valign?.5:1)),h)i.select("svg").attr({x:j+xt-1,y:j+bt}).call(u.setClipUrl,H?S:null,t);else{var wt=j+bt-m.top,Mt=j+xt-m.left;Y.call(d.positionText,Mt,wt).call(u.setClipUrl,H?S:null,t)}U.select("rect").call(u.setRect,j,j,k,z),B.call(u.setRect,R/2,R/2,F-R,Z-R),N.call(u.setTranslate,Math.round(P.x.text-F/2),Math.round(P.y.text-Z/2)),E.attr({transform:"rotate("+D+","+P.x.text+","+P.y.text+")"});var Tt,kt=function(n,i){O.selectAll(".annotation-arrow-g").remove();var s=P.x.head,h=P.y.head,d=P.x.tail+n,f=P.y.tail+i,m=P.x.text+n,x=P.y.text+i,b=a.rotationXYMatrix(D,m,x),w=a.apply2DTransform(b),k=a.apply2DTransform2(b),S=+B.attr("width"),I=+B.attr("height"),z=m-.5*S,R=z+S,F=x-.5*I,j=F+I,H=[[z,F,z,j],[z,j,R,j],[R,j,R,F],[R,F,z,F]].map(k);if(!H.reduce((function(t,e){return t^!!a.segmentsIntersect(s,h,s+1e6,h+1e6,e[0],e[1],e[2],e[3])}),!1)){H.forEach((function(t){var e=a.segmentsIntersect(d,f,s,h,t[0],t[1],t[2],t[3]);e&&(d=e.x,f=e.y)}));var U=e.arrowwidth,Z=e.arrowcolor,V=e.arrowside,Y=O.append("g").style({opacity:c.opacity(Z)}).classed("annotation-arrow-g",!0),W=Y.append("path").attr("d","M"+d+","+f+"L"+s+","+h).style("stroke-width",U+"px").call(c.stroke,c.rgb(Z));if(g(W,V,e),T.annotationPosition&&W.node().parentNode&&!l){var G=s,q=h;if(e.standoff){var X=Math.sqrt(Math.pow(s-d,2)+Math.pow(h-f,2));G+=e.standoff*(d-s)/X,q+=e.standoff*(f-h)/X}var J,K,$=Y.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(d-G)+","+(f-q),transform:o(G,q)}).style("stroke-width",U+6+"px").call(c.stroke,"rgba(0,0,0,0)").call(c.fill,"rgba(0,0,0,0)");p.init({element:$.node(),gd:t,prepFn:function(){var t=u.getTranslate(N);J=t.x,K=t.y,v&&v.autorange&&A(v._name+".autorange",!0),_&&_.autorange&&A(_._name+".autorange",!0)},moveFn:function(t,n){var r=w(J,K),i=r[0]+t,a=r[1]+n;N.call(u.setTranslate,i,a),L("x",y(v,t,"x",M,e)),L("y",y(_,n,"y",M,e)),e.axref===e.xref&&L("ax",y(v,t,"ax",M,e)),e.ayref===e.yref&&L("ay",y(_,n,"ay",M,e)),Y.attr("transform",o(t,n)),E.attr({transform:"rotate("+D+","+i+","+a+")"})},doneFn:function(){r.call("_guiRelayout",t,C());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}};e.showarrow&&kt(0,0),I&&p.init({element:N.node(),gd:t,prepFn:function(){Tt=E.attr("transform")},moveFn:function(t,n){var r="pointer";if(e.showarrow)e.axref===e.xref?L("ax",y(v,t,"ax",M,e)):L("ax",e.ax+t),e.ayref===e.yref?L("ay",y(_,n,"ay",M.w,e)):L("ay",e.ay+n),kt(t,n);else{if(l)return;var i,a;if(v)i=y(v,t,"x",M,e);else{var s=e._xsize/M.w,c=e.x+(e._xshift-e.xshift)/M.w-s/2;i=p.align(c+t/M.w,s,0,1,e.xanchor)}if(_)a=y(_,n,"y",M,e);else{var u=e._ysize/M.h,h=e.y-(e._yshift+e.yshift)/M.h-u/2;a=p.align(h-n/M.h,u,0,1,e.yanchor)}L("x",i),L("y",a),(!v||!_)&&(r=p.getCursor(v?.5:i,_?.5:a,e.xanchor,e.yanchor))}E.attr({transform:o(t,n)+Tt}),f(N,r)},clickFn:function(n,r){e.captureevents&&t.emit("plotly_clickannotation",W(r))},doneFn:function(){f(N),r.call("_guiRelayout",t,C());var e=document.querySelector(".js-notes-box-panel");e&&e.redraw(e.selectedObj)}})}}}e.exports={draw:function(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var n=0;n<e.annotations.length;n++)e.annotations[n].visible&&v(t,n);return i.previousPromises(t)},drawOne:v,drawRaw:_}})),bi=a(((t,e)=>{var n=$t(),r=Et(),i=se().arrayEditor;function a(t,e){var n,r,i,a,s,l,c,u=t._fullLayout.annotations,h=[],d=[],f=[],p=(e||[]).length;for(n=0;n<u.length;n++)if(a=(i=u[n]).clicktoshow){for(r=0;r<p;r++)if(l=(s=e[r]).xaxis,c=s.yaxis,l._id===i.xref&&c._id===i.yref&&l.d2r(s.x)===o(i._xclick,l)&&c.d2r(s.y)===o(i._yclick,c)){(i.visible?"onout"===a?d:f:h).push(n);break}r===p&&i.visible&&"onout"===a&&d.push(n)}return{on:h,off:d,explicitOff:f}}function o(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}e.exports={hasClickToShow:function(t,e){var n=a(t,e);return n.on.length>0||n.explicitOff.length>0},onClick:function(t,e){var o,s,l=a(t,e),c=l.on,u=l.off.concat(l.explicitOff),h={},d=t._fullLayout.annotations;if(c.length||u.length){for(o=0;o<c.length;o++)(s=i(t.layout,"annotations",d[c[o]])).modifyItem("visible",!0),n.extendFlat(h,s.getUpdateObj());for(o=0;o<u.length;o++)(s=i(t.layout,"annotations",d[u[o]])).modifyItem("visible",!1),n.extendFlat(h,s.getUpdateObj());return r.call("update",t,{},h)}}}})),wi=a(((t,e)=>{var n=$t(),r=E();e.exports=function(t,e,i,a){a("opacity");var o=a("bgcolor"),s=a("bordercolor"),l=r.opacity(s);a("borderpad");var c=a("borderwidth"),u=a("showarrow");if(a("text",u?" ":i._dfltTitle.annotation),a("textangle"),n.coerceFont(a,"font",i.font),a("width"),a("align"),a("height")&&a("valign"),u){var h,d,f=a("arrowside");-1!==f.indexOf("end")&&(h=a("arrowhead"),d=a("arrowsize")),-1!==f.indexOf("start")&&(a("startarrowhead",h),a("startarrowsize",d)),a("arrowcolor",l?e.bordercolor:r.defaultLine),a("arrowwidth",2*(l&&c||1)),a("standoff"),a("startstandoff")}var p=a("hovertext"),m=i.hoverlabel||{};if(p){var g=a("hoverlabel.bgcolor",m.bgcolor||(r.opacity(o)?r.rgb(o):r.defaultLine)),v=a("hoverlabel.bordercolor",m.bordercolor||r.contrast(g)),y=n.extendFlat({},m.font);y.color||(y.color=v),n.coerceFont(a,"hoverlabel.font",y)}a("captureevents",!!p)}})),Mi=a(((t,e)=>{var n=$t(),r=qe(),i=Se(),a=wi(),o=ur();function s(t,e,i){function s(r,i){return n.coerce(t,e,o,r,i)}var l=s("visible"),c=s("clicktoshow");if(l||c){a(t,e,i,s);for(var u=e.showarrow,h=["x","y"],d=[-10,-30],f={_fullLayout:i},p=0;p<2;p++){var m=h[p],g=r.coerceRef(t,e,f,m,"","paper");if("paper"!==g&&r.getFromId(f,g)._annIndices.push(e._index),r.coercePosition(e,f,s,g,m,.5),u){var v="a"+m,y=r.coerceRef(t,e,f,v,"pixel",["pixel","paper"]);"pixel"!==y&&y!==g&&(y=e[v]="pixel");var _="pixel"===y?d[p]:.4;r.coercePosition(e,f,s,y,v,_)}s(m+"anchor"),s(m+"shift")}if(n.noneOrAll(t,e,["x","y"]),u&&n.noneOrAll(t,e,["ax","ay"]),c){var x=s("xclick"),b=s("yclick");e._xclick=void 0===x?e.x:r.cleanPosition(x,f,e.xref),e._yclick=void 0===b?e.y:r.cleanPosition(b,f,e.yref)}}}e.exports=function(t,e){i(t,e,{name:"annotations",handleItemDefaults:s})}})),Ti=a(((t,e)=>{var n=$t(),r=qe(),i=xi().draw;function a(t){var e=t._fullLayout;n.filterVisible(e.annotations).forEach((function(e){var n=r.getFromId(t,e.xref),i=r.getFromId(t,e.yref),a=r.getRefType(e.xref),s=r.getRefType(e.yref);e._extremes={},"range"===a&&o(e,n),"range"===s&&o(e,i)}))}function o(t,e){var n,i=e._id,a=i.charAt(0),o=t[a],s=t["a"+a],l=t[a+"ref"],c=t["a"+a+"ref"],u=t["_"+a+"padplus"],h=t["_"+a+"padminus"],d={x:1,y:-1}[a]*t[a+"shift"],f=3*t.arrowsize*t.arrowwidth||0,p=f+d,m=f-d,g=3*t.startarrowsize*t.arrowwidth||0,v=g+d,y=g-d;if(c===l){var _=r.findExtremes(e,[e.r2c(o)],{ppadplus:p,ppadminus:m}),x=r.findExtremes(e,[e.r2c(s)],{ppadplus:Math.max(u,v),ppadminus:Math.max(h,y)});n={min:[_.min[0],x.min[0]],max:[_.max[0],x.max[0]]}}else v=s?v+s:v,y=s?y-s:y,n=r.findExtremes(e,[e.r2c(o)],{ppadplus:Math.max(u,p,v),ppadminus:Math.max(h,m,y)});t._extremes[i]=n}e.exports=function(t){var e=t._fullLayout;if(n.filterVisible(e.annotations).length&&t._fullData.length)return n.syncOrAsync([i,a],t)}})),ki=a(((t,e)=>{var n=f(),r=b();e.exports=function(t,e,i,a){e=e||{};var o="log"===i&&"linear"===e.type,s="linear"===i&&"log"===e.type;if(o||s)for(var l,c,u=t._fullLayout.annotations,h=e._id.charAt(0),d=0;d<u.length;d++)l=u[d],c="annotations["+d+"].",l[h+"ref"]===e._id&&f(h),l["a"+h+"ref"]===e._id&&f("a"+h);function f(t){var i=l[t],s=null;s=o?r(i,e.range):Math.pow(10,i),n(s)||(s=null),a(c+t,s)}}})),Ai=a(((t,e)=>{var n=xi(),r=bi();e.exports={moduleType:"component",name:"annotations",layoutAttributes:ur(),supplyLayoutDefaults:Mi(),includeBasePlot:vr()("annotations"),calcAutorange:Ti(),draw:n.draw,drawOne:n.drawOne,drawRaw:n.drawRaw,hasClickToShow:r.hasClickToShow,onClick:r.onClick,convertCoords:ki()}})),Li=a(((t,e)=>{var n=ur(),r=bt().overrideAll,i=se().templatedArray;e.exports=r(i("annotation",{visible:n.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:n.xanchor,xshift:n.xshift,yanchor:n.yanchor,yshift:n.yshift,text:n.text,textangle:n.textangle,font:n.font,width:n.width,height:n.height,opacity:n.opacity,align:n.align,valign:n.valign,bgcolor:n.bgcolor,bordercolor:n.bordercolor,borderpad:n.borderpad,borderwidth:n.borderwidth,showarrow:n.showarrow,arrowcolor:n.arrowcolor,arrowhead:n.arrowhead,startarrowhead:n.startarrowhead,arrowside:n.arrowside,arrowsize:n.arrowsize,startarrowsize:n.startarrowsize,arrowwidth:n.arrowwidth,standoff:n.standoff,startstandoff:n.startstandoff,hovertext:n.hovertext,hoverlabel:n.hoverlabel,captureevents:n.captureevents}),"calc","from-root")})),Ci=a(((t,e)=>{var n=$t(),r=qe(),i=Se(),a=wi(),o=Li();function s(t,e,i,s){function l(r,i){return n.coerce(t,e,o,r,i)}function c(t){var n=t+"axis",a={_fullLayout:{}};return a._fullLayout[n]=i[n],r.coercePosition(e,a,l,t,t,.5)}l("visible")&&(a(t,e,s.fullLayout,l),c("x"),c("y"),c("z"),n.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",l("xanchor"),l("yanchor"),l("xshift"),l("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",l("ax",-10),l("ay",-30),n.noneOrAll(t,e,["ax","ay"])))}e.exports=function(t,e,n){i(t,e,{name:"annotations",handleItemDefaults:s,fullLayout:n.fullLayout})}})),Si=a(((t,e)=>{var n=$t(),r=qe();function i(t,e){var i=e.fullSceneLayout.domain,a=e.fullLayout._size,o={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},n.extendFlat(t._xa,o),r.setConvert(t._xa),t._xa._offset=a.l+i.x[0]*a.w,t._xa.l2p=function(){return.5*(1+t._pdata[0]/t._pdata[3])*a.w*(i.x[1]-i.x[0])},t._ya={},n.extendFlat(t._ya,o),r.setConvert(t._ya),t._ya._offset=a.t+(1-i.y[1])*a.h,t._ya.l2p=function(){return.5*(1-t._pdata[1]/t._pdata[3])*a.h*(i.y[1]-i.y[0])}}e.exports=function(t){for(var e=t.fullSceneLayout.annotations,n=0;n<e.length;n++)i(e[n],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()}})),Pi=a(((t,e)=>{function n(t,e){var n,r,i=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)i[r]+=t[4*n+r]*e[n];return i}e.exports=function(t,e){return n(t.projection,n(t.view,n(t.model,[e[0],e[1],e[2],1])))}})),Di=a(((t,e)=>{var n=xi().drawRaw,r=Pi(),i=["x","y","z"];e.exports=function(t){for(var e=t.fullSceneLayout,a=t.dataScale,o=e.annotations,s=0;s<o.length;s++){for(var l=o[s],c=!1,u=0;u<3;u++){var h=i[u],d=l[h],f=e[h+"axis"].r2fraction(d);if(f<0||f>1){c=!0;break}}c?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+s+'"]').remove():(l._pdata=r(t.glplot.cameraParams,[e.xaxis.r2l(l.x)*a[0],e.yaxis.r2l(l.y)*a[1],e.zaxis.r2l(l.z)*a[2]]),n(t.graphDiv,l,s,t.id,l._xa,l._ya))}}})),Oi=a(((t,e)=>{var n=Et(),r=$t();e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:Li()}}},layoutAttributes:Li(),handleDefaults:Ci(),includeBasePlot:function(t,e){var i=n.subplotsRegistry.gl3d;if(i)for(var a=i.attrRegex,o=Object.keys(t),s=0;s<o.length;s++){var l=o[s];a.test(l)&&(t[l].annotations||[]).length&&(r.pushUnique(e._basePlotModules,i),r.pushUnique(e._subplots.gl3d,l))}},convert:Si(),draw:Di()}})),Ei=a(((t,e)=>{var n=ur(),r=A(),i=fr().line,a=wt().dash,o=k().extendFlat,s=se().templatedArray,l=(cr(),P()),c=Tt().shapeTexttemplateAttrs,u=kt();e.exports=s("shape",{visible:o({},l.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:o({},l.legend,{editType:"calc+arraydraw"}),legendgroup:o({},l.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:o({},l.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:r({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:o({},l.legendrank,{editType:"calc+arraydraw"}),legendwidth:o({},l.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:o({},n.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:o({},n.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:o({},i.color,{editType:"arraydraw"}),width:o({},i.width,{editType:"calc+arraydraw"}),dash:o({},a,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:c({},{keys:Object.keys(u)}),font:r({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})})),Ii=a(((t,e)=>{var n=$t(),r=qe(),i=Se(),a=Ei(),o=zn();function s(t,e,i){function s(r,i){return n.coerce(t,e,a,r,i)}if(e._isShape=!0,s("visible")){s("showlegend")&&(s("legend"),s("legendwidth"),s("legendgroup"),s("legendgrouptitle.text"),n.coerceFont(s,"legendgrouptitle.font"),s("legendrank"));var l=s("path"),c=s("type",l?"path":"rect"),u="path"!==c;u&&delete e.path,s("editable"),s("layer"),s("opacity"),s("fillcolor"),s("fillrule"),s("line.width")&&(s("line.color"),s("line.dash"));for(var h=s("xsizemode"),d=s("ysizemode"),f=["x","y"],p=0;p<2;p++){var m,g,v,y=f[p],_=y+"anchor",x="x"===y?h:d,b={_fullLayout:i},w=r.coerceRef(t,e,b,y,void 0,"paper");if("range"===r.getRefType(w)?((m=r.getFromId(b,w))._shapeIndices.push(e._index),v=o.rangeToShapePosition(m),g=o.shapePositionToRange(m),("category"===m.type||"multicategory"===m.type)&&(s(y+"0shift"),s(y+"1shift"))):g=v=n.identity,u){var M=y+"0",T=y+"1",k=t[M],A=t[T];t[M]=g(t[M],!0),t[T]=g(t[T],!0),"pixel"===x?(s(M,0),s(T,10)):(r.coercePosition(e,b,s,w,M,.25),r.coercePosition(e,b,s,w,T,.75)),e[M]=v(e[M]),e[T]=v(e[T]),t[M]=k,t[T]=A}if("pixel"===x){var L=t[_];t[_]=g(t[_],!0),r.coercePosition(e,b,s,w,_,.25),e[_]=v(e[_]),t[_]=L}}u&&n.noneOrAll(t,e,["x0","x1","y0","y1"]);var C,S,P="line"===c;if(u&&(C=s("label.texttemplate")),C||(S=s("label.text")),S||C){s("label.textangle");var D=s("label.textposition",P?"middle":"middle center");s("label.xanchor"),s("label.yanchor",function(t,e){return t?"bottom":-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle"}(P,D)),s("label.padding"),n.coerceFont(s,"label.font",i.font)}}}e.exports=function(t,e){i(t,e,{name:"shapes",handleItemDefaults:s})}})),zi=a(((t,e)=>{var n=E(),r=$t();e.exports=function(t,e,i){if(i("newshape.visible"),i("newshape.name"),i("newshape.showlegend"),i("newshape.legend"),i("newshape.legendwidth"),i("newshape.legendgroup"),i("newshape.legendgrouptitle.text"),r.coerceFont(i,"newshape.legendgrouptitle.font"),i("newshape.legendrank"),i("newshape.drawdirection"),i("newshape.layer"),i("newshape.fillcolor"),i("newshape.fillrule"),i("newshape.opacity"),i("newshape.line.width")){var a=(t||{}).plot_bgcolor||"#FFF";i("newshape.line.color",n.contrast(a)),i("newshape.line.dash")}var o="drawline"===t.dragmode,s=i("newshape.label.text"),l=i("newshape.label.texttemplate");if(s||l){i("newshape.label.textangle");var c=i("newshape.label.textposition",o?"middle":"middle center");i("newshape.label.xanchor"),i("newshape.label.yanchor",function(t,e){return t?"bottom":-1!==e.indexOf("top")?"top":-1!==e.indexOf("bottom")?"bottom":"middle"}(o,c)),i("newshape.label.padding"),r.coerceFont(i,"newshape.label.font",e.font)}i("activeshape.fillcolor"),i("activeshape.opacity")}})),Ni=a(((t,e)=>{var n=$t(),r=qe(),i=In(),a=zn();function o(t){return s(t.line.width,t.ysizemode,t.y0,t.y1,t.path,!0)}function s(t,e,r,o,s,l){var c=t/2,u=l;if("pixel"===e){var h=s?a.extractPathCoords(s,l?i.paramIsY:i.paramIsX):[r,o],d=n.aggNums(Math.max,null,h),f=n.aggNums(Math.min,null,h),p=f<0?Math.abs(f)+c:c,m=d>0?d+c:c;return{ppad:c,ppadplus:u?p:m,ppadminus:u?m:p}}return{ppad:c}}function l(t,e,n){var r,o,s="x"===t._id.charAt(0)?"x":"y",l="category"===t.type||"multicategory"===t.type,c=0,u=0,h=l?t.r2c:t.d2c;if("scaled"===e[s+"sizemode"]?(r=e[s+"0"],o=e[s+"1"],l&&(c=e[s+"0shift"],u=e[s+"1shift"])):(r=e[s+"anchor"],o=e[s+"anchor"]),void 0!==r)return[h(r)+c,h(o)+u];if(e.path){var d,f,p,m,g=1/0,v=-1/0,y=e.path.match(i.segmentRE);for("date"===t.type&&(h=a.decodeDate(h)),d=0;d<y.length;d++)void 0!==(f=n[y[d].charAt(0)].drawn)&&(p=y[d].substr(1).match(i.paramRE))&&!(p.length<f)&&((m=h(p[f]))<g&&(g=m),m>v&&(v=m));if(v>=g)return[g,v]}}e.exports=function(t){var e,a=t._fullLayout,c=n.filterVisible(a.shapes);if(c.length&&t._fullData.length)for(var u=0;u<c.length;u++){var h=c[u];h._extremes={};var d,f,p=r.getRefType(h.xref),m=r.getRefType(h.yref);"paper"!==h.xref&&"domain"!==p&&(f=l(d=r.getFromId(t,h.xref),h,i.paramIsX))&&(h._extremes[d._id]=r.findExtremes(d,f,s((e=h).line.width,e.xsizemode,e.x0,e.x1,e.path,!1))),"paper"!==h.yref&&"domain"!==m&&(f=l(d=r.getFromId(t,h.yref),h,i.paramIsY))&&(h._extremes[d._id]=r.findExtremes(d,f,o(h)))}}})),Ri=a(((t,e)=>{var n=Fn();e.exports={moduleType:"component",name:"shapes",layoutAttributes:Ei(),supplyLayoutDefaults:Ii(),supplyDrawNewShapeDefaults:zi(),includeBasePlot:vr()("shapes"),calcAutorange:Ni(),draw:n.draw,drawOne:n.drawOne}})),Fi=a(((t,e)=>{var n=le(),r=se().templatedArray;cr(),e.exports=r("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})})),ji=a(((t,e)=>{var n=$t(),r=qe(),i=Se(),a=Fi();function o(t,e,i){function o(r,i){return n.coerce(t,e,a,r,i)}var s=o("source");if(!o("visible",!!s))return e;o("layer"),o("xanchor"),o("yanchor"),o("sizex"),o("sizey"),o("sizing"),o("opacity");for(var l={_fullLayout:i},c=["x","y"],u=0;u<2;u++){var h=c[u],d=r.coerceRef(t,e,l,h,"paper",void 0);"paper"!==d&&r.getFromId(l,d)._imgIndices.push(e._index),r.coercePosition(e,l,o,d,h,0)}return e}e.exports=function(t,e){i(t,e,{name:"images",handleItemDefaults:o})}})),Bi=a(((t,e)=>{var n=l(),r=Ze(),i=qe(),a=ce(),o=me();e.exports=function(t){var e,s,l=t._fullLayout,c=[],u={},h=[];for(s=0;s<l.images.length;s++){var d=l.images[s];if(d.visible)if("below"===d.layer&&"paper"!==d.xref&&"paper"!==d.yref){e=a.ref2id(d.xref)+a.ref2id(d.yref);var f=l._plots[e];if(!f){h.push(d);continue}f.mainplot&&(e=f.mainplot.id),u[e]||(u[e]=[]),u[e].push(d)}else"above"===d.layer?c.push(d):h.push(d)}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},m={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function g(e){var r=n.select(this);if(this._imgSrc!==e.source)if(r.attr("xmlns",o.svg),!t._context.staticPlot||e.source&&"data:"===e.source.slice(0,5))r.attr("xlink:href",e.source),this._imgSrc=e.source;else{var i=new Promise(function(t){var n=new Image;function i(){r.remove(),t()}this.img=n,n.setAttribute("crossOrigin","anonymous"),n.onerror=i,n.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var n=e.toDataURL("image/png");r.attr("xlink:href",n),t()},r.on("error",i),n.src=e.source,this._imgSrc=e.source}.bind(this));t._promises.push(i)}}function v(e){var a,o,s=n.select(this),c=i.getFromId(t,e.xref),u=i.getFromId(t,e.yref),h="domain"===i.getRefType(e.xref),d="domain"===i.getRefType(e.yref),f=l._size;a=void 0!==c?"string"==typeof e.xref&&h?c._length*e.sizex:Math.abs(c.l2p(e.sizex)-c.l2p(0)):e.sizex*f.w,o=void 0!==u?"string"==typeof e.yref&&d?u._length*e.sizey:Math.abs(u.l2p(e.sizey)-u.l2p(0)):e.sizey*f.h;var g,v,y=a*p[e.xanchor].offset,_=o*m[e.yanchor].offset,x=p[e.xanchor].sizing+m[e.yanchor].sizing;switch(g=void 0!==c?"string"==typeof e.xref&&h?c._length*e.x+c._offset:c.r2p(e.x)+c._offset:e.x*f.w+f.l,g+=y,v=void 0!==u?"string"==typeof e.yref&&d?u._length*(1-e.y)+u._offset:u.r2p(e.y)+u._offset:f.h-e.y*f.h+f.t,v+=_,e.sizing){case"fill":x+=" slice";break;case"stretch":x="none"}s.attr({x:g,y:v,width:a,height:o,preserveAspectRatio:x,opacity:e.opacity});var b=(c&&"domain"!==i.getRefType(e.xref)?c._id:"")+(u&&"domain"!==i.getRefType(e.yref)?u._id:"");r.setClipUrl(s,b?"clip"+l._uid+b:null,t)}function y(t){return[t.xref,t.x,t.sizex,t.yref,t.y,t.sizey].join("_")}function _(t,e){return t._index-e._index}var x=l._imageLowerLayer.selectAll("image").data(h,y),b=l._imageUpperLayer.selectAll("image").data(c,y);x.enter().append("image"),b.enter().append("image"),x.exit().remove(),b.exit().remove(),x.each((function(t){g.bind(this)(t),v.bind(this)(t)})),b.each((function(t){g.bind(this)(t),v.bind(this)(t)})),x.sort(_),b.sort(_);var w=Object.keys(l._plots);for(s=0;s<w.length;s++){e=w[s];var M=l._plots[e];if(M.imagelayer){var T=M.imagelayer.selectAll("image").data(u[e]||[],y);T.enter().append("image"),T.exit().remove(),T.each((function(t){g.bind(this)(t),v.bind(this)(t)})),T.sort(_)}}}})),Hi=a(((t,e)=>{var n=f(),r=b();e.exports=function(t,e,i,a){e=e||{};var o="log"===i&&"linear"===e.type,s="linear"===i&&"log"===e.type;if(o||s)for(var l,c,u=t._fullLayout.images,h=e._id.charAt(0),d=0;d<u.length;d++)if(c="images["+d+"].",(l=u[d])[h+"ref"]===e._id){var f=l[h],p=l["size"+h],m=null,g=null;if(o){m=r(f,e.range);var v=p/Math.pow(10,m)/2;g=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else g=(m=Math.pow(10,f))*(Math.pow(10,p/2)-Math.pow(10,-p/2));n(m)?n(g)||(g=null):(m=null,g=null),a(c+h,m),a(c+"size"+h,g)}}})),Ui=a(((t,e)=>{e.exports={moduleType:"component",name:"images",layoutAttributes:Fi(),supplyLayoutDefaults:ji(),includeBasePlot:vr()("images"),draw:Bi(),convertCoords:Hi()}})),Zi=a(((t,e)=>{e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}})),Vi=a(((t,e)=>{var n=A(),r=O(),i=k().extendFlat,a=bt().overrideAll,o=Ct(),s=se().templatedArray,l=s("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});e.exports=a(s("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i(o({editType:"arraydraw"}),{}),font:n({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:r.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")})),Yi=a(((t,e)=>{var n=$t(),r=Se(),i=Vi(),a=Zi().name,o=i.buttons;function s(t,e,a){function o(r,a){return n.coerce(t,e,i,r,a)}o("visible",r(t,e,{name:"buttons",handleItemDefaults:l}).length>0)&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),n.noneOrAll(t,e,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),n.coerceFont(o,"font",a.font),o("bgcolor",a.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function l(t,e){function r(r,i){return n.coerce(t,e,o,r,i)}r("visible","skip"===t.method||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}e.exports=function(t,e){r(t,e,{name:a,handleItemDefaults:s})}})),Wi=a(((t,e)=>{e.exports=o;var n=l(),r=E(),i=Ze(),a=$t();function o(t,e,n){this.gd=t,this.container=e,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}o.barWidth=2,o.barLength=20,o.barRadius=2,o.barPad=1,o.barColor="#808BA4",o.prototype.enable=function(t,e,a){var s=this.gd._fullLayout,l=s.width,c=s.height;this.position=t;var u,h,d,f,p=this.position.l,m=this.position.w,g=this.position.t,v=this.position.h,y=this.position.direction,_="down"===y,x="left"===y,b="up"===y,w=m,M=v;!_&&!x&&!("right"===y)&&!b&&(this.position.direction="down",_=!0),_||b?(h=(u=p)+w,_?(d=g,M=(f=Math.min(d+M,c))-d):M=(f=g+M)-(d=Math.max(f-M,0))):(f=(d=g)+M,x?w=(h=p+w)-(u=Math.max(h-w,0)):(u=p,w=(h=Math.min(u+w,l))-u)),this._box={l:u,t:d,w,h:M};var T=m>w,k=o.barLength+2*o.barPad,A=o.barWidth+2*o.barPad,L=p,C=g+v;C+A>c&&(C=c-A);var S=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);S.exit().on(".drag",null).remove(),S.enter().append("rect").classed("scrollbar-horizontal",!0).call(r.fill,o.barColor),T?(this.hbar=S.attr({rx:o.barRadius,ry:o.barRadius,x:L,y:C,width:k,height:A}),this._hbarXMin=L+k/2,this._hbarTranslateMax=w-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var P=v>M,D=o.barWidth+2*o.barPad,O=o.barLength+2*o.barPad,E=p+m,I=g;E+D>l&&(E=l-D);var z=this.container.selectAll("rect.scrollbar-vertical").data(P?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-vertical",!0).call(r.fill,o.barColor),P?(this.vbar=z.attr({rx:o.barRadius,ry:o.barRadius,x:E,y:I,width:D,height:O}),this._vbarYMin=I+O/2,this._vbarTranslateMax=M-O):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var N=this.id,R=u-.5,F=P?h+D+.5:h+.5,j=d-.5,B=T?f+A+.5:f+.5,H=s._topdefs.selectAll("#"+N).data(T||P?[0]:[]);if(H.exit().remove(),H.enter().append("clipPath").attr("id",N).append("rect"),T||P?(this._clipRect=H.select("rect").attr({x:Math.floor(R),y:Math.floor(j),width:Math.ceil(F)-Math.floor(R),height:Math.ceil(B)-Math.floor(j)}),this.container.call(i.setClipUrl,N,this.gd),this.bg.attr({x:p,y:g,width:m,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),T||P){var U=n.behavior.drag().on("dragstart",(function(){n.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(U);var Z=n.behavior.drag().on("dragstart",(function(){n.event.sourceEvent.preventDefault(),n.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(Z),P&&this.vbar.on(".drag",null).call(Z)}this.setTranslate(e,a)},o.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},o.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=n.event.dx),this.vbar&&(e-=n.event.dy),this.setTranslate(t,e)},o.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=n.event.deltaY),this.vbar&&(e+=n.event.deltaY),this.setTranslate(t,e)},o.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var r=t+this._hbarXMin,i=r+this._hbarTranslateMax;t=(a.constrain(n.event.x,r,i)-r)/(i-r)*(this.position.w-this._box.w)}if(this.vbar){var o=e+this._vbarYMin,s=o+this._vbarTranslateMax;e=(a.constrain(n.event.y,o,s)-o)/(s-o)*(this.position.h-this._box.h)}this.setTranslate(t,e)},o.prototype.setTranslate=function(t,e){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(t=a.constrain(t||0,0,n),e=a.constrain(e||0,0,r),this.translateX=t,this.translateY=e,this.container.call(i.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var o=t/n;this.hbar.call(i.setTranslate,t+o*this._hbarTranslateMax,e)}if(this.vbar){var s=e/r;this.vbar.call(i.setTranslate,t,e+s*this._vbarTranslateMax)}}})),Gi=a(((t,e)=>{var n=l(),r=pe(),i=E(),a=Ze(),o=$t(),s=ve(),c=se().arrayEditor,u=ge().LINE_SPACING,h=Zi(),d=Wi();function f(t){return t._index}function p(t,e){return+t.attr(h.menuIndexAttrName)===e._index}function m(t,e,n,r,i,a,o,s){e.active=o,c(t.layout,h.name,e).applyUpdate("active",o),"buttons"===e.type?v(t,r,null,null,e):"dropdown"===e.type&&(i.attr(h.menuIndexAttrName,"-1"),g(t,r,i,a,e),s||v(t,r,i,a,e))}function g(t,e,n,r,i){var s=o.ensureSingle(e,"g",h.headerClassName,(function(t){t.style("pointer-events","all")})),l=i._dims,c=i.active,u=i.buttons[c]||h.blankHeaderOpts,d={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},f={width:l.headerWidth,height:l.headerHeight};s.call(y,i,u,t).call(A,i,d,f),o.ensureSingle(e,"text",h.headerArrowClassName,(function(t){t.attr("text-anchor","end").call(a.font,i.font).text(h.arrowSymbol[i.direction])})).attr({x:l.headerWidth-h.arrowOffsetX+i.pad.l,y:l.headerHeight/2+h.textOffsetY+i.pad.t}),s.on("click",(function(){n.call(L,String(p(n,i)?-1:i._index)),v(t,e,n,r,i)})),s.on("mouseover",(function(){s.call(w)})),s.on("mouseout",(function(){s.call(M,i)})),a.setTranslate(e,l.lx,l.ly)}function v(t,e,i,a,s){i||(i=e).attr("pointer-events","all");var l=function(t){return-1==+t.attr(h.menuIndexAttrName)}(i)&&"buttons"!==s.type?[]:s.buttons,c="dropdown"===s.type?h.dropdownButtonClassName:h.buttonClassName,u=i.selectAll("g."+c).data(o.filterVisible(l)),d=u.enter().append("g").classed(c,!0),f=u.exit();"dropdown"===s.type?(d.attr("opacity","0").transition().attr("opacity","1"),f.transition().attr("opacity","0").remove()):f.remove();var p=0,g=0,v=s._dims,_=-1!==["up","down"].indexOf(s.direction);"dropdown"===s.type&&(_?g=v.headerHeight+h.gapButtonHeader:p=v.headerWidth+h.gapButtonHeader),"dropdown"===s.type&&"up"===s.direction&&(g=-h.gapButtonHeader+h.gapButton-v.openHeight),"dropdown"===s.type&&"left"===s.direction&&(p=-h.gapButtonHeader+h.gapButton-v.openWidth);var x={x:v.lx+p+s.pad.l,y:v.ly+g+s.pad.t,yPad:h.gapButton,xPad:h.gapButton,index:0},T={l:x.x+s.borderwidth,t:x.y+s.borderwidth};u.each((function(o,l){var c=n.select(this);c.call(y,s,o,t).call(A,s,x),c.on("click",(function(){n.event.defaultPrevented||(o.execute&&(o.args2&&s.active===l?(m(t,s,0,e,i,a,-1),r.executeAPICommand(t,o.method,o.args2)):(m(t,s,0,e,i,a,l),r.executeAPICommand(t,o.method,o.args))),t.emit("plotly_buttonclicked",{menu:s,button:o,active:s.active}))})),c.on("mouseover",(function(){c.call(w)})),c.on("mouseout",(function(){c.call(M,s),u.call(b,s)}))})),u.call(b,s),_?(T.w=Math.max(v.openWidth,v.headerWidth),T.h=x.y-T.t):(T.w=x.x-T.l,T.h=Math.max(v.openHeight,v.headerHeight)),T.direction=s.direction,a&&(u.size()?function(t,e,n,r,i,a){var o,s,l,c=i.direction,u="up"===c||"down"===c,d=i._dims,f=i.active;if(u)for(s=0,l=0;l<f;l++)s+=d.heights[l]+h.gapButton;else for(o=0,l=0;l<f;l++)o+=d.widths[l]+h.gapButton;r.enable(a,o,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,a,s,T):function(t){var e=!!t.hbar,n=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",(function(){e=!1,n||t.disable()})),n&&t.vbar.transition().attr("opacity","0").each("end",(function(){n=!1,e||t.disable()}))}(a))}function y(t,e,n,r){t.call(_,e).call(x,e,n,r)}function _(t,e){o.ensureSingle(t,"rect",h.itemRectClassName,(function(t){t.attr({rx:h.rx,ry:h.ry,"shape-rendering":"crispEdges"})})).call(i.stroke,e.bordercolor).call(i.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function x(t,e,n,r){var i=o.ensureSingle(t,"text",h.itemTextClassName,(function(t){t.attr({"text-anchor":"start","data-notex":1})})),l=n.label,c=r._fullLayout._meta;c&&(l=o.templateString(l,c)),i.call(a.font,e.font).text(l).call(s.convertToTspans,r)}function b(t,e){var r=e.active;t.each((function(t,a){var o=n.select(this);a===r&&e.showactive&&o.select("rect."+h.itemRectClassName).call(i.fill,h.activeColor)}))}function w(t){t.select("rect."+h.itemRectClassName).call(i.fill,h.hoverColor)}function M(t,e){t.select("rect."+h.itemRectClassName).call(i.fill,e.bgcolor)}function T(t,e){var i=e._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},l=a.tester.selectAll("g."+h.dropdownButtonClassName).data(o.filterVisible(e.buttons));l.enter().append("g").classed(h.dropdownButtonClassName,!0);var c=-1!==["up","down"].indexOf(e.direction);l.each((function(r,o){var l=n.select(this);l.call(y,e,r,t);var d=l.select("."+h.itemTextClassName),f=d.node()&&a.bBox(d.node()).width,p=Math.max(f+h.textPadX,h.minWidth),m=e.font.size*u,g=s.lineCount(d),v=Math.max(m*g,h.minHeight)+h.textOffsetY;v=Math.ceil(v),p=Math.ceil(p),i.widths[o]=p,i.heights[o]=v,i.height1=Math.max(i.height1,v),i.width1=Math.max(i.width1,p),c?(i.totalWidth=Math.max(i.totalWidth,p),i.openWidth=i.totalWidth,i.totalHeight+=v+h.gapButton,i.openHeight+=v+h.gapButton):(i.totalWidth+=p+h.gapButton,i.openWidth+=p+h.gapButton,i.totalHeight=Math.max(i.totalHeight,v),i.openHeight=i.totalHeight)})),c?i.totalHeight-=h.gapButton:i.totalWidth-=h.gapButton,i.headerWidth=i.width1+h.arrowPadX,i.headerHeight=i.height1,"dropdown"===e.type&&(c?(i.width1+=h.arrowPadX,i.totalHeight=i.height1):i.totalWidth=i.width1,i.totalWidth+=h.arrowPadX),l.remove();var d=i.totalWidth+e.pad.l+e.pad.r,f=i.totalHeight+e.pad.t+e.pad.b,p=t._fullLayout._size;i.lx=p.l+p.w*e.x,i.ly=p.t+p.h*(1-e.y);var m="left";o.isRightAnchor(e)&&(i.lx-=d,m="right"),o.isCenterAnchor(e)&&(i.lx-=d/2,m="center");var g="top";o.isBottomAnchor(e)&&(i.ly-=f,g="bottom"),o.isMiddleAnchor(e)&&(i.ly-=f/2,g="middle"),i.totalWidth=Math.ceil(i.totalWidth),i.totalHeight=Math.ceil(i.totalHeight),i.lx=Math.round(i.lx),i.ly=Math.round(i.ly),r.autoMargin(t,k(e),{x:e.x,y:e.y,l:d*({right:1,center:.5}[m]||0),r:d*({left:1,center:.5}[m]||0),b:f*({top:1,middle:.5}[g]||0),t:f*({bottom:1,middle:.5}[g]||0)})}function k(t){return h.autoMarginIdRoot+t._index}function A(t,e,n,r){r=r||{};var i=t.select("."+h.itemRectClassName),o=t.select("."+h.itemTextClassName),l=e.borderwidth,c=n.index,d=e._dims;a.setTranslate(t,l+n.x,l+n.y);var f=-1!==["up","down"].indexOf(e.direction),p=r.height||(f?d.heights[c]:d.height1);i.attr({x:0,y:0,width:r.width||(f?d.width1:d.widths[c]),height:p});var m=e.font.size*u,g=(s.lineCount(o)-1)*m/2;s.positionText(o,h.textOffsetX,p/2-g+h.textOffsetY),f?n.y+=d.heights[c]+n.yPad:n.x+=d.widths[c]+n.xPad,n.index++}function L(t,e){t.attr(h.menuIndexAttrName,e||"-1").selectAll("g."+h.dropdownButtonClassName).remove()}e.exports=function(t){var e=t._fullLayout,i=o.filterVisible(e[h.name]);function a(e){r.autoMargin(t,k(e))}var s=e._menulayer.selectAll("g."+h.containerClassName).data(i.length>0?[0]:[]);if(s.enter().append("g").classed(h.containerClassName,!0).style("cursor","pointer"),s.exit().each((function(){n.select(this).selectAll("g."+h.headerGroupClassName).each(a)})).remove(),0!==i.length){var l=s.selectAll("g."+h.headerGroupClassName).data(i,f);l.enter().append("g").classed(h.headerGroupClassName,!0);for(var c=o.ensureSingle(s,"g",h.dropdownButtonGroupClassName,(function(t){t.style("pointer-events","all")})),u=0;u<i.length;u++){var y=i[u];T(t,y)}var _="updatemenus"+e._uid,x=new d(t,c,_);l.enter().size()&&(c.node().parentNode.appendChild(c.node()),c.call(L)),l.exit().each((function(t){c.call(L),a(t)})).remove(),l.each((function(e){var i=n.select(this),a="dropdown"===e.type?c:null;r.manageCommandObserver(t,e,e.buttons,(function(n){m(t,e,e.buttons[n.index],i,a,x,n.index,!0)})),"dropdown"===e.type?(g(t,i,c,x,e),p(c,e)&&v(t,i,c,x,e)):v(t,i,null,null,e)}))}}})),qi=a(((t,e)=>{var n=Zi();e.exports={moduleType:"component",name:n.name,layoutAttributes:Vi(),supplyLayoutDefaults:Yi(),draw:Gi()}})),Xi=a(((t,e)=>{e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}})),Ji=a(((t,e)=>{var n=A(),r=Ct(),i=k().extendDeepAll,a=bt().overrideAll,o=xt(),s=se().templatedArray,l=Xi(),c=s("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});e.exports=a(s("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i(r({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:o.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:n({})},font:n({}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}}),"arraydraw","from-root")})),Ki=a(((t,e)=>{var n=$t(),r=Se(),i=Ji(),a=Xi().name,o=i.steps;function s(t,e,a){function o(r,a){return n.coerce(t,e,i,r,a)}for(var s=r(t,e,{name:"steps",handleItemDefaults:l}),c=0,u=0;u<s.length;u++)s[u].visible&&c++;if(c<2?e.visible=!1:o("visible")){e._stepCount=c;var h=e._visibleSteps=n.filterVisible(s);(s[o("active")]||{}).visible||(e.active=h[0]._index),o("x"),o("y"),n.noneOrAll(t,e,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),n.coerceFont(o,"font",a.font),o("currentvalue.visible")&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),n.coerceFont(o,"currentvalue.font",e.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function l(t,e){function r(r,i){return n.coerce(t,e,o,r,i)}if("skip"===t.method||Array.isArray(t.args)?r("visible"):e.visible=!1){r("method"),r("args");var i=r("label","step-"+e._index);r("value",i),r("execute")}}e.exports=function(t,e){r(t,e,{name:a,handleItemDefaults:s})}})),$i=a(((t,e)=>{var n=l(),r=pe(),i=E(),a=Ze(),o=$t(),s=o.strTranslate,c=ve(),u=se().arrayEditor,h=Xi(),d=ge(),f=d.LINE_SPACING,p=d.FROM_TL,m=d.FROM_BR;function g(t){return h.autoMarginIdRoot+t._index}function v(t){return t._index}function y(t,e){var i=a.tester.selectAll("g."+h.labelGroupClass).data(e._visibleSteps);i.enter().append("g").classed(h.labelGroupClass,!0);var s=0,l=0;i.each((function(t){var r=b(n.select(this),{step:t},e).node();if(r){var i=a.bBox(r);l=Math.max(l,i.height),s=Math.max(s,i.width)}})),i.remove();var u=e._dims={};u.inputAreaWidth=Math.max(h.railWidth,h.gripHeight);var d=t._fullLayout._size;u.lx=d.l+d.w*e.x,u.ly=d.t+d.h*(1-e.y),"fraction"===e.lenmode?u.outerLength=Math.round(d.w*e.len):u.outerLength=e.len,u.inputAreaStart=0,u.inputAreaLength=Math.round(u.outerLength-e.pad.l-e.pad.r);var f=(u.inputAreaLength-2*h.stepInset)/(e._stepCount-1),v=s+h.labelPadding;if(u.labelStride=Math.max(1,Math.ceil(v/f)),u.labelHeight=l,u.currentValueMaxWidth=0,u.currentValueHeight=0,u.currentValueTotalHeight=0,u.currentValueMaxLines=1,e.currentvalue.visible){var y=a.tester.append("g");i.each((function(t){var n=_(y,e,t.label),r=n.node()&&a.bBox(n.node())||{width:0,height:0},i=c.lineCount(n);u.currentValueMaxWidth=Math.max(u.currentValueMaxWidth,Math.ceil(r.width)),u.currentValueHeight=Math.max(u.currentValueHeight,Math.ceil(r.height)),u.currentValueMaxLines=Math.max(u.currentValueMaxLines,i)})),u.currentValueTotalHeight=u.currentValueHeight+e.currentvalue.offset,y.remove()}u.height=u.currentValueTotalHeight+h.tickOffset+e.ticklen+h.labelOffset+u.labelHeight+e.pad.t+e.pad.b;var x="left";o.isRightAnchor(e)&&(u.lx-=u.outerLength,x="right"),o.isCenterAnchor(e)&&(u.lx-=u.outerLength/2,x="center");var w="top";o.isBottomAnchor(e)&&(u.ly-=u.height,w="bottom"),o.isMiddleAnchor(e)&&(u.ly-=u.height/2,w="middle"),u.outerLength=Math.ceil(u.outerLength),u.height=Math.ceil(u.height),u.lx=Math.round(u.lx),u.ly=Math.round(u.ly);var M={y:e.y,b:u.height*m[w],t:u.height*p[w]};"fraction"===e.lenmode?(M.l=0,M.xl=e.x-e.len*p[x],M.r=0,M.xr=e.x+e.len*m[x]):(M.x=e.x,M.l=u.outerLength*p[x],M.r=u.outerLength*m[x]),r.autoMargin(t,g(e),M)}function _(t,e,n){if(e.currentvalue.visible){var r,i,s=e._dims;switch(e.currentvalue.xanchor){case"right":r=s.inputAreaLength-h.currentValueInset-s.currentValueMaxWidth,i="left";break;case"center":r=.5*s.inputAreaLength,i="middle";break;default:r=h.currentValueInset,i="left"}var l=o.ensureSingle(t,"text",h.labelClass,(function(t){t.attr({"text-anchor":i,"data-notex":1})})),u=e.currentvalue.prefix?e.currentvalue.prefix:"";if("string"==typeof n)u+=n;else{var d=e.steps[e.active].label,p=e._gd._fullLayout._meta;p&&(d=o.templateString(d,p)),u+=d}e.currentvalue.suffix&&(u+=e.currentvalue.suffix),l.call(a.font,e.currentvalue.font).text(u).call(c.convertToTspans,e._gd);var m=c.lineCount(l),g=(s.currentValueMaxLines+1-m)*e.currentvalue.font.size*f;return c.positionText(l,r,g),l}}function x(t,e,n){o.ensureSingle(t,"rect",h.gripRectClass,(function(r){r.call(k,e,t,n).style("pointer-events","all")})).attr({width:h.gripWidth,height:h.gripHeight,rx:h.gripRadius,ry:h.gripRadius}).call(i.stroke,n.bordercolor).call(i.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function b(t,e,n){var r=o.ensureSingle(t,"text",h.labelClass,(function(t){t.attr({"text-anchor":"middle","data-notex":1})})),i=e.step.label,s=n._gd._fullLayout._meta;return s&&(i=o.templateString(i,s)),r.call(a.font,n.font).text(i).call(c.convertToTspans,n._gd),r}function w(t,e){var r=o.ensureSingle(t,"g",h.labelsClass),i=e._dims,s=r.selectAll("g."+h.labelGroupClass).data(i.labelSteps);s.enter().append("g").classed(h.labelGroupClass,!0),s.exit().remove(),s.each((function(t){var r=n.select(this);r.call(b,t,e),a.setTranslate(r,C(e,t.fraction),h.tickOffset+e.ticklen+e.font.size*f+h.labelOffset+i.currentValueTotalHeight)}))}function M(t,e,n,r,i){var a=Math.round(r*(n._stepCount-1)),o=n._visibleSteps[a]._index;o!==n.active&&T(t,e,n,o,!0,i)}function T(t,e,n,i,a,o){var s=n.active;n.active=i,u(t.layout,h.name,n).applyUpdate("active",i);var l=n.steps[n.active];e.call(L,n,o),e.call(_,n),t.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:a,previousActive:s}),l&&l.method&&a&&(e._nextMethod?(e._nextMethod.step=l,e._nextMethod.doCallback=a,e._nextMethod.doTransition=o):(e._nextMethod={step:l,doCallback:a,doTransition:o},e._nextMethodRaf=window.requestAnimationFrame((function(){var n=e._nextMethod.step;n.method&&(n.execute&&r.executeAPICommand(t,n.method,n.args),e._nextMethod=null,e._nextMethodRaf=null)}))))}function k(t,e,r){if(!e._context.staticPlot){var a=r.node(),o=n.select(e);t.on("mousedown",l),t.on("touchstart",l)}function s(){return r.data()[0]}function l(){var t=s();e.emit("plotly_sliderstart",{slider:t});var l=r.select("."+h.gripRectClass);n.event.stopPropagation(),n.event.preventDefault(),l.call(i.fill,t.activebgcolor);var c=S(t,n.mouse(a)[0]);function u(){var t=s(),i=S(t,n.mouse(a)[0]);M(e,r,t,i,!1)}function d(){var t=s();t._dragging=!1,l.call(i.fill,t.bgcolor),o.on("mouseup",null),o.on("mousemove",null),o.on("touchend",null),o.on("touchmove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})}M(e,r,t,c,!0),t._dragging=!0,o.on("mousemove",u),o.on("touchmove",u),o.on("mouseup",d),o.on("touchend",d)}}function A(t,e){var r=t.selectAll("rect."+h.tickRectClass).data(e._visibleSteps),o=e._dims;r.enter().append("rect").classed(h.tickRectClass,!0),r.exit().remove(),r.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),r.each((function(t,r){var s=r%o.labelStride==0,l=n.select(this);l.attr({height:s?e.ticklen:e.minorticklen}).call(i.fill,e.tickcolor),a.setTranslate(l,C(e,r/(e._stepCount-1))-.5*e.tickwidth,(s?h.tickOffset:h.minorTickOffset)+o.currentValueTotalHeight)}))}function L(t,e,n){for(var r=t.select("rect."+h.gripRectClass),i=0,a=0;a<e._stepCount;a++)if(e._visibleSteps[a]._index===e.active){i=a;break}var o=C(e,i/(e._stepCount-1));if(!e._invokingCommand){var l=r;n&&e.transition.duration>0&&(l=l.transition().duration(e.transition.duration).ease(e.transition.easing)),l.attr("transform",s(o-.5*h.gripWidth,e._dims.currentValueTotalHeight))}}function C(t,e){var n=t._dims;return n.inputAreaStart+h.stepInset+(n.inputAreaLength-2*h.stepInset)*Math.min(1,Math.max(0,e))}function S(t,e){var n=t._dims;return Math.min(1,Math.max(0,(e-h.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*h.stepInset-2*n.inputAreaStart)))}function P(t,e,n){var r=n._dims,s=o.ensureSingle(t,"rect",h.railTouchRectClass,(function(r){r.call(k,e,t,n).style("pointer-events","all")}));s.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,h.tickOffset+n.ticklen+r.labelHeight)}).call(i.fill,n.bgcolor).attr("opacity",0),a.setTranslate(s,0,r.currentValueTotalHeight)}function D(t,e){var n=e._dims,r=n.inputAreaLength-2*h.railInset,s=o.ensureSingle(t,"rect",h.railRectClass);s.attr({width:r,height:h.railWidth,rx:h.railRadius,ry:h.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,e.bordercolor).call(i.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),a.setTranslate(s,h.railInset,.5*(n.inputAreaWidth-h.railWidth)+n.currentValueTotalHeight)}e.exports=function(t){var e=t._context.staticPlot,i=t._fullLayout,o=function(t,e){for(var n=t[h.name],r=[],i=0;i<n.length;i++){var a=n[i];a.visible&&(a._gd=e,r.push(a))}return r}(i,t),s=i._infolayer.selectAll("g."+h.containerClassName).data(o.length>0?[0]:[]);function l(e){e._commandObserver&&(e._commandObserver.remove(),delete e._commandObserver),r.autoMargin(t,g(e))}if(s.enter().append("g").classed(h.containerClassName,!0).style("cursor",e?null:"ew-resize"),s.exit().each((function(){n.select(this).selectAll("g."+h.groupClassName).each(l)})).remove(),0!==o.length){var c=s.selectAll("g."+h.groupClassName).data(o,v);c.enter().append("g").classed(h.groupClassName,!0),c.exit().each(l).remove();for(var u=0;u<o.length;u++){var d=o[u];y(t,d)}c.each((function(e){var i=n.select(this);(function(t){var e=t._dims;e.labelSteps=[];for(var n=t._stepCount,r=0;r<n;r+=e.labelStride)e.labelSteps.push({fraction:r/(n-1),step:t._visibleSteps[r]})})(e),r.manageCommandObserver(t,e,e._visibleSteps,(function(e){var n=i.data()[0];n.active!==e.index&&(n._dragging||T(t,i,n,e.index,!1,!0))})),function(t,e,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),e.call(_,n).call(D,n).call(w,n).call(A,n).call(P,t,n).call(x,t,n);var r=n._dims;a.setTranslate(e,r.lx+n.pad.l,r.ly+n.pad.t),e.call(L,n,!1),e.call(_,n)}(t,n.select(this),e)}))}}})),Qi=a(((t,e)=>{var n=Xi();e.exports={moduleType:"component",name:n.name,layoutAttributes:Ji(),supplyLayoutDefaults:Ki(),draw:$i()}})),ta=a(((t,e)=>{var n=O();e.exports={bgcolor:{valType:"color",dflt:n.background,editType:"plot"},bordercolor:{valType:"color",dflt:n.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}})),ea=a(((t,e)=>{e.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}})),na=a(((t,e)=>{e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}})),ra=a((t=>{var e=ce(),n=ve(),r=na(),i=ge().LINE_SPACING,a=r.name;function o(t){var e=t&&t[a];return e&&e.visible}t.isVisible=o,t.makeData=function(t){for(var n=e.list({_fullLayout:t},"x",!0),r=t.margin,i=[],s=0;s<n.length;s++){var l=n[s];if(o(l)){i.push(l);var c=l[a];c._id=a+l._id,c._height=(t.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}t._rangeSliderData=i},t.autoMarginOpts=function(t,e){var o=t._fullLayout,s=e[a],l=e._id.charAt(0),c=0,u=0;return"bottom"===e.side&&(c=e._depth,e.title.text!==o._dfltTitle[l])&&(u=1.5*e.title.font.size+10+s._offsetShift,u+=(e.title.text.match(n.BR_TAG_ALL)||[]).length*e.title.font.size*i),{x:0,y:e._counterDomainMin,l:0,r:0,t:0,b:s._height+c+Math.max(o.margin.b,u),pad:r.extraPad+2*s._offsetShift}}})),ia=a(((t,e)=>{var n=$t(),r=se(),i=ce(),a=ta(),o=ea();e.exports=function(t,e,s){var l=t[s],c=e[s];if(l.rangeslider||e._requestRangeslider[c._id]){n.isPlainObject(l.rangeslider)||(l.rangeslider={});var u,h,d=l.rangeslider,f=r.newContainer(c,"rangeslider");if(b("visible")){b("bgcolor",e.plot_bgcolor),b("bordercolor"),b("borderwidth"),b("thickness"),b("autorange",!c.isValidRange(d.range)),b("range");var p=e._subplots;if(p)for(var m=p.cartesian.filter((function(t){return t.substr(0,t.indexOf("y"))===i.name2id(s)})).map((function(t){return t.substr(t.indexOf("y"),t.length)})),g=n.simpleMap(m,i.id2name),v=0;v<g.length;v++){var y=g[v];u=d[y]||{},h=r.newContainer(f,y,"yaxis");var _,x=e[y];u.range&&x.isValidRange(u.range)&&(_="fixed"),"match"!==w("rangemode",_)&&w("range",x.range.slice())}f._input=d}}function b(t,e){return n.coerce(d,f,a,t,e)}function w(t,e){return n.coerce(u,h,o,t,e)}}})),aa=a(((t,e)=>{var n=ce().list,r=Ge().getAutoRange,i=na();e.exports=function(t){for(var e=n(t,"x",!0),a=0;a<e.length;a++){var o=e[a],s=o[i.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=r(t,o))}}})),oa=a(((t,e)=>{var n=l(),r=Et(),i=pe(),a=$t(),o=a.strTranslate,s=Ze(),c=E(),u=Ve(),h=vi(),d=ce(),f=nn(),p=rn(),m=na();function g(t){return"number"==typeof t.clientX?t.clientX:t.touches&&t.touches.length>0?t.touches[0].clientX:0}function v(t,e,n,r){var i=a.ensureSingle(t,"rect",m.bgClassName,(function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),l=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,u=-r._offsetShift,h=s.crispRound(e,r.borderwidth);i.attr({width:r._width+l,height:r._height+l,transform:o(u,u),"stroke-width":h}).call(c.stroke,r.bordercolor).call(c.fill,r.bgcolor)}function y(t,e,n,r){var i=e._fullLayout;a.ensureSingleById(i._topdefs,"clipPath",r._clipId,(function(t){t.append("rect").attr({x:0,y:0})})).select("rect").attr({width:r._width,height:r._height})}function _(t,e,r,o){var l,c=e.calcdata,u=t.selectAll("g."+m.rangePlotClassName).data(r._subplotsWith,a.identity);u.enter().append("g").attr("class",(function(t){return m.rangePlotClassName+" "+t})).call(s.setClipUrl,o._clipId,e),u.order(),u.exit().remove(),u.each((function(t,a){var s=n.select(this),u=0===a,f=d.getFromId(e,t,"y"),p=f._name,m=o[p],g={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:o.range.slice(),calendar:r.calendar},width:o._width,height:o._height,margin:{t:0,b:0,l:0,r:0}},_context:e._context};r.rangebreaks&&(g.layout.xaxis.rangebreaks=r.rangebreaks),g.layout[p]={type:f.type,domain:[0,1],range:"match"!==m.rangemode?m.range.slice():f.range.slice(),calendar:f.calendar},f.rangebreaks&&(g.layout[p].rangebreaks=f.rangebreaks),i.supplyDefaults(g);var v=g._fullLayout.xaxis,y=g._fullLayout[p];v.clearCalc(),v.setScale(),y.clearCalc(),y.setScale();var _={id:t,plotgroup:s,xaxis:v,yaxis:y,isRangePlot:!0};u?l=_:(_.mainplot="xy",_.mainplotinfo=l),h.rangePlot(e,_,function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],a=i[0].trace;a.xaxis+a.yaxis===e&&n.push(i)}return n}(c,t))}))}function x(t,e,n,r,i){a.ensureSingle(t,"rect",m.maskMinClassName,(function(t){t.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(c.fill,m.maskColor),a.ensureSingle(t,"rect",m.maskMaxClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",r._height).call(c.fill,m.maskColor),"match"!==i.rangemode&&(a.ensureSingle(t,"rect",m.maskMinOppAxisClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).call(c.fill,m.maskOppAxisColor),a.ensureSingle(t,"rect",m.maskMaxOppAxisClassName,(function(t){t.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",r._width).style("border-top",m.maskOppBorder).call(c.fill,m.maskOppAxisColor))}function b(t,e,n,r){e._context.staticPlot||a.ensureSingle(t,"rect",m.slideBoxClassName,(function(t){t.attr({y:0,cursor:m.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:r._height,fill:m.slideBoxFill})}function w(t,e,n,r){var i=a.ensureSingle(t,"g",m.grabberMinClassName),o=a.ensureSingle(t,"g",m.grabberMaxClassName),s={x:0,width:m.handleWidth,rx:m.handleRadius,fill:c.background,stroke:c.defaultLine,"stroke-width":m.handleStrokeWidth,"shape-rendering":"crispEdges"},l={y:Math.round(r._height/4),height:Math.round(r._height/2)};a.ensureSingle(i,"rect",m.handleMinClassName,(function(t){t.attr(s)})).attr(l),a.ensureSingle(o,"rect",m.handleMaxClassName,(function(t){t.attr(s)})).attr(l);var u={width:m.grabAreaWidth,x:0,y:0,fill:m.grabAreaFill,cursor:e._context.staticPlot?void 0:m.grabAreaCursor};a.ensureSingle(i,"rect",m.grabAreaMinClassName,(function(t){t.attr(u)})).attr("height",r._height),a.ensureSingle(o,"rect",m.grabAreaMaxClassName,(function(t){t.attr(u)})).attr("height",r._height)}e.exports=function(t){for(var e=t._fullLayout,i=e._rangeSliderData,s=0;s<i.length;s++){var l=i[s][m.name];l._clipId=l._id+"-"+e._uid}var c=e._infolayer.selectAll("g."+m.containerClassName).data(i,(function(t){return t._name}));c.exit().each((function(t){var n=t[m.name];e._topdefs.select("#"+n._clipId).remove()})).remove(),0!==i.length&&(c.enter().append("g").classed(m.containerClassName,!0).attr("pointer-events","all"),c.each((function(i){var s=n.select(this),l=i[m.name],c=e[d.id2name(i.anchor)],h=l[d.id2name(i.anchor)];if(l.range){var M,T=a.simpleMap(l.range,i.r2l),k=a.simpleMap(i.range,i.r2l);M=k[0]<k[1]?[Math.min(T[0],k[0]),Math.max(T[1],k[1])]:[Math.max(T[0],k[0]),Math.min(T[1],k[1])],l.range=l._input.range=a.simpleMap(M,i.l2r)}i.cleanRange("rangeslider.range");var A=e._size,L=i.domain;l._width=A.w*(L[1]-L[0]);var C=Math.round(A.l+A.w*L[0]),S=Math.round(A.t+A.h*(1-i._counterDomainMin)+("bottom"===i.side?i._depth:0)+l._offsetShift+m.extraPad);s.attr("transform",o(C,S)),l._rl=a.simpleMap(l.range,i.r2l);var P=l._rl[0],D=l._rl[1],O=D-P;if(l.p2d=function(t){return t/l._width*O+P},l.d2p=function(t){return(t-P)/O*l._width},i.rangebreaks){var E=i.locateBreaks(P,D);if(E.length){var I,z,N=0;for(I=0;I<E.length;I++)N+=(z=E[I]).max-z.min;var R=l._width/(D-P-N),F=[-R*P];for(I=0;I<E.length;I++)z=E[I],F.push(F[F.length-1]-R*(z.max-z.min));for(l.d2p=function(t){for(var e=F[0],n=0;n<E.length;n++){var r=E[n];if(t>=r.max)e=F[n+1];else if(t<r.min)break}return e+R*t},I=0;I<E.length;I++)(z=E[I]).pmin=l.d2p(z.min),z.pmax=l.d2p(z.max);l.p2d=function(t){for(var e=F[0],n=0;n<E.length;n++){var r=E[n];if(t>=r.pmax)e=F[n+1];else if(t<r.pmin)break}return(t-e)/R}}}if("match"!==h.rangemode){var j=c.r2l(h.range[0]),B=c.r2l(h.range[1])-j;l.d2pOppAxis=function(t){return(t-j)/B*l._height}}s.call(v,t,i,l).call(y,t,i,l).call(_,t,i,l).call(x,t,i,l,h).call(b,t,i,l).call(w,t,i,l),function(t,e,i,o){if(!e._context.staticPlot){var s=t.select("rect."+m.slideBoxClassName).node(),l=t.select("rect."+m.grabAreaMinClassName).node(),c=t.select("rect."+m.grabAreaMaxClassName).node();t.on("mousedown",u),t.on("touchstart",u)}function u(){var u=n.event,h=u.target,d=g(u),m=d-t.node().getBoundingClientRect().left,v=o.d2p(i._rl[0]),y=o.d2p(i._rl[1]),_=f.coverSlip();function x(t){var u,f,x,b=+g(t)-d;switch(h){case s:if(x="ew-resize",v+b>i._length||y+b<0)return;u=v+b,f=y+b;break;case l:if(x="col-resize",v+b>i._length)return;u=v+b,f=y;break;case c:if(x="col-resize",y+b<0)return;u=v,f=y+b;break;default:x="ew-resize",u=m,f=m+b}if(f<u){var w=f;f=u,u=w}o._pixelMin=u,o._pixelMax=f,p(n.select(_),x),function(t,e,n,i){function o(t){return n.l2r(a.constrain(t,i._rl[0],i._rl[1]))}var s=o(i.p2d(i._pixelMin)),l=o(i.p2d(i._pixelMax));window.requestAnimationFrame((function(){r.call("_guiRelayout",e,n._name+".range",[s,l])}))}(0,e,i,o)}function b(){_.removeEventListener("mousemove",x),_.removeEventListener("mouseup",b),this.removeEventListener("touchmove",x),this.removeEventListener("touchend",b),a.removeElement(_)}this.addEventListener("touchmove",x),this.addEventListener("touchend",b),_.addEventListener("mousemove",x),_.addEventListener("mouseup",b)}}(s,t,i,l),function(t,e,n,r,i,s){var l=m.handleWidth/2;function c(t){return a.constrain(t,0,r._width)}function u(t){return a.constrain(t,0,r._height)}function h(t){return a.constrain(t,-l,r._width+l)}var d=c(r.d2p(n._rl[0])),f=c(r.d2p(n._rl[1]));if(t.select("rect."+m.slideBoxClassName).attr("x",d).attr("width",f-d),t.select("rect."+m.maskMinClassName).attr("width",d),t.select("rect."+m.maskMaxClassName).attr("x",f).attr("width",r._width-f),"match"!==s.rangemode){var p=r._height-u(r.d2pOppAxis(i._rl[1])),g=r._height-u(r.d2pOppAxis(i._rl[0]));t.select("rect."+m.maskMinOppAxisClassName).attr("x",d).attr("height",p).attr("width",f-d),t.select("rect."+m.maskMaxOppAxisClassName).attr("x",d).attr("y",g).attr("height",r._height-g).attr("width",f-d),t.select("rect."+m.slideBoxClassName).attr("y",p).attr("height",g-p)}var v=.5,y=Math.round(h(d-l))-v,_=Math.round(h(f-l))+v;t.select("g."+m.grabberMinClassName).attr("transform",o(y,v)),t.select("g."+m.grabberMaxClassName).attr("transform",o(_,v))}(s,0,i,l,c,h),"bottom"===i.side&&u.draw(t,i._id+"title",{propContainer:i,propName:i._name+".title",placeholder:e._dfltTitle.x,attributes:{x:i._offset+i._length/2,y:S+l._height+l._offsetShift+10+1.5*i.title.font.size,"text-anchor":"middle"}})})))}})),sa=a(((t,e)=>{var n=$t(),r=ta(),i=ea(),a=ra();e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:n.extendFlat({},r,{yaxis:i})}}},layoutAttributes:ta(),handleDefaults:ia(),calcAutorange:aa(),draw:oa(),isVisible:a.isVisible,makeData:a.makeData,autoMarginOpts:a.autoMarginOpts}})),la=a(((t,e)=>{var n=A(),r=O(),i=(0,se().templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});e.exports={visible:{valType:"boolean",editType:"plot"},buttons:i,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:n({editType:"plot"}),bgcolor:{valType:"color",dflt:r.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}})),ca=a(((t,e)=>{e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}})),ua=a(((t,e)=>{var n=$t(),r=E(),i=se(),a=Se(),o=la(),s=ca();function l(t,e,r,i){var a=i.calendar;function s(r,i){return n.coerce(t,e,o.buttons,r,i)}if(s("visible")){var l=s("step");"all"!==l&&(!a||"gregorian"===a||"month"!==l&&"year"!==l?s("stepmode"):e.stepmode="backward",s("count")),s("label")}}e.exports=function(t,e,c,u,h){var d=t.rangeselector||{},f=i.newContainer(e,"rangeselector");function p(t,e){return n.coerce(d,f,o,t,e)}if(p("visible",a(d,f,{name:"buttons",handleItemDefaults:l,calendar:h}).length>0)){var m=function(t,e,n){for(var r=n.filter((function(n){return e[n].anchor===t._id})),i=0,a=0;a<r.length;a++){var o=e[r[a]].domain;o&&(i=Math.max(o[1],i))}return[t.domain[0],i+s.yPad]}(e,c,u);p("x",m[0]),p("y",m[1]),n.noneOrAll(t,e,["x","y"]),p("xanchor"),p("yanchor"),n.coerceFont(p,"font",c.font);var g=p("bgcolor");p("activecolor",r.contrast(g,s.lightAmount,s.darkAmount)),p("bordercolor"),p("borderwidth")}}})),ha=a(((t,e)=>{var n=c(),r=$t().titleCase;e.exports=function(t,e){var i=t._name,a={};if("all"===e.step)a[i+".autorange"]=!0;else{var o=function(t,e){var i,a=t.range,o=new Date(t.r2l(a[1])),s=e.step,l=n["utc"+r(s)],c=e.count;switch(e.stepmode){case"backward":i=t.l2r(+l.offset(o,-c));break;case"todate":var u=l.offset(o,-c);i=t.l2r(+l.ceil(u))}return[i,a[1]]}(t,e);a[i+".range[0]"]=o[0],a[i+".range[1]"]=o[1]}return a}})),da=a(((t,e)=>{var n=l(),r=Et(),i=pe(),a=E(),o=Ze(),s=$t(),c=s.strTranslate,u=ve(),h=ce(),d=ge(),f=d.LINE_SPACING,p=d.FROM_TL,m=d.FROM_BR,g=ca(),v=ha();function y(t){return t._id}function _(t,e,n){var r=s.ensureSingle(t,"rect","selector-rect",(function(t){t.attr("shape-rendering","crispEdges")}));r.attr({rx:g.rx,ry:g.ry}),r.call(a.stroke,e.bordercolor).call(a.fill,function(t,e){return e._isActive||e._isHovered?t.activecolor:t.bgcolor}(e,n)).style("stroke-width",e.borderwidth+"px")}function x(t,e,n,r){s.ensureSingle(t,"text","selector-text",(function(t){t.attr("text-anchor","middle")})).call(o.font,e.font).text(function(t,e){return t.label?e?s.templateString(t.label,e):t.label:"all"===t.step?"all":t.count+t.step.charAt(0)}(n,r._fullLayout._meta)).call((function(t){u.convertToTspans(t,r)}))}e.exports=function(t){var e=t._fullLayout._infolayer.selectAll(".rangeselector").data(function(t){for(var e=h.list(t,"x",!0),n=[],r=0;r<e.length;r++){var i=e[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}(t),y);e.enter().append("g").classed("rangeselector",!0),e.exit().remove(),e.style({cursor:"pointer","pointer-events":"all"}),e.each((function(e){var a=n.select(this),l=e,h=l.rangeselector,d=a.selectAll("g.button").data(s.filterVisible(h.buttons));d.enter().append("g").classed("button",!0),d.exit().remove(),d.each((function(e){var i=n.select(this),a=v(l,e);e._isActive=function(t,e,n){if("all"===e.step)return!0===t.autorange;var r=Object.keys(n);return t.range[0]===n[r[0]]&&t.range[1]===n[r[1]]}(l,e,a),i.call(_,h,e),i.call(x,h,e,t),i.on("click",(function(){t._dragged||r.call("_guiRelayout",t,a)})),i.on("mouseover",(function(){e._isHovered=!0,i.call(_,h,e)})),i.on("mouseout",(function(){e._isHovered=!1,i.call(_,h,e)}))})),function(t,e,r,a,l){var h=0,d=0,v=r.borderwidth;e.each((function(){var t=n.select(this).select(".selector-text"),e=r.font.size*f,i=Math.max(e*u.lineCount(t),16)+3;d=Math.max(d,i)})),e.each((function(){var t=n.select(this),e=t.select(".selector-rect"),i=t.select(".selector-text"),a=i.node()&&o.bBox(i.node()).width,s=r.font.size*f,l=u.lineCount(i),p=Math.max(a+10,g.minButtonWidth);t.attr("transform",c(v+h,v)),e.attr({x:0,y:0,width:p,height:d}),u.positionText(i,p/2,d/2-(l-1)*s/2+3),h+=p+5}));var y=t._fullLayout._size,_=y.l+y.w*r.x,x=y.t+y.h*(1-r.y),b="left";s.isRightAnchor(r)&&(_-=h,b="right"),s.isCenterAnchor(r)&&(_-=h/2,b="center");var w="top";s.isBottomAnchor(r)&&(x-=d,w="bottom"),s.isMiddleAnchor(r)&&(x-=d/2,w="middle"),h=Math.ceil(h),d=Math.ceil(d),_=Math.round(_),x=Math.round(x),i.autoMargin(t,a+"-range-selector",{x:r.x,y:r.y,l:h*p[b],r:h*m[b],b:d*m[w],t:d*p[w]}),l.attr("transform",c(_,x))}(t,d,h,l._name,a)}))}})),fa=a(((t,e)=>{e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:la()}}},layoutAttributes:la(),handleDefaults:ua(),draw:da()}})),pa=a((t=>{var e=k().extendFlat;t.attributes=function(t,n){n=n||{};var r={valType:"info_array",editType:(t=t||{}).editType,items:[{valType:"number",min:0,max:1,editType:t.editType},{valType:"number",min:0,max:1,editType:t.editType}],dflt:[0,1]},i=(t.name&&t.name,t.trace,n.description&&n.description,{x:e({},r,{}),y:e({},r,{}),editType:t.editType});return t.noGridCell||(i.row={valType:"integer",min:0,dflt:0,editType:t.editType},i.column={valType:"integer",min:0,dflt:0,editType:t.editType}),i},t.defaults=function(t,e,n,r){var i=r&&r.x||[0,1],a=r&&r.y||[0,1],o=e.grid;if(o){var s=n("domain.column");void 0!==s&&(s<o.columns?i=o._domains.x[s]:delete t.domain.column);var l=n("domain.row");void 0!==l&&(l<o.rows?a=o._domains.y[l]:delete t.domain.row)}var c=n("domain.x",i),u=n("domain.y",a);c[0]<c[1]||(t.domain.x=i.slice()),u[0]<u[1]||(t.domain.y=a.slice())}})),ma=a(((t,e)=>{var n=$t(),r=z().counter,i=pa().attributes,a=le().idRegex,o=se(),s={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[r("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[a.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:i({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function l(t,e,n){var r=e[n+"axes"],i=Object.keys((t._splomAxes||{})[n]||{});return Array.isArray(r)?r:i.length?i:void 0}function c(t,e,n,r,i,a){var o=e(t+"gap",n),s=e("domain."+t);e(t+"side",r);for(var l=new Array(i),c=s[0],u=(s[1]-c)/(i-o),h=u*(1-o),d=0;d<i;d++){var f=c+u*d;l[a?i-1-d:d]=[f,f+h]}return l}function u(t,e,n,r,i){var a,o=new Array(n);function s(t,n){-1!==e.indexOf(n)&&void 0===r[n]?(o[t]=n,r[n]=t):o[t]=""}if(Array.isArray(t))for(a=0;a<n;a++)s(a,t[a]);else for(s(0,i),a=1;a<n;a++)s(a,i+(a+1));return o}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:s}},layoutAttributes:s,sizeDefaults:function(t,e){var r=t.grid||{},i=l(e,r,"x"),a=l(e,r,"y");if(t.grid||i||a){var u,h,d=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),f=Array.isArray(i),p=Array.isArray(a),m=f&&i!==r.xaxes&&p&&a!==r.yaxes;d?(u=r.subplots.length,h=r.subplots[0].length):(p&&(u=a.length),f&&(h=i.length));var g=o.newContainer(e,"grid"),v=T("rows",u),y=T("columns",h);if(v*y>1){d||f||p||"independent"===T("pattern")&&(d=!0),g._hasSubplotGrid=d;var _,x,b="top to bottom"===T("roworder"),w=d?.2:.1,M=d?.3:.1;m&&e._splomGridDflt&&(_=e._splomGridDflt.xside,x=e._splomGridDflt.yside),g._domains={x:c("x",T,w,_,y),y:c("y",T,M,x,v,b)}}else delete e.grid}function T(t,e){return n.coerce(r,g,s,t,e)}},contentDefaults:function(t,e){var n=e.grid;if(n&&n._domains){var r,i,a,o,s,c,h,d=t.grid||{},f=e._subplots,p=n._hasSubplotGrid,m=n.rows,g=n.columns,v="independent"===n.pattern,y=n._axisMap={};if(p){var _=d.subplots||[];c=n.subplots=new Array(m);var x=1;for(r=0;r<m;r++){var b=c[r]=new Array(g),w=_[r]||[];for(i=0;i<g;i++)if(v?(s=1===x?"xy":"x"+x+"y"+x,x++):s=w[i],b[i]="",-1!==f.cartesian.indexOf(s)){if(h=s.indexOf("y"),a=s.slice(0,h),o=s.slice(h),void 0!==y[a]&&y[a]!==i||void 0!==y[o]&&y[o]!==r)continue;b[i]=s,y[a]=i,y[o]=r}}}else{var M=l(e,d,"x"),T=l(e,d,"y");n.xaxes=u(M,f.xaxis,g,y,"x"),n.yaxes=u(T,f.yaxis,m,y,"y")}var k=n._anchors={},A="top to bottom"===n.roworder;for(var L in y){var C,S,P,D=L.charAt(0),O=n[D+"side"];if(O.length<8)k[L]="free";else if("x"===D){if("t"===O.charAt(0)===A?(C=0,S=1,P=m):(C=m-1,S=-1,P=-1),p){var E=y[L];for(r=C;r!==P;r+=S)if((s=c[r][E])&&(h=s.indexOf("y"),s.slice(0,h)===L)){k[L]=s.slice(h);break}}else for(r=C;r!==P;r+=S)if(o=n.yaxes[r],-1!==f.cartesian.indexOf(L+o)){k[L]=o;break}}else if("l"===O.charAt(0)?(C=0,S=1,P=g):(C=g-1,S=-1,P=-1),p){var I=y[L];for(r=C;r!==P;r+=S)if((s=c[I][r])&&(h=s.indexOf("y"),s.slice(h)===L)){k[L]=s.slice(0,h);break}}else for(r=C;r!==P;r+=S)if(a=n.xaxes[r],-1!==f.cartesian.indexOf(a+L)){k[L]=a;break}}}}}})),ga=a(((t,e)=>{e.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}})),va=a(((t,e)=>{var n=f(),r=Et(),i=$t(),a=se(),o=ga();e.exports=function(t,e,s,l){var c="error_"+l.axis,u=a.newContainer(e,c),h=t[c]||{};function d(t,e){return i.coerce(h,u,o,t,e)}if(!1!==d("visible",void 0!==h.array||void 0!==h.value||"sqrt"===h.type)){var f=d("type","array"in h?"data":"percent"),p=!0;"sqrt"!==f&&(p=d("symmetric",!(("data"===f?"arrayminus":"valueminus")in h))),"data"===f?(d("array"),d("traceref"),p||(d("arrayminus"),d("tracerefminus"))):("percent"===f||"constant"===f)&&(d("value"),p||d("valueminus"));var m="copy_"+l.inherit+"style";l.inherit&&(e["error_"+l.inherit]||{}).visible&&d(m,!(h.color||n(h.thickness)||n(h.width))),(!l.inherit||!u[m])&&(d("color",s),d("thickness"),d("width",r.traceIs(e,"gl3d")?0:4))}}})),ya=a(((t,e)=>{function n(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}e.exports=function(t){var e=t.type,r=t.symmetric;if("data"===e){var i=t.array||[];if(r)return function(t,e){var n=+i[e];return[n,n]};var a=t.arrayminus||[];return function(t,e){var n=+i[e],r=+a[e];return isNaN(n)&&isNaN(r)?[NaN,NaN]:[r||0,n||0]}}var o=n(e,t.value),s=n(e,t.valueminus);return r||void 0===t.valueminus?function(t){var e=o(t);return[e,e]}:function(t){return[s(t),o(t)]}}})),_a=a(((t,e)=>{var n=f(),r=Et(),i=qe(),a=$t(),o=ya();function s(t,e,r,s){var l=e["error_"+s]||{},c=[];if(l.visible&&-1!==["linear","log"].indexOf(r.type)){for(var u=o(l),h=0;h<t.length;h++){var d=t[h],f=d.i;if(void 0===f)f=h;else if(null===f)continue;var p=d[s];if(n(r.c2l(p))){var m=u(p,f);if(n(m[0])&&n(m[1])){var g=d[s+"s"]=p-m[0],v=d[s+"h"]=p+m[1];c.push(g,v)}}}var y=r._id,_=e._extremes[y],x=i.findExtremes(r,c,a.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(x.min),_.max=_.max.concat(x.max)}}e.exports=function(t){for(var e=t.calcdata,n=0;n<e.length;n++){var a=e[n],o=a[0].trace;if(!0===o.visible&&r.traceIs(o,"errorBarsOK")){var l=i.getFromId(t,o.xaxis),c=i.getFromId(t,o.yaxis);s(a,o,l,"x"),s(a,o,c,"y")}}}})),xa=a(((t,e)=>{var n=l(),r=f(),i=Ze(),a=Fe();e.exports=function(t,e,o,s){var l=o.xaxis,c=o.yaxis,u=s&&s.duration>0,h=t._context.staticPlot;e.each((function(e){var d,f=e[0].trace,p=f.error_x||{},m=f.error_y||{};f.ids&&(d=function(t){return t.id});var g=a.hasMarkers(f)&&f.marker.maxdisplayed>0;!m.visible&&!p.visible&&(e=[]);var v=n.select(this).selectAll("g.errorbar").data(e,d);if(v.exit().remove(),e.length){p.visible||v.selectAll("path.xerror").remove(),m.visible||v.selectAll("path.yerror").remove(),v.style("opacity",1);var y=v.enter().append("g").classed("errorbar",!0);u&&y.style("opacity",0).transition().duration(s.duration).style("opacity",1),i.setClipUrl(v,o.layerClipId,t),v.each((function(t){var e=n.select(this),i=function(t,e,n){var i={x:e.c2p(t.x),y:n.c2p(t.y)};return void 0!==t.yh&&(i.yh=n.c2p(t.yh),i.ys=n.c2p(t.ys),r(i.ys)||(i.noYS=!0,i.ys=n.c2p(t.ys,!0))),void 0!==t.xh&&(i.xh=e.c2p(t.xh),i.xs=e.c2p(t.xs),r(i.xs)||(i.noXS=!0,i.xs=e.c2p(t.xs,!0))),i}(t,l,c);if(!g||t.vis){var a,o=e.select("path.yerror");if(m.visible&&r(i.x)&&r(i.yh)&&r(i.ys)){var d=m.width;a="M"+(i.x-d)+","+i.yh+"h"+2*d+"m-"+d+",0V"+i.ys,i.noYS||(a+="m-"+d+",0h"+2*d),o.size()?u&&(o=o.transition().duration(s.duration).ease(s.easing)):o=e.append("path").style("vector-effect",h?"none":"non-scaling-stroke").classed("yerror",!0),o.attr("d",a)}else o.remove();var f=e.select("path.xerror");if(p.visible&&r(i.y)&&r(i.xh)&&r(i.xs)){var v=(p.copy_ystyle?m:p).width;a="M"+i.xh+","+(i.y-v)+"v"+2*v+"m0,-"+v+"H"+i.xs,i.noXS||(a+="m0,-"+v+"v"+2*v),f.size()?u&&(f=f.transition().duration(s.duration).ease(s.easing)):f=e.append("path").style("vector-effect",h?"none":"non-scaling-stroke").classed("xerror",!0),f.attr("d",a)}else f.remove()}}))}}))}})),ba=a(((t,e)=>{var n=l(),r=E();e.exports=function(t){t.each((function(t){var e=t[0].trace,i=e.error_y||{},a=e.error_x||{},o=n.select(this);o.selectAll("path.yerror").style("stroke-width",i.thickness+"px").call(r.stroke,i.color),a.copy_ystyle&&(a=i),o.selectAll("path.xerror").style("stroke-width",a.thickness+"px").call(r.stroke,a.color)}))}})),wa=a(((t,e)=>{var n=$t(),r=bt().overrideAll,i=ga(),a={error_x:n.extendFlat({},i),error_y:n.extendFlat({},i)};delete a.error_x.copy_zstyle,delete a.error_y.copy_zstyle,delete a.error_y.copy_ystyle;var o={error_x:n.extendFlat({},i),error_y:n.extendFlat({},i),error_z:n.extendFlat({},i)};delete o.error_x.copy_ystyle,delete o.error_y.copy_ystyle,delete o.error_z.copy_ystyle,delete o.error_z.copy_zstyle,e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:a,bar:a,histogram:a,scatter3d:r(o,"calc","nested"),scattergl:r(a,"calc","nested")}},supplyDefaults:va(),calc:_a(),makeComputeError:ya(),plot:xa(),style:ba(),hoverInfo:function(t,e,n){(e.error_y||{}).visible&&(n.yerr=t.yh-t.y,e.error_y.symmetric||(n.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(n.xerr=t.xh-t.x,e.error_x.symmetric||(n.xerrneg=t.x-t.xs))}}})),Ma=a(((t,e)=>{e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}})),Ta=a(((t,e)=>{var n=l(),r=T(),i=pe(),a=Et(),o=qe(),s=nn(),c=$t(),u=c.strTranslate,h=k().extendFlat,d=rn(),f=Ze(),p=E(),m=Ve(),g=ve(),v=ye().flipScale,y=fi(),_=pi(),x=xe(),b=ge(),w=b.LINE_SPACING,M=b.FROM_TL,A=b.FROM_BR,L=Ma().cn;e.exports={draw:function(t){var e=t._fullLayout._infolayer.selectAll("g."+L.colorbar).data(function(t){var e,n,r,i,a=t._fullLayout,o=t.calcdata,s=[];function l(t){return h(t,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function c(){"function"==typeof i.calc?i.calc(t,r,e):(e._fillgradient=n.reversescale?v(n.colorscale):n.colorscale,e._zrange=[n[i.min],n[i.max]])}for(var u=0;u<o.length;u++){var d=o[u];if((r=d[0].trace)._module){var f=r._module.colorbar;if(!0===r.visible&&f)for(var p=Array.isArray(f),m=p?f:[f],g=0;g<m.length;g++){var y=(i=m[g]).container;(n=y?r[y]:r)&&n.showscale&&((e=l(n.colorbar))._id="cb"+r.uid+(p&&y?"-"+y:""),e._traceIndex=r.index,e._propPrefix=(y?y+".":"")+"colorbar.",e._meta=r._meta,c(),s.push(e))}}}for(var _ in a._colorAxes)if((n=a[_]).showscale){var x=a._colorAxes[_];(e=l(n.colorbar))._id="cb"+_,e._propPrefix=_+".colorbar.",e._meta=a._meta,i={min:"cmin",max:"cmax"},"heatmap"!==x[0]&&(r=x[1],i.calc=r._module.colorbar.calc),c(),s.push(e)}return s}(t),(function(t){return t._id}));e.enter().append("g").attr("class",(function(t){return t._id})).classed(L.colorbar,!0),e.each((function(e){var l=n.select(this);c.ensureSingle(l,"rect",L.cbbg),c.ensureSingle(l,"g",L.cbfills),c.ensureSingle(l,"g",L.cblines),c.ensureSingle(l,"g",L.cbaxis,(function(t){t.classed(L.crisp,!0)})),c.ensureSingle(l,"g",L.cbtitleunshift,(function(t){t.append("g").classed(L.cbtitle,!0)})),c.ensureSingle(l,"rect",L.cboutline);var v=function(t,e,a){var s="v"===e.orientation,l=e.len,d=e.lenmode,v=e.thickness,b=e.thicknessmode,T=e.outlinewidth,k=e.borderwidth,C=e.bgcolor,S=e.xanchor,P=e.yanchor,D=e.xpad,O=e.ypad,E=e.x,I=s?e.y:1-e.y,z="paper"===e.yref,N="paper"===e.xref,R=a._fullLayout,F=R._size,j=e._fillcolor,B=e._line,H=e.title,U=H.side,Z=e._zrange||n.extent(("function"==typeof j?j:B.color).domain()),V="function"==typeof B.color?B.color:function(){return B.color},Y="function"==typeof j?j:function(){return j},W=e._levels,G=function(t,e,n){var r,i,a=e._levels,o=[],s=[],l=a.end+a.size/100,c=a.size,u=1.001*n[0]-.001*n[1],h=1.001*n[1]-.001*n[0];for(i=0;i<1e5&&(r=a.start+i*c,!(c>0?r>=l:r<=l));i++)r>u&&r<h&&o.push(r);if(e._fillgradient)s=[0];else if("function"==typeof e._fillcolor){var d=e._filllevels;if(d)for(l=d.end+d.size/100,c=d.size,i=0;i<1e5&&(r=d.start+i*c,!(c>0?r>=l:r<=l));i++)r>n[0]&&r<n[1]&&s.push(r);else s=o.map((function(t){return t-a.size/2})),s.push(s[s.length-1]+a.size)}else e._fillcolor&&"string"==typeof e._fillcolor&&(s=[0]);return a.size<0&&(o.reverse(),s.reverse()),{line:o,fill:s}}(0,e,Z),q=G.fill,X=G.line,J=Math.round(v*("fraction"===b?s?F.w:F.h:1)),K=J/(s?F.w:F.h),$=Math.round(l*("fraction"===d?s?F.h:F.w:1)),Q=$/(s?F.h:F.w),tt=N?F.w:a._fullLayout.width,et=z?F.h:a._fullLayout.height,nt=Math.round(s?E*tt+D:I*et+O),rt={center:.5,right:1}[S]||0,it={top:1,middle:.5}[P]||0,at=s?E-rt*K:I-it*K,ot=s?I-it*Q:E-rt*Q,st=Math.round(s?et*(1-ot):tt*ot);e._lenFrac=Q,e._thickFrac=K,e._uFrac=at,e._vFrac=ot;var lt=e._axis=function(t,e,n){var r=t._fullLayout,i="v"===e.orientation,a={type:"linear",range:n,tickmode:e.tickmode,nticks:e.nticks,tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,showticklabels:e.showticklabels,labelalias:e.labelalias,ticklabelposition:e.ticklabelposition,ticklabeloverflow:e.ticklabeloverflow,ticklabelstep:e.ticklabelstep,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,showexponent:e.showexponent,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,title:e.title,showline:!0,anchor:"free",side:i?"right":"bottom",position:1},o=i?"y":"x",s={type:"linear",_id:o+e._id},l={letter:o,font:r.font,noAutotickangles:"y"===o,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:r.calendar};function u(t,e){return c.coerce(a,s,x,t,e)}return y(a,s,u,l,r),_(a,s,u,l),s}(a,e,Z);lt.position=K+(s?E+D/F.w:I+O/F.h);var ct=-1!==["top","bottom"].indexOf(U);if(s&&ct&&(lt.title.side=U,lt.titlex=E+D/F.w,lt.titley=ot+("top"===H.side?Q-O/F.h:O/F.h)),!s&&!ct&&(lt.title.side=U,lt.titley=I+O/F.h,lt.titlex=ot+D/F.w),B.color&&"auto"===e.tickmode){lt.tickmode="linear",lt.tick0=W.start;var ut=W.size,ht=c.constrain($/50,4,15)+1,dt=(Z[1]-Z[0])/((e.nticks||ht)*ut);if(dt>1){var ft=Math.pow(10,Math.floor(Math.log(dt)/Math.LN10));ut*=ft*c.roundUp(dt/ft,[2,5,10]),(Math.abs(W.start)/W.size+1e-6)%1<2e-6&&(lt.tick0=0)}lt.dtick=ut}lt.domain=s?[ot+O/F.h,ot+Q-O/F.h]:[ot+D/F.w,ot+Q-D/F.w],lt.setScale(),t.attr("transform",u(Math.round(F.l),Math.round(F.t)));var pt,mt=t.select("."+L.cbtitleunshift).attr("transform",u(-Math.round(F.l),-Math.round(F.t))),gt=lt.ticklabelposition,vt=lt.title.font.size,yt=t.select("."+L.cbaxis),_t=0,xt=0;function bt(n,r){var i={propContainer:lt,propName:e._propPrefix+"title",traceIndex:e._traceIndex,_meta:e._meta,placeholder:R._dfltTitle.colorbar,containerGroup:t.select("."+L.cbtitle)},o="h"===n.charAt(0)?n.substr(1):"h"+n;t.selectAll("."+o+",."+o+"-math-group").remove(),m.draw(a,n,h(i,r||{}))}return c.syncOrAsync([i.previousPromises,function(){var t,e;(s&&ct||!s&&!ct)&&("top"===U&&(t=D+F.l+tt*E,e=O+F.t+et*(1-ot-Q)+3+.75*vt),"bottom"===U&&(t=D+F.l+tt*E,e=O+F.t+et*(1-ot)-3-.25*vt),"right"===U&&(e=O+F.t+et*I+3+.75*vt,t=D+F.l+tt*ot),bt(lt._id+"title",{attributes:{x:t,y:e,"text-anchor":s?"start":"middle"}}))},function(){if(!s&&!ct||s&&ct){var i,l=t.select("."+L.cbtitle),h=l.select("text"),d=[-T/2,T/2],p=l.select(".h"+lt._id+"title-math-group").node(),m=15.6;if(h.node()&&(m=parseInt(h.node().style.fontSize,10)*w),p?(i=f.bBox(p),xt=i.width,(_t=i.height)>m&&(d[1]-=(_t-m)/2)):h.node()&&!h.classed(L.jsPlaceholder)&&(i=f.bBox(h.node()),xt=i.width,_t=i.height),s){if(_t){if(_t+=5,"top"===U)lt.domain[1]-=_t/F.h,d[1]*=-1;else{lt.domain[0]+=_t/F.h;var v=g.lineCount(h);d[1]+=(1-v)*m}l.attr("transform",u(d[0],d[1])),lt.setScale()}}else xt&&("right"===U&&(lt.domain[0]+=(xt+vt/2)/F.w),l.attr("transform",u(d[0],d[1])),lt.setScale())}t.selectAll("."+L.cbfills+",."+L.cblines).attr("transform",s?u(0,Math.round(F.h*(1-lt.domain[1]))):u(Math.round(F.w*lt.domain[0]),0)),yt.attr("transform",s?u(0,Math.round(-F.t)):u(Math.round(-F.l),0));var y=t.select("."+L.cbfills).selectAll("rect."+L.cbfill).attr("style","").data(q);y.enter().append("rect").classed(L.cbfill,!0).attr("style",""),y.exit().remove();var _=Z.map(lt.c2p).map(Math.round).sort((function(t,e){return t-e}));y.each((function(t,i){var o=[0===i?Z[0]:(q[i]+q[i-1])/2,i===q.length-1?Z[1]:(q[i]+q[i+1])/2].map(lt.c2p).map(Math.round);s&&(o[1]=c.constrain(o[1]+(o[1]>o[0])?1:-1,_[0],_[1]));var l=n.select(this).attr(s?"x":"y",nt).attr(s?"y":"x",n.min(o)).attr(s?"width":"height",Math.max(J,2)).attr(s?"height":"width",Math.max(n.max(o)-n.min(o),2));if(e._fillgradient)f.gradient(l,a,e._id,s?"vertical":"horizontalreversed",e._fillgradient,"fill");else{var u=Y(t).replace("e-","");l.attr("fill",r(u).toHexString())}}));var x=t.select("."+L.cblines).selectAll("path."+L.cbline).data(B.color&&B.width?X:[]);x.enter().append("path").classed(L.cbline,!0),x.exit().remove(),x.each((function(t){var e=nt,r=Math.round(lt.c2p(t))+B.width/2%1;n.select(this).attr("d","M"+(s?e+","+r:r+","+e)+(s?"h":"v")+J).call(f.lineGroupStyle,B.width,V(t),B.dash)})),yt.selectAll("g."+lt._id+"tick,path").remove();var b=nt+J+(T||0)/2-("outside"===e.ticks?1:0),M=o.calcTicks(lt),k=o.getTickSigns(lt)[2];return o.drawTicks(a,lt,{vals:"inside"===lt.ticks?o.clipEnds(lt,M):M,layer:yt,path:o.makeTickPath(lt,b,k),transFn:o.makeTransTickFn(lt)}),o.drawLabels(a,lt,{vals:M,layer:yt,transFn:o.makeTransTickLabelFn(lt),labelFns:o.makeLabelFns(lt,b)})},function(){if(s&&!ct||!s&&ct){var t,r,i=lt.position||0,o=lt._offset+lt._length/2;if("right"===U)r=o,t=F.l+tt*i+10+vt*(lt.showticklabels?1:.5);else if(t=o,"bottom"===U&&(r=F.t+et*i+10+(-1===gt.indexOf("inside")?lt.tickfont.size:0)+("intside"!==lt.ticks&&e.ticklen||0)),"top"===U){var l=H.text.split("<br>").length;r=F.t+et*i+10-J-w*vt*l}bt((s?"h":"v")+lt._id+"title",{avoid:{selection:n.select(a).selectAll("g."+lt._id+"tick"),side:U,offsetTop:s?0:F.t,offsetLeft:s?F.l:0,maxShift:s?R.width:R.height},attributes:{x:t,y:r,"text-anchor":"middle"},transform:{rotate:s?-90:0,offset:0}})}},i.previousPromises,function(){var n,o=J+T/2;-1===gt.indexOf("inside")&&(n=f.bBox(yt.node()),o+=s?n.width:n.height),pt=mt.select("text");var c=0,h=s&&"top"===U,m=!s&&"right"===U,g=0;if(pt.node()&&!pt.classed(L.jsPlaceholder)){var y,_=mt.select(".h"+lt._id+"title-math-group").node();_&&(s&&ct||!s&&!ct)?(c=(n=f.bBox(_)).width,y=n.height):(c=(n=f.bBox(mt.node())).right-F.l-(s?nt:st),y=n.bottom-F.t-(s?st:nt),!s&&"top"===U&&(o+=n.height,g=n.height)),m&&(pt.attr("transform",u(c/2+vt/2,0)),c*=2),o=Math.max(o,s?c:y)}var x=2*(s?D:O)+o+k+T/2,w=0;!s&&H.text&&"bottom"===P&&I<=0&&(x+=w=x/2,g+=w),R._hColorbarMoveTitle=w,R._hColorbarMoveCBTitle=g;var j=k+T,B=(s?nt:st)-j/2-(s?D:0),Z=(s?st:nt)-(s?$:O+g-w);t.select("."+L.cbbg).attr("x",B).attr("y",Z).attr(s?"width":"height",Math.max(x-w,2)).attr(s?"height":"width",Math.max($+j,2)).call(p.fill,C).call(p.stroke,e.bordercolor).style("stroke-width",k);var V=m?Math.max(c-10,0):0;t.selectAll("."+L.cboutline).attr("x",(s?nt:st+D)+V).attr("y",(s?st+O-$:nt)+(h?_t:0)).attr(s?"width":"height",Math.max(J,2)).attr(s?"height":"width",Math.max($-(s?2*O+_t:2*D+V),2)).call(p.stroke,e.outlinecolor).style({fill:"none","stroke-width":T});var Y=s?rt*x:0,W=s?0:(1-it)*x-g;if(Y=N?F.l-Y:-Y,W=z?F.t-W:-W,t.attr("transform",u(Y,W)),!s&&(k||r(C).getAlpha()&&!r.equals(R.paper_bgcolor,C))){var G=yt.selectAll("text"),q=G[0].length,X=t.select("."+L.cbbg).node(),K=f.bBox(X),Q=f.getTranslate(t);G.each((function(t,e){var n=q-1;if(0===e||e===n){var r,i=f.bBox(this),a=f.getTranslate(this);if(e===n){var o=i.right+a.x;(r=K.right+Q.x+st-k-2+E-o)>0&&(r=0)}else if(0===e){var s=i.left+a.x;(r=K.left+Q.x+st+k+2-s)<0&&(r=0)}r&&(q<3?this.setAttribute("transform","translate("+r+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}}))}var tt={},et=M[S],at=A[S],ot=M[P],ut=A[P],ht=x-J;s?("pixels"===d?(tt.y=I,tt.t=$*ot,tt.b=$*ut):(tt.t=tt.b=0,tt.yt=I+l*ot,tt.yb=I-l*ut),"pixels"===b?(tt.x=E,tt.l=x*et,tt.r=x*at):(tt.l=ht*et,tt.r=ht*at,tt.xl=E-v*et,tt.xr=E+v*at)):("pixels"===d?(tt.x=E,tt.l=$*et,tt.r=$*at):(tt.l=tt.r=0,tt.xl=E+l*et,tt.xr=E-l*at),"pixels"===b?(tt.y=1-I,tt.t=x*ot,tt.b=x*ut):(tt.t=ht*ot,tt.b=ht*ut,tt.yt=I-v*ot,tt.yb=I+v*ut));var dt=e.y<.5?"b":"t",ft=e.x<.5?"l":"r";a._fullLayout._reservedMargin[e._id]={};var xt={r:R.width-B-Y,l:B+tt.r,b:R.height-Z-W,t:Z+tt.b};N&&z?i.autoMargin(a,e._id,tt):N?a._fullLayout._reservedMargin[e._id][dt]=xt[dt]:z||s?a._fullLayout._reservedMargin[e._id][ft]=xt[ft]:a._fullLayout._reservedMargin[e._id][dt]=xt[dt]}],a)}(l,e,t);v&&v.then&&(t._promises||[]).push(v),t._context.edits.colorbarPosition&&function(t,e,n){var r,i,o,l="v"===e.orientation,c=n._fullLayout._size;s.init({element:t.node(),gd:n,prepFn:function(){r=t.attr("transform"),d(t)},moveFn:function(n,a){t.attr("transform",r+u(n,a)),i=s.align((l?e._uFrac:e._vFrac)+n/c.w,l?e._thickFrac:e._lenFrac,0,1,e.xanchor),o=s.align((l?e._vFrac:1-e._uFrac)-a/c.h,l?e._lenFrac:e._thickFrac,0,1,e.yanchor);var h=s.getCursor(i,o,e.xanchor,e.yanchor);d(t,h)},doneFn:function(){if(d(t),void 0!==i&&void 0!==o){var r={};r[e._propPrefix+"x"]=i,r[e._propPrefix+"y"]=o,void 0!==e._traceIndex?a.call("_guiRestyle",n,r,e._traceIndex):a.call("_guiRelayout",n,r)}}})}(l,e,t)})),e.exit().each((function(e){i.autoMargin(t,e._id)})).remove(),e.order()}}})),ka=a(((t,e)=>{e.exports={moduleType:"component",name:"colorbar",attributes:be(),supplyDefaults:Oe(),draw:Ta().draw,hasColorbar:Te()}})),Aa=a(((t,e)=>{e.exports={moduleType:"component",name:"legend",layoutAttributes:on(),supplyLayoutDefaults:ln(),draw:gn(),style:mn()}})),La=a(((t,e)=>{e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}})),Ca=a(((t,e)=>{e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}})),Sa=a(((t,e)=>{var n=Et(),r=$t(),i=r.extendFlat,a=r.extendDeep;function o(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}e.exports=function(t,e){var r,s,l=t.data,c=t.layout,u=a([],l),h=a({},c,o(e.tileClass)),d=t._context||{};if(e.width&&(h.width=e.width),e.height&&(h.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){h.annotations=[];var f=Object.keys(h);for(r=0;r<f.length;r++)s=f[r],["xaxis","yaxis","zaxis"].indexOf(s.slice(0,5))>-1&&(h[f[r]].title={text:""});for(r=0;r<u.length;r++){var p=u[r];p.showscale=!1,p.marker&&(p.marker.showscale=!1),n.traceIs(p,"pie-like")&&(p.textposition="none")}}if(Array.isArray(e.annotations))for(r=0;r<e.annotations.length;r++)h.annotations.push(e.annotations[r]);var m=Object.keys(h).filter((function(t){return t.match(/^scene\d*$/)}));if(m.length){var g={};for("thumbnail"===e.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<m.length;r++){var v=h[m[r]];v.xaxis||(v.xaxis={}),v.yaxis||(v.yaxis={}),v.zaxis||(v.zaxis={}),i(v.xaxis,g),i(v.yaxis,g),i(v.zaxis,g),v._scene=null}}var y=document.createElement("div");e.tileClass&&(y.className=e.tileClass);var _={gd:y,td:y,layout:h,data:u,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:d.mapboxAccessToken}};return"transparent"!==e.setBackground&&(_.config.setBackground=e.setBackground||"opaque"),_.gd.defaultLayout=o(e.tileClass),_}})),Pa=a(((t,e)=>{var n=ne().EventEmitter,r=Et(),i=$t(),a=kr(),o=Sa(),s=Ar(),l=Lr();e.exports=function(t,e){var c=new n,u=o(t,{format:"png"}),h=u.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var d=a.getRedrawFunc(h);return r.call("_doPlot",h,u.data,u.layout,u.config).then(d).then((function(){var t=a.getDelay(h._fullLayout);setTimeout((function(){var t=s(h),n=document.createElement("canvas");n.id=i.randstr(),(c=l({format:e.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:n,emitter:c,svg:t})).clean=function(){h&&document.body.removeChild(h)}}),t)})).catch((function(t){c.emit("error",t)})),c}})),Da=a(((t,e)=>{var n=kr(),r={getDelay:n.getDelay,getRedrawFunc:n.getRedrawFunc,clone:Sa(),toSVG:Ar(),svgToImg:Lr(),toImage:Pa(),downloadImage:Dr()};e.exports=r})),Oa=a((t=>{t.version=o().version,s(),Qt();var e,n,r=Et(),i=t.register=r.register,a=Er(),l=Object.keys(a);for(n=0;n<l.length;n++)"_"!==(e=l[n]).charAt(0)&&(t[e]=a[e]),i({moduleType:"apiMethod",name:e,fn:a[e]});i(yi()),i([Ai(),Oi(),yr(),Ri(),Ui(),qi(),Qi(),sa(),fa(),ma(),wa(),Re(),ka(),Aa(),kn(),Yn()]),i([La(),Ca()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),t.Icons=Cn();var c=kn(),u=pe();t.Plots={resize:u.resize,graphJson:u.graphJson,sendDataToCloud:u.sendDataToCloud},t.Fx={hover:c.hover,unhover:c.unhover,loneHover:c.loneHover,loneUnhover:c.loneUnhover},t.Snapshot=Da(),t.PlotSchema=oe()})),Ea=a(((t,e)=>{e.exports=Oa()})),Ia=a(((t,e)=>{e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}})),za=a(((t,e)=>{var n=fr(),r=_e().axisHoverFormat,i=Tt().hovertemplateAttrs,a=Tt().texttemplateAttrs,o=we(),s=A(),l=Ia(),c=wt().pattern,u=k().extendFlat,h=s({editType:"calc",arrayOk:!0,colorEditType:"style"}),d=u({},n.marker.line.width,{dflt:0}),f=u({width:d,editType:"calc"},o("marker.line")),p=u({line:f,editType:"calc"},o("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:c,cornerradius:{valType:"any",editType:"calc"}});e.exports={x:n.x,x0:n.x0,dx:n.dx,y:n.y,y0:n.y0,dy:n.dy,xperiod:n.xperiod,yperiod:n.yperiod,xperiod0:n.xperiod0,yperiod0:n.yperiod0,xperiodalignment:n.xperiodalignment,yperiodalignment:n.yperiodalignment,xhoverformat:r("x"),yhoverformat:r("y"),text:n.text,texttemplate:a({editType:"plot"},{keys:l.eventDataKeys}),hovertext:n.hovertext,hovertemplate:i({},{keys:l.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},h,{}),insidetextfont:u({},h,{}),outsidetextfont:u({},h,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},n.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:p,offsetgroup:n.offsetgroup,alignmentgroup:n.alignmentgroup,selected:{marker:{opacity:n.selected.marker.opacity,color:n.selected.marker.color,editType:"style"},textfont:n.selected.textfont,editType:"style"},unselected:{marker:{opacity:n.unselected.marker.opacity,color:n.unselected.marker.color,editType:"style"},textfont:n.unselected.textfont,editType:"style"},zorder:n.zorder}})),Na=a(((t,e)=>{e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}})),Ra=a(((t,e)=>{var n=E(),r=ye().hasColorscale,i=Ee(),a=$t().coercePattern;e.exports=function(t,e,o,s,l){var c=o("marker.color",s),u=r(t,"marker");u&&i(t,e,l,o,{prefix:"marker.",cLetter:"c"}),o("marker.line.color",n.defaultLine),r(t,"marker.line")&&i(t,e,l,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width"),o("marker.opacity"),a(o,"marker.pattern",c,u),o("selected.marker.color"),o("unselected.marker.color")}})),Fa=a(((t,e)=>{var n=f(),r=$t(),i=E(),a=Et(),o=Ir(),s=zr(),l=Ra(),c=Zr(),u=za(),h=r.coerceFont;function d(t){if(n(t)){if((t=+t)>=0)return t}else if("string"==typeof t&&"%"===(t=t.trim()).slice(-1)&&n(t.slice(0,-1))&&(t=+t.slice(0,-1))>=0)return t+"%"}function p(t,e,n,i,a,o){var s=!1!==(o=o||{}).moduleHasSelected,l=!1!==o.moduleHasUnselected,c=!1!==o.moduleHasConstrain,u=!1!==o.moduleHasCliponaxis,d=!1!==o.moduleHasTextangle,f=!1!==o.moduleHasInsideanchor,p=!!o.hasPathbar,m=Array.isArray(a)||"auto"===a,g=m||"inside"===a,v=m||"outside"===a;if(g||v){var y=h(i,"textfont",n.font),_=r.extendFlat({},y),x=!(t.textfont&&t.textfont.color);if(x&&delete _.color,h(i,"insidetextfont",_),p){var b=r.extendFlat({},y);x&&delete b.color,h(i,"pathbar.textfont",b)}v&&h(i,"outsidetextfont",y),s&&i("selected.textfont.color"),l&&i("unselected.textfont.color"),c&&i("constraintext"),u&&i("cliponaxis"),d&&i("textangle"),i("texttemplate")}g&&f&&i("insidetextanchor")}e.exports={supplyDefaults:function(t,e,n,c){function h(n,i){return r.coerce(t,e,u,n,i)}if(o(t,e,c,h)){s(t,e,c,h),h("xhoverformat"),h("yhoverformat"),h("zorder"),h("orientation",e.x&&!e.y?"h":"v"),h("base"),h("offset"),h("width"),h("text"),h("hovertext"),h("hovertemplate");var d=h("textposition");p(t,0,c,h,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l(t,e,h,n,c);var f=(e.marker.line||{}).color,m=a.getComponentMethod("errorbars","supplyDefaults");m(t,e,f||i.defaultLine,{axis:"y"}),m(t,e,f||i.defaultLine,{axis:"x",inherit:"y"}),r.coerceSelectionMarkerOpacity(e,h)}else e.visible=!1},crossTraceDefaults:function(t,e){var n,i;function a(t,e){return r.coerce(i._input,i,u,t,e)}for(var o=0;o<t.length;o++)if("bar"===(i=t[o]).type){n=i._input;var s=a("marker.cornerradius",e.barcornerradius);i.marker&&(i.marker.cornerradius=d(s)),c(n,i,e,a,e.barmode)}},handleText:p,validateCornerradius:d}})),ja=a(((t,e)=>{var n=Et(),r=qe(),i=$t(),a=Na(),o=Fa().validateCornerradius;e.exports=function(t,e,s){function l(n,r){return i.coerce(t,e,a,n,r)}for(var c=!1,u=!1,h=!1,d={},f=l("barmode"),p="group"===f,m=0;m<s.length;m++){var g=s[m];if(n.traceIs(g,"bar")&&g.visible){c=!0;var v=g.xaxis+g.yaxis;p?(d[v]&&(h=!0),d[v]=!0):(v+=g._input.offsetgroup,d.length>0&&!d[v]&&(h=!0),d[v]=!0),g.visible&&"histogram"===g.type&&"category"!==r.getFromId({_fullLayout:e},g["v"===g.orientation?"xaxis":"yaxis"]).type&&(u=!0)}}if(c){"overlay"!==f&&l("barnorm"),l("bargap",u&&!h?0:.2),l("bargroupgap");var y=l("barcornerradius");e.barcornerradius=o(y)}else delete e.barmode}})),Ba=a(((t,e)=>{var n=$t();e.exports=function(t,e){for(var r=0;r<t.length;r++)t[r].i=r;n.mergeArray(e.text,t,"tx"),n.mergeArray(e.hovertext,t,"htx");var i=e.marker;if(i){n.mergeArray(i.opacity,t,"mo",!0),n.mergeArray(i.color,t,"mc");var a=i.line;a&&(n.mergeArray(a.color,t,"mlc"),n.mergeArrayCastPositive(a.width,t,"mlw"))}}})),Ha=a(((t,e)=>{var n=qe(),r=Wr(),i=ye().hasColorscale,a=Ne(),o=Ba(),s=Xr();e.exports=function(t,e){var l,c,u,h,d,f,p=n.getFromId(t,e.xaxis||"x"),m=n.getFromId(t,e.yaxis||"y"),g={msUTC:!(!e.base&&0!==e.base)};"h"===e.orientation?(l=p.makeCalcdata(e,"x",g),u=m.makeCalcdata(e,"y"),h=r(e,m,"y",u),d=!!e.yperiodalignment,f="y"):(l=m.makeCalcdata(e,"y",g),u=p.makeCalcdata(e,"x"),h=r(e,p,"x",u),d=!!e.xperiodalignment,f="x"),c=h.vals;for(var v=Math.min(c.length,l.length),y=new Array(v),_=0;_<v;_++)y[_]={p:c[_],s:l[_]},d&&(y[_].orig_p=u[_],y[_][f+"End"]=h.ends[_],y[_][f+"Start"]=h.starts[_]),e.ids&&(y[_].id=String(e.ids[_]));return i(e,"marker")&&a(t,e,{vals:e.marker.color,containerStr:"marker",cLetter:"c"}),i(e,"marker.line")&&a(t,e,{vals:e.marker.line.color,containerStr:"marker.line",cLetter:"c"}),o(y,e),s(y,e),y}})),Ua=a(((t,e)=>{var n=l(),r=$t();function i(t){return"_"+t+"Text_minsize"}e.exports={recordMinTextSize:function(t,e,n){if(n.uniformtext.mode){var r=i(t),a=n.uniformtext.minsize,o=e.scale*e.fontSize;e.hide=o<a,n[r]=n[r]||1/0,e.hide||(n[r]=Math.min(n[r],Math.max(o,a)))}},clearMinTextSize:function(t,e){e[i(t)]=void 0},resizeText:function(t,e,i){var a=t._fullLayout,o=a["_"+i+"Text_minsize"];if(o){var s,l="hide"===a.uniformtext.mode;switch(i){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}e.selectAll(s).each((function(t){var e=t.transform;if(e){e.scale=l&&e.hide?0:o/e.fontSize;var i=n.select(this).select("text");r.setTransormAndDisplay(i,e)}}))}}}})),Za=a((t=>{var e=f(),n=T(),r=$t().isArrayOrTypedArray;t.coerceString=function(t,e,n){if("string"==typeof e){if(e||!t.noBlank)return e}else if(("number"==typeof e||!0===e)&&!t.strict)return String(e);return void 0!==n?n:t.dflt},t.coerceNumber=function(t,n,r){if(e(n)){n=+n;var i=t.min,a=t.max;if(!(void 0!==i&&n<i||void 0!==a&&n>a))return n}return void 0!==r?r:t.dflt},t.coerceColor=function(t,e,r){return n(e).isValid()?e:void 0!==r?r:t.dflt},t.coerceEnumerated=function(t,e,n){return t.coerceNumber&&(e=+e),-1!==t.values.indexOf(e)?e:void 0!==n?n:t.dflt},t.getValue=function(t,e){var n;return r(t)?e<t.length&&(n=t[e]):n=t,n},t.getLineWidth=function(t,e){return 0<e.mlw?e.mlw:r(t.marker.line.width)?0:t.marker.line.width}})),Va=a(((t,e)=>{var n=l(),r=E(),i=Ze(),a=$t(),o=Et(),s=Ua().resizeText,c=za(),u=c.textfont,h=c.insidetextfont,d=c.outsidetextfont,f=Za();function p(t,e,n){i.pointStyle(t.selectAll("path"),e,n),m(t,e,n)}function m(t,e,r){t.selectAll("text").each((function(t){var o=n.select(this),s=a.ensureUniformFontSize(r,g(o,t,e,r));i.font(o,s)}))}function g(t,e,n,r){var i=r._fullLayout.font,a=n.textfont;if(t.classed("bartext-inside")){var o=b(e,n);a=y(n,e.i,i,o)}else t.classed("bartext-outside")&&(a=_(n,e.i,i));return a}function v(t,e,n){return x(u,t.textfont,e,n)}function y(t,e,n,i){var a=v(t,e,n);return(void 0===t._input.textfont||void 0===t._input.textfont.color||Array.isArray(t.textfont.color)&&void 0===t.textfont.color[e])&&(a={color:r.contrast(i),family:a.family,size:a.size,weight:a.weight,style:a.style,variant:a.variant,textcase:a.textcase,lineposition:a.lineposition,shadow:a.shadow}),x(h,t.insidetextfont,e,a)}function _(t,e,n){var r=v(t,e,n);return x(d,t.outsidetextfont,e,r)}function x(t,e,n,r){e=e||{};var i=f.getValue(e.family,n),a=f.getValue(e.size,n),o=f.getValue(e.color,n),s=f.getValue(e.weight,n),l=f.getValue(e.style,n),c=f.getValue(e.variant,n),u=f.getValue(e.textcase,n),h=f.getValue(e.lineposition,n),d=f.getValue(e.shadow,n);return{family:f.coerceString(t.family,i,r.family),size:f.coerceNumber(t.size,a,r.size),color:f.coerceColor(t.color,o,r.color),weight:f.coerceString(t.weight,s,r.weight),style:f.coerceString(t.style,l,r.style),variant:f.coerceString(t.variant,c,r.variant),textcase:f.coerceString(t.variant,u,r.textcase),lineposition:f.coerceString(t.variant,h,r.lineposition),shadow:f.coerceString(t.variant,d,r.shadow)}}function b(t,e){return"waterfall"===e.type?e[t.dir].marker.color:t.mcc||t.mc||e.marker.color}e.exports={style:function(t){var e=n.select(t).selectAll('g[class^="barlayer"]').selectAll("g.trace");s(t,e,"bar");var r=e.size(),i=t._fullLayout;e.style("opacity",(function(t){return t[0].trace.opacity})).each((function(t){("stack"===i.barmode&&r>1||0===i.bargap&&0===i.bargroupgap&&!t[0].trace.marker.line.width)&&n.select(this).attr("shape-rendering","crispEdges")})),e.selectAll("g.points").each((function(e){p(n.select(this),e[0].trace,t)})),o.getComponentMethod("errorbars","style")(e)},styleTextPoints:m,styleOnSelect:function(t,e,r){var s=e[0].trace;s.selectedpoints?function(t,e,r){i.selectedPointStyle(t.selectAll("path"),e),function(t,e,r){t.each((function(t){var o,s=n.select(this);if(t.selected){o=a.ensureUniformFontSize(r,g(s,t,e,r));var l=e.selected.textfont&&e.selected.textfont.color;l&&(o.color=l),i.font(s,o)}else i.selectedTextStyle(s,e)}))}(t.selectAll("text"),e,r)}(r,s,t):(p(r,s,t),o.getComponentMethod("errorbars","style")(r))},getInsideTextFont:y,getOutsideTextFont:_,getBarColor:b,resizeText:s}})),Ya=a(((t,e)=>{var n=l(),r=f(),i=$t(),a=ve(),o=E(),s=Ze(),c=Et(),u=qe().tickText,h=Ua(),d=h.recordMinTextSize,p=h.clearMinTextSize,m=Va(),g=Za(),v=Ia(),y=za(),_=y.text,x=y.textposition,b=Be().appendArrayPointValue,w=v.TEXTPAD;function M(t){return t.id}function T(t){return(t>0)-(t<0)}function k(t,e){return t<e?1:-1}function A(t,e,n,r){var i;return!e.uniformtext.mode&&L(n)?(r&&(i=r()),t.transition().duration(n.duration).ease(n.easing).each("end",(function(){i&&i()})).each("interrupt",(function(){i&&i()}))):t}function L(t){return t&&t.duration>0}function C(t,e,n,r,i){return!(t<0||e<0)&&(n<=t&&r<=e||n<=e&&r<=t||(i?t>=n*(e/r):e>=r*(t/n)))}function S(t){return"auto"===t?0:t}function P(t,e){var n=Math.PI/180*e,r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));return{x:t.width*i+t.height*r,y:t.width*r+t.height*i}}function D(t,e,n,r,i,a){var o=!!a.isHorizontal,s=!!a.constrained,l=a.angle||0,c=a.anchor,u="end"===c,h="start"===c,d=((a.leftToRight||0)+1)/2,f=1-d,p=a.hasB,m=a.r,g=a.overhead,v=i.width,y=i.height,_=Math.abs(e-t),x=Math.abs(r-n),b=_>2*w&&x>2*w?w:0;_-=2*b,x-=2*b;var M=S(l);"auto"===l&&!(v<=_&&y<=x)&&(v>_||y>x)&&(!(v>x||y>_)||v<y!=_<x)&&(M+=90);var T,A,L=P(i,M);if(m&&m-g>w){var C=function(t,e,n,r,i,a,o,s,l){var c,u,h,d,f=Math.max(0,Math.abs(e-t)-2*w),p=Math.max(0,Math.abs(r-n)-2*w),m=a-w,g=o?m-Math.sqrt(m*m-(m-o)*(m-o)):m,v=l?2*m:s?m-o:2*g,y=l?2*m:s?2*g:m-o;return i.y/i.x>=p/(f-v)?d=p/i.y:i.y/i.x<=(p-y)/f?d=f/i.x:!l&&s?(c=i.x*i.x+i.y*i.y/4,h=(f-m)*(f-m)+(p/2-m)*(p/2-m)-m*m,d=(-(u=-2*i.x*(f-m)-i.y*(p/2-m))+Math.sqrt(u*u-4*c*h))/(2*c)):l?(c=(i.x*i.x+i.y*i.y)/4,h=(f/2-m)*(f/2-m)+(p/2-m)*(p/2-m)-m*m,d=(-(u=-i.x*(f/2-m)-i.y*(p/2-m))+Math.sqrt(u*u-4*c*h))/(2*c)):(c=i.x*i.x/4+i.y*i.y,h=(f/2-m)*(f/2-m)+(p-m)*(p-m)-m*m,d=(-(u=-i.x*(f/2-m)-2*i.y*(p-m))+Math.sqrt(u*u-4*c*h))/(2*c)),{scale:d=Math.min(1,d),pad:s?Math.max(0,m-Math.sqrt(Math.max(0,m*m-(m-(p-i.y*d)/2)*(m-(p-i.y*d)/2)))-o):Math.max(0,m-Math.sqrt(Math.max(0,m*m-(m-(f-i.x*d)/2)*(m-(f-i.x*d)/2)))-o)}}(t,e,n,r,L,m,g,o,p);T=C.scale,A=C.pad}else T=1,s&&(T=Math.min(1,_/L.x,x/L.y)),A=0;var D=i.left*f+i.right*d,O=(i.top+i.bottom)/2,E=(t+w)*f+(e-w)*d,I=(n+r)/2,z=0,N=0;if(h||u){var R=(o?L.x:L.y)/2;m&&(u||p)&&(b+=A);var F=o?k(t,e):k(n,r);o?h?(E=t+F*b,z=-F*R):(E=e-F*b,z=F*R):h?(I=n+F*b,N=-F*R):(I=r-F*b,N=F*R)}return{textX:D,textY:O,targetX:E,targetY:I,anchorX:z,anchorY:N,scale:T,rotate:M}}e.exports={plot:function(t,e,l,h,f,v){var y=e.xaxis,O=e.yaxis,E=t._fullLayout,I=t._context.staticPlot;f||(f={mode:E.barmode,norm:E.barmode,gap:E.bargap,groupgap:E.bargroupgap},p("bar",E));var z=i.makeTraceGroups(h,l,"trace bars").each((function(l){var c=n.select(this),h=l[0].trace,p=l[0].t,z="waterfall"===h.type,N="funnel"===h.type,R="histogram"===h.type,F="bar"===h.type,j=F||N,B=0;z&&h.connector.visible&&"between"===h.connector.mode&&(B=h.connector.line.width/2);var H="h"===h.orientation,U=L(f),Z=i.ensureSingle(c,"g","points"),V=function(t){if(t.ids)return M}(h),Y=Z.selectAll("g.point").data(i.identity,V);Y.enter().append("g").classed("point",!0),Y.exit().remove(),Y.each((function(c,M){var L,z,N=n.select(this),Z=function(t,e,n,r){var i=[],a=[],o=r?e:n,s=r?n:e;return i[0]=o.c2p(t.s0,!0),a[0]=s.c2p(t.p0,!0),i[1]=o.c2p(t.s1,!0),a[1]=s.c2p(t.p1,!0),r?[i,a]:[a,i]}(c,y,O,H),V=Z[0][0],Y=Z[0][1],W=Z[1][0],G=Z[1][1],q=0==(H?Y-V:G-W);if(q&&j&&g.getLineWidth(h,c)&&(q=!1),q||(q=!(r(V)&&r(Y)&&r(W)&&r(G))),c.isBlank=q,q&&(H?Y=V:G=W),B&&!q&&(H?(V-=k(V,Y)*B,Y+=k(V,Y)*B):(W-=k(W,G)*B,G+=k(W,G)*B)),"waterfall"===h.type){if(!q){var X=h[c.dir].marker;L=X.line.width,z=X.color}}else L=g.getLineWidth(h,c),z=c.mc||h.marker.color;function J(t){var e=n.round(L/2%1,2);return 0===f.gap&&0===f.groupgap?n.round(Math.round(t)-e,2):t}var K=o.opacity(z)<1||L>.01?J:function(t,e,n){return n&&t===e?t:Math.abs(t-e)>=2?J(t):t>e?Math.ceil(t):Math.floor(t)};t._context.staticPlot||(V=K(V,Y,H),Y=K(Y,V,H),W=K(W,G,!H),G=K(G,W,!H));var $,Q=H?y.c2p:O.c2p;$=c.s0>0?c._sMax:c.s0<0?c._sMin:c.s1>0?c._sMax:c._sMin;var tt,et,nt=F||R?function(t,e){if(!t)return 0;var n,r=Math.abs(H?G-W:Y-V),i=Math.abs(H?Y-V:G-W),a=K(Math.abs(Q($,!0)-Q(0,!0))),o=c.hasB?Math.min(r/2,i/2):Math.min(r/2,a);return n="%"===e?r*(Math.min(50,t)/100):t,K(Math.max(Math.min(n,o),0))}(p.cornerradiusvalue,p.cornerradiusform):0,rt="M"+V+","+W+"V"+G+"H"+Y+"V"+W+"Z",it=0;if(nt&&c.s){var at=0===T(c.s0)||T(c.s)===T(c.s0)?c.s1:c.s0;if((it=K(c.hasB?0:Math.abs(Q($,!0)-Q(at,!0))))<nt){var ot=k(V,Y),st=k(W,G),lt=ot===-st?1:0;if(H)if(c.hasB)tt="M"+(V+nt*ot)+","+W+"A "+nt+","+nt+" 0 0 "+lt+" "+V+","+(W+nt*st)+"V"+(G-nt*st)+"A "+nt+","+nt+" 0 0 "+lt+" "+(V+nt*ot)+","+G+"H"+(Y-nt*ot)+"A "+nt+","+nt+" 0 0 "+lt+" "+Y+","+(G-nt*st)+"V"+(W+nt*st)+"A "+nt+","+nt+" 0 0 "+lt+" "+(Y-nt*ot)+","+W+"Z";else{var ct=(et=Math.abs(Y-V)+it)<nt?nt-Math.sqrt(et*(2*nt-et)):0,ut=it>0?Math.sqrt(it*(2*nt-it)):0,ht=ot>0?Math.max:Math.min;tt="M"+V+","+W+"V"+(G-ct*st)+"H"+ht(Y-(nt-it)*ot,V)+"A "+nt+","+nt+" 0 0 "+lt+" "+Y+","+(G-nt*st-ut)+"V"+(W+nt*st+ut)+"A "+nt+","+nt+" 0 0 "+lt+" "+ht(Y-(nt-it)*ot,V)+","+(W+ct*st)+"Z"}else if(c.hasB)tt="M"+(V+nt*ot)+","+W+"A "+nt+","+nt+" 0 0 "+lt+" "+V+","+(W+nt*st)+"V"+(G-nt*st)+"A "+nt+","+nt+" 0 0 "+lt+" "+(V+nt*ot)+","+G+"H"+(Y-nt*ot)+"A "+nt+","+nt+" 0 0 "+lt+" "+Y+","+(G-nt*st)+"V"+(W+nt*st)+"A "+nt+","+nt+" 0 0 "+lt+" "+(Y-nt*ot)+","+W+"Z";else{var dt=(et=Math.abs(G-W)+it)<nt?nt-Math.sqrt(et*(2*nt-et)):0,ft=it>0?Math.sqrt(it*(2*nt-it)):0,pt=st>0?Math.max:Math.min;tt="M"+(V+dt*ot)+","+W+"V"+pt(G-(nt-it)*st,W)+"A "+nt+","+nt+" 0 0 "+lt+" "+(V+nt*ot-ft)+","+G+"H"+(Y-nt*ot+ft)+"A "+nt+","+nt+" 0 0 "+lt+" "+(Y-dt*ot)+","+pt(G-(nt-it)*st,W)+"V"+W+"Z"}}else tt=rt}else tt=rt;var mt=A(i.ensureSingle(N,"path"),E,f,v);if(mt.style("vector-effect",I?"none":"non-scaling-stroke").attr("d",isNaN((Y-V)*(G-W))||q&&t._context.staticPlot?"M0,0Z":tt).call(s.setClipUrl,e.layerClipId,t),!E.uniformtext.mode&&U){var gt=s.makePointStyleFns(h);s.singlePointStyle(c,mt,h,gt,t)}(function(t,e,n,r,o,l,c,h,f,p,v,y,M){var T,L=e.xaxis,O=e.yaxis,E=t._fullLayout;function I(e,n,r){return i.ensureSingle(e,"text").text(n).attr({class:"bartext bartext-"+T,"text-anchor":"middle","data-notex":1}).call(s.font,r).call(a.convertToTspans,t)}var z=r[0].trace,N="h"===z.orientation,R=function(t,e,n,r,a){var o,s=e[0].trace;return o=s.texttemplate?function(t,e,n,r,a){var o=e[0].trace,s=i.castOption(o,n,"texttemplate");if(!s)return"";var l,c,h,d,f="histogram"===o.type,p="waterfall"===o.type,m="funnel"===o.type,g="h"===o.orientation;function v(t){return u(d,d.c2l(t),!0).text}g?(l="y",c=a,h="x",d=r):(l="x",c=r,h="y",d=a);var y=e[n],_={};_.label=y.p,_.labelLabel=_[l+"Label"]=function(t){return u(c,c.c2l(t),!0).text}(y.p);var x=i.castOption(o,y.i,"text");(0===x||x)&&(_.text=x),_.value=y.s,_.valueLabel=_[h+"Label"]=v(y.s);var w={};b(w,o,y.i),(f||void 0===w.x)&&(w.x=g?_.value:_.label),(f||void 0===w.y)&&(w.y=g?_.label:_.value),(f||void 0===w.xLabel)&&(w.xLabel=g?_.valueLabel:_.labelLabel),(f||void 0===w.yLabel)&&(w.yLabel=g?_.labelLabel:_.valueLabel),p&&(_.delta=+y.rawS||y.s,_.deltaLabel=v(_.delta),_.final=y.v,_.finalLabel=v(_.final),_.initial=_.final-_.delta,_.initialLabel=v(_.initial)),m&&(_.value=y.s,_.valueLabel=v(_.value),_.percentInitial=y.begR,_.percentInitialLabel=i.formatPercent(y.begR),_.percentPrevious=y.difR,_.percentPreviousLabel=i.formatPercent(y.difR),_.percentTotal=y.sumR,_.percenTotalLabel=i.formatPercent(y.sumR));var M=i.castOption(o,y.i,"customdata");return M&&(_.customdata=M),i.texttemplateString(s,_,t._d3locale,w,_,o._meta||{})}(t,e,n,r,a):s.textinfo?function(t,e,n,r){var a=t[0].trace,o="h"===a.orientation,s="waterfall"===a.type,l="funnel"===a.type;function c(t){return u(o?n:r,+t,!0).text}var h,d=a.textinfo,f=t[e],p=d.split("+"),m=[],g=function(t){return-1!==p.indexOf(t)};if(g("label")&&m.push(function(t){return u(o?r:n,t,!0).text}(t[e].p)),g("text")&&(0===(h=i.castOption(a,f.i,"text"))||h)&&m.push(h),s){var v=+f.rawS||f.s,y=f.v,_=y-v;g("initial")&&m.push(c(_)),g("delta")&&m.push(c(v)),g("final")&&m.push(c(y))}if(l){g("value")&&m.push(c(f.s));var x=0;g("percent initial")&&x++,g("percent previous")&&x++,g("percent total")&&x++;var b=x>1;g("percent initial")&&(h=i.formatPercent(f.begR),b&&(h+=" of initial"),m.push(h)),g("percent previous")&&(h=i.formatPercent(f.difR),b&&(h+=" of previous"),m.push(h)),g("percent total")&&(h=i.formatPercent(f.sumR),b&&(h+=" of total"),m.push(h))}return m.join("<br>")}(e,n,r,a):g.getValue(s.text,n),g.coerceString(_,o)}(E,r,o,L,O);T=function(t,e){var n=g.getValue(t.textposition,e);return g.coerceEnumerated(x,n)}(z,o);var F="stack"===y.mode||"relative"===y.mode,j=r[o],B=!F||j._outmost,H=j.hasB,U=p&&p-v>w;if(R&&"none"!==T&&(!j.isBlank&&l!==c&&h!==f||"auto"!==T&&"inside"!==T)){var Z=E.font,V=m.getBarColor(r[o],z),Y=m.getInsideTextFont(z,o,Z,V),W=m.getOutsideTextFont(z,o,Z),G=z.insidetextanchor||"end",q=n.datum();N?"log"===L.type&&q.s0<=0&&(l=L.range[0]<L.range[1]?0:L._length):"log"===O.type&&q.s0<=0&&(h=O.range[0]<O.range[1]?O._length:0);var X,J,K,$,Q,tt=Math.abs(c-l),et=Math.abs(f-h),nt=tt-2*w,rt=et-2*w;if("outside"===T&&!B&&!j.hasB&&(T="inside"),"auto"===T)if(B){T="inside",X=I(n,R,Q=i.ensureUniformFontSize(t,Y)),K=(J=s.bBox(X.node())).width,$=J.height;var it,at=K>0&&$>0;it=U?H?C(nt-2*p,rt,K,$,N)||C(nt,rt-2*p,K,$,N):N?C(nt-(p-v),rt,K,$,N)||C(nt,rt-2*(p-v),K,$,N):C(nt,rt-(p-v),K,$,N)||C(nt-2*(p-v),rt,K,$,N):C(nt,rt,K,$,N),at&&it?T="inside":(T="outside",X.remove(),X=null)}else T="inside";if(!X){var ot=(X=I(n,R,Q=i.ensureUniformFontSize(t,"outside"===T?W:Y))).attr("transform");if(X.attr("transform",""),K=(J=s.bBox(X.node())).width,$=J.height,X.attr("transform",ot),K<=0||$<=0)return void X.remove()}var st,lt=z.textangle;"outside"===T?st=function(t,e,n,r,i,a){var o,s=!!a.isHorizontal,l=!!a.constrained,c=a.angle||0,u=i.width,h=i.height,d=Math.abs(e-t),f=Math.abs(r-n);o=s?f>2*w?w:0:d>2*w?w:0;var p=1;l&&(p=s?Math.min(1,f/h):Math.min(1,d/u));var m=S(c),g=P(i,m),v=(s?g.x:g.y)/2,y=(i.left+i.right)/2,_=(i.top+i.bottom)/2,x=(t+e)/2,b=(n+r)/2,M=0,T=0,A=s?k(e,t):k(n,r);return s?(x=e-A*o,M=A*v):(b=r+A*o,T=-A*v),{textX:y,textY:_,targetX:x,targetY:b,anchorX:M,anchorY:T,scale:p,rotate:m}}(l,c,h,f,J,{isHorizontal:N,constrained:"both"===z.constraintext||"outside"===z.constraintext,angle:lt}):st=D(l,c,h,f,J,{isHorizontal:N,constrained:"both"===z.constraintext||"inside"===z.constraintext,angle:lt,anchor:G,hasB:H,r:p,overhead:v}),st.fontSize=Q.size,d("histogram"===z.type?"bar":z.type,st,E),j.transform=st;var ct=A(X,E,y,M);i.setTransormAndDisplay(ct,st)}else n.select("text").remove()})(t,e,N,l,M,V,Y,W,G,nt,it,f,v),e.layerClipId&&s.hideOutsideRangePoint(c,N.select("text"),y,O,h.xcalendar,h.ycalendar)}));var W=!1===h.cliponaxis;s.setClipUrl(c,W?null:e.layerClipId,t)}));c.getComponentMethod("errorbars","plot")(t,z,e,f)},toMoveInsideBar:D}})),Wa=a(((t,e)=>{var n=kn(),r=Et(),i=E(),a=$t().fillText,o=Za().getLineWidth,s=qe().hoverLabelText,l=p().BADNUM;function c(t,e,r,i,o){var c,u,h,d,f,p,m,g=t.cd,v=g[0].trace,y=g[0].t,_="closest"===i,x="waterfall"===v.type,b=t.maxHoverDistance,w=t.maxSpikeDistance;"h"===v.orientation?(c=r,u=e,h="y",d="x",f=I,p=O):(c=e,u=r,h="x",d="y",p=I,f=O);var M=v[h+"period"],T=_||M;function k(t){return L(t,-1)}function A(t){return L(t,1)}function L(t,e){var n=t.w;return t[h]+e*n/2}function C(t){return t[h+"End"]-t[h+"Start"]}var S=_?k:M?function(t){return t.p-C(t)/2}:function(t){return Math.min(k(t),t.p-y.bardelta/2)},P=_?A:M?function(t){return t.p+C(t)/2}:function(t){return Math.max(A(t),t.p+y.bardelta/2)};function D(t,e,r){return o.finiteRange&&(r=0),n.inbox(t-c,e-c,r+Math.min(1,Math.abs(e-t)/m)-1)}function O(t){return D(S(t),P(t),b)}function E(t){var e=t[d];if(x){var n=Math.abs(t.rawS)||0;u>0?e+=n:u<0&&(e-=n)}return e}function I(t){var e=u,r=t.b,i=E(t);return n.inbox(r-e,i-e,b+(i-e)/(i-r)-1)}var z=t[h+"a"],N=t[d+"a"];m=Math.abs(z.r2c(z.range[1])-z.r2c(z.range[0]));var R,F,j,B,H=n.getDistanceFunction(i,f,p,(function(t){return(f(t)+p(t))/2}));if(n.getClosest(g,H,t),!1!==t.index&&g[t.index].p!==l){T||(S=function(t){return Math.min(k(t),t.p-y.bargroupwidth/2)},P=function(t){return Math.max(A(t),t.p+y.bargroupwidth/2)});var U=g[t.index],Z=v.base?U.b+U.s:U.s;t[d+"0"]=t[d+"1"]=N.c2p(U[d],!0),t[d+"LabelVal"]=Z;var V=y.extents[y.extents.round(U.p)];t[h+"0"]=z.c2p(_?S(U):V[0],!0),t[h+"1"]=z.c2p(_?P(U):V[1],!0);var Y=void 0!==U.orig_p;return t[h+"LabelVal"]=Y?U.orig_p:U.p,t.labelLabel=s(z,t[h+"LabelVal"],v[h+"hoverformat"]),t.valueLabel=s(N,t[d+"LabelVal"],v[d+"hoverformat"]),t.baseLabel=s(N,U.b,v[d+"hoverformat"]),t.spikeDistance=(F=u,j=(R=U).b,B=E(R),(n.inbox(j-F,B-F,w+(B-F)/(B-j)-1)+function(t){return D(k(t),A(t),w)}(U))/2),t[h+"Spike"]=z.c2p(U.p,!0),a(U,v,t),t.hovertemplate=v.hovertemplate,t}}function u(t,e){var n=e.mcc||t.marker.color,r=e.mlcc||t.marker.line.color,a=o(t,e);return i.opacity(n)?n:i.opacity(r)&&a?r:void 0}e.exports={hoverPoints:function(t,e,n,i,a){var o=c(t,e,n,i,a);if(o){var s=o.cd,l=s[0].trace,h=s[o.index];return o.color=u(l,h),r.getComponentMethod("errorbars","hoverInfo")(h,l,o),[o]}},hoverOnBars:c,getTraceColor:u}})),Ga=a(((t,e)=>{e.exports=function(t,e,n){return t.x="xVal"in e?e.xVal:e.x,t.y="yVal"in e?e.yVal:e.y,e.xa&&(t.xaxis=e.xa),e.ya&&(t.yaxis=e.ya),"h"===n.orientation?(t.label=t.y,t.value=t.x):(t.label=t.x,t.value=t.y),t}})),qa=a(((t,e)=>{function n(t,e,n,r,i){var a=e.c2p(r?t.s0:t.p0,!0),o=e.c2p(r?t.s1:t.p1,!0),s=n.c2p(r?t.p0:t.s0,!0),l=n.c2p(r?t.p1:t.s1,!0);return i?[(a+o)/2,(s+l)/2]:r?[o,(s+l)/2]:[(a+o)/2,l]}e.exports=function(t,e){var r,i=t.cd,a=t.xaxis,o=t.yaxis,s=i[0].trace,l="funnel"===s.type,c="h"===s.orientation,u=[];if(!1===e)for(r=0;r<i.length;r++)i[r].selected=0;else for(r=0;r<i.length;r++){var h=i[r],d="ct"in h?h.ct:n(h,a,o,c,l);e.contains(d,!1,r,t)?(u.push({pointNumber:r,x:a.c2d(h.x),y:o.c2d(h.y)}),h.selected=1):h.selected=0}return u}})),Xa=a(((t,e)=>{e.exports={attributes:za(),layoutAttributes:Na(),supplyDefaults:Fa().supplyDefaults,crossTraceDefaults:Fa().crossTraceDefaults,supplyLayoutDefaults:ja(),calc:Ha(),crossTraceCalc:$r().crossTraceCalc,colorbar:ri(),arraysToCalcdata:Ba(),plot:Ya().plot,style:Va().style,styleOnSelect:Va().styleOnSelect,hoverPoints:Wa().hoverPoints,eventData:Ga(),selectPoints:qa(),moduleType:"trace",name:"bar",basePlotModule:vi(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}})),Ja=a(((t,e)=>{e.exports=Xa()})),Ka=a(((t,e)=>{var n=P(),r=pa().attributes,i=A(),a=O(),o=Tt().hovertemplateAttrs,s=Tt().texttemplateAttrs,l=k().extendFlat,c=wt().pattern,u=i({editType:"plot",arrayOk:!0,colorEditType:"plot"});e.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:c,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:l({},n.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:o({},{keys:["label","color","value","percent","text"]}),texttemplate:s({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:l({},u,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:l({},u,{}),outsidetextfont:l({},u,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:l({},u,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:r({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}})),$a=a(((t,e)=>{var n=f(),r=$t(),i=Ka(),a=pa().defaults,o=Fa().handleText,s=$t().coercePattern;function l(t,e){var i=r.isArrayOrTypedArray(t),a=r.isArrayOrTypedArray(e),o=Math.min(i?t.length:1/0,a?e.length:1/0);if(isFinite(o)||(o=0),o&&a){for(var s,l=0;l<o;l++){var c=e[l];if(n(c)&&c>0){s=!0;break}}s||(o=0)}return{hasLabels:i,hasValues:a,len:o}}function c(t,e,n,r,i){r("marker.line.width")&&r("marker.line.color",i?void 0:n.paper_bgcolor);var a=r("marker.colors");s(r,"marker.pattern",a),t.marker&&!e.marker.pattern.fgcolor&&(e.marker.pattern.fgcolor=t.marker.colors),e.marker.pattern.bgcolor||(e.marker.pattern.bgcolor=n.paper_bgcolor)}e.exports={handleLabelsAndValues:l,handleMarkerDefaults:c,supplyDefaults:function(t,e,n,s){function u(n,a){return r.coerce(t,e,i,n,a)}var h=l(u("labels"),u("values")),d=h.len;if(e._hasLabels=h.hasLabels,e._hasValues=h.hasValues,!e._hasLabels&&e._hasValues&&(u("label0"),u("dlabel")),d){e._length=d,c(t,e,s,u,!0),u("scalegroup");var f,p=u("text"),m=u("texttemplate");if(m||(f=u("textinfo",r.isArrayOrTypedArray(p)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),m||f&&"none"!==f){var g=u("textposition");o(t,e,s,u,g,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(g)||"auto"===g||"outside"===g)&&u("automargin"),("inside"===g||"auto"===g||Array.isArray(g))&&u("insidetextorientation")}else"none"===f&&u("textposition","none");a(e,s,u);var v=u("hole");if(u("title.text")){var y=u("title.position",v?"middle center":"top center");!v&&"middle center"===y&&(e.title.position="top center"),r.coerceFont(u,"title.font",s.font)}u("sort"),u("direction"),u("rotation"),u("pull")}else e.visible=!1}}})),Qa=a(((t,e)=>{e.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}})),to=a(((t,e)=>{var n=$t(),r=Qa();e.exports=function(t,e){function i(i,a){return n.coerce(t,e,r,i,a)}i("hiddenlabels"),i("piecolorway",e.colorway),i("extendpiecolors")}})),eo=a(((t,e)=>{var n=f(),r=T(),i=E(),a={};function o(t){return function(e,n){return!(!e||(e=r(e),!e.isValid()))&&(e=i.addOpacity(e,e.getAlpha()),t[n]||(t[n]=e),e)}}function s(t,e){var n,i=JSON.stringify(t),a=e[i];if(!a){for(a=t.slice(),n=0;n<t.length;n++)a.push(r(t[n]).lighten(20).toHexString());for(n=0;n<t.length;n++)a.push(r(t[n]).darken(20).toHexString());e[i]=a}return a}e.exports={calc:function(t,e){var r,i,a=[],s=t._fullLayout,l=s.hiddenlabels||[],c=e.labels,u=e.marker.colors||[],h=e.values,d=e._length,f=e._hasValues&&d;if(e.dlabel)for(c=new Array(d),r=0;r<d;r++)c[r]=String(e.label0+r*e.dlabel);var p={},m=o(s["_"+e.type+"colormap"]),g=0,v=!1;for(r=0;r<d;r++){var y,_,x;if(f){if(y=h[r],!n(y))continue;y=+y}else y=1;(void 0===(_=c[r])||""===_)&&(_=r);var b=p[_=String(_)];void 0===b?(p[_]=a.length,(x=-1!==l.indexOf(_))||(g+=y),a.push({v:y,label:_,color:m(u[r],_),i:r,pts:[r],hidden:x})):(v=!0,(i=a[b]).v+=y,i.pts.push(r),i.hidden||(g+=y),!1===i.color&&u[r]&&(i.color=m(u[r],_)))}return a=a.filter((function(t){return t.v>=0})),("funnelarea"===e.type?v:e.sort)&&a.sort((function(t,e){return e.v-t.v})),a[0]&&(a[0].vTotal=g),a},crossTraceCalc:function(t,e){var n=(e||{}).type;n||(n="pie");var r=t._fullLayout,i=t.calcdata,o=r[n+"colorway"],l=r["_"+n+"colormap"];r["extend"+n+"colors"]&&(o=s(o,a));for(var c=0,u=0;u<i.length;u++){var h=i[u];if(h[0].trace.type===n)for(var d=0;d<h.length;d++){var f=h[d];!1===f.color&&(l[f.label]?f.color=l[f.label]:(l[f.label]=f.color=o[c%o.length],c++))}}},makePullColorFn:o,generateExtendedColors:s}})),no=a(((t,e)=>{var n=Be().appendArrayMultiPointValues;e.exports=function(t,e){var r={curveNumber:e.index,pointNumbers:t.pts,data:e._input,fullData:e,label:t.label,color:t.color,value:t.v,percent:t.percent,text:t.text,bbox:t.bbox,v:t.v};return 1===t.pts.length&&(r.pointNumber=r.i=t.pts[0]),n(r,e,t.pts),"funnelarea"===e.type&&(delete r.v,delete r.i),r}})),ro=a(((t,e)=>{var n=l(),r=pe(),i=kn(),a=E(),o=Ze(),s=$t(),c=s.strScale,u=s.strTranslate,h=ve(),d=Ua(),f=d.recordMinTextSize,p=d.clearMinTextSize,m=Ia().TEXTPAD,g=dn(),v=no(),y=$t().isValidTextValue;function _(t,e,r){var a=r[0],o=a.cx,l=a.cy,c=a.trace,u="funnelarea"===c.type;"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),t.on("mouseover",(function(t){var r=e._fullLayout,h=e._fullData[c.index];if(!e._dragging&&!1!==r.hovermode){var d=h.hoverinfo;if(Array.isArray(d)&&(d=i.castHoverinfo({hoverinfo:[g.castOption(d,t.pts)],_module:c._module},r,0)),"all"===d&&(d="label+text+value+percent+name"),h.hovertemplate||"none"!==d&&"skip"!==d&&d){var f=t.rInscribed||0,p=o+t.pxmid[0]*(1-f),m=l+t.pxmid[1]*(1-f),y=r.separators,_=[];if(d&&-1!==d.indexOf("label")&&_.push(t.label),t.text=g.castOption(h.hovertext||h.text,t.pts),d&&-1!==d.indexOf("text")){var x=t.text;s.isValidTextValue(x)&&_.push(x)}t.value=t.v,t.valueLabel=g.formatPieValue(t.v,y),d&&-1!==d.indexOf("value")&&_.push(t.valueLabel),t.percent=t.v/a.vTotal,t.percentLabel=g.formatPiePercent(t.percent,y),d&&-1!==d.indexOf("percent")&&_.push(t.percentLabel);var b=h.hoverlabel,w=b.font,M=[];i.loneHover({trace:c,x0:p-f*a.r,x1:p+f*a.r,y:m,_x0:u?o+t.TL[0]:p-f*a.r,_x1:u?o+t.TR[0]:p+f*a.r,_y0:u?l+t.TL[1]:m-f*a.r,_y1:u?l+t.BL[1]:m+f*a.r,text:_.join("<br>"),name:h.hovertemplate||-1!==d.indexOf("name")?h.name:void 0,idealAlign:t.pxmid[0]<0?"left":"right",color:g.castOption(b.bgcolor,t.pts)||t.color,borderColor:g.castOption(b.bordercolor,t.pts),fontFamily:g.castOption(w.family,t.pts),fontSize:g.castOption(w.size,t.pts),fontColor:g.castOption(w.color,t.pts),nameLength:g.castOption(b.namelength,t.pts),textAlign:g.castOption(b.align,t.pts),hovertemplate:g.castOption(h.hovertemplate,t.pts),hovertemplateLabels:t,eventData:[v(t,h)]},{container:r._hoverlayer.node(),outerContainer:r._paper.node(),gd:e,inOut_bbox:M}),t.bbox=M[0],c._hasHoverLabel=!0}c._hasHoverEvent=!0,e.emit("plotly_hover",{points:[v(t,h)],event:n.event})}})),t.on("mouseout",(function(t){var r=e._fullLayout,a=e._fullData[c.index],o=n.select(this).datum();c._hasHoverEvent&&(t.originalEvent=n.event,e.emit("plotly_unhover",{points:[v(o,a)],event:n.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(i.loneUnhover(r._hoverlayer.node()),c._hasHoverLabel=!1)})),t.on("click",(function(t){var r=e._fullLayout,a=e._fullData[c.index];e._dragging||!1===r.hovermode||(e._hoverdata=[v(t,a)],i.click(e,n.event))}))}function x(t,e,n){var r=g.castOption(t.insidetextfont.color,e.pts);!r&&t._input.textfont&&(r=g.castOption(t._input.textfont.color,e.pts));var i=g.castOption(t.insidetextfont.family,e.pts)||g.castOption(t.textfont.family,e.pts)||n.family,o=g.castOption(t.insidetextfont.size,e.pts)||g.castOption(t.textfont.size,e.pts)||n.size,s=g.castOption(t.insidetextfont.weight,e.pts)||g.castOption(t.textfont.weight,e.pts)||n.weight,l=g.castOption(t.insidetextfont.style,e.pts)||g.castOption(t.textfont.style,e.pts)||n.style,c=g.castOption(t.insidetextfont.variant,e.pts)||g.castOption(t.textfont.variant,e.pts)||n.variant,u=g.castOption(t.insidetextfont.textcase,e.pts)||g.castOption(t.textfont.textcase,e.pts)||n.textcase,h=g.castOption(t.insidetextfont.lineposition,e.pts)||g.castOption(t.textfont.lineposition,e.pts)||n.lineposition,d=g.castOption(t.insidetextfont.shadow,e.pts)||g.castOption(t.textfont.shadow,e.pts)||n.shadow;return{color:r||a.contrast(e.color),family:i,size:o,weight:s,style:l,variant:c,textcase:u,lineposition:h,shadow:d}}function b(t,e){for(var n,r,i=0;i<t.length;i++)if((r=(n=t[i][0]).trace).title.text){var a=r.title.text;r._meta&&(a=s.templateString(a,r._meta));var l=o.tester.append("text").attr("data-notex",1).text(a).call(o.font,r.title.font).call(h.convertToTspans,e),c=o.bBox(l.node(),!0);n.titleBox={width:c.width,height:c.height},l.remove()}}function w(t,e,n){var r=n.r||e.rpx1,i=e.rInscribed;if(e.startangle===e.stopangle)return{rCenter:1-i,scale:0,rotate:0,textPosAngle:0};var a,o=e.ring,s=1===o&&Math.abs(e.startangle-e.stopangle)===2*Math.PI,l=e.halfangle,c=e.midangle,u=n.trace.insidetextorientation,h="horizontal"===u,d="tangential"===u,f="radial"===u,p="auto"===u,m=[];if(!p){var g,v=function(n,i){if(function(t,e){var n=t.startangle,r=t.stopangle;return n>e&&e>r||n<e&&e<r}(e,n)){var s=Math.abs(n-e.startangle),l=Math.abs(n-e.stopangle),c=s<l?s:l;(a="tan"===i?T(t,r,o,c,0):M(t,r,o,c,Math.PI/2)).textPosAngle=n,m.push(a)}};if(h||d){for(g=4;g>=-4;g-=2)v(Math.PI*g,"tan");for(g=4;g>=-4;g-=2)v(Math.PI*(g+1),"tan")}if(h||f){for(g=4;g>=-4;g-=2)v(Math.PI*(g+1.5),"rad");for(g=4;g>=-4;g-=2)v(Math.PI*(g+.5),"rad")}}if(s||p||h){var y=Math.sqrt(t.width*t.width+t.height*t.height);if((a={scale:i*r*2/y,rCenter:1-i,rotate:0}).textPosAngle=(e.startangle+e.stopangle)/2,a.scale>=1)return a;m.push(a)}(p||f)&&((a=M(t,r,o,l,c)).textPosAngle=(e.startangle+e.stopangle)/2,m.push(a)),(p||d)&&((a=T(t,r,o,l,c)).textPosAngle=(e.startangle+e.stopangle)/2,m.push(a));for(var _=0,x=0,b=0;b<m.length;b++){var w=m[b].scale;if(x<w&&(x=w,_=b),!p&&x>=1)break}return m[_]}function M(t,e,n,r,i){e=Math.max(0,e-2*m);var a=t.width/t.height,o=L(a,r,e,n);return{scale:2*o/t.height,rCenter:k(a,o/e),rotate:A(i)}}function T(t,e,n,r,i){e=Math.max(0,e-2*m);var a=t.height/t.width,o=L(a,r,e,n);return{scale:2*o/t.width,rCenter:k(a,o/e),rotate:A(i+Math.PI/2)}}function k(t,e){return Math.cos(e)-t*e}function A(t){return(180/Math.PI*t+720)%180-90}function L(t,e,n,r){var i=t+1/(2*Math.tan(e));return n*Math.min(1/(Math.sqrt(i*i+.5)+i),r/(Math.sqrt(t*t+r/2)+t))}function C(t,e){return t.v!==e.vTotal||e.trace.hole?Math.min(1/(1+1/Math.sin(t.halfangle)),t.ring/2):1}function S(t,e){var n=e.pxmid[0],r=e.pxmid[1],i=t.width/2,a=t.height/2;return n<0&&(i*=-1),r<0&&(a*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(a)*(i>0?1:-1)/2,y:a/(1+n*n/(r*r)),outside:!0}}function P(t,e){var n,r,i,a=t.trace,o={x:t.cx,y:t.cy},s={tx:0,ty:0};s.ty+=a.title.font.size,i=O(a),-1!==a.title.position.indexOf("top")?(o.y-=(1+i)*t.r,s.ty-=t.titleBox.height):-1!==a.title.position.indexOf("bottom")&&(o.y+=(1+i)*t.r);var l=function(t,e){return t/(void 0===e?1:e)}(t.r,t.trace.aspectratio),c=e.w*(a.domain.x[1]-a.domain.x[0])/2;return-1!==a.title.position.indexOf("left")?(c+=l,o.x-=(1+i)*l,s.tx+=t.titleBox.width/2):-1!==a.title.position.indexOf("center")?c*=2:-1!==a.title.position.indexOf("right")&&(c+=l,o.x+=(1+i)*l,s.tx-=t.titleBox.width/2),n=c/t.titleBox.width,r=D(t,e)/t.titleBox.height,{x:o.x,y:o.y,scale:Math.min(n,r),tx:s.tx,ty:s.ty}}function D(t,e){var n=t.trace,r=e.h*(n.domain.y[1]-n.domain.y[0]);return Math.min(t.titleBox.height,r/2)}function O(t){var e,n=t.pull;if(!n)return 0;if(s.isArrayOrTypedArray(n))for(n=0,e=0;e<t.pull.length;e++)t.pull[e]>n&&(n=t.pull[e]);return n}function I(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r][0],a=i.trace,o=a.domain,s=e.w*(o.x[1]-o.x[0]),l=e.h*(o.y[1]-o.y[0]);a.title.text&&"middle center"!==a.title.position&&(l-=D(i,e));var c=s/2,u=l/2;"funnelarea"===a.type&&!a.scalegroup&&(u/=a.aspectratio),i.r=Math.min(c,u)/(1+O(a)),i.cx=e.l+e.w*(a.domain.x[1]+a.domain.x[0])/2,i.cy=e.t+e.h*(1-a.domain.y[0])-l/2,a.title.text&&-1!==a.title.position.indexOf("bottom")&&(i.cy-=D(i,e)),a.scalegroup&&-1===n.indexOf(a.scalegroup)&&n.push(a.scalegroup)}!function(t,e){for(var n,r,i,a=0;a<e.length;a++){var o=1/0,s=e[a];for(r=0;r<t.length;r++)if((i=(n=t[r][0]).trace).scalegroup===s){var l;if("pie"===i.type)l=n.r*n.r;else if("funnelarea"===i.type){var c,u;i.aspectratio>1?u=(c=n.r)/i.aspectratio:c=(u=n.r)*i.aspectratio,l=(c*=(1+i.baseratio)/2)*u}o=Math.min(o,l/n.vTotal)}for(r=0;r<t.length;r++)if((i=(n=t[r][0]).trace).scalegroup===s){var h=o*n.vTotal;"funnelarea"===i.type&&(h/=(1+i.baseratio)/2,h/=i.aspectratio),n.r=Math.sqrt(h)}}}(t,n)}function z(t,e){return[t*Math.sin(e),-t*Math.cos(e)]}function N(t,e,n){var r,i=t._fullLayout,a=n.trace,o=a.texttemplate,l=a.textinfo;if(!o&&l&&"none"!==l){var c,u=l.split("+"),h=function(t){return-1!==u.indexOf(t)},d=h("label"),f=h("text"),p=h("value"),m=h("percent"),v=i.separators;if(c=d?[e.label]:[],f){var _=g.getFirstFilled(a.text,e.pts);y(_)&&c.push(_)}p&&c.push(g.formatPieValue(e.v,v)),m&&c.push(g.formatPiePercent(e.v/n.vTotal,v)),e.text=c.join("<br>")}if(o){var x=s.castOption(a,e.i,"texttemplate");if(x){var b={label:(r=e).label,value:r.v,valueLabel:g.formatPieValue(r.v,i.separators),percent:r.v/n.vTotal,percentLabel:g.formatPiePercent(r.v/n.vTotal,i.separators),color:r.color,text:r.text,customdata:s.castOption(a,r.i,"customdata")},w=g.getFirstFilled(a.text,e.pts);(y(w)||""===w)&&(b.text=w),e.text=s.texttemplateString(x,b,t._fullLayout._d3locale,b,a._meta||{})}else e.text=""}}function R(t,e){var n=t.rotate*Math.PI/180,r=Math.cos(n),i=Math.sin(n),a=(e.left+e.right)/2,o=(e.top+e.bottom)/2;t.textX=a*r-o*i,t.textY=a*i+o*r,t.noCenter=!0}e.exports={plot:function(t,e){var i=t._context.staticPlot,l=t._fullLayout,d=l._size;p("pie",l),b(e,t),I(e,d);var m=s.makeTraceGroups(l._pielayer,e,"trace").each((function(e){var p=n.select(this),m=e[0],v=m.trace;(function(t){var e,n,r,i=t[0],a=i.r,o=i.trace,s=g.getRotationAngle(o.rotation),l=2*Math.PI/i.vTotal,c="px0",u="px1";if("counterclockwise"===o.direction){for(e=0;e<t.length&&t[e].hidden;e++);if(e===t.length)return;s+=l*t[e].v,l*=-1,c="px1",u="px0"}for(r=z(a,s),e=0;e<t.length;e++)!(n=t[e]).hidden&&(n[c]=r,n.startangle=s,s+=l*n.v/2,n.pxmid=z(a,s),n.midangle=s,r=z(a,s+=l*n.v/2),n.stopangle=s,n[u]=r,n.largeArc=n.v>i.vTotal/2?1:0,n.halfangle=Math.PI*Math.min(n.v/i.vTotal,.5),n.ring=1-o.hole,n.rInscribed=C(n,i))})(e),p.attr("stroke-linejoin","round"),p.each((function(){var y=n.select(this).selectAll("g.slice").data(e);y.enter().append("g").classed("slice",!0),y.exit().remove();var b=[[[],[]],[[],[]]],M=!1;y.each((function(r,a){if(r.hidden)n.select(this).selectAll("path,g").remove();else{r.pointNumber=r.i,r.curveNumber=v.index,b[r.pxmid[1]<0?0:1][r.pxmid[0]<0?0:1].push(r);var c=m.cx,u=m.cy,d=n.select(this),p=d.selectAll("path.surface").data([r]);if(p.enter().append("path").classed("surface",!0).style({"pointer-events":i?"none":"all"}),d.call(_,t,e),v.pull){var y=+g.castOption(v.pull,r.pts)||0;y>0&&(c+=y*r.pxmid[0],u+=y*r.pxmid[1])}r.cxFinal=c,r.cyFinal=u;var T=v.hole;if(r.v===m.vTotal){var k="M"+(c+r.px0[0])+","+(u+r.px0[1])+D(r.px0,r.pxmid,!0,1)+D(r.pxmid,r.px0,!0,1)+"Z";T?p.attr("d","M"+(c+T*r.px0[0])+","+(u+T*r.px0[1])+D(r.px0,r.pxmid,!1,T)+D(r.pxmid,r.px0,!1,T)+"Z"+k):p.attr("d",k)}else{var A=D(r.px0,r.px1,!0,1);if(T){var L=1-T;p.attr("d","M"+(c+T*r.px1[0])+","+(u+T*r.px1[1])+D(r.px1,r.px0,!1,T)+"l"+L*r.px0[0]+","+L*r.px0[1]+A+"Z")}else p.attr("d","M"+c+","+u+"l"+r.px0[0]+","+r.px0[1]+A+"Z")}N(t,r,m);var C=g.castOption(v.textposition,r.pts),P=d.selectAll("g.slicetext").data(r.text&&"none"!==C?[0]:[]);P.enter().append("g").classed("slicetext",!0),P.exit().remove(),P.each((function(){var i=s.ensureSingle(n.select(this),"text","",(function(t){t.attr("data-notex",1)})),d=s.ensureUniformFontSize(t,"outside"===C?function(t,e,n){return{color:g.castOption(t.outsidetextfont.color,e.pts)||g.castOption(t.textfont.color,e.pts)||n.color,family:g.castOption(t.outsidetextfont.family,e.pts)||g.castOption(t.textfont.family,e.pts)||n.family,size:g.castOption(t.outsidetextfont.size,e.pts)||g.castOption(t.textfont.size,e.pts)||n.size,weight:g.castOption(t.outsidetextfont.weight,e.pts)||g.castOption(t.textfont.weight,e.pts)||n.weight,style:g.castOption(t.outsidetextfont.style,e.pts)||g.castOption(t.textfont.style,e.pts)||n.style,variant:g.castOption(t.outsidetextfont.variant,e.pts)||g.castOption(t.textfont.variant,e.pts)||n.variant,textcase:g.castOption(t.outsidetextfont.textcase,e.pts)||g.castOption(t.textfont.textcase,e.pts)||n.textcase,lineposition:g.castOption(t.outsidetextfont.lineposition,e.pts)||g.castOption(t.textfont.lineposition,e.pts)||n.lineposition,shadow:g.castOption(t.outsidetextfont.shadow,e.pts)||g.castOption(t.textfont.shadow,e.pts)||n.shadow}}(v,r,l.font):x(v,r,l.font));i.text(r.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(o.font,d).call(h.convertToTspans,t);var p,y=o.bBox(i.node());if("outside"===C)p=S(y,r);else if(p=w(y,r,m),"auto"===C&&p.scale<1){var _=s.ensureUniformFontSize(t,v.outsidetextfont);i.call(o.font,_),p=S(y=o.bBox(i.node()),r)}var b=p.textPosAngle,T=void 0===b?r.pxmid:z(m.r,b);if(p.targetX=c+T[0]*p.rCenter+(p.x||0),p.targetY=u+T[1]*p.rCenter+(p.y||0),R(p,y),p.outside){var k=p.targetY;r.yLabelMin=k-y.height/2,r.yLabelMid=k,r.yLabelMax=k+y.height/2,r.labelExtraX=0,r.labelExtraY=0,M=!0}p.fontSize=d.size,f(v.type,p,l),e[a].transform=p,s.setTransormAndDisplay(i,p)}))}function D(t,e,n,i){var a=i*(e[0]-t[0]),o=i*(e[1]-t[1]);return"a"+i*m.r+","+i*m.r+" 0 "+r.largeArc+(n?" 1 ":" 0 ")+a+","+o}}));var T=n.select(this).selectAll("g.titletext").data(v.title.text?[0]:[]);if(T.enter().append("g").classed("titletext",!0),T.exit().remove(),T.each((function(){var e,r=s.ensureSingle(n.select(this),"text","",(function(t){t.attr("data-notex",1)})),i=v.title.text;v._meta&&(i=s.templateString(i,v._meta)),r.text(i).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(o.font,v.title.font).call(h.convertToTspans,t),e="middle center"===v.title.position?function(t){var e=Math.sqrt(t.titleBox.width*t.titleBox.width+t.titleBox.height*t.titleBox.height);return{x:t.cx,y:t.cy,scale:t.trace.hole*t.r*2/e,tx:0,ty:-t.titleBox.height/2+t.trace.title.font.size}}(m):P(m,d),r.attr("transform",u(e.x,e.y)+c(Math.min(1,e.scale))+u(e.tx,e.ty))})),M&&function(t,e){var n,r,i,a,o,l,c,u,h,d,f,p,m;function v(t,e){return t.pxmid[1]-e.pxmid[1]}function y(t,e){return e.pxmid[1]-t.pxmid[1]}function _(t,n){n||(n={});var i,u,h,f,p=n.labelExtraY+(r?n.yLabelMax:n.yLabelMin),m=r?t.yLabelMin:t.yLabelMax,v=r?t.yLabelMax:t.yLabelMin,y=t.cyFinal+o(t.px0[1],t.px1[1]),_=p-m;if(_*c>0&&(t.labelExtraY=_),s.isArrayOrTypedArray(e.pull))for(u=0;u<d.length;u++)!((h=d[u])===t||(g.castOption(e.pull,t.pts)||0)>=(g.castOption(e.pull,h.pts)||0))&&((t.pxmid[1]-h.pxmid[1])*c>0?(_=h.cyFinal+o(h.px0[1],h.px1[1])-m-t.labelExtraY)*c>0&&(t.labelExtraY+=_):(v+t.labelExtraY-y)*c>0&&(i=3*l*Math.abs(u-d.indexOf(t)),(f=h.cxFinal+a(h.px0[0],h.px1[0])+i-(t.cxFinal+t.pxmid[0])-t.labelExtraX)*l>0&&(t.labelExtraX+=f)))}for(r=0;r<2;r++)for(i=r?v:y,o=r?Math.max:Math.min,c=r?1:-1,n=0;n<2;n++){for(a=n?Math.max:Math.min,l=n?1:-1,(u=t[r][n]).sort(i),h=t[1-r][n],d=h.concat(u),p=[],f=0;f<u.length;f++)void 0!==u[f].yLabelMid&&p.push(u[f]);for(m=!1,f=0;r&&f<h.length;f++)if(void 0!==h[f].yLabelMid){m=h[f];break}for(f=0;f<p.length;f++){var x=f&&p[f-1];m&&!f&&(x=m),_(p[f],x)}}}(b,v),function(t,e){t.each((function(t){var r=n.select(this);if(t.labelExtraX||t.labelExtraY){var i=r.select("g.slicetext text");t.transform.targetX+=t.labelExtraX,t.transform.targetY+=t.labelExtraY,s.setTransormAndDisplay(i,t.transform);var o=t.cxFinal+t.pxmid[0],l="M"+o+","+(t.cyFinal+t.pxmid[1]),c=(t.yLabelMax-t.yLabelMin)*(t.pxmid[0]<0?-1:1)/4;if(t.labelExtraX){var u=t.labelExtraX*t.pxmid[1]/t.pxmid[0],h=t.yLabelMid+t.labelExtraY-(t.cyFinal+t.pxmid[1]);Math.abs(u)>Math.abs(h)?l+="l"+h*t.pxmid[0]/t.pxmid[1]+","+h+"H"+(o+t.labelExtraX+c):l+="l"+t.labelExtraX+","+u+"v"+(h-u)+"h"+c}else l+="V"+(t.yLabelMid+t.labelExtraY)+"h"+c;s.ensureSingle(r,"path","textline").call(a.stroke,e.outsidetextfont.color).attr({"stroke-width":Math.min(2,e.outsidetextfont.size/8),d:l,fill:"none"})}else r.select("path.textline").remove()}))}(y,v),M&&v.automargin){var k=o.bBox(p.node()),A=v.domain,L=d.w*(A.x[1]-A.x[0]),C=d.h*(A.y[1]-A.y[0]),D=(.5*L-m.r)/d.w,O=(.5*C-m.r)/d.h;r.autoMargin(t,"pie."+v.uid+".automargin",{xl:A.x[0]-D,xr:A.x[1]+D,yb:A.y[0]-O,yt:A.y[1]+O,l:Math.max(m.cx-m.r-k.left,0),r:Math.max(k.right-(m.cx+m.r),0),b:Math.max(k.bottom-(m.cy+m.r),0),t:Math.max(m.cy-m.r-k.top,0),pad:5})}}))}));setTimeout((function(){m.selectAll("tspan").each((function(){var t=n.select(this);t.attr("dy")&&t.attr("dy",t.attr("dy"))}))}),0)},formatSliceLabel:N,transformInsideText:w,determineInsideTextFont:x,positionTitleOutside:P,prerenderTitles:b,layoutAreas:I,attachFxHandlers:_,computeTransform:R}})),io=a(((t,e)=>{var n=l(),r=pn(),i=Ua().resizeText;e.exports=function(t){var e=t._fullLayout._pielayer.selectAll(".trace");i(t,e,"pie"),e.each((function(e){var i=e[0].trace,a=n.select(this);a.style({opacity:i.opacity}),a.selectAll("path.surface").each((function(e){n.select(this).call(r,e,i,t)}))}))}})),ao=a((t=>{var e=pe();t.name="pie",t.plot=function(n,r,i,a){e.plotBasePlot(t.name,n,r,i,a)},t.clean=function(n,r,i,a){e.cleanBasePlot(t.name,n,r,i,a)}})),oo=a(((t,e)=>{e.exports={attributes:Ka(),supplyDefaults:$a().supplyDefaults,supplyLayoutDefaults:to(),layoutAttributes:Qa(),calc:eo().calc,crossTraceCalc:eo().crossTraceCalc,plot:ro().plot,style:io(),styleOne:pn(),moduleType:"trace",name:"pie",basePlotModule:ao(),categories:["pie-like","pie","showLegend"],meta:{}}})),so=a(((t,e)=>{e.exports=oo()})),lo=a(((t,e)=>{var n=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var a,o,s=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))r.call(a,c)&&(s[c]=a[c]);if(n){o=n(a);for(var u=0;u<o.length;u++)i.call(a,o[u])&&(s[o[u]]=a[o[u]])}}return s}})),co=a(((t,e)=>{var n=lo();function r(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function i(t,e,n,r){if(this._calendar=t,this._year=e,this._month=n,this._day=r,0===this._calendar._validateLevel&&!this._calendar.isValid(this._year,this._month,this._day))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function a(t,e){return"000000".substring(0,e-(t=""+t).length)+t}function o(){this.shortYearCutoff="+10"}function s(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}n(r.prototype,{instance:function(t,e){t=(t||"gregorian").toLowerCase(),e=e||"";var n=this._localCals[t+"-"+e];if(!n&&this.calendars[t]&&(n=new this.calendars[t](e),this._localCals[t+"-"+e]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return n},newDate:function(t,e,n,r,i){return(r=(null!=t&&t.year?t.calendar():"string"==typeof r?this.instance(r,i):r)||this.instance()).newDate(t,e,n)},substituteDigits:function(t){return function(e){return(e+"").replace(/[0-9]/g,(function(e){return t[e]}))}},substituteChineseDigits:function(t,e){return function(n){for(var r="",i=0;n>0;){var a=n%10;r=(0===a?"":t[a]+e[i])+r,i++,n=Math.floor(n/10)}return 0===r.indexOf(t[1]+e[1])&&(r=r.substr(1)),r||t[0]}}}),n(i.prototype,{newDate:function(t,e,n){return this._calendar.newDate(null==t?this:t,e,n)},year:function(t){return 0===arguments.length?this._year:this.set(t,"y")},month:function(t){return 0===arguments.length?this._month:this.set(t,"m")},day:function(t){return 0===arguments.length?this._day:this.set(t,"d")},date:function(t,e,n){if(!this._calendar.isValid(t,e,n))throw(l.local.invalidDate||l.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=e,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,e){return this._calendar.add(this,t,e)},set:function(t,e){return this._calendar.set(this,t,e)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var e=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return 0===e?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+a(Math.abs(this.year()),4)+"-"+a(this.month(),2)+"-"+a(this.day(),2)}}),n(o.prototype,{_validateLevel:0,newDate:function(t,e,n){return null==t?this.today():(t.year&&(this._validate(t,e,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),n=t.day(),e=t.month(),t=t.year()),new i(this,t,e,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+a(Math.abs(e.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear),12},monthOfYear:function(t,e){var n=this._validate(t,e,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(t,e){var n=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,n,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth),n},daysInYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(t,e,n){var r=this._validate(t,e,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,e,n){var r=this._validate(t,e,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(t,e,n){return this._validate(t,e,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),{}},add:function(t,e,n){return this._validate(t,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,e,n),e,n)},_add:function(t,e,n){if(this._validateLevel++,"d"===n||"w"===n){var r=t.toJD()+e*("w"===n?this.daysInWeek():1),i=t.calendar().fromJD(r);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var a=t.year()+("y"===n?e:0),o=t.monthOfYear()+("m"===n?e:0);i=t.day(),"y"===n?(t.month()!==this.fromMonthOfYear(a,o)&&(o=this.newDate(a,t.month(),this.minDay).monthOfYear()),o=Math.min(o,this.monthsInYear(a)),i=Math.min(i,this.daysInMonth(a,this.fromMonthOfYear(a,o)))):"m"===n&&(function(t){for(;o<t.minMonth;)a--,o+=t.monthsInYear(a);for(var e=t.monthsInYear(a);o>e-1+t.minMonth;)a++,o-=e,e=t.monthsInYear(a)}(this),i=Math.min(i,this.daysInMonth(a,this.fromMonthOfYear(a,o))));var s=[a,this.fromMonthOfYear(a,o),i];return this._validateLevel--,s}catch(t){throw this._validateLevel--,t}},_correctAdd:function(t,e,n,r){if(!(this.hasYearZero||"y"!==r&&"m"!==r||0!==e[0]&&t.year()>0==e[0]>0)){var i={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[r],a=n<0?-1:1;e=this._add(t,n*i[0]+a*i[1],i[2])}return t.date(e[0],e[1],e[2])},set:function(t,e,n){this._validate(t,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[""].invalidDate);var r="y"===n?e:t.year(),i="m"===n?e:t.month(),a="d"===n?e:t.day();return("y"===n||"m"===n)&&(a=Math.min(a,this.daysInMonth(r,i))),t.date(r,i,a)},isValid:function(t,e,n){this._validateLevel++;var r=this.hasYearZero||0!==t;if(r){var i=this.newDate(t,e,this.minDay);r=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(i)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(i)}return this._validateLevel--,r},toJSDate:function(t,e,n){var r=this._validate(t,e,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);return l.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(t){return this.fromJD(l.instance().fromJSDate(t).toJD())},_validate:function(t,e,n,r){if(t.year){if(0===this._validateLevel&&this.name!==t.calendar().name)throw(l.local.differentCalendars||l.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,1===this._validateLevel&&!this.isValid(t,e,n))throw r.replace(/\{0\}/,this.local.name);var i=this.newDate(t,e,n);return this._validateLevel--,i}catch(t){throw this._validateLevel--,t}}}),s.prototype=new o,n(s.prototype,{name:"Gregorian",jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var e=this._validate(t,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[""].invalidYear);return(t=e.year()+(e.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(t,e){var n=this._validate(t,e,this.minDay,l.local.invalidMonth||l.regionalOptions[""].invalidMonth);return this.daysPerMonth[n.month()-1]+(2===n.month()&&this.leapYear(n.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(t,e,n){var r=this._validate(t,e,n,l.local.invalidDate||l.regionalOptions[""].invalidDate);t=r.year(),e=r.month(),n=r.day(),t<0&&t++,e<3&&(e+=12,t--);var i=Math.floor(t/100),a=2-i+Math.floor(i/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+n+a-1524.5},fromJD:function(t){var e=Math.floor(t+.5),n=Math.floor((e-1867216.25)/36524.25),r=1524+(n=e+1+n-Math.floor(n/4)),i=Math.floor((r-122.1)/365.25),a=Math.floor(365.25*i),o=Math.floor((r-a)/30.6001),s=r-a-Math.floor(30.6001*o),l=o-(o>13.5?13:1),c=i-(l>2.5?4716:4715);return c<=0&&c--,this.newDate(c,l,s)},toJSDate:function(t,e,n){var r=this._validate(t,e,n,l.local.invalidDate||l.regionalOptions[""].invalidDate),i=new Date(r.year(),r.month()-1,r.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var l=e.exports=new r;l.cdate=i,l.baseCalendar=o,l.calendars.gregorian=s})),uo=a((()=>{var t=lo(),e=co();t(e.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),e.local=e.regionalOptions[""],t(e.cdate.prototype,{formatDate:function(t,e){return"string"!=typeof t&&(e=t,t=""),this._calendar.formatDate(t||"",this,e)}}),t(e.baseCalendar.prototype,{UNIX_EPOCH:e.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:e.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(t,n,r){if("string"!=typeof t&&(r=n,n=t,t=""),!n)return"";if(n.calendar()!==this)throw e.local.invalidFormat||e.regionalOptions[""].invalidFormat;t=t||this.local.dateFormat;for(var i=(r=r||{}).dayNamesShort||this.local.dayNamesShort,a=r.dayNames||this.local.dayNames,o=r.monthNumbers||this.local.monthNumbers,s=r.monthNamesShort||this.local.monthNamesShort,l=r.monthNames||this.local.monthNames,c=(r.calculateWeek||this.local.calculateWeek,function(e,n){for(var r=1;y+r<t.length&&t.charAt(y+r)===e;)r++;return y+=r-1,Math.floor(r/(n||1))>1}),u=function(t,e,n,r){var i=""+e;if(c(t,r))for(;i.length<n;)i="0"+i;return i},h=this,d=function(t){return"function"==typeof o?o.call(h,t,c("m")):m(u("m",t.month(),2))},f=function(t,e){return e?"function"==typeof l?l.call(h,t):l[t.month()-h.minMonth]:"function"==typeof s?s.call(h,t):s[t.month()-h.minMonth]},p=this.local.digits,m=function(t){return r.localNumbers&&p?p(t):t},g="",v=!1,y=0;y<t.length;y++)if(v)"'"!==t.charAt(y)||c("'")?g+=t.charAt(y):v=!1;else switch(t.charAt(y)){case"d":g+=m(u("d",n.day(),2));break;case"D":g+=(_=n.dayOfWeek(),x=i,b=a,c("D")?b[_]:x[_]);break;case"o":g+=u("o",n.dayOfYear(),3);break;case"w":g+=u("w",n.weekOfYear(),2);break;case"m":g+=d(n);break;case"M":g+=f(n,c("M"));break;case"y":g+=c("y",2)?n.year():(n.year()%100<10?"0":"")+n.year()%100;break;case"Y":c("Y",2),g+=n.formatYear();break;case"J":g+=n.toJD();break;case"@":g+=(n.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":g+=(n.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":c("'")?g+="'":v=!0;break;default:g+=t.charAt(y)}var _,x,b;return g},parseDate:function(t,n,r){if(null==n)throw e.local.invalidArguments||e.regionalOptions[""].invalidArguments;if(""===(n="object"==typeof n?n.toString():n+""))return null;t=t||this.local.dateFormat;var i=(r=r||{}).shortYearCutoff||this.shortYearCutoff;i="string"!=typeof i?i:this.today().year()%100+parseInt(i,10);for(var a=r.dayNamesShort||this.local.dayNamesShort,o=r.dayNames||this.local.dayNames,s=r.parseMonth||this.local.parseMonth,l=r.monthNumbers||this.local.monthNumbers,c=r.monthNamesShort||this.local.monthNamesShort,u=r.monthNames||this.local.monthNames,h=-1,d=-1,f=-1,p=-1,m=-1,g=!1,v=!1,y=function(e,n){for(var r=1;A+r<t.length&&t.charAt(A+r)===e;)r++;return A+=r-1,Math.floor(r/(n||1))>1},_=function(t,r){var i=y(t,r),a=[2,3,i?4:2,i?4:2,10,11,20]["oyYJ@!".indexOf(t)+1],o=new RegExp("^-?\\d{1,"+a+"}"),s=n.substring(k).match(o);if(!s)throw(e.local.missingNumberAt||e.regionalOptions[""].missingNumberAt).replace(/\{0\}/,k);return k+=s[0].length,parseInt(s[0],10)},x=this,b=function(){if("function"==typeof l){y("m");var t=l.call(x,n.substring(k));return k+=t.length,t}return _("m")},w=function(t,r,i,a){for(var o=y(t,a)?i:r,s=0;s<o.length;s++)if(n.substr(k,o[s].length).toLowerCase()===o[s].toLowerCase())return k+=o[s].length,s+x.minMonth;throw(e.local.unknownNameAt||e.regionalOptions[""].unknownNameAt).replace(/\{0\}/,k)},M=function(){if("function"==typeof u){var t=y("M")?u.call(x,n.substring(k)):c.call(x,n.substring(k));return k+=t.length,t}return w("M",c,u)},T=function(){if(n.charAt(k)!==t.charAt(A))throw(e.local.unexpectedLiteralAt||e.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,k);k++},k=0,A=0;A<t.length;A++)if(v)"'"!==t.charAt(A)||y("'")?T():v=!1;else switch(t.charAt(A)){case"d":p=_("d");break;case"D":w("D",a,o);break;case"o":m=_("o");break;case"w":_("w");break;case"m":f=b();break;case"M":f=M();break;case"y":var L=A;g=!y("y",2),A=L,d=_("y",2);break;case"Y":d=_("Y",2);break;case"J":h=_("J")+.5,"."===n.charAt(k)&&(k++,_("J"));break;case"@":h=_("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":h=_("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":k=n.length;break;case"'":y("'")?T():v=!0;break;default:T()}if(k<n.length)throw e.local.unexpectedText||e.regionalOptions[""].unexpectedText;if(-1===d?d=this.today().year():d<100&&g&&(d+=-1===i?1900:this.today().year()-this.today().year()%100-(d<=i?0:100)),"string"==typeof f&&(f=s.call(this,d,f)),m>-1){f=1,p=m;for(var C=this.daysInMonth(d,f);p>C;C=this.daysInMonth(d,f))f++,p-=C}return h>-1?this.fromJD(h):this.newDate(d,f,p)},determineDate:function(t,e,n,r,i){n&&"object"!=typeof n&&(i=r,r=n,n=null),"string"!=typeof r&&(i=r,r="");var a=this;return e=e?e.newDate():null,null==t?e:"string"==typeof t?function(t){try{return a.parseDate(r,t,i)}catch(t){}for(var e=((t=t.toLowerCase()).match(/^c/)&&n?n.newDate():null)||a.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=o.exec(t);s;)e.add(parseInt(s[1],10),s[2]||"d"),s=o.exec(t);return e}(t):"number"==typeof t?isNaN(t)||t===1/0||t===-1/0?e:a.today().add(t,"d"):a.newDate(t)}})})),ho=a((()=>{var t=co(),e=lo(),n=t.instance();function r(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}r.prototype=new t.baseCalendar,e(r.prototype,{name:"Chinese",jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(t,e){if("string"==typeof t){var n=t.match(a);return n?n[0]:""}var r=this._validateYear(t),i=t.month(),o=""+this.toChineseMonth(r,i);return e&&o.length<2&&(o="0"+o),this.isIntercalaryMonth(r,i)&&(o+="i"),o},monthNames:function(t){if("string"==typeof t){var e=t.match(o);return e?e[0]:""}var n=this._validateYear(t),r=t.month(),i=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i="闰"+i),i},monthNamesShort:function(t){if("string"==typeof t){var e=t.match(s);return e?e[0]:""}var n=this._validateYear(t),r=t.month(),i=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i="闰"+i),i},parseMonth:function(t,e){t=this._validateYear(t);var n,r=parseInt(e);if(isNaN(r))"闰"===e[0]&&(n=!0,e=e.substring(1)),"月"===e[e.length-1]&&(e=e.substring(0,e.length-1)),r=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(e);else{var i=e[e.length-1];n="i"===i||"I"===i}return this.toMonthIndex(t,r,n)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(t,e){if(t.year&&(t=t.year()),"number"!=typeof t||t<1888||t>2111)throw e.replace(/\{0\}/,this.local.name);return t},toMonthIndex:function(e,n,r){var i=this.intercalaryMonth(e);if(r&&n!==i||n<1||n>12)throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return i?!r&&n<=i?n-1:n:n-1},toChineseMonth:function(e,n){e.year&&(n=(e=e.year()).month());var r=this.intercalaryMonth(e);if(n<0||n>(r?12:11))throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return r?n<r?n+1:n:n+1},intercalaryMonth:function(t){return t=this._validateYear(t),l[t-l[0]]>>13},isIntercalaryMonth:function(t,e){t.year&&(e=(t=t.year()).month());var n=this.intercalaryMonth(t);return!!n&&n===e},leapYear:function(t){return 0!==this.intercalaryMonth(t)},weekOfYear:function(e,r,i){var a,o=this._validateYear(e,t.local.invalidyear),s=c[o-c[0]],l=s>>9&4095,u=s>>5&15,h=31&s;(a=n.newDate(l,u,h)).add(4-(a.dayOfWeek()||7),"d");var d=this.toJD(e,r,i)-a.toJD();return 1+Math.floor(d/7)},monthsInYear:function(t){return this.leapYear(t)?13:12},daysInMonth:function(e,n){e.year&&(n=e.month(),e=e.year()),e=this._validateYear(e);var r=l[e-l[0]];if(n>(r>>13?12:11))throw t.local.invalidMonth.replace(/\{0\}/,this.local.name);return r&1<<12-n?30:29},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(e,r,i){var a=this._validate(e,s,i,t.local.invalidDate);e=this._validateYear(a.year()),r=a.month(),i=a.day();var o=this.isIntercalaryMonth(e,r),s=this.toChineseMonth(e,r),u=function(t,e,n,r){var i,a,o;if("object"==typeof t)a=t,i=e||{};else{var s;if(!("number"==typeof t&&t>=1888&&t<=2111))throw new Error("Lunar year outside range 1888-2111");if(!("number"==typeof e&&e>=1&&e<=12))throw new Error("Lunar month outside range 1 - 12");if(!("number"==typeof n&&n>=1&&n<=30))throw new Error("Lunar day outside range 1 - 30");"object"==typeof r?(s=!1,i=r):(s=!!r,i={}),a={year:t,month:e,day:n,isIntercalary:s}}o=a.day-1;var u,h=l[a.year-l[0]],d=h>>13;u=d&&(a.month>d||a.isIntercalary)?a.month:a.month-1;for(var f=0;f<u;f++)o+=h&1<<12-f?30:29;var p=c[a.year-c[0]],m=new Date(p>>9&4095,(p>>5&15)-1,(31&p)+o);return i.year=m.getFullYear(),i.month=1+m.getMonth(),i.day=m.getDate(),i}(e,s,i,o);return n.toJD(u.year,u.month,u.day)},fromJD:function(t){var e=n.fromJD(t),r=function(t,e,n){var r,i;if("object"==typeof t)r=t,i=e||{};else{if(!("number"==typeof t&&t>=1888&&t<=2111))throw new Error("Solar year outside range 1888-2111");if(!("number"==typeof e&&e>=1&&e<=12))throw new Error("Solar month outside range 1 - 12");if(!("number"==typeof n&&n>=1&&n<=31))throw new Error("Solar day outside range 1 - 31");r={year:t,month:e,day:n},i={}}var a=c[r.year-c[0]],o=r.year<<9|r.month<<5|r.day;i.year=o>=a?r.year:r.year-1,a=c[i.year-c[0]];var s,u=new Date(a>>9&4095,(a>>5&15)-1,31&a),h=new Date(r.year,r.month-1,r.day);s=Math.round((h-u)/864e5);var d,f=l[i.year-l[0]];for(d=0;d<13;d++){var p=f&1<<12-d?30:29;if(s<p)break;s-=p}var m=f>>13;return!m||d<m?(i.isIntercalary=!1,i.month=1+d):d===m?(i.isIntercalary=!0,i.month=d):(i.isIntercalary=!1,i.month=d),i.day=1+s,i}(e.year(),e.month(),e.day()),i=this.toMonthIndex(r.year,r.month,r.isIntercalary);return this.newDate(r.year,i,r.day)},fromString:function(t){var e=t.match(i),n=this._validateYear(+e[1]),r=+e[2],a=!!e[3],o=this.toMonthIndex(n,r,a),s=+e[4];return this.newDate(n,o,s)},add:function(t,e,n){var i=t.year(),a=t.month(),o=this.isIntercalaryMonth(i,a),s=this.toChineseMonth(i,a),l=Object.getPrototypeOf(r.prototype).add.call(this,t,e,n);if("y"===n){var c=l.year(),u=l.month(),h=this.isIntercalaryMonth(c,s),d=o&&h?this.toMonthIndex(c,s,!0):this.toMonthIndex(c,s,!1);d!==u&&l.month(d)}return l}});var i=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,a=/^\d?\d[iI]?/m,o=/^闰?十?[一二三四五六七八九]?月/m,s=/^闰?十?[一二三四五六七八九]?/m;t.calendars.chinese=r;var l=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],c=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]})),fo=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Coptic",jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()+(n.year()<0?1:0))%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(13===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);return(e=i.year())<0&&e++,i.day()+30*(i.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,n=Math.floor((e-Math.floor((e+366)/1461))/365)+1;n<=0&&n--,e=Math.floor(t)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(e/30)+1,i=e-30*(r-1)+1;return this.newDate(n,r,i)}}),t.calendars.coptic=n})),po=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Discworld",jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),400},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,n,r){return(this._validate(e,n,r,t.local.invalidDate).day()+1)%8},weekDay:function(t,e,n){var r=this.dayOfWeek(t,e,n);return r>=2&&r<=6},extraInfo:function(e,n,i){var a=this._validate(e,n,i,t.local.invalidDate);return{century:r[Math.floor((a.year()-1)/100)+1]||""}},toJD:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);return e=i.year()+(i.year()<0?1:0),n=i.month(),(r=i.day())+(n>1?16:0)+(n>2?32*(n-2):0)+400*(e-1)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t+.5)-Math.floor(this.jdEpoch)-1;var e=Math.floor(t/400)+1;t-=400*(e-1),t+=t>15?16:0;var n=Math.floor(t/32)+1,r=t-32*(n-1)+1;return this.newDate(e<=0?e-1:e,n,r)}});var r={20:"Fruitbat",21:"Anchovy"};t.calendars.discworld=n})),mo=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Ethiopian",jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()+(n.year()<0?1:0))%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear),13},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(13===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);return(e=i.year())<0&&e++,i.day()+30*(i.month()-1)+365*(e-1)+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(t){var e=Math.floor(t)+.5-this.jdEpoch,n=Math.floor((e-Math.floor((e+366)/1461))/365)+1;n<=0&&n--,e=Math.floor(t)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(e/30)+1,i=e-30*(r-1)+1;return this.newDate(n,r,i)}}),t.calendars.ethiopian=n})),go=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function r(t,e){return t-e*Math.floor(t/e)}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return this._leapYear(n.year())},_leapYear:function(t){return r(7*(t=t<0?t+1:t)+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return e=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year(),this.toJD(-1===e?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,n){return e.year&&(n=e.month(),e=e.year()),this._validate(e,n,this.minDay,t.local.invalidMonth),12===n&&this.leapYear(e)||8===n&&5===r(this.daysInYear(e),10)?30:9===n&&3===r(this.daysInYear(e),10)?29:this.daysPerMonth[n-1]},weekDay:function(t,e,n){return 6!==this.dayOfWeek(t,e,n)},extraInfo:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);return{yearType:(this.leapYear(i)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(i)%10-3]}},toJD:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);e=i.year(),n=i.month(),r=i.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+r+1;if(n<7){for(var s=7;s<=this.monthsInYear(e);s++)o+=this.daysInMonth(e,s);for(s=1;s<n;s++)o+=this.daysInMonth(e,s)}else for(s=7;s<n;s++)o+=this.daysInMonth(e,s);return o},_delay1:function(t){var e=Math.floor((235*t-234)/19),n=12084+13753*e,i=29*e+Math.floor(n/25920);return r(3*(i+1),7)<3&&i++,i},_delay2:function(t){var e=this._delay1(t-1),n=this._delay1(t);return this._delay1(t+1)-n==356?2:n-e==382?1:0},fromJD:function(t){t=Math.floor(t)+.5;for(var e=Math.floor(98496*(t-this.jdEpoch)/35975351)-1;t>=this.toJD(-1===e?1:e+1,7,1);)e++;for(var n=t<this.toJD(e,1,1)?7:1;t>this.toJD(e,n,this.daysInMonth(e,n));)n++;var r=t-this.toJD(e,n,1)+1;return this.newDate(e,n,r)}}),t.calendars.hebrew=n})),vo=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Islamic",jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){return(11*this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year()+14)%30<11},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(t){return this.leapYear(t)?355:354},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,n){return 5!==this.dayOfWeek(t,e,n)},toJD:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);return e=i.year(),n=i.month(),e=e<=0?e+1:e,(r=i.day())+Math.ceil(29.5*(n-1))+354*(e-1)+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var e=Math.floor((30*(t-this.jdEpoch)+10646)/10631);e=e<=0?e-1:e;var n=Math.min(12,Math.ceil((t-29-this.toJD(e,1,1))/29.5)+1),r=t-this.toJD(e,n,1)+1;return this.newDate(e,n,r)}}),t.calendars.islamic=n})),yo=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Julian",jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return(e=n.year()<0?n.year()+1:n.year())%4==0},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(4-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);return e=i.year(),n=i.month(),r=i.day(),e<0&&e++,n<=2&&(e--,n+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(n+1))+r-1524.5},fromJD:function(t){var e=Math.floor(t+.5)+1524,n=Math.floor((e-122.1)/365.25),r=Math.floor(365.25*n),i=Math.floor((e-r)/30.6001),a=i-Math.floor(i<14?1:13),o=n-Math.floor(a>2?4716:4715),s=e-r-Math.floor(30.6001*i);return o<=0&&o--,this.newDate(o,a,s)}}),t.calendars.julian=n})),_o=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function r(t,e){return t-e*Math.floor(t/e)}function i(t,e){return r(t-1,e)+1}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),!1},formatYear:function(e){e=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year();var n=Math.floor(e/400);return e%=400,e+=e<0?400:0,n+"."+Math.floor(e/20)+"."+e%20},forYear:function(t){if((t=t.split(".")).length<3)throw"Invalid Mayan year";for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n],10);if(Math.abs(r)>19||n>0&&r<0)throw"Invalid Mayan year";e=20*e+r}return e},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),18},weekOfYear:function(e,n,r){return this._validate(e,n,r,t.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,t.local.invalidYear),360},daysInMonth:function(e,n){return this._validate(e,n,this.minDay,t.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,n,r){return this._validate(e,n,r,t.local.invalidDate).day()},weekDay:function(e,n,r){return this._validate(e,n,r,t.local.invalidDate),!0},extraInfo:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate).toJD(),a=this._toHaab(i),o=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(t){var e=r(8+(t-=this.jdEpoch)+340,365);return[Math.floor(e/20)+1,r(e,20)]},_toTzolkin:function(t){return[i(20+(t-=this.jdEpoch),20),i(t+4,13)]},toJD:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(t){t=Math.floor(t)+.5-this.jdEpoch;var e=Math.floor(t/360);t%=360,t+=t<0?360:0;var n=Math.floor(t/20),r=t%20;return this.newDate(e,n,r)}}),t.calendars.mayan=n})),xo=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}n.prototype=new t.baseCalendar;var r=t.instance("gregorian");e(n.prototype,{name:"Nanakshahi",jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear||t.regionalOptions[""].invalidYear);return r.leapYear(n.year()+(n.year()<1?1:0)+1469)},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(1-(r.dayOfWeek()||7),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(e,n,i){var a=this._validate(e,n,i,t.local.invalidMonth);(e=a.year())<0&&e++;for(var o=a.day(),s=1;s<a.month();s++)o+=this.daysPerMonth[s-1];return o+r.toJD(e+1468,3,13)},fromJD:function(t){t=Math.floor(t+.5);for(var e=Math.floor((t-(this.jdEpoch-1))/366);t>=this.toJD(e+1,1,1);)e++;for(var n=t-Math.floor(this.toJD(e,1,1)+.5)+1,r=1;n>this.daysInMonth(e,r);)n-=this.daysInMonth(e,r),r++;return this.newDate(e,r,n)}}),t.calendars.nanakshahi=n})),bo=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Nepali",jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(t){return this.daysInYear(t)!==this.daysPerYear},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){if(e=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear).year(),void 0===this.NEPALI_CALENDAR_DATA[e])return this.daysPerYear;for(var n=0,r=this.minMonth;r<=12;r++)n+=this.NEPALI_CALENDAR_DATA[e][r];return n},daysInMonth:function(e,n){return e.year&&(n=e.month(),e=e.year()),this._validate(e,n,this.minDay,t.local.invalidMonth),void 0===this.NEPALI_CALENDAR_DATA[e]?this.daysPerMonth[n-1]:this.NEPALI_CALENDAR_DATA[e][n]},weekDay:function(t,e,n){return 6!==this.dayOfWeek(t,e,n)},toJD:function(e,n,r){var i=this._validate(e,n,r,t.local.invalidDate);e=i.year(),n=i.month(),r=i.day();var a=t.instance(),o=0,s=n,l=e;this._createMissingCalendarData(e);var c=e-(s>9||9===s&&r>=this.NEPALI_CALENDAR_DATA[l][0]?56:57);for(9!==n&&(o=r,s--);9!==s;)s<=0&&(s=12,l--),o+=this.NEPALI_CALENDAR_DATA[l][s],s--;return 9===n?(o+=r-this.NEPALI_CALENDAR_DATA[l][0])<0&&(o+=a.daysInYear(c)):o+=this.NEPALI_CALENDAR_DATA[l][9]-this.NEPALI_CALENDAR_DATA[l][0],a.newDate(c,1,1).add(o,"d").toJD()},fromJD:function(e){var n=t.instance().fromJD(e),r=n.year(),i=n.dayOfYear(),a=r+56;this._createMissingCalendarData(a);for(var o=9,s=this.NEPALI_CALENDAR_DATA[a][0],l=this.NEPALI_CALENDAR_DATA[a][o]-s+1;i>l;)++o>12&&(o=1,a++),l+=this.NEPALI_CALENDAR_DATA[a][o];var c=this.NEPALI_CALENDAR_DATA[a][o]-(l-i);return this.newDate(a,o,c)},_createMissingCalendarData:function(t){var e=this.daysPerMonth.slice(0);e.unshift(17);for(var n=t-1;n<t+2;n++)void 0===this.NEPALI_CALENDAR_DATA[n]&&(this.NEPALI_CALENDAR_DATA[n]=e)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),t.calendars.nepali=n})),wo=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}function r(t,e){return t-e*Math.floor(t/e)}n.prototype=new t.baseCalendar,e(n.prototype,{name:"Persian",jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return 682*((n.year()-(n.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-(r.dayOfWeek()+1)%7,"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(12===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,n){return 5!==this.dayOfWeek(t,e,n)},toJD:function(e,n,i){var a=this._validate(e,n,i,t.local.invalidDate);e=a.year(),n=a.month(),i=a.day();var o=e-(e>=0?474:473),s=474+r(o,2820);return i+(n<=7?31*(n-1):30*(n-1)+6)+Math.floor((682*s-110)/2816)+365*(s-1)+1029983*Math.floor(o/2820)+this.jdEpoch-1},fromJD:function(t){var e=(t=Math.floor(t)+.5)-this.toJD(475,1,1),n=Math.floor(e/1029983),i=r(e,1029983),a=2820;if(1029982!==i){var o=Math.floor(i/366),s=r(i,366);a=Math.floor((2134*o+2816*s+2815)/1028522)+o+1}var l=a+2820*n+474;l=l<=0?l-1:l;var c=t-this.toJD(l,1,1)+1,u=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),h=t-this.toJD(l,u,1)+1;return this.newDate(l,u,h)}}),t.calendars.persian=n,t.calendars.jalali=n})),Mo=a((()=>{var t=co(),e=lo(),n=t.instance();function r(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}r.prototype=new t.baseCalendar,e(r.prototype,{name:"Taiwan",jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return e=this._t2gYear(r.year()),n.leapYear(e)},weekOfYear:function(e,r,i){var a=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return e=this._t2gYear(a.year()),n.weekOfYear(e,a.month(),a.day())},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(e,r,i){var a=this._validate(e,r,i,t.local.invalidDate);return e=this._t2gYear(a.year()),n.toJD(e,a.month(),a.day())},fromJD:function(t){var e=n.fromJD(t),r=this._g2tYear(e.year());return this.newDate(r,e.month(),e.day())},_t2gYear:function(t){return t+this.yearsOffset+(t>=-this.yearsOffset&&t<=-1?1:0)},_g2tYear:function(t){return t-this.yearsOffset-(t>=1&&t<=this.yearsOffset?1:0)}}),t.calendars.taiwan=r})),To=a((()=>{var t=co(),e=lo(),n=t.instance();function r(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}r.prototype=new t.baseCalendar,e(r.prototype,{name:"Thai",jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(e){var r=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return e=this._t2gYear(r.year()),n.leapYear(e)},weekOfYear:function(e,r,i){var a=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return e=this._t2gYear(a.year()),n.weekOfYear(e,a.month(),a.day())},daysInMonth:function(e,n){var r=this._validate(e,n,this.minDay,t.local.invalidMonth);return this.daysPerMonth[r.month()-1]+(2===r.month()&&this.leapYear(r.year())?1:0)},weekDay:function(t,e,n){return(this.dayOfWeek(t,e,n)||7)<6},toJD:function(e,r,i){var a=this._validate(e,r,i,t.local.invalidDate);return e=this._t2gYear(a.year()),n.toJD(e,a.month(),a.day())},fromJD:function(t){var e=n.fromJD(t),r=this._g2tYear(e.year());return this.newDate(r,e.month(),e.day())},_t2gYear:function(t){return t-this.yearsOffset-(t>=1&&t<=this.yearsOffset?1:0)},_g2tYear:function(t){return t+this.yearsOffset+(t>=-this.yearsOffset&&t<=-1?1:0)}}),t.calendars.thai=r})),ko=a((()=>{var t=co(),e=lo();function n(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}n.prototype=new t.baseCalendar,e(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(e){var n=this._validate(e,this.minMonth,this.minDay,t.local.invalidYear);return 355===this.daysInYear(n.year())},weekOfYear:function(t,e,n){var r=this.newDate(t,e,n);return r.add(-r.dayOfWeek(),"d"),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(t){for(var e=0,n=1;n<=12;n++)e+=this.daysInMonth(t,n);return e},daysInMonth:function(e,n){for(var i=this._validate(e,n,this.minDay,t.local.invalidMonth).toJD()-24e5+.5,a=0,o=0;o<r.length;o++){if(r[o]>i)return r[a]-r[a-1];a++}return 30},weekDay:function(t,e,n){return 5!==this.dayOfWeek(t,e,n)},toJD:function(e,n,i){var a=this._validate(e,n,i,t.local.invalidDate),o=12*(a.year()-1)+a.month()-15292;return a.day()+r[o-1]-1+24e5-.5},fromJD:function(t){for(var e=t-24e5+.5,n=0,i=0;i<r.length&&!(r[i]>e);i++)n++;var a=n+15292,o=Math.floor((a-1)/12),s=o+1,l=a-12*o,c=e-r[n-1]+1;return this.newDate(s,l,c)},isValid:function(e,n,r){var i=t.baseCalendar.prototype.isValid.apply(this,arguments);return i&&(i=(e=null!=e.year?e.year:e)>=1276&&e<=1500),i},_validate:function(e,n,r,i){var a=t.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw i.replace(/\{0\}/,this.local.name);return a}}),t.calendars.ummalqura=n;var r=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]})),Ao=a(((t,e)=>{e.exports=co(),uo(),ho(),fo(),po(),mo(),go(),vo(),yo(),_o(),xo(),bo(),wo(),Mo(),To(),ko()})),Lo=a(((t,e)=>{var n=Ao(),r=$t(),i=p(),a=i.EPOCHJD,o=i.ONEDAY,s={valType:"enumerated",values:r.sortObjectKeys(n.calendars),editType:"calc",dflt:"gregorian"},l=function(t,e,n,i){var a={};return a[n]=s,r.coerce(t,e,a,n,i)},c="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:c,w:c,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},h={};function d(t){var e=h[t];return e||(h[t]=n.instance(t))}function f(t){return r.extendFlat({},s,{description:t})}function m(t){return"Sets the calendar system to use with `"+t+"` date data."}var g={xcalendar:f(m("x"))},v=r.extendFlat({},g,{ycalendar:f(m("y"))}),y=r.extendFlat({},v,{zcalendar:f(m("z"))}),_=f(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));e.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:v,bar:v,box:v,heatmap:v,contour:v,histogram:v,histogram2d:v,histogram2dcontour:v,scatter3d:y,surface:y,mesh3d:y,scattergl:v,ohlc:g,candlestick:g},layout:{calendar:f(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:_},yaxis:{calendar:_},scene:{xaxis:{calendar:_},yaxis:{calendar:_},zaxis:{calendar:_}},polar:{radialaxis:{calendar:_}}}},layoutAttributes:s,handleDefaults:l,handleTraceDefaults:function(t,e,n,r){for(var i=0;i<n.length;i++)l(t,e,n[i]+"calendar",r.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:d,worldCalFmt:function(t,e,n){for(var r,i,s,l,h,f=Math.floor((e+.05)/o)+a,p=d(n).fromJD(f),m=0;-1!==(m=t.indexOf("%",m));)"0"===(r=t.charAt(m+1))||"-"===r||"_"===r?(s=3,i=t.charAt(m+2),"_"===r&&(r="-")):(i=r,r="0",s=2),(l=u[i])?(h=l===c?c:p.formatDate(l[r]),t=t.substr(0,m)+h+t.substr(m+s),m+=h.length):m+=s;return t}}})),Co=a(((t,e)=>{e.exports=Lo()}));return a(((t,e)=>{var n=Ea();n.register([Ja(),so(),Co()]),e.exports=n}))()})();return window.Plotly=t,t},t.exports?t.exports=n():e.moduleName=n()},8968:t=>{"use strict";t.exports=Math.floor},9211:(t,e,n)=>{"use strict";t.exports=n.p+"0c7e0798eb642626bc38.png"},9276:(t,e,n)=>{"use strict";t.exports=n.p+"e95790593dc6a2d11195.svg"},9290:t=>{"use strict";t.exports=RangeError},9353:t=>{"use strict";var e=Object.prototype.toString,n=Math.max,r=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n};t.exports=function(t){var i=this;if("function"!=typeof i||"[object Function]"!==e.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var a,o=function(t){for(var e=[],n=1,r=0;n<t.length;n+=1,r+=1)e[r]=t[n];return e}(arguments),s=n(0,i.length-o.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(a=Function("binder","return function ("+function(t){for(var e="",n=0;n<t.length;n+=1)e+=t[n],n+1<t.length&&(e+=",");return e}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var e=i.apply(this,r(o,arguments));return Object(e)===e?e:this}return i.apply(t,r(o,arguments))})),i.prototype){var u=function(){};u.prototype=i.prototype,a.prototype=new u,u.prototype=null}return a}},9383:t=>{"use strict";t.exports=Error},9538:t=>{"use strict";t.exports=ReferenceError},9612:t=>{"use strict";t.exports=Object},9675:t=>{"use strict";t.exports=TypeError},9842:(t,e,n)=>{"use strict";t.exports=n.p+"0c2fe8b19affa6a132a9.png"},9957:(t,e,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,a=n(6743);t.exports=a.call(r,i)}},a={};function o(t){var e=a[t];if(void 0!==e)return e.exports;var n=a[t]={id:t,loaded:!1,exports:{}};return i[t].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=i,o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};t=t||[null,e({}),e([]),e(e)];for(var s=2&r&&n;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>n[t]));return a.default=()=>n,o.d(i,a),i},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.f={},o.e=t=>Promise.all(Object.keys(o.f).reduce(((e,n)=>(o.f[n](t,e),e)),[])),o.u=t=>t+".libs.js",o.miniCssF=t=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n={},r="sporttracker:",o.l=(t,e,i,a)=>{if(n[t])n[t].push(e);else{var s,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==t||h.getAttribute("data-webpack")==r+i){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",r+i),s.src=t),n[t]=[e];var d=(e,r)=>{s.onerror=s.onload=null,clearTimeout(f);var i=n[t];if(delete n[t],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((t=>t(r))),e)return e(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{o.b=document.baseURI||self.location.href;var t={8792:0};o.f.j=(e,n)=>{var r=o.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=t[e]=[n,i]));n.push(r[2]=i);var a=o.p+o.u(e),s=new Error;o.l(a,(n=>{if(o.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,r[1](s)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,i,[a,s,l]=n,c=0;if(a.some((e=>0!==t[e]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);l&&l(o)}for(e&&e(n);c<a.length;c++)i=a[c],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=self.webpackChunksporttracker=self.webpackChunksporttracker||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),o.nc=void 0,(()=>{"use strict";var t={};o.r(t),o.d(t,{afterMain:()=>w,afterRead:()=>_,afterWrite:()=>k,applyStyles:()=>E,arrow:()=>Q,auto:()=>s,basePlacements:()=>l,beforeMain:()=>x,beforeRead:()=>v,beforeWrite:()=>M,bottom:()=>r,clippingParents:()=>h,computeStyles:()=>rt,createPopper:()=>Ot,createPopperBase:()=>Dt,createPopperLite:()=>Et,detectOverflow:()=>yt,end:()=>u,eventListeners:()=>at,flip:()=>_t,hide:()=>wt,left:()=>a,main:()=>b,modifierPhases:()=>A,offset:()=>Mt,placements:()=>g,popper:()=>f,popperGenerator:()=>Pt,popperOffsets:()=>Tt,preventOverflow:()=>kt,read:()=>y,reference:()=>p,right:()=>i,start:()=>c,top:()=>n,variationPlacements:()=>m,viewport:()=>d,write:()=>T});var e={};o.r(e),o.d(e,{Alert:()=>Le,Button:()=>Se,Carousel:()=>un,Collapse:()=>Tn,Dropdown:()=>Xn,Modal:()=>Pr,Offcanvas:()=>qr,Popover:()=>_i,ScrollSpy:()=>Pi,Tab:()=>Qi,Toast:()=>pa,Tooltip:()=>pi});var n="top",r="bottom",i="right",a="left",s="auto",l=[n,r,i,a],c="start",u="end",h="clippingParents",d="viewport",f="popper",p="reference",m=l.reduce((function(t,e){return t.concat([e+"-"+c,e+"-"+u])}),[]),g=[].concat(l,[s]).reduce((function(t,e){return t.concat([e,e+"-"+c,e+"-"+u])}),[]),v="beforeRead",y="read",_="afterRead",x="beforeMain",b="main",w="afterMain",M="beforeWrite",T="write",k="afterWrite",A=[v,y,_,x,b,w,M,T,k];function C(t){return t?(t.nodeName||"").toLowerCase():null}function S(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function P(t){return t instanceof S(t).Element||t instanceof Element}function D(t){return t instanceof S(t).HTMLElement||t instanceof HTMLElement}function O(t){return"undefined"!=typeof ShadowRoot&&(t instanceof S(t).ShadowRoot||t instanceof ShadowRoot)}const E={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];D(i)&&C(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?i.removeAttribute(t):i.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],i=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});D(r)&&C(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};function I(t){return t.split("-")[0]}var z=Math.max,N=Math.min,R=Math.round;function F(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function j(){return!/^((?!chrome|android).)*safari/i.test(F())}function B(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&D(t)&&(i=t.offsetWidth>0&&R(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&R(r.height)/t.offsetHeight||1);var o=(P(t)?S(t):window).visualViewport,s=!j()&&n,l=(r.left+(s&&o?o.offsetLeft:0))/i,c=(r.top+(s&&o?o.offsetTop:0))/a,u=r.width/i,h=r.height/a;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function H(t){var e=B(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function U(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&O(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Z(t){return S(t).getComputedStyle(t)}function V(t){return["table","td","th"].indexOf(C(t))>=0}function Y(t){return((P(t)?t.ownerDocument:t.document)||window.document).documentElement}function W(t){return"html"===C(t)?t:t.assignedSlot||t.parentNode||(O(t)?t.host:null)||Y(t)}function G(t){return D(t)&&"fixed"!==Z(t).position?t.offsetParent:null}function q(t){for(var e=S(t),n=G(t);n&&V(n)&&"static"===Z(n).position;)n=G(n);return n&&("html"===C(n)||"body"===C(n)&&"static"===Z(n).position)?e:n||function(t){var e=/firefox/i.test(F());if(/Trident/i.test(F())&&D(t)&&"fixed"===Z(t).position)return null;var n=W(t);for(O(n)&&(n=n.host);D(n)&&["html","body"].indexOf(C(n))<0;){var r=Z(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}function X(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function J(t,e,n){return z(t,N(e,n))}function K(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function $(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}const Q={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,o=t.state,s=t.name,c=t.options,u=o.elements.arrow,h=o.modifiersData.popperOffsets,d=I(o.placement),f=X(d),p=[a,i].indexOf(d)>=0?"height":"width";if(u&&h){var m=function(t,e){return K("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:$(t,l))}(c.padding,o),g=H(u),v="y"===f?n:a,y="y"===f?r:i,_=o.rects.reference[p]+o.rects.reference[f]-h[f]-o.rects.popper[p],x=h[f]-o.rects.reference[f],b=q(u),w=b?"y"===f?b.clientHeight||0:b.clientWidth||0:0,M=_/2-x/2,T=m[v],k=w-g[p]-m[y],A=w/2-g[p]/2+M,L=J(T,A,k),C=f;o.modifiersData[s]=((e={})[C]=L,e.centerOffset=L-A,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&U(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tt(t){return t.split("-")[1]}var et={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nt(t){var e,o=t.popper,s=t.popperRect,l=t.placement,c=t.variation,h=t.offsets,d=t.position,f=t.gpuAcceleration,p=t.adaptive,m=t.roundOffsets,g=t.isFixed,v=h.x,y=void 0===v?0:v,_=h.y,x=void 0===_?0:_,b="function"==typeof m?m({x:y,y:x}):{x:y,y:x};y=b.x,x=b.y;var w=h.hasOwnProperty("x"),M=h.hasOwnProperty("y"),T=a,k=n,A=window;if(p){var L=q(o),C="clientHeight",P="clientWidth";L===S(o)&&"static"!==Z(L=Y(o)).position&&"absolute"===d&&(C="scrollHeight",P="scrollWidth"),(l===n||(l===a||l===i)&&c===u)&&(k=r,x-=(g&&L===A&&A.visualViewport?A.visualViewport.height:L[C])-s.height,x*=f?1:-1),l!==a&&(l!==n&&l!==r||c!==u)||(T=i,y-=(g&&L===A&&A.visualViewport?A.visualViewport.width:L[P])-s.width,y*=f?1:-1)}var D,O=Object.assign({position:d},p&&et),E=!0===m?function(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:R(n*i)/i||0,y:R(r*i)/i||0}}({x:y,y:x},S(o)):{x:y,y:x};return y=E.x,x=E.y,f?Object.assign({},O,((D={})[k]=M?"0":"",D[T]=w?"0":"",D.transform=(A.devicePixelRatio||1)<=1?"translate("+y+"px, "+x+"px)":"translate3d("+y+"px, "+x+"px, 0)",D)):Object.assign({},O,((e={})[k]=M?x+"px":"",e[T]=w?y+"px":"",e.transform="",e))}const rt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,c={placement:I(e.placement),variation:tt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,nt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,nt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var it={passive:!0};const at={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,l=S(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach((function(t){t.addEventListener("scroll",n.update,it)})),s&&l.addEventListener("resize",n.update,it),function(){a&&c.forEach((function(t){t.removeEventListener("scroll",n.update,it)})),s&&l.removeEventListener("resize",n.update,it)}},data:{}};var ot={left:"right",right:"left",bottom:"top",top:"bottom"};function st(t){return t.replace(/left|right|bottom|top/g,(function(t){return ot[t]}))}var lt={start:"end",end:"start"};function ct(t){return t.replace(/start|end/g,(function(t){return lt[t]}))}function ut(t){var e=S(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ht(t){return B(Y(t)).left+ut(t).scrollLeft}function dt(t){var e=Z(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ft(t){return["html","body","#document"].indexOf(C(t))>=0?t.ownerDocument.body:D(t)&&dt(t)?t:ft(W(t))}function pt(t,e){var n;void 0===e&&(e=[]);var r=ft(t),i=r===(null==(n=t.ownerDocument)?void 0:n.body),a=S(r),o=i?[a].concat(a.visualViewport||[],dt(r)?r:[]):r,s=e.concat(o);return i?s:s.concat(pt(W(o)))}function mt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function gt(t,e,n){return e===d?mt(function(t,e){var n=S(t),r=Y(t),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;var c=j();(c||!c&&"fixed"===e)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s+ht(t),y:l}}(t,n)):P(e)?function(t,e){var n=B(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):mt(function(t){var e,n=Y(t),r=ut(t),i=null==(e=t.ownerDocument)?void 0:e.body,a=z(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=z(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+ht(t),l=-r.scrollTop;return"rtl"===Z(i||n).direction&&(s+=z(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:l}}(Y(t)))}function vt(t){var e,o=t.reference,s=t.element,l=t.placement,h=l?I(l):null,d=l?tt(l):null,f=o.x+o.width/2-s.width/2,p=o.y+o.height/2-s.height/2;switch(h){case n:e={x:f,y:o.y-s.height};break;case r:e={x:f,y:o.y+o.height};break;case i:e={x:o.x+o.width,y:p};break;case a:e={x:o.x-s.width,y:p};break;default:e={x:o.x,y:o.y}}var m=h?X(h):null;if(null!=m){var g="y"===m?"height":"width";switch(d){case c:e[m]=e[m]-(o[g]/2-s[g]/2);break;case u:e[m]=e[m]+(o[g]/2-s[g]/2)}}return e}function yt(t,e){void 0===e&&(e={});var a=e,o=a.placement,s=void 0===o?t.placement:o,c=a.strategy,u=void 0===c?t.strategy:c,m=a.boundary,g=void 0===m?h:m,v=a.rootBoundary,y=void 0===v?d:v,_=a.elementContext,x=void 0===_?f:_,b=a.altBoundary,w=void 0!==b&&b,M=a.padding,T=void 0===M?0:M,k=K("number"!=typeof T?T:$(T,l)),A=x===f?p:f,L=t.rects.popper,S=t.elements[w?A:x],O=function(t,e,n,r){var i="clippingParents"===e?function(t){var e=pt(W(t)),n=["absolute","fixed"].indexOf(Z(t).position)>=0&&D(t)?q(t):t;return P(n)?e.filter((function(t){return P(t)&&U(t,n)&&"body"!==C(t)})):[]}(t):[].concat(e),a=[].concat(i,[n]),o=a[0],s=a.reduce((function(e,n){var i=gt(t,n,r);return e.top=z(i.top,e.top),e.right=N(i.right,e.right),e.bottom=N(i.bottom,e.bottom),e.left=z(i.left,e.left),e}),gt(t,o,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(P(S)?S:S.contextElement||Y(t.elements.popper),g,y,u),E=B(t.elements.reference),I=vt({reference:E,element:L,strategy:"absolute",placement:s}),R=mt(Object.assign({},L,I)),F=x===f?R:E,j={top:O.top-F.top+k.top,bottom:F.bottom-O.bottom+k.bottom,left:O.left-F.left+k.left,right:F.right-O.right+k.right},H=t.modifiersData.offset;if(x===f&&H){var V=H[s];Object.keys(j).forEach((function(t){var e=[i,r].indexOf(t)>=0?1:-1,a=[n,r].indexOf(t)>=0?"y":"x";j[t]+=V[a]*e}))}return j}const _t={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,o=t.options,u=t.name;if(!e.modifiersData[u]._skip){for(var h=o.mainAxis,d=void 0===h||h,f=o.altAxis,p=void 0===f||f,v=o.fallbackPlacements,y=o.padding,_=o.boundary,x=o.rootBoundary,b=o.altBoundary,w=o.flipVariations,M=void 0===w||w,T=o.allowedAutoPlacements,k=e.options.placement,A=I(k),L=v||(A!==k&&M?function(t){if(I(t)===s)return[];var e=st(t);return[ct(t),e,ct(e)]}(k):[st(k)]),C=[k].concat(L).reduce((function(t,n){return t.concat(I(n)===s?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?g:c,h=tt(r),d=h?s?m:m.filter((function(t){return tt(t)===h})):l,f=d.filter((function(t){return u.indexOf(t)>=0}));0===f.length&&(f=d);var p=f.reduce((function(e,n){return e[n]=yt(t,{placement:n,boundary:i,rootBoundary:a,padding:o})[I(n)],e}),{});return Object.keys(p).sort((function(t,e){return p[t]-p[e]}))}(e,{placement:n,boundary:_,rootBoundary:x,padding:y,flipVariations:M,allowedAutoPlacements:T}):n)}),[]),S=e.rects.reference,P=e.rects.popper,D=new Map,O=!0,E=C[0],z=0;z<C.length;z++){var N=C[z],R=I(N),F=tt(N)===c,j=[n,r].indexOf(R)>=0,B=j?"width":"height",H=yt(e,{placement:N,boundary:_,rootBoundary:x,altBoundary:b,padding:y}),U=j?F?i:a:F?r:n;S[B]>P[B]&&(U=st(U));var Z=st(U),V=[];if(d&&V.push(H[R]<=0),p&&V.push(H[U]<=0,H[Z]<=0),V.every((function(t){return t}))){E=N,O=!1;break}D.set(N,V)}if(O)for(var Y=function(t){var e=C.find((function(e){var n=D.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return E=e,"break"},W=M?3:1;W>0&&"break"!==Y(W);W--);e.placement!==E&&(e.modifiersData[u]._skip=!0,e.placement=E,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function xt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function bt(t){return[n,i,r,a].some((function(e){return t[e]>=0}))}const wt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,o=yt(e,{elementContext:"reference"}),s=yt(e,{altBoundary:!0}),l=xt(o,r),c=xt(s,i,a),u=bt(l),h=bt(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}},Mt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,r=t.options,o=t.name,s=r.offset,l=void 0===s?[0,0]:s,c=g.reduce((function(t,r){return t[r]=function(t,e,r){var o=I(t),s=[a,n].indexOf(o)>=0?-1:1,l="function"==typeof r?r(Object.assign({},e,{placement:t})):r,c=l[0],u=l[1];return c=c||0,u=(u||0)*s,[a,i].indexOf(o)>=0?{x:u,y:c}:{x:c,y:u}}(r,e.rects,l),t}),{}),u=c[e.placement],h=u.x,d=u.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=c}},Tt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=vt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},kt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,o=t.options,s=t.name,l=o.mainAxis,u=void 0===l||l,h=o.altAxis,d=void 0!==h&&h,f=o.boundary,p=o.rootBoundary,m=o.altBoundary,g=o.padding,v=o.tether,y=void 0===v||v,_=o.tetherOffset,x=void 0===_?0:_,b=yt(e,{boundary:f,rootBoundary:p,padding:g,altBoundary:m}),w=I(e.placement),M=tt(e.placement),T=!M,k=X(w),A="x"===k?"y":"x",L=e.modifiersData.popperOffsets,C=e.rects.reference,S=e.rects.popper,P="function"==typeof x?x(Object.assign({},e.rects,{placement:e.placement})):x,D="number"==typeof P?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,E={x:0,y:0};if(L){if(u){var R,F="y"===k?n:a,j="y"===k?r:i,B="y"===k?"height":"width",U=L[k],Z=U+b[F],V=U-b[j],Y=y?-S[B]/2:0,W=M===c?C[B]:S[B],G=M===c?-S[B]:-C[B],K=e.elements.arrow,$=y&&K?H(K):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},et=Q[F],nt=Q[j],rt=J(0,C[B],$[B]),it=T?C[B]/2-Y-rt-et-D.mainAxis:W-rt-et-D.mainAxis,at=T?-C[B]/2+Y+rt+nt+D.mainAxis:G+rt+nt+D.mainAxis,ot=e.elements.arrow&&q(e.elements.arrow),st=ot?"y"===k?ot.clientTop||0:ot.clientLeft||0:0,lt=null!=(R=null==O?void 0:O[k])?R:0,ct=U+at-lt,ut=J(y?N(Z,U+it-lt-st):Z,U,y?z(V,ct):V);L[k]=ut,E[k]=ut-U}if(d){var ht,dt="x"===k?n:a,ft="x"===k?r:i,pt=L[A],mt="y"===A?"height":"width",gt=pt+b[dt],vt=pt-b[ft],_t=-1!==[n,a].indexOf(w),xt=null!=(ht=null==O?void 0:O[A])?ht:0,bt=_t?gt:pt-C[mt]-S[mt]-xt+D.altAxis,wt=_t?pt+C[mt]+S[mt]-xt-D.altAxis:vt,Mt=y&&_t?function(t,e,n){var r=J(t,e,n);return r>n?n:r}(bt,pt,wt):J(y?bt:gt,pt,y?wt:vt);L[A]=Mt,E[A]=Mt-pt}e.modifiersData[s]=E}},requiresIfExists:["offset"]};function At(t,e,n){void 0===n&&(n=!1);var r,i,a=D(e),o=D(e)&&function(t){var e=t.getBoundingClientRect(),n=R(e.width)/t.offsetWidth||1,r=R(e.height)/t.offsetHeight||1;return 1!==n||1!==r}(e),s=Y(e),l=B(t,o,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(a||!a&&!n)&&(("body"!==C(e)||dt(s))&&(c=(r=e)!==S(r)&&D(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:ut(r)),D(e)?((u=B(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=ht(s))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function Lt(t){var e=new Map,n=new Set,r=[];function i(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var r=e.get(t);r&&i(r)}})),r.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||i(t)})),r}var Ct={placement:"bottom",modifiers:[],strategy:"absolute"};function St(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Pt(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,i=e.defaultOptions,a=void 0===i?Ct:i;return function(t,e,n){void 0===n&&(n=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ct,a),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;h(),s.options=Object.assign({},a,s.options,i),s.scrollParents={reference:P(t)?pt(t):t.contextElement?pt(t.contextElement):[],popper:pt(e)};var o,c,d=function(t){var e=Lt(t);return A.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((o=[].concat(r,s.options.modifiers),c=o.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return s.orderedModifiers=d.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,i=t.effect;if("function"==typeof i){var a=i({state:s,name:e,instance:u,options:r});l.push(a||function(){})}})),u.update()},forceUpdate:function(){if(!c){var t=s.elements,e=t.reference,n=t.popper;if(St(e,n)){s.rects={reference:At(e,q(n),"fixed"===s.options.strategy),popper:H(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],a=i.fn,o=i.options,l=void 0===o?{}:o,h=i.name;"function"==typeof a&&(s=a({state:s,options:l,name:h,instance:u})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(t){u.forceUpdate(),t(s)}))},function(){return o||(o=new Promise((function(t){Promise.resolve().then((function(){o=void 0,t(i())}))}))),o}),destroy:function(){h(),c=!0}};if(!St(t,e))return u;function h(){l.forEach((function(t){return t()})),l=[]}return u.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var Dt=Pt(),Ot=Pt({defaultModifiers:[at,Tt,rt,E,Mt,_t,kt,Q,wt]}),Et=Pt({defaultModifiers:[at,Tt,rt,E]});const It=new Map,zt={set(t,e,n){It.has(t)||It.set(t,new Map);const r=It.get(t);r.has(e)||0===r.size?r.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(t,e)=>It.has(t)&&It.get(t).get(e)||null,remove(t,e){if(!It.has(t))return;const n=It.get(t);n.delete(e),0===n.size&&It.delete(t)}},Nt="transitionend",Rt=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),Ft=t=>{t.dispatchEvent(new Event(Nt))},jt=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Bt=t=>jt(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(Rt(t)):null,Ht=t=>{if(!jt(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const e=t.closest("summary");if(e&&e.parentNode!==n)return!1;if(null===e)return!1}return e},Ut=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Zt=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Zt(t.parentNode):null},Vt=()=>{},Yt=t=>{t.offsetHeight},Wt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Gt=[],qt=()=>"rtl"===document.documentElement.dir,Xt=t=>{var e;e=()=>{const e=Wt();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}},"loading"===document.readyState?(Gt.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of Gt)t()})),Gt.push(e)):e()},Jt=(t,e=[],n=t)=>"function"==typeof t?t(...e):n,Kt=(t,e,n=!0)=>{if(!n)return void Jt(t);const r=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(e)+5;let i=!1;const a=({target:n})=>{n===e&&(i=!0,e.removeEventListener(Nt,a),Jt(t))};e.addEventListener(Nt,a),setTimeout((()=>{i||Ft(e)}),r)},$t=(t,e,n,r)=>{const i=t.length;let a=t.indexOf(e);return-1===a?!n&&r?t[i-1]:t[0]:(a+=n?1:-1,r&&(a=(a+i)%i),t[Math.max(0,Math.min(a,i-1))])},Qt=/[^.]*(?=\..*)\.|.*/,te=/\..*/,ee=/::\d+$/,ne={};let re=1;const ie={mouseenter:"mouseover",mouseleave:"mouseout"},ae=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function oe(t,e){return e&&`${e}::${re++}`||t.uidEvent||re++}function se(t){const e=oe(t);return t.uidEvent=e,ne[e]=ne[e]||{},ne[e]}function le(t,e,n=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===n))}function ce(t,e,n){const r="string"==typeof e,i=r?n:e||n;let a=fe(t);return ae.has(a)||(a=t),[r,i,a]}function ue(t,e,n,r,i){if("string"!=typeof e||!t)return;let[a,o,s]=ce(e,n,r);if(e in ie){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};o=t(o)}const l=se(t),c=l[s]||(l[s]={}),u=le(c,o,a?n:null);if(u)return void(u.oneOff=u.oneOff&&i);const h=oe(o,e.replace(Qt,"")),d=a?function(t,e,n){return function r(i){const a=t.querySelectorAll(e);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const s of a)if(s===o)return me(i,{delegateTarget:o}),r.oneOff&&pe.off(t,i.type,e,n),n.apply(o,[i])}}(t,n,o):function(t,e){return function n(r){return me(r,{delegateTarget:t}),n.oneOff&&pe.off(t,r.type,e),e.apply(t,[r])}}(t,o);d.delegationSelector=a?n:null,d.callable=o,d.oneOff=i,d.uidEvent=h,c[h]=d,t.addEventListener(s,d,a)}function he(t,e,n,r,i){const a=le(e[n],r,i);a&&(t.removeEventListener(n,a,Boolean(i)),delete e[n][a.uidEvent])}function de(t,e,n,r){const i=e[n]||{};for(const[a,o]of Object.entries(i))a.includes(r)&&he(t,e,n,o.callable,o.delegationSelector)}function fe(t){return t=t.replace(te,""),ie[t]||t}const pe={on(t,e,n,r){ue(t,e,n,r,!1)},one(t,e,n,r){ue(t,e,n,r,!0)},off(t,e,n,r){if("string"!=typeof e||!t)return;const[i,a,o]=ce(e,n,r),s=o!==e,l=se(t),c=l[o]||{},u=e.startsWith(".");if(void 0===a){if(u)for(const n of Object.keys(l))de(t,l,n,e.slice(1));for(const[n,r]of Object.entries(c)){const i=n.replace(ee,"");s&&!e.includes(i)||he(t,l,o,r.callable,r.delegationSelector)}}else{if(!Object.keys(c).length)return;he(t,l,o,a,i?n:null)}},trigger(t,e,n){if("string"!=typeof e||!t)return null;const r=Wt();let i=null,a=!0,o=!0,s=!1;e!==fe(e)&&r&&(i=r.Event(e,n),r(t).trigger(i),a=!i.isPropagationStopped(),o=!i.isImmediatePropagationStopped(),s=i.isDefaultPrevented());const l=me(new Event(e,{bubbles:a,cancelable:!0}),n);return s&&l.preventDefault(),o&&t.dispatchEvent(l),l.defaultPrevented&&i&&i.preventDefault(),l}};function me(t,e={}){for(const[n,r]of Object.entries(e))try{t[n]=r}catch(e){Object.defineProperty(t,n,{configurable:!0,get:()=>r})}return t}function ge(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function ve(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}const ye={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${ve(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${ve(e)}`)},getDataAttributes(t){if(!t)return{};const e={},n=Object.keys(t.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),e[n]=ge(t.dataset[r])}return e},getDataAttribute:(t,e)=>ge(t.getAttribute(`data-bs-${ve(e)}`))};class _e{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const n=jt(e)?ye.getDataAttribute(e,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...jt(e)?ye.getDataAttributes(e):{},..."object"==typeof t?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[r,i]of Object.entries(e)){const e=t[r],a=jt(e)?"element":null==(n=e)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(i).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${i}".`)}var n}}class xe extends _e{constructor(t,e){super(),(t=Bt(t))&&(this._element=t,this._config=this._getConfig(e),zt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){zt.remove(this._element,this.constructor.DATA_KEY),pe.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,n=!0){Kt(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return zt.get(Bt(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const be=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e?e.split(",").map((t=>Rt(t))).join(","):null},we={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(e,t).filter((t=>!Ut(t)&&Ht(t)))},getSelectorFromElement(t){const e=be(t);return e&&we.findOne(e)?e:null},getElementFromSelector(t){const e=be(t);return e?we.findOne(e):null},getMultipleElementsFromSelector(t){const e=be(t);return e?we.find(e):[]}},Me=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,r=t.NAME;pe.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ut(this))return;const i=we.getElementFromSelector(this)||this.closest(`.${r}`);t.getOrCreateInstance(i)[e]()}))},Te=".bs.alert",ke=`close${Te}`,Ae=`closed${Te}`;class Le extends xe{static get NAME(){return"alert"}close(){if(pe.trigger(this._element,ke).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),pe.trigger(this._element,Ae),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=Le.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}Me(Le,"close"),Xt(Le);const Ce='[data-bs-toggle="button"]';class Se extends xe{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=Se.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}pe.on(document,"click.bs.button.data-api",Ce,(t=>{t.preventDefault();const e=t.target.closest(Ce);Se.getOrCreateInstance(e).toggle()})),Xt(Se);const Pe=".bs.swipe",De=`touchstart${Pe}`,Oe=`touchmove${Pe}`,Ee=`touchend${Pe}`,Ie=`pointerdown${Pe}`,ze=`pointerup${Pe}`,Ne={endCallback:null,leftCallback:null,rightCallback:null},Re={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Fe extends _e{constructor(t,e){super(),this._element=t,t&&Fe.isSupported()&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Ne}static get DefaultType(){return Re}static get NAME(){return"swipe"}dispose(){pe.off(this._element,Pe)}_start(t){this._supportPointerEvents?this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX):this._deltaX=t.touches[0].clientX}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Jt(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=40)return;const e=t/this._deltaX;this._deltaX=0,e&&Jt(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(pe.on(this._element,Ie,(t=>this._start(t))),pe.on(this._element,ze,(t=>this._end(t))),this._element.classList.add("pointer-event")):(pe.on(this._element,De,(t=>this._start(t))),pe.on(this._element,Oe,(t=>this._move(t))),pe.on(this._element,Ee,(t=>this._end(t))))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&("pen"===t.pointerType||"touch"===t.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const je=".bs.carousel",Be=".data-api",He="ArrowLeft",Ue="ArrowRight",Ze="next",Ve="prev",Ye="left",We="right",Ge=`slide${je}`,qe=`slid${je}`,Xe=`keydown${je}`,Je=`mouseenter${je}`,Ke=`mouseleave${je}`,$e=`dragstart${je}`,Qe=`load${je}${Be}`,tn=`click${je}${Be}`,en="carousel",nn="active",rn=".active",an=".carousel-item",on=rn+an,sn={[He]:We,[Ue]:Ye},ln={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cn={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class un extends xe{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=we.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===en&&this.cycle()}static get Default(){return ln}static get DefaultType(){return cn}static get NAME(){return"carousel"}next(){this._slide(Ze)}nextWhenVisible(){!document.hidden&&Ht(this._element)&&this.next()}prev(){this._slide(Ve)}pause(){this._isSliding&&Ft(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?pe.one(this._element,qe,(()=>this.cycle())):this.cycle())}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding)return void pe.one(this._element,qe,(()=>this.to(t)));const n=this._getItemIndex(this._getActive());if(n===t)return;const r=t>n?Ze:Ve;this._slide(r,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&pe.on(this._element,Xe,(t=>this._keydown(t))),"hover"===this._config.pause&&(pe.on(this._element,Je,(()=>this.pause())),pe.on(this._element,Ke,(()=>this._maybeEnableCycle()))),this._config.touch&&Fe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of we.find(".carousel-item img",this._element))pe.on(t,$e,(t=>t.preventDefault()));const t={leftCallback:()=>this._slide(this._directionToOrder(Ye)),rightCallback:()=>this._slide(this._directionToOrder(We)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new Fe(this._element,t)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=sn[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=we.findOne(rn,this._indicatorsElement);e.classList.remove(nn),e.removeAttribute("aria-current");const n=we.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);n&&(n.classList.add(nn),n.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const n=this._getActive(),r=t===Ze,i=e||$t(this._getItems(),n,r,this._config.wrap);if(i===n)return;const a=this._getItemIndex(i),o=e=>pe.trigger(this._element,e,{relatedTarget:i,direction:this._orderToDirection(t),from:this._getItemIndex(n),to:a});if(o(Ge).defaultPrevented)return;if(!n||!i)return;const s=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=i;const l=r?"carousel-item-start":"carousel-item-end",c=r?"carousel-item-next":"carousel-item-prev";i.classList.add(c),Yt(i),n.classList.add(l),i.classList.add(l),this._queueCallback((()=>{i.classList.remove(l,c),i.classList.add(nn),n.classList.remove(nn,c,l),this._isSliding=!1,o(qe)}),n,this._isAnimated()),s&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return we.findOne(on,this._element)}_getItems(){return we.find(an,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return qt()?t===Ye?Ve:Ze:t===Ye?Ze:Ve}_orderToDirection(t){return qt()?t===Ve?Ye:We:t===Ve?We:Ye}static jQueryInterface(t){return this.each((function(){const e=un.getOrCreateInstance(this,t);if("number"!=typeof t){if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}else e.to(t)}))}}pe.on(document,tn,"[data-bs-slide], [data-bs-slide-to]",(function(t){const e=we.getElementFromSelector(this);if(!e||!e.classList.contains(en))return;t.preventDefault();const n=un.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===ye.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),pe.on(window,Qe,(()=>{const t=we.find('[data-bs-ride="carousel"]');for(const e of t)un.getOrCreateInstance(e)})),Xt(un);const hn=".bs.collapse",dn=`show${hn}`,fn=`shown${hn}`,pn=`hide${hn}`,mn=`hidden${hn}`,gn=`click${hn}.data-api`,vn="show",yn="collapse",_n="collapsing",xn=`:scope .${yn} .${yn}`,bn='[data-bs-toggle="collapse"]',wn={parent:null,toggle:!0},Mn={parent:"(null|element)",toggle:"boolean"};class Tn extends xe{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const n=we.find(bn);for(const t of n){const e=we.getSelectorFromElement(t),n=we.find(e).filter((t=>t===this._element));null!==e&&n.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return wn}static get DefaultType(){return Mn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((t=>t!==this._element)).map((t=>Tn.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(pe.trigger(this._element,dn).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(yn),this._element.classList.add(_n),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(_n),this._element.classList.add(yn,vn),this._element.style[e]="",pe.trigger(this._element,fn)}),this._element,!0),this._element.style[e]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(pe.trigger(this._element,pn).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Yt(this._element),this._element.classList.add(_n),this._element.classList.remove(yn,vn);for(const t of this._triggerArray){const e=we.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(_n),this._element.classList.add(yn),pe.trigger(this._element,mn)}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(vn)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=Bt(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(bn);for(const e of t){const t=we.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=we.find(xn,this._config.parent);return we.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const n of t)n.classList.toggle("collapsed",!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const n=Tn.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}pe.on(document,gn,bn,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of we.getMultipleElementsFromSelector(this))Tn.getOrCreateInstance(t,{toggle:!1}).toggle()})),Xt(Tn);const kn="dropdown",An=".bs.dropdown",Ln=".data-api",Cn="ArrowUp",Sn="ArrowDown",Pn=`hide${An}`,Dn=`hidden${An}`,On=`show${An}`,En=`shown${An}`,In=`click${An}${Ln}`,zn=`keydown${An}${Ln}`,Nn=`keyup${An}${Ln}`,Rn="show",Fn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',jn=`${Fn}.${Rn}`,Bn=".dropdown-menu",Hn=qt()?"top-end":"top-start",Un=qt()?"top-start":"top-end",Zn=qt()?"bottom-end":"bottom-start",Vn=qt()?"bottom-start":"bottom-end",Yn=qt()?"left-start":"right-start",Wn=qt()?"right-start":"left-start",Gn={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},qn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Xn extends xe{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=we.next(this._element,Bn)[0]||we.prev(this._element,Bn)[0]||we.findOne(Bn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Gn}static get DefaultType(){return qn}static get NAME(){return kn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ut(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!pe.trigger(this._element,On,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))pe.on(t,"mouseover",Vt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Rn),this._element.classList.add(Rn),pe.trigger(this._element,En,t)}}hide(){if(Ut(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!pe.trigger(this._element,Pn,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))pe.off(t,"mouseover",Vt);this._popper&&this._popper.destroy(),this._menu.classList.remove(Rn),this._element.classList.remove(Rn),this._element.setAttribute("aria-expanded","false"),ye.removeDataAttribute(this._menu,"popper"),pe.trigger(this._element,Dn,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!jt(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${kn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){let t=this._element;"parent"===this._config.reference?t=this._parent:jt(this._config.reference)?t=Bt(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Ot(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Rn)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return Yn;if(t.classList.contains("dropstart"))return Wn;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?Un:Hn:e?Vn:Zn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ye.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Jt(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const n=we.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((t=>Ht(t)));n.length&&$t(n,e,t===Sn,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=Xn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=we.find(jn);for(const n of e){const e=Xn.getInstance(n);if(!e||!1===e._config.autoClose)continue;const r=t.composedPath(),i=r.includes(e._menu);if(r.includes(e._element)||"inside"===e._config.autoClose&&!i||"outside"===e._config.autoClose&&i)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:e._element};"click"===t.type&&(a.clickEvent=t),e._completeHide(a)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),n="Escape"===t.key,r=[Cn,Sn].includes(t.key);if(!r&&!n)return;if(e&&!n)return;t.preventDefault();const i=this.matches(Fn)?this:we.prev(this,Fn)[0]||we.next(this,Fn)[0]||we.findOne(Fn,t.delegateTarget.parentNode),a=Xn.getOrCreateInstance(i);if(r)return t.stopPropagation(),a.show(),void a._selectMenuItem(t);a._isShown()&&(t.stopPropagation(),a.hide(),i.focus())}}pe.on(document,zn,Fn,Xn.dataApiKeydownHandler),pe.on(document,zn,Bn,Xn.dataApiKeydownHandler),pe.on(document,In,Xn.clearMenus),pe.on(document,Nn,Xn.clearMenus),pe.on(document,In,Fn,(function(t){t.preventDefault(),Xn.getOrCreateInstance(this).toggle()})),Xt(Xn);const Jn="backdrop",Kn="show",$n=`mousedown.bs.${Jn}`,Qn={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},tr={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class er extends _e{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return Qn}static get DefaultType(){return tr}static get NAME(){return Jn}show(t){if(!this._config.isVisible)return void Jt(t);this._append();const e=this._getElement();this._config.isAnimated&&Yt(e),e.classList.add(Kn),this._emulateAnimation((()=>{Jt(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(Kn),this._emulateAnimation((()=>{this.dispose(),Jt(t)}))):Jt(t)}dispose(){this._isAppended&&(pe.off(this._element,$n),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=Bt(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),pe.on(t,$n,(()=>{Jt(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){Kt(t,this._getElement(),this._config.isAnimated)}}const nr=".bs.focustrap",rr=`focusin${nr}`,ir=`keydown.tab${nr}`,ar="backward",or={autofocus:!0,trapElement:null},sr={autofocus:"boolean",trapElement:"element"};class lr extends _e{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return or}static get DefaultType(){return sr}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),pe.off(document,nr),pe.on(document,rr,(t=>this._handleFocusin(t))),pe.on(document,ir,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,pe.off(document,nr))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const n=we.focusableChildren(e);0===n.length?e.focus():this._lastTabNavDirection===ar?n[n.length-1].focus():n[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?ar:"forward")}}const cr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ur=".sticky-top",hr="padding-right",dr="margin-right";class fr{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,hr,(e=>e+t)),this._setElementAttributes(cr,hr,(e=>e+t)),this._setElementAttributes(ur,dr,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,hr),this._resetElementAttributes(cr,hr),this._resetElementAttributes(ur,dr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const r=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+r)return;this._saveInitialAttribute(t,e);const i=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${n(Number.parseFloat(i))}px`)}))}_saveInitialAttribute(t,e){const n=t.style.getPropertyValue(e);n&&ye.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const n=ye.getDataAttribute(t,e);null!==n?(ye.removeDataAttribute(t,e),t.style.setProperty(e,n)):t.style.removeProperty(e)}))}_applyManipulationCallback(t,e){if(jt(t))e(t);else for(const n of we.find(t,this._element))e(n)}}const pr=".bs.modal",mr=`hide${pr}`,gr=`hidePrevented${pr}`,vr=`hidden${pr}`,yr=`show${pr}`,_r=`shown${pr}`,xr=`resize${pr}`,br=`click.dismiss${pr}`,wr=`mousedown.dismiss${pr}`,Mr=`keydown.dismiss${pr}`,Tr=`click${pr}.data-api`,kr="modal-open",Ar="show",Lr="modal-static",Cr={backdrop:!0,focus:!0,keyboard:!0},Sr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Pr extends xe{constructor(t,e){super(t,e),this._dialog=we.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new fr,this._addEventListeners()}static get Default(){return Cr}static get DefaultType(){return Sr}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||pe.trigger(this._element,yr,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(kr),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(pe.trigger(this._element,mr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ar),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){pe.off(window,pr),pe.off(this._dialog,pr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new er({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new lr({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=we.findOne(".modal-body",this._dialog);e&&(e.scrollTop=0),Yt(this._element),this._element.classList.add(Ar),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,pe.trigger(this._element,_r,{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){pe.on(this._element,Mr,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),pe.on(window,xr,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),pe.on(this._element,wr,(t=>{pe.one(this._element,br,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(kr),this._resetAdjustments(),this._scrollBar.reset(),pe.trigger(this._element,vr)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(pe.trigger(this._element,gr).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._element.style.overflowY;"hidden"===e||this._element.classList.contains(Lr)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Lr),this._queueCallback((()=>{this._element.classList.remove(Lr),this._queueCallback((()=>{this._element.style.overflowY=e}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){const t=qt()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!n&&t){const t=qt()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=Pr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}pe.on(document,Tr,'[data-bs-toggle="modal"]',(function(t){const e=we.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),pe.one(e,yr,(t=>{t.defaultPrevented||pe.one(e,vr,(()=>{Ht(this)&&this.focus()}))}));const n=we.findOne(".modal.show");n&&Pr.getInstance(n).hide(),Pr.getOrCreateInstance(e).toggle(this)})),Me(Pr),Xt(Pr);const Dr=".bs.offcanvas",Or=".data-api",Er=`load${Dr}${Or}`,Ir="show",zr="showing",Nr="hiding",Rr=".offcanvas.show",Fr=`show${Dr}`,jr=`shown${Dr}`,Br=`hide${Dr}`,Hr=`hidePrevented${Dr}`,Ur=`hidden${Dr}`,Zr=`resize${Dr}`,Vr=`click${Dr}${Or}`,Yr=`keydown.dismiss${Dr}`,Wr={backdrop:!0,keyboard:!0,scroll:!1},Gr={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class qr extends xe{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Wr}static get DefaultType(){return Gr}static get NAME(){return"offcanvas"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||pe.trigger(this._element,Fr,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new fr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(zr),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Ir),this._element.classList.remove(zr),pe.trigger(this._element,jr,{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(pe.trigger(this._element,Br).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Nr),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(Ir,Nr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new fr).reset(),pe.trigger(this._element,Ur)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new er({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():pe.trigger(this._element,Hr)}:null})}_initializeFocusTrap(){return new lr({trapElement:this._element})}_addEventListeners(){pe.on(this._element,Yr,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():pe.trigger(this._element,Hr))}))}static jQueryInterface(t){return this.each((function(){const e=qr.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}pe.on(document,Vr,'[data-bs-toggle="offcanvas"]',(function(t){const e=we.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ut(this))return;pe.one(e,Ur,(()=>{Ht(this)&&this.focus()}));const n=we.findOne(Rr);n&&n!==e&&qr.getInstance(n).hide(),qr.getOrCreateInstance(e).toggle(this)})),pe.on(window,Er,(()=>{for(const t of we.find(Rr))qr.getOrCreateInstance(t).show()})),pe.on(window,Zr,(()=>{for(const t of we.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(t).position&&qr.getOrCreateInstance(t).hide()})),Me(qr),Xt(qr);const Xr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Kr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,$r=(t,e)=>{const n=t.nodeName.toLowerCase();return e.includes(n)?!Jr.has(n)||Boolean(Kr.test(t.nodeValue)):e.filter((t=>t instanceof RegExp)).some((t=>t.test(n)))},Qr={allowList:Xr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ti={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},ei={entry:"(string|element|function|null)",selector:"(string|element)"};class ni extends _e{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Qr}static get DefaultType(){return ti}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,n]of Object.entries(this._config.content))this._setContent(t,n,e);const e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},ei)}_setContent(t,e,n){const r=we.findOne(n,t);r&&((e=this._resolvePossibleFunction(e))?jt(e)?this._putElementInTemplate(Bt(e),r):this._config.html?r.innerHTML=this._maybeSanitize(e):r.textContent=e:r.remove())}_maybeSanitize(t){return this._config.sanitize?function(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const r=(new window.DOMParser).parseFromString(t,"text/html"),i=[].concat(...r.body.querySelectorAll("*"));for(const t of i){const n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}const r=[].concat(...t.attributes),i=[].concat(e["*"]||[],e[n]||[]);for(const e of r)$r(e,i)||t.removeAttribute(e.nodeName)}return r.body.innerHTML}(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Jt(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}const ri=new Set(["sanitize","allowList","sanitizeFn"]),ii="fade",ai="show",oi=".tooltip-inner",si=".modal",li="hide.bs.modal",ci="hover",ui="focus",hi={AUTO:"auto",TOP:"top",RIGHT:qt()?"left":"right",BOTTOM:"bottom",LEFT:qt()?"right":"left"},di={allowList:Xr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},fi={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pi extends xe{constructor(t,e){super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return di}static get DefaultType(){return fi}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),pe.off(this._element.closest(si),li,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=pe.trigger(this._element,this.constructor.eventName("show")),e=(Zt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),pe.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(ai),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))pe.on(t,"mouseover",Vt);this._queueCallback((()=>{pe.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!pe.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(ai),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))pe.off(t,"mouseover",Vt);this._activeTrigger.click=!1,this._activeTrigger[ui]=!1,this._activeTrigger[ci]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),pe.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(ii,ai),e.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(ii),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new ni({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[oi]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ii)}_isShown(){return this.tip&&this.tip.classList.contains(ai)}_createPopper(t){const e=Jt(this._config.placement,[this,t,this._element]),n=hi[e.toUpperCase()];return Ot(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Jt(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...Jt(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)pe.on(this._element,this.constructor.eventName("click"),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if("manual"!==e){const t=e===ci?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=e===ci?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");pe.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?ui:ci]=!0,e._enter()})),pe.on(this._element,n,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?ui:ci]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},pe.on(this._element.closest(si),li,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=ye.getDataAttributes(this._element);for(const t of Object.keys(e))ri.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:Bt(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,n]of Object.entries(this._config))this.constructor.Default[e]!==n&&(t[e]=n);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=pi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Xt(pi);const mi=".popover-header",gi=".popover-body",vi={...pi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yi={...pi.DefaultType,content:"(null|string|element|function)"};class _i extends pi{static get Default(){return vi}static get DefaultType(){return yi}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[mi]:this._getTitle(),[gi]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=_i.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Xt(_i);const xi=".bs.scrollspy",bi=`activate${xi}`,wi=`click${xi}`,Mi=`load${xi}.data-api`,Ti="active",ki="[href]",Ai=".nav-link",Li=`${Ai}, .nav-item > ${Ai}, .list-group-item`,Ci={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Si={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Pi extends xe{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Ci}static get DefaultType(){return Si}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=Bt(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,"string"==typeof t.threshold&&(t.threshold=t.threshold.split(",").map((t=>Number.parseFloat(t)))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(pe.off(this._config.target,wi),pe.on(this._config.target,wi,ki,(t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const n=this._rootElement||window,r=e.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((t=>this._observerCallback(t)),t)}_observerCallback(t){const e=t=>this._targetLinks.get(`#${t.target.id}`),n=t=>{this._previousScrollData.visibleEntryTop=t.target.offsetTop,this._process(e(t))},r=(this._rootElement||document.documentElement).scrollTop,i=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const a of t){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(a));continue}const t=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&t){if(n(a),!r)return}else i||t||n(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=we.find(ki,this._config.target);for(const e of t){if(!e.hash||Ut(e))continue;const t=we.findOne(decodeURI(e.hash),this._element);Ht(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Ti),this._activateParents(t),pe.trigger(this._element,bi,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains("dropdown-item"))we.findOne(".dropdown-toggle",t.closest(".dropdown")).classList.add(Ti);else for(const e of we.parents(t,".nav, .list-group"))for(const t of we.prev(e,Li))t.classList.add(Ti)}_clearActiveClass(t){t.classList.remove(Ti);const e=we.find(`${ki}.${Ti}`,t);for(const t of e)t.classList.remove(Ti)}static jQueryInterface(t){return this.each((function(){const e=Pi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}pe.on(window,Mi,(()=>{for(const t of we.find('[data-bs-spy="scroll"]'))Pi.getOrCreateInstance(t)})),Xt(Pi);const Di=".bs.tab",Oi=`hide${Di}`,Ei=`hidden${Di}`,Ii=`show${Di}`,zi=`shown${Di}`,Ni=`click${Di}`,Ri=`keydown${Di}`,Fi=`load${Di}`,ji="ArrowLeft",Bi="ArrowRight",Hi="ArrowUp",Ui="ArrowDown",Zi="Home",Vi="End",Yi="active",Wi="fade",Gi="show",qi=".dropdown-toggle",Xi=`:not(${qi})`,Ji='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ki=`.nav-link${Xi}, .list-group-item${Xi}, [role="tab"]${Xi}, ${Ji}`,$i=`.${Yi}[data-bs-toggle="tab"], .${Yi}[data-bs-toggle="pill"], .${Yi}[data-bs-toggle="list"]`;class Qi extends xe{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),pe.on(this._element,Ri,(t=>this._keydown(t))))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),n=e?pe.trigger(e,Oi,{relatedTarget:t}):null;pe.trigger(t,Ii,{relatedTarget:e}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){t&&(t.classList.add(Yi),this._activate(we.getElementFromSelector(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),pe.trigger(t,zi,{relatedTarget:e})):t.classList.add(Gi)}),t,t.classList.contains(Wi)))}_deactivate(t,e){t&&(t.classList.remove(Yi),t.blur(),this._deactivate(we.getElementFromSelector(t)),this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),pe.trigger(t,Ei,{relatedTarget:e})):t.classList.remove(Gi)}),t,t.classList.contains(Wi)))}_keydown(t){if(![ji,Bi,Hi,Ui,Zi,Vi].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter((t=>!Ut(t)));let n;if([Zi,Vi].includes(t.key))n=e[t.key===Zi?0:e.length-1];else{const r=[Bi,Ui].includes(t.key);n=$t(e,t.target,r,!0)}n&&(n.focus({preventScroll:!0}),Qi.getOrCreateInstance(n).show())}_getChildren(){return we.find(Ki,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",e),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=we.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const n=this._getOuterElement(t);if(!n.classList.contains("dropdown"))return;const r=(t,r)=>{const i=we.findOne(t,n);i&&i.classList.toggle(r,e)};r(qi,Yi),r(".dropdown-menu",Gi),n.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}_elemIsActive(t){return t.classList.contains(Yi)}_getInnerElement(t){return t.matches(Ki)?t:we.findOne(Ki,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each((function(){const e=Qi.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}pe.on(document,Ni,Ji,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ut(this)||Qi.getOrCreateInstance(this).show()})),pe.on(window,Fi,(()=>{for(const t of we.find($i))Qi.getOrCreateInstance(t)})),Xt(Qi);const ta=".bs.toast",ea=`mouseover${ta}`,na=`mouseout${ta}`,ra=`focusin${ta}`,ia=`focusout${ta}`,aa=`hide${ta}`,oa=`hidden${ta}`,sa=`show${ta}`,la=`shown${ta}`,ca="hide",ua="show",ha="showing",da={animation:"boolean",autohide:"boolean",delay:"number"},fa={animation:!0,autohide:!0,delay:5e3};class pa extends xe{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return fa}static get DefaultType(){return da}static get NAME(){return"toast"}show(){pe.trigger(this._element,sa).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ca),Yt(this._element),this._element.classList.add(ua,ha),this._queueCallback((()=>{this._element.classList.remove(ha),pe.trigger(this._element,la),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(pe.trigger(this._element,aa).defaultPrevented||(this._element.classList.add(ha),this._queueCallback((()=>{this._element.classList.add(ca),this._element.classList.remove(ha,ua),pe.trigger(this._element,oa)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ua),super.dispose()}isShown(){return this._element.classList.contains(ua)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){pe.on(this._element,ea,(t=>this._onInteraction(t,!0))),pe.on(this._element,na,(t=>this._onInteraction(t,!1))),pe.on(this._element,ra,(t=>this._onInteraction(t,!0))),pe.on(this._element,ia,(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=pa.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}Me(pa),Xt(pa),o(3481);var ma=o(5072),ga=o.n(ma),va=o(7825),ya=o.n(va),_a=o(7659),xa=o.n(_a),ba=o(5056),wa=o.n(ba),Ma=o(540),Ta=o.n(Ma),ka=o(1113),Aa=o.n(ka),La=o(1081),Ca={};Ca.styleTagTransform=Aa(),Ca.setAttributes=wa(),Ca.insert=xa().bind(null,"head"),Ca.domAPI=ya(),Ca.insertStyleElement=Ta(),ga()(La.A,Ca),La.A&&La.A.locals&&La.A.locals;var Sa=o(5819),Pa={};Pa.styleTagTransform=Aa(),Pa.setAttributes=wa(),Pa.insert=xa().bind(null,"head"),Pa.domAPI=ya(),Pa.insertStyleElement=Ta(),ga()(Sa.A,Pa),Sa.A&&Sa.A.locals&&Sa.A.locals,o(8292);var Da,Oa=o(4771),Ea={};Ea.styleTagTransform=Aa(),Ea.setAttributes=wa(),Ea.insert=xa().bind(null,"head"),Ea.domAPI=ya(),Ea.insertStyleElement=Ta(),ga()(Oa.A,Ea),Oa.A&&Oa.A.locals&&Oa.A.locals,Da=function(){const t={lightblue:{area:"#3366CC",alpha:.45,stroke:"#3366CC"},magenta:{area:"#FF005E"},yellow:{area:"#FF0"},purple:{area:"#732C7B"},steelblue:{area:"#4682B4"},red:{area:"#F00"},lime:{area:"#9CC222",line:"#566B13"}},e=6e4,n=60*e,r=24*n;function i(t,e){return new URL(t,t.startsWith("../")||t.startsWith("./")?e:void 0).toString()}function a(t,e){let n=g("a","",{href:t,target:"_new",download:e||"",style:"display:none;"}),r=document.body;r.appendChild(n),n.click(),r.removeChild(n)}function s(t,e,n){return t&&(({props:r,point:i,id:a,isMulti:o})=>{if(r)for(const s of t)if(s in r){i.meta[e]=(n||l).call(this,o?r[s][o]:r[s],a);break}})}const l=(t,e)=>parseInt("object"==typeof t?t[e]:t),c=(t,e)=>t&&e.split(" ").every((e=>e&&L.DomUtil.addClass(t,e))),u=(t,e)=>t&&e.split(" ").every((e=>e&&L.DomUtil.removeClass(t,e))),h=(t,e,n)=>(n?c:u)(t,e),d=(t,e,n)=>e&&u(t,e)||n&&c(t,n),f=(t,e,n)=>void 0===n&&L.DomUtil.getStyle(t,e)||t.style.setProperty(e,n),p=(t,e)=>{for(let n in e)t.setAttribute(n,e[n])},m=(t,e,n,r)=>t[r?"on":"off"](e,n),g=(t,e,n,r)=>{let i=L.DomUtil.create(t,e||"");return n&&p(i,n),r&&v(r,i),i},v=(t,e)=>t.appendChild(e),y=(t,e,n)=>t.insertAdjacentElement(n,e),_=(t,e)=>(e||document).querySelector(t),x=(t,e)=>{for(let n in t)e(t[n],n)},b=()=>Math.random().toString(36).substr(2,9),{on:w,off:M}=L.DomEvent,{throttle:T,wrapNum:k}=L.Util,{hasClass:A}=L.DomUtil,C=L.Util.formatNum,S=(t,e)=>e?t<e[0]?e[0]:t>e[1]?e[1]:t:t,P=(t,e,n)=>Math.abs(t-e)>n?e+n*Math.sign(t-e):t;function D(t,e=[],n=[]){switch(!t||typeof t){case"object":const r=n.filter((e=>t===e.original))[0];if(r)return r.copy;const i=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return n.push({original:t,copy:i}),Object.getOwnPropertyNames(t).forEach((function(r){const a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(i,r,a.get||a.set?a:{writable:a.writable,configurable:a.configurable,enumerable:a.enumerable,value:e.includes(r)?a.value:D(a.value,e,n)})})),i;case"function":case"symbol":console.warn("cloneDeep: "+typeof t+"s not fully supported:",t);default:return t}}var O={__proto__:null,Colors:t,addClass:c,append:v,clamp:S,cloneDeep:D,coordPropsToMeta:s,create:g,drawCanvas:function(t,e){e.classed("canvas-path",!0),t.beginPath(),t.moveTo(0,0);let n=new Path2D(e.attr("d"));t.strokeStyle=e.__strokeStyle||e.attr("stroke"),t.fillStyle=e.__fillStyle||e.attr("fill"),t.lineWidth=1.25,t.globalCompositeOperation="source-over",t.globalAlpha=e.attr("stroke-opacity")||.3,t.stroke(n),t.globalAlpha=e.attr("fill-opacity")||.45,t.fill(n),t.globalAlpha=1,t.closePath()},each:x,formatDate:function(t){return t?"time"==t?t=>new Date(t).toLocaleTimeString():"date"==t?t=>new Date(t).toLocaleDateString():e=>t(e):t=>new Date(t).toLocaleString().replaceAll("/","-").replaceAll(","," ")},formatTime:function(t){let i=Math.floor(t/r),a=Math.floor((t-i*r)/n),o=Math.floor((t-i*r-a*n)/e),s=Math.round((t-i*r-a*n-o*e)/1e3);return 60===s&&(o++,s=0),60===o&&(a++,o=0),24===a&&(i++,a=0),(i?i+"d ":"")+a.toString().padStart(2,0)+":"+o.toString().padStart(2,0)+"'"+s.toString().padStart(2,0)+'"'},hasClass:A,iAvg:(t,e=0,n=1)=>(t+e*(n-1))/n,iMax:(t,e=-1/0)=>t>e?t:e,iMin:(t,e=1/0)=>t<e?t:e,iSum:(t,e=0)=>t+e,insert:y,off:M,on:w,parseDate:(t,e)=>new Date(Date.parse("object"==typeof t?t[e]:t)),parseNumeric:l,randomId:b,removeClass:u,replaceClass:d,resolveURL:i,round:C,saveFile:a,select:_,setAttributes:p,style:f,throttle:T,toggleClass:h,toggleEvent:m,toggleStyle:(t,e,n,r)=>f(t,e,r?n:""),wrapDelta:P,wrapNum:k},E={autofitBounds:!0,autohide:!1,autohideMarker:!0,almostover:!0,altitude:!0,closeBtn:!0,collapsed:!1,detached:!0,distance:!0,distanceMarkers:{lazy:!0,distance:!0,direction:!0},dragging:!L.Browser.mobile,downloadLink:"link",elevationDiv:"#elevation-div",edgeScale:{bar:!0,icon:!1,coords:!1},followMarker:!0,imperial:!1,legend:!0,handlers:["Distance","Time","Altitude","Slope","Speed","Acceleration"],hotline:"elevation",marker:"elevation-line",markerIcon:L.divIcon({className:"elevation-position-marker",html:'<i class="elevation-position-icon"></i>',iconSize:[32,32],iconAnchor:[16,16]}),position:"topright",polyline:{className:"elevation-polyline",color:"#000",opacity:.75,weight:5,lineCap:"round"},polylineSegments:{className:"elevation-polyline-segments",color:"#F00",interactive:!1},preferCanvas:!1,reverseCoords:!1,ruler:!0,theme:"lightblue-theme",summary:"inline",slope:!1,speed:!1,time:!0,timeFactor:3600,timestamps:!1,trkStart:{className:"start-marker",radius:6,weight:2,color:"#fff",fillColor:"#00d800",fillOpacity:1,interactive:!1},trkEnd:{className:"end-marker",radius:6,weight:2,color:"#fff",fillColor:"#ff0606",fillOpacity:1,interactive:!1},waypoints:!0,wptIcons:{"":L.divIcon({className:"elevation-waypoint-marker",html:'<i class="elevation-waypoint-icon default"></i>',iconSize:[30,30],iconAnchor:[8,30]})},wptLabels:!0,xAttr:"dist",xLabel:"km",yAttr:"z",yLabel:"m",zFollow:!1,zooming:!L.Browser.Mobile,margins:{top:30,right:30,bottom:30,left:40},height:.3*screen.height||200,width:.6*screen.width||600,xTicks:void 0,yTicks:void 0,decimalsX:2,decimalsY:0,forceAxisBounds:!1,interpolation:"curveLinear",yAxisMax:void 0,yAxisMin:void 0,srcFolder:(document.currentScript&&document.currentScript.src||{url:"undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("leaflet-elevation.js",document.baseURI).href}&&("undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:document.currentScript&&document.currentScript.src||new URL("leaflet-elevation.js",document.baseURI).href)).split("/").slice(0,-1).join("/")+"/"};L._&&L.i18n||(L._=L.i18n=(t,e)=>t);const I=L.Control.Elevation=L.Control.extend({includes:L.Evented?L.Evented.prototype:L.Mixin.Events,options:E,__mileFactor:.621371,__footFactor:3.28084,__D3:"https://unpkg.com/d3@7.8.4/dist/d3.min.js",__TOGEOJSON:"https://unpkg.com/@tmcw/togeojson@5.6.2/dist/togeojson.umd.js",__LGEOMUTIL:"https://unpkg.com/leaflet-geometryutil@0.10.1/src/leaflet.geometryutil.js",__LALMOSTOVER:"https://unpkg.com/leaflet-almostover@1.0.1/src/leaflet.almostover.js",__LHOTLINE:"../libs/leaflet-hotline.min.js",__LDISTANCEM:"../libs/leaflet-distance-marker.min.js",__LEDGESCALE:"../libs/leaflet-edgescale.min.js",__LCHART:"../src/components/chart.js",__LMARKER:"../src/components/marker.js",__LSUMMARY:"../src/components/summary.js",__modulesFolder:"../src/handlers/",__btnIcon:"../images/elevation.svg",addData(t,e){this.import(this.__D3).then((()=>{this._modulesLoaded?(e=e??(t.on&&t),this._addData(t),this._addLayer(e),this._fireEvt("eledata_added",{data:t,layer:e,track_info:this.track_info})):this.once("modules_loaded",(()=>this.addData(t,e)))}))},addTo(t){if(this.options.detached){let e=_(this.options.elevationDiv),n=this.onAdd(t);e?v(e,n):y(t.getContainer(),n,"afterend")}else L.Control.prototype.addTo.call(this,t);return this},clear(){this._marker&&this._marker.remove(),this._chart&&this._clearChart(),this._layers&&this._clearLayers(this._layers),this._markers&&this._clearLayers(this._markers),this._circleMarkers&&this._circleMarkers.remove(),this._hotline&&this._hotline.eachLayer((t=>t.options.renderer.remove())),this._hotline&&this._clearLayers(this._hotline),this._data=[],this.track_info={},this._fireEvt("eledata_clear"),this._updateChart()},_clearChart(){this._events&&this._events.elechart_updated&&this._events.elechart_updated.forEach((({fn:t,ctx:e})=>this.off("elechart_updated",t,e))),this._chart&&this._chart._container&&(this._chart._container.selectAll("g.point .point").remove(),this._chart.clear())},_clearLayers(t){(t=t||this._layers)&&t.eachLayer&&(t.eachLayer((t=>t.remove())),t.clearLayers())},disableBrush(){this._chart._brushEnabled=!1,this._resetDrag()},enableBrush(){this._chart._brushEnabled=!0},disableZoom(){this._chart._zoomEnabled=!1,this._chart._resetZoom()},enableZoom(){this._chart._zoomEnabled=!0},fitBounds(t){t=t||this.getBounds(),this._map&&t.isValid()&&this._map.fitBounds(t)},getBounds(t){return L.latLngBounds((t||this._data).map((t=>t.latlng)))},getZFollow(){return this.options.zFollow},hide(){f(this._container,"display","none")},initialize(e){e=L.setOptions(this,L.extend({},D(E),e)),this._data=[],this._layers=L.featureGroup(),this._markers=L.featureGroup(),this._hotline=L.featureGroup(),this._circleMarkers=L.featureGroup(),this._markedSegments=L.polyline([]),this._start=L.circleMarker([0,0],e.trkStart||E.trkStart),this._end=L.circleMarker([0,0],e.trkEnd||E.trkEnd),this._chartEnabled=!0,this._yCoordMax=-1/0,this.track_info={},e.followMarker&&(this._setMapView=T(this._setMapView,300,this)),e.legend&&(e.margins.bottom+=30),e.theme&&(e.polylineSegments.className+=" "+e.theme),!0===e.wptIcons&&(e.wptIcons=E.wptIcons),!0===e.distanceMarkers&&(e.distanceMarkers=E.distanceMarkers),e.trkStart&&this._start.addTo(this._circleMarkers),e.trkEnd&&this._end.addTo(this._circleMarkers),this._markedSegments.setStyle(e.polylineSegments),L.extend(t,e.colors||{}),this._fixCanvasPaths(),this._fixTooltipSize()},import(t,e){if(Array.isArray(t))return Promise.all(t.map((t=>this.import(t))));switch(t){case this.__D3:e="object"!=typeof d3;break;case this.__TOGEOJSON:e="object"!=typeof toGeoJSON;break;case this.__LGEOMUTIL:e="object"!=typeof L.GeometryUtil;break;case this.__LALMOSTOVER:e="function"!=typeof L.Handler.AlmostOver;break;case this.__LDISTANCEM:e="function"!=typeof L.DistanceMarkers;break;case this.__LEDGESCALE:e="function"!=typeof L.Control.EdgeScale;break;case this.__LHOTLINE:e="function"!=typeof L.Hotline}return!1!==e?o(475)(i(t,this.options.srcFolder)):Promise.resolve()},load(t){this._parseFromString(t).then((e=>e?this._loadLayer(e):this._loadFile(t)))},onAdd(t){this._map=t;let e=this._container=g("div","elevation-control "+this.options.theme+" "+(this.options.detached?"elevation-detached":"leaflet-control"),this.options.detached?{id:"elevation-"+b()}:{});return this.eleDiv||(this.eleDiv=e),this._loadModules(this.options.handlers).then((()=>{this._initChart(e),this._initButton(e),this._initSummary(e),this._initMarker(t),this._initLayer(t),this._modulesLoaded=!0,this.fire("modules_loaded")})),this.fire("add"),e},onRemove(t){this._container=null,t.off("zoom viewreset zoomanim",this._hideMarker,this).off("resize",this._resetView,this).off("resize",this._resizeChart,this).off("mousedown",this._resetDrag,this),M(t.getContainer(),"mousewheel",this._resetDrag,this),M(t.getContainer(),"touchstart",this._resetDrag,this),M(document,"keydown",this._onKeyDown,this),this.off("eledata_added eledata_loaded",this._updateChart,this).off("eledata_added eledata_loaded",this._updateSummary,this),this.fire("remove")},redraw(){this._resizeChart()},setZFollow(t){this.options.zFollow=t},show(){f(this._container,"display","block")},_addData(t){if(t){if("FeatureCollection"===t.type)return x(t.features,(t=>this._addData(t)));if("Feature"===t.type){let e=t.geometry;if(e)switch(e.type){case"LineString":return this._addGeoJSONData(e.coordinates,t.properties);case"MultiLineString":return x(e.coordinates,((e,n)=>this._addGeoJSONData(e,t.properties,n)));default:return console.warn("Unsopperted GeoJSON feature geometry type:"+e.type)}}return t._latlngs?this._addGeoJSONData(t._latlngs,t.feature&&t.feature.properties):void 0}},_addGeoJSONData(t,e,n){let r=e&&e.coordinateProperties||e;t.forEach(((t,e)=>{t.meta=t.meta??{time:null,ele:null},t.prev=t=>t?this._data[e>0?e-1:0][t]:this._data[e>0?e-1:0],this.fire("elepoint_init",{point:t,props:r,id:e,isMulti:n}),this._addPoint(t.lat??t[1],t.lng??t[0],t.alt??t.meta.ele??t[2]),this.fire("elepoint_added",{point:t,index:this._data.length-1}),this._yCoordMax<this._data[this._data.length-1][this.options.yAttr]&&(this._yCoordMax=this._data[this._data.length-1][this.options.yAttr])})),this.fire("eletrack_added",{coords:t,index:this._data.length-1})},_addPoint(t,e,n){this.options.reverseCoords&&([t,e]=[e,t]),this._data.push({x:t,y:e,z:n,latlng:L.latLng(t,e,n)}),this.fire("eledata_updated",{index:this._data.length-1})},_addLayer(t){return t&&this._layers.addLayer(t),t&&this.options.distanceMarkers&&this.options.distanceMarkers.lazy&&t.on("add remove",(({target:t,type:e})=>L.DistanceMarkers&&t instanceof L.Polyline&&t[e+"DistanceMarkers"]())),t},_addMarker(t){return t&&this._markers.addLayer(t),t},_initAlmostOverHandler(t,e){return t&&this.options.almostOver&&!L.Browser.mobile?this.import([this.__LGEOMUTIL,this.__LALMOSTOVER]).then((()=>{t.addHandler("almostOver",L.Handler.AlmostOver),L.GeometryUtil&&t.almostOver&&t.almostOver.enabled()&&(t.almostOver.addLayer(e),t.on("almost:move",this._onMouseMoveLayer,this).on("almost:out",this._onMouseOut,this),this.once("eledata_clear",(()=>{t.almostOver.removeLayer(e),t.off("almost:move",this._onMouseMoveLayer,this).off("almost:out",this._onMouseOut,this)})))})):Promise.resolve()},_initDistanceMarkers(){return this.options.distanceMarkers?this.import([this.__LGEOMUTIL,this.__LDISTANCEM]):Promise.resolve()},_initEdgeScale(t){return this.options.edgeScale?this.import(this.__LEDGESCALE).then((()=>{t.edgeScaleControl=t.edgeScaleControl||L.control.edgeScale("boolean"!=typeof this.options.edgeScale?this.options.edgeScale:{}).addTo(t)})):Promise.resolve()},_initHotLine(t){let e="string"==typeof this.options.hotline?this.options.hotline:"elevation";return this.options.hotline?this.import(this.__LHOTLINE).then((()=>{t.eachLayer((t=>{if("Point"!=t.feature.geometry.type){let n=L.geoJson(t.toGeoJSON(),{coordsToLatLng:t=>L.latLng(t[0],t[1],t[2]*(this.options.altitudeFactor||1))}),r=L.hotline(n.toGeoJSON().features[0].geometry.coordinates,{renderer:L.Hotline.renderer(),min:isFinite(this.track_info[e+"_min"])?this.track_info[e+"_min"]:0,max:isFinite(this.track_info[e+"_max"])?this.track_info[e+"_max"]:1,palette:{0:"#008800",.5:"#ffff00",1:"#ff0000"},weight:5,outlineColor:"#000000",outlineWidth:1}).addTo(this._hotline),i=t.options.style&&t.options.style.opacity||1;t.on("add remove",(({type:e})=>{t.setStyle({opacity:"add"==e?0:i}),r["add"==e?"addTo":"removeFrom"](t._map),r._renderer&&r._renderer._container.parentElement.insertBefore(r._renderer._container,r._renderer._container.parentElement.firstChild)}))}}))})):Promise.resolve()},_initMapIntegrations(t){let e=this._map;e?(this._data.length&&(this._start.setLatLng(this._data[0].latlng),this._end.setLatLng(this._data[this._data.length-1].latlng)),Promise.all([this._initHotLine(t),this._initAlmostOverHandler(e,t),this._initDistanceMarkers(),this._initEdgeScale(e)]).then((()=>{this.options.polyline&&(this._layers.addLayer(t.addTo(e)),this._circleMarkers.addTo(e)),this.options.autofitBounds&&this.fitBounds(t.getBounds()),e.invalidateSize()}))):this.once("add",(()=>this._initMapIntegrations(t)))},_collapse(){d(this._container,"elevation-expanded","elevation-collapsed"),this._map&&this._map.invalidateSize()},_expand(){d(this._container,"elevation-collapsed","elevation-expanded"),this._map&&this._map.invalidateSize()},_fixCanvasPaths(){let e=L.Canvas.prototype._fillStroke,n=this,r=this.options.theme.split(" ")[0].replace("-theme",""),i=t[r]||{};L.Canvas.include({_fillStroke(t,a){if(n._layers.hasLayer(a)){let n=a.options;if(n.color=i.line||i.area||r,n.stroke=!!n.color,e.call(this,t,a),n.stroke&&0!==n.weight){let e=t.globalCompositeOperation||"source-over";t.globalCompositeOperation="destination-over",t.strokeStyle=i.outline||"#FFF",t.lineWidth=1.75*n.weight,t.stroke(),t.globalCompositeOperation=e}}else e.call(this,t,a)}})},_fixTooltipSize(){this.on("elechart_init",(()=>this.once("elechart_change elechart_hover",(({data:t,xCoord:e})=>{this._chartEnabled&&(this._chart._showDiagramIndicator(t,e),this._chart._showDiagramIndicator(t,e)),this._updateMarker(t)}))))},_findItemForLatLng(t){return this._data[this._chart._findIndexForLatLng(t)]},_findItemForX(t){return this._data[this._chart._findIndexForXCoord(t)]},_fireEvt(t,e,n){this.fire&&this.fire(t,e,n),this._map&&this._map.fire(t,e,n)},_hideMarker(){this.options.autohideMarker&&this._marker.remove()},_initChart(t){let e=this.options,n=this._map;if(e.detached){let{offsetWidth:t,offsetHeight:n}=this.eleDiv;t>0&&(e.width=t),n>20&&(e.height=n-20)}else{let{clientWidth:t}=n.getContainer();e._maxWidth=e._maxWidth>e.width?e._maxWidth:e.width,this._container.style.maxWidth=e._maxWidth+"px",e._maxWidth>t&&(e.width=t-30)}this.import([this.__D3,this.__LCHART]).then((r=>{let i=this._chart=new(r[1]||I).Chart(e,this);this._x=this._chart._x,this._y=this._chart._y,d3.select(t).call(i.render()),i.on("reset_drag",this._hideMarker,this).on("mouse_enter",this._onMouseEnter,this).on("dragged",this._onDragEnd,this).on("mouse_move",this._onMouseMove,this).on("mouse_out",this._onMouseOut,this).on("ruler_filter",this._onRulerFilter,this).on("zoom",this._updateChart,this).on("elepath_toggle",this._onToggleChart,this).on("margins_updated",this._resizeChart,this),this.fire("elechart_init"),n.on("zoom viewreset zoomanim",this._hideMarker,this).on("resize",this._resetView,this).on("resize",this._resizeChart,this).on("rotate",this._rotateMarker,this).on("mousedown",this._resetDrag,this),w(n.getContainer(),"mousewheel",this._resetDrag,this),w(n.getContainer(),"touchstart",this._resetDrag,this),w(document,"keydown",this._onKeyDown,this),this.on("eledata_added eledata_loaded",this._updateChart,this).on("eledata_added eledata_loaded",this._updateSummary,this),this._updateChart(),this._updateSummary()}))},_initLayer(){this._layers.on("layeradd layerremove",(({layer:t,type:e})=>{let n=t.getElement&&t.getElement();h(n,this.options.polyline.className+" "+this.options.theme,"layeradd"==e),m(t,"mousemove",this._onMouseMoveLayer.bind(this),"layeradd"==e),m(t,"mouseout",this._onMouseOut.bind(this),"layeradd"==e)}))},_initMarker(t){let e=t.getPane("elevationPane");e||(e=this._pane=t.createPane("elevationPane",t.getPane("norotatePane")||t.getPane("mapPane")),e.style.zIndex=625,e.style.pointerEvents="none"),this._renderer&&this._renderer.remove(),this._renderer=L.svg({pane:"elevationPane"}).addTo(this._map),this.import([this.__D3,this.__LMARKER]).then((t=>{this._marker=new(t[1]||I).Marker(this.options,this),this.fire("elechart_marker")}))},_initButton(t){if(L.DomEvent.disableClickPropagation(t).disableScrollPropagation(t),this.options.collapsed?this._collapse():this._expand(),this.options.autohide&&(w(t,"mouseover",this._expand,this),w(t,"mouseout",this._collapse,this),this._map.on("click",this._collapse,this)),this.options.closeBtn){let e=this._button=g("a","elevation-toggle-icon",{href:"#",title:L._("Elevation")},t);w(e,"click",L.DomEvent.stop),w(e,"click",this._toggle,this),w(e,"focus",this._toggle,this),fetch(i(this.__btnIcon,this.options.srcFolder)).then((t=>t.ok&&t.text().then((t=>e.innerHTML=t))))}},_initSummary(t){this.import(this.__LSUMMARY).then((e=>{this._summary=new(e||I).Summary({summary:this.options.summary},this),this.on("elechart_init",(()=>{d3.select(t).call(this._summary.render())}))}))},_loadFile(t){fetch(t).then((t=>t.text())).then((e=>{this._downloadURL=t,this._parseFromString(e).then((t=>t&&this._loadLayer(t)))})).catch((t=>console.warn(t)))},_loadModules(t){let e=(t=t.map((t=>"string"==typeof t&&void 0!==I[t]?I[t]:t))).map((t=>"string"==typeof t&&this.import(this.__modulesFolder+t.toLowerCase()+".js")||t instanceof Promise&&t||Promise.resolve()));return Promise.all(e).then((e=>{x(e,((e,n)=>{let r=e&&Object.keys(e)[0];r&&(t[n]=I[r]=I[r]??e[r])})),x(t,(t=>["function","object"].includes(typeof t)&&this._registerHandler(t)))}))},_loadLayer(t){let{polyline:e,theme:n,waypoints:r,wptIcons:i,wptLabels:a,distanceMarkers:o}=this.options,s=L.extend({},e);n&&(s.className+=" "+n),t.name&&(this.track_info.name=t.name);let l=L.geoJson(t,{distanceMarkers:o,style:s,pointToLayer:(t,e)=>{if(r){let{desc:n,name:o,sym:s}=t.properties;if(n=n||"",o=o||"",[!0,"dots"].includes(r)&&this._registerCheckPoint({latlng:e,label:[!0,"dots"].includes(a)?o:""}),[!0,"markers"].includes(r)&&0!=i)return this._registerMarker({latlng:e,sym:(s??o).replace(" ","-").replace('"',"").replace("'","").toLowerCase(),content:[!0,"markers"].includes(a)&&(o||n)&&decodeURI("<b>"+o+"</b>"+(n.length>0?"<br>"+n:""))})}},onEachFeature:(t,e)=>t.geometry&&"Point"!=t.geometry.type&&this.addData(t,e)});return this.import(this.__D3).then((()=>{this._initMapIntegrations(l);const e={data:t,layer:l,name:this.track_info.name,track_info:this.track_info};this._modulesLoaded?this._fireEvt("eledata_loaded",e):this.once("modules_loaded",(()=>this._fireEvt("eledata_loaded",e)))})),l},_onDragEnd({dragstart:t,dragend:e}){this._hideMarker(),this.fitBounds(L.latLngBounds([t.latlng,e.latlng])),this.fire("elechart_dragged")},_onKeyDown({key:t}){this.options.detached||"Escape"!==t||this._collapse()},_onMouseEnter(){this.fire("elechart_enter")},_onMouseMove({xCoord:t}){if(this._chartEnabled&&this._data.length){let e=this._findItemForX(t);e&&(this._chartEnabled&&this._chart._showDiagramIndicator(e,t),this._updateMarker(e),this._setMapView(e),this._map&&c(this._map.getContainer(),"elechart-hover"),this.fire("elechart_change",{data:e,xCoord:t}),this.fire("elechart_hover",{data:e,xCoord:t}))}},_onMouseMoveLayer({latlng:t}){if(this._data.length){let e=this._findItemForLatLng(t);if(e){let t=e.xDiagCoord;this._chartEnabled&&this._chart._showDiagramIndicator(e,t),this._updateMarker(e),this.fire("elechart_change",{data:e,xCoord:t})}}},_onMouseOut(){this.options.detached||(this._hideMarker(),this._chart._hideDiagramIndicator()),this._map&&u(this._map.getContainer(),"elechart-hover"),this.fire("elechart_leave")},_onRulerFilter({coords:t}){this._updateMapSegments(t)},_onToggleChart({name:t,enabled:e}){this._chartEnabled=this._chart._hasActiveLayers(),this._layers.eachLayer((t=>h(t.getElement&&t.getElement(),this.options.polyline.className+" "+this.options.theme,this._chartEnabled))),this.options[t]=e||"disabled"!=this.options[t]?"disabled":"enabled",this._chartEnabled||(this._chart._hideDiagramIndicator(),this._marker.remove())},_parseFromGeoJSONString(t){try{return JSON.parse(t)}catch(t){}},_parseFromString(t){return new Promise((e=>this.import(this.__TOGEOJSON).then((()=>{let n;try{n=this._parseFromXMLString(t.trim())}catch(e){n=this._parseFromGeoJSONString(t.toString())}n&&(n.name=n.name||(this._downloadURL||"").split("/").pop().split("#")[0].split("?")[0]),e(n)}))))},_parseFromXMLString(t){if(0!=t.indexOf("<"))throw"Invalid XML";let e=(new DOMParser).parseFromString(t,"text/xml"),n=e.documentElement.tagName.toLowerCase(),r=e.getElementsByTagName("name");if(e.getElementsByTagName("parsererror").length)throw"Invalid XML";n in toGeoJSON||(n="TrainingCenterDatabase"==e.documentElement.tagName?"tcx":"gpx");let i=toGeoJSON[n](e);return i.name=r.length>0?(Array.from(r).find((t=>"trk"==t.parentElement.tagName))??r[0]).textContent:"",i},_registerAreaPath(t){this.on("elechart_init",(()=>this._chart._registerAreaPath(t)))},_registerAxisGrid(t){this.on("elechart_axis",(()=>this._chart._registerAxisGrid(t)))},_registerAxisScale(t){this.on("elechart_axis",(()=>this._chart._registerAxisScale(t)))},_registerCheckPoint(t){const e=()=>this._chart._registerCheckPoint(t);this.on("elechart_updated",e).once("eledata_clear",(()=>this.off("elechart_updated",e)))},_registerDataAttribute(t){t.coordPropsToMeta&&this.on("elepoint_init",(e=>t.coordPropsToMeta.call(this,e)));let e,n,r,i=t.attr||t.name,a={};this.on("elepoint_added",(({index:o,point:s})=>{if(e=o,r=n??this._data[e],n=this._data[e],n[i]=t.pointToAttr.call(this,s,e),e>0&&isNaN(r[i])&&(isNaN(a[i])||isNaN(n[i])?isNaN(a[i])?isNaN(n[i])||(r[i]=n[i]):r[i]=a[i]:r[i]=(a[i]+n[i])/2,t.meta&&(r[t.meta]=r[i])),!isNaN(n[i])){if(a[i]=n[i],t.deltaMax&&(n[i]=P(n[i],r[i],t.deltaMax)),t.clampRange&&(n[i]=S(n[i],t.clampRange)),isNaN(t.decimals)||(n[i]=C(n[i],t.decimals)),t.stats)for(const e in t.stats){let r=(t.statsName||i)+(""!=e?"_":"");this.track_info[r+e]=t.stats[e].call(this,n[i],this.track_info[r+e],this._data.length)}t.onPointAdded&&t.onPointAdded.call(this,n[i],e,s)}}))},_registerHandler(t){if("function"==typeof t)return this._registerHandler(t.call(this));let{name:e,attr:n,required:r,deltaMax:i,clampRange:a,decimals:o,meta:l,unit:c,coordinateProperties:u,coordPropsToMeta:h,pointToAttr:d,onPointAdded:f,stats:p,statsName:m,grid:g,scale:v,path:y,tooltip:_,summary:b}=t;(this.options[e]||r)&&(this._registerDataAttribute({name:e,attr:n,meta:l,deltaMax:i,clampRange:a,decimals:o,coordPropsToMeta:s(u,l||e,h),pointToAttr:d,onPointAdded:f,stats:p,statsName:m}),g&&this._registerAxisGrid(L.extend({name:e},g)),"summary"!==this.options[e]&&(v&&this._registerAxisScale(L.extend({name:e,label:c},v)),y&&this._registerAreaPath(L.extend({name:e},y))),(_||t.tooltips)&&x([_,...t.tooltips||[]],(t=>t&&this._registerTooltip(L.extend({name:e},t)))),b&&(x(b,((t,e)=>b[e]=L.extend({unit:c},t))),this._registerSummary(b)))},_registerMarker({latlng:t,sym:e,content:n}){let{wptIcons:r}=this.options;r.hasOwnProperty(e)||(r[e]=L.divIcon(L.extend({},r[""].options,{html:'<i class="elevation-waypoint-icon '+e+'"></i>'})));let i=L.marker(t,{icon:r[e]});return n&&(i.bindPopup(n,{className:"elevation-popup",keepInView:!0}).openPopup(),i.bindTooltip(n,{className:"elevation-tooltip",direction:"auto",sticky:!0,opacity:1}).openTooltip()),this._addMarker(i)},_registerTooltip(t){t.chart&&this.on("elechart_init",(()=>this._chart._registerTooltip(L.extend({},t,{value:t.chart})))),t.marker&&this.on("elechart_marker",(()=>this._marker._registerTooltip(L.extend({},t,{value:t.marker}))))},_registerSummary(t){this.on("elechart_summary",(()=>this._summary._registerSummary(t)))},_resetDrag(){this._chart._resetDrag(),this._hideMarker()},_resetView(){this._map&&this._map._isFullscreen||(this._resetDrag(),this._hideMarker(),this.options.autofitBounds&&this.fitBounds())},_resizeChart(){if(this._container&&"none"!=f(this._container,"display")){let t=this.options,e=t.detached?(this.eleDiv||this._container).offsetWidth:S(t._maxWidth,[0,this._map.getContainer().clientWidth-30]);e&&(t.width=e,this._chart&&this._chart._chart&&(this._chart._chart._resize(t),this._updateChart())),this._updateMapSegments()}},_toggle(){A(this._container,"elevation-expanded")?this._collapse():this._expand()},_setMapView(t){if(this._map&&this.options.followMarker){let e=this._map.getZoom(),n=this.options.zFollow;"number"==typeof n?this._map.setView(t.latlng,e<n?n:e,{animate:!0,duration:.25}):this._map.getBounds().contains(t.latlng)||this._map.setView(t.latlng,e,{animate:!0,duration:.25})}},_updateChart(){this._chart&&this._container&&(this.fire("elechart_axis"),this._chart.update({data:this._data,options:this.options}),this._x=this._chart._x,this._y=this._chart._y,this.fire("elechart_updated"))},_updateMarker(t){this._marker&&this._marker.update({map:this._map,item:t,yCoordMax:this._yCoordMax||0,options:this.options})},_rotateMarker(){this._marker&&this._marker.update()},_updateMapSegments(t){this._markedSegments.setLatLngs(t||[]),t&&this._map&&!this._map.hasLayer(this._markedSegments)&&this._markedSegments.addTo(this._map)},_updateSummary(){this._summary&&(this._summary.reset(),this.options.summary&&(this.fire("elechart_summary"),this._summary.update()),this.options.downloadLink&&this._downloadURL&&(this._summary._container.innerHTML+='<span class="download"><a href="#">'+L._("Download")+"</a></span>",_(".download a",this._summary._container).onclick=t=>{t.preventDefault();let e={downloadLink:this.options.downloadLink,confirm:a.bind(this,this._downloadURL)};"modal"==this.options.downloadLink&&"function"==typeof CustomEvent?document.dispatchEvent(new CustomEvent("eletrack_download",{detail:e})):"link"!=this.options.downloadLink&&!0!==this.options.downloadLink||e.confirm(),this.fire("eletrack_download",e)}))},_width(){if(this._chart)return this._chart._width();const{width:t,margins:e}=this.options;return t-e.left-e.right},_height(){if(this._chart)return this._chart._height();const{height:t,margins:e}=this.options;return t-e.top-e.bottom}});I.Utils=O,L.control.elevation=t=>new I(t)},"function"==typeof define&&define.amd?define(Da):Da();var Ia=o(4882),za={};za.styleTagTransform=Aa(),za.setAttributes=wa(),za.insert=xa().bind(null,"head"),za.domAPI=ya(),za.insertStyleElement=Ta(),ga()(Ia.A,za),Ia.A&&Ia.A.locals&&Ia.A.locals,o(3495);var Na=o(6411),Ra=o.n(Na);o(8956);const Fa={showAllSuggestions:!1,suggestionsThreshold:1,maximumItems:0,autoselectFirst:!0,ignoreEnter:!1,tabSelect:!1,updateOnSelect:!1,highlightTyped:!1,highlightClass:"",fullWidth:!1,fixed:!1,fuzzy:!1,startsWith:!1,fillIn:!1,preventBrowserAutocomplete:!1,itemClass:"",activeClasses:["bg-primary","text-white"],labelField:"label",valueField:"value",searchFields:["label"],queryParam:"query",items:[],source:null,hiddenInput:!1,hiddenValue:"",clearControl:"",datalist:"",server:"",serverMethod:"GET",serverParams:{},serverDataKey:"data",fetchOptions:{},liveServer:!1,noCache:!0,debounceTime:300,notFoundMessage:"",onRenderItem:(t,e,n)=>e,onSelectItem:(t,e)=>{},onClearItem:(t,e)=>{},onServerResponse:(t,e)=>t.json(),onServerError:(t,e,n)=>{"AbortError"===t.name||e.aborted||console.error(t)},onChange:(t,e)=>{},onBeforeFetch:t=>{},onAfterFetch:t=>{}},ja="is-loading",Ba="is-active",Ha="show",Ua="next",Za="prev",Va=new WeakMap;let Ya=0,Wa=0;function Ga(t){return t?function(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}(t.toString()).toLowerCase():""}function qa(t,e){if(t.indexOf(e)>=0)return!0;let n=0;for(let r=0;r<e.length;r++){const i=e[r];if(" "!==i&&(n=t.indexOf(i,n)+1,n<=0))return!1}return!0}function Xa(t,e){return t.parentNode.insertBefore(e,t.nextSibling)}function Ja(t,e){for(const[n,r]of Object.entries(e))t.setAttribute(n,r)}window.bootstrap=e,window.Mousetrap=Ra(),window.Autocomplete=class{constructor(t,e={}){if(!(t instanceof HTMLElement))return void console.error("Invalid element",t);Va.set(t,this),Ya++,Wa++,this._searchInput=t,this._configure(e),this._isMouse=!1,this._preventInput=!1,this._keyboardNavigation=!1,this._searchFunc=function(t,e=300){let n;return(...r)=>{clearTimeout(n),n=setTimeout((()=>{t.apply(this,r)}),e)}}((()=>{this._loadFromServer(!0)}),this._config.debounceTime),this._configureSearchInput(),this._configureDropElement(),this._config.fixed&&(document.addEventListener("scroll",this,!0),window.addEventListener("resize",this));const n=this._getClearControl();n&&n.addEventListener("click",this),["focus","change","blur","input","keydown"].forEach((t=>{this._searchInput.addEventListener(t,this)})),["mousemove","mouseenter","mouseleave"].forEach((t=>{this._dropElement.addEventListener(t,this)})),this._fetchData()}static init(t="input.autocomplete",e={}){document.querySelectorAll(t).forEach((t=>{this.getOrCreateInstance(t,e)}))}static getInstance(t){return Va.has(t)?Va.get(t):null}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,e)}dispose(){Wa--,["focus","change","blur","input","keydown"].forEach((t=>{this._searchInput.removeEventListener(t,this)})),["mousemove","mouseenter","mouseleave"].forEach((t=>{this._dropElement.removeEventListener(t,this)}));const t=this._getClearControl();t&&t.removeEventListener("click",this),this._config.fixed&&Wa<=0&&(document.removeEventListener("scroll",this,!0),window.removeEventListener("resize",this)),this._dropElement.parentElement.removeChild(this._dropElement),Va.delete(this._searchInput)}_getClearControl(){if(this._config.clearControl)return document.querySelector(this._config.clearControl)}handleEvent=t=>{["scroll","resize"].includes(t.type)?(this._timer&&window.cancelAnimationFrame(this._timer),this._timer=window.requestAnimationFrame((()=>{this[`on${t.type}`](t)}))):this[`on${t.type}`](t)};_configure(t={}){this._config=Object.assign({},Fa);const e={...t,...this._searchInput.dataset},n=t=>["true","false","1","0",!0,!1].includes(t)&&!!JSON.parse(t);for(const[t,r]of Object.entries(Fa)){if(void 0===e[t])continue;const i=e[t];switch(typeof r){case"number":this._config[t]=parseInt(i);break;case"boolean":this._config[t]=n(i);break;case"string":this._config[t]=i.toString();break;case"object":if(Array.isArray(r))if("string"==typeof i){const e=i.includes("|")?"|":",";this._config[t]=i.split(e)}else this._config[t]=i;else this._config[t]="string"==typeof i?JSON.parse(i):i;break;case"function":this._config[t]="string"==typeof i?window[i]:i;break;default:this._config[t]=i}}}_configureSearchInput(){if(this._searchInput.autocomplete="off",this._searchInput.spellcheck=!1,Ja(this._searchInput,{"aria-autocomplete":"list","aria-haspopup":"menu","aria-expanded":"false",role:"combobox"}),this._searchInput.id&&this._config.preventBrowserAutocomplete){const e=document.querySelector(`[for="${this._searchInput.id}"]`);e&&((t=e).ariaLabel=t.innerText,t.innerHTML=t.innerText.split("").map((t=>t+"&zwj;")).join(""))}var t;this._hiddenInput=null,this._config.hiddenInput&&(this._hiddenInput=document.createElement("input"),this._hiddenInput.type="hidden",this._hiddenInput.value=this._config.hiddenValue,this._hiddenInput.name=this._searchInput.name,this._searchInput.name="_"+this._searchInput.name,Xa(this._searchInput,this._hiddenInput))}_configureDropElement(){this._dropElement=document.createElement("ul"),this._dropElement.id="ac-menu-"+Ya,this._dropElement.classList.add("dropdown-menu","autocomplete-menu","p-0"),this._dropElement.style.maxHeight="280px",this._config.fullWidth||(this._dropElement.style.maxWidth="360px"),this._config.fixed&&(this._dropElement.style.position="fixed"),this._dropElement.style.overflowY="auto",this._dropElement.style.overscrollBehavior="contain",this._dropElement.style.textAlign="unset",Xa(this._searchInput,this._dropElement),this._searchInput.setAttribute("aria-controls",this._dropElement.id)}onclick(t){t.target.matches(this._config.clearControl)&&this.clear()}oninput(t){this._preventInput||(this._hiddenInput&&(this._hiddenInput.value=null),this.showOrSearch())}onchange(t){const e=this._searchInput.value,n=this._items.find((t=>t.label===e));this._config.onChange(n,this)}onblur(t){const e=t.relatedTarget;this._isMouse&&e&&(e.classList.contains("modal")||e.classList.contains("autocomplete-menu"))?this._searchInput.focus():setTimeout((()=>{this.hideSuggestions()}),100)}onfocus(t){this.showOrSearch()}onkeydown(t){switch(t.keyCode||t.key){case 13:case"Enter":if(this.isDropdownVisible()){const e=this.getSelection();e&&e.click(),!e&&this._config.ignoreEnter||t.preventDefault()}break;case 9:case"Tab":if(this.isDropdownVisible()&&this._config.tabSelect){const e=this.getSelection();e&&(e.click(),t.preventDefault())}break;case 38:case"ArrowUp":t.preventDefault(),this._keyboardNavigation=!0,this._moveSelection(Za);break;case 40:case"ArrowDown":t.preventDefault(),this._keyboardNavigation=!0,this.isDropdownVisible()?this._moveSelection(Ua):this.showOrSearch(!1);break;case 27:case"Escape":this.isDropdownVisible()&&(this._searchInput.focus(),this.hideSuggestions())}}onmouseenter(t){this._isMouse=!0}onmousemove(t){this._isMouse=!0,this._keyboardNavigation=!1}onmouseleave(t){this._isMouse=!1,this.removeSelection()}onscroll(t){this._positionMenu()}onresize(t){this._positionMenu()}getConfig(t=null){return null!==t?this._config[t]:this._config}setConfig(t,e){this._config[t]=e}setData(t){this._items=[],this._addItems(t)}enable(){this._searchInput.setAttribute("disabled","")}disable(){this._searchInput.removeAttribute("disabled")}isDisabled(){return this._searchInput.hasAttribute("disabled")||this._searchInput.disabled||this._searchInput.hasAttribute("readonly")}isDropdownVisible(){return this._dropElement.classList.contains(Ha)}clear(){const t=this._searchInput.value;this._searchInput.value="",this._hiddenInput&&(this._hiddenInput.value=""),this._config.onClearItem(t,this)}getSelection(){return this._dropElement.querySelector("a."+Ba)}removeSelection(){const t=this.getSelection();t&&t.classList.remove(...this._activeClasses())}_activeClasses(){return[...this._config.activeClasses,Ba]}_isItemEnabled(t){if("none"===t.style.display)return!1;const e=t.firstElementChild;return"A"===e.tagName&&!e.classList.contains("disabled")}_moveSelection(t=Ua,e=null){const n=this.getSelection();if(n){const r=t===Ua?"nextSibling":"previousSibling";e=n.parentNode;do{e=e[r]}while(e&&!this._isItemEnabled(e));e?(n.classList.remove(...this._activeClasses()),t===Za?e.parentNode.scrollTop=e.offsetTop-e.parentNode.offsetTop:e.offsetTop>e.parentNode.offsetHeight-e.offsetHeight&&(e.parentNode.scrollTop+=e.offsetHeight)):n&&(e=n.parentElement)}else{if(t===Za)return e;if(!e)for(e=this._dropElement.firstChild;e&&!this._isItemEnabled(e);)e=e.nextSibling}if(e){const t=e.querySelector("a");t.classList.add(...this._activeClasses()),this._searchInput.setAttribute("aria-activedescendant",t.id),this._config.updateOnSelect&&(this._searchInput.value=t.dataset.label)}else this._searchInput.setAttribute("aria-activedescendant","");return e}_shouldShow(){return!this.isDisabled()&&this._searchInput.value.length>=this._config.suggestionsThreshold}showOrSearch(t=!0){!t||this._shouldShow()?this._config.liveServer?this._searchFunc():this._config.source?this._config.source(this._searchInput.value,(t=>{this.setData(t),this._showSuggestions()})):this._showSuggestions():this.hideSuggestions()}_createGroup(t){const e=this._createLi(),n=document.createElement("span");return e.append(n),n.classList.add("dropdown-header","text-truncate"),n.innerHTML=t,e}_createItem(t,e){let n=e.label;if(this._config.highlightTyped){const e=Ga(n).indexOf(t);-1!==e&&(n=n.substring(0,e)+`<mark class="${this._config.highlightClass}">${n.substring(e,e+t.length)}</mark>`+n.substring(e+t.length,n.length))}n=this._config.onRenderItem(e,n,this);const r=this._createLi(),i=document.createElement("a");if(r.append(i),i.id=this._dropElement.id+"-"+this._dropElement.children.length,i.classList.add("dropdown-item","text-truncate"),this._config.itemClass&&i.classList.add(...this._config.itemClass.split(" ")),i.setAttribute("data-value",e.value),i.setAttribute("data-label",e.label),i.setAttribute("tabindex","-1"),i.setAttribute("role","menuitem"),i.setAttribute("href","#"),i.innerHTML=n,e.data)for(const[t,n]of Object.entries(e.data))i.dataset[t]=n;if(this._config.fillIn){const t=document.createElement("button");t.type="button",t.classList.add("btn","btn-link","border-0"),t.innerHTML='<svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1H3.707l10.147 10.146a.5.5 0 0 1-.708.708L3 3.707V8.5a.5.5 0 0 1-1 0z"/>\n      </svg>',r.append(t),r.classList.add("d-flex","justify-content-between"),t.addEventListener("click",(t=>{this._searchInput.value=e.label,this._searchInput.focus()}))}return i.addEventListener("mouseenter",(t=>{if(this._keyboardNavigation||!this._isMouse)return;this.removeSelection();const e=r.querySelector("a");e.classList.add(...this._activeClasses()),this._searchInput.setAttribute("aria-activedescendant",e.id)})),i.addEventListener("mousedown",(t=>{t.preventDefault()})),i.addEventListener("click",(t=>{t.preventDefault(),this._preventInput=!0,this._searchInput.value=function(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}(e.label),this._hiddenInput&&(this._hiddenInput.value=e.value),this._config.onSelectItem(e,this),this.hideSuggestions(),this._preventInput=!1})),r}_getActiveElement(t=document){const e=t.activeElement;return e?e.shadowRoot?this._getActiveElement(e.shadowRoot):e:null}_showSuggestions(){if(this._getActiveElement()!==this._searchInput)return;const t=Ga(this._searchInput.value);this._dropElement.innerHTML="";let e=0,n=null;const r=[];for(const i of this._items){const a=this._config.showAllSuggestions||0===t.length;let o=0===t.length&&0===this._config.suggestionsThreshold;t.length>0&&this._config.searchFields.forEach((e=>{const n=Ga(i[e]);let r=!1;if(this._config.fuzzy)r=qa(n,t);else{const e=n.indexOf(t);r=this._config.startsWith?0===e:e>=0}r&&(o=!0)}));const s=o||0===t.length;if(a||o){if(e++,i.group&&!r.includes(i.group)){const t=this._createGroup(i.group);this._dropElement.appendChild(t),r.push(i.group)}const a=this._createItem(t,i);if(!n&&s&&(n=a),this._dropElement.appendChild(a),this._config.maximumItems>0&&e>=this._config.maximumItems)break}}if(n&&this._config.autoselectFirst&&(this.removeSelection(),this._moveSelection(Ua,n)),0===e)if(this._config.notFoundMessage){const t=this._createLi();t.innerHTML=`<span class="dropdown-item">${this._config.notFoundMessage}</span>`,this._dropElement.appendChild(t),this._showDropdown()}else this.hideSuggestions();else this._showDropdown()}_createLi(){const t=document.createElement("li");return t.setAttribute("role","presentation"),t}_showDropdown(){this._dropElement.classList.add(Ha),this._dropElement.setAttribute("role","menu"),Ja(this._searchInput,{"aria-expanded":"true"}),this._positionMenu()}toggleSuggestions(t=!0){this._dropElement.classList.contains(Ha)?this.hideSuggestions():this.showOrSearch(t)}hideSuggestions(){this._dropElement.classList.remove(Ha),Ja(this._searchInput,{"aria-expanded":"false"}),this.removeSelection()}getInput(){return this._searchInput}getDropMenu(){return this._dropElement}_positionMenu(){const t=window.getComputedStyle(this._searchInput),e=this._searchInput.getBoundingClientRect(),n="rtl"===t.direction,r=this._config.fullWidth;let i=null,a=null;this._config.fixed&&(i=e.x,a=e.y+e.height,n&&!r&&(i-=this._dropElement.offsetWidth-e.width)),this._dropElement.style.transform="unset",r&&(this._dropElement.style.width=this._searchInput.offsetWidth+"px"),null!==i&&(this._dropElement.style.left=i+"px"),null!==a&&(this._dropElement.style.top=a+"px");const o=this._dropElement.getBoundingClientRect(),s=window.innerHeight;if(o.y+o.height>s){const t=r?e.height+4:e.height;this._dropElement.style.transform="translateY(calc(-100.1% - "+t+"px))"}}_fetchData(){this._items=[],this._addItems(this._config.items);const t=this._config.datalist;if(t){const e=document.querySelector(`#${t}`);if(e){const t=Array.from(e.children).map((t=>({value:t.getAttribute("value")??t.innerHTML.toLowerCase(),label:t.innerHTML})));this._addItems(t)}else console.error(`Datalist not found ${t}`)}this._setHiddenVal(),this._config.server&&!this._config.liveServer&&this._loadFromServer()}_setHiddenVal(){if(this._config.hiddenInput&&!this._config.hiddenValue)for(const t of this._items)t.label==this._searchInput.value&&(this._hiddenInput.value=t.value)}_normalizeData(t){if(Array.isArray(t))return t;let e=[];for(const[n,r]of Object.entries(t))e.push({value:n,label:r});return e}_addItems(t){t=this._normalizeData(t);for(const e of t){if(e.group&&e.items){e.items.forEach((t=>t.group=e.group)),this._addItems(e.items);continue}const t="string"==typeof e?e:e.label,n="object"!=typeof e?{}:e;n.label=e[this._config.labelField]??t,n.value=e[this._config.valueField]??t,n.label&&this._items.push(n)}}_loadFromServer(t=!1){this._abortController&&this._abortController.abort(),this._abortController=new AbortController,this._config.onBeforeFetch(this);let e=this._searchInput.dataset.serverParams||{};"string"==typeof e&&(e=JSON.parse(e));const n=Object.assign({},this._config.serverParams,e);n[this._config.queryParam]=this._searchInput.value,this._config.noCache&&(n.t=Date.now()),n.related&&(Array.isArray(n.related)?n.related:[n.related]).forEach((t=>{const e=document.getElementById(t);if(e){const t=e.value,r=e.getAttribute("name");r&&(n[r]=t)}}));const r=new URLSearchParams(n);let i=this._config.server,a=Object.assign(this._config.fetchOptions,{method:this._config.serverMethod||"GET",signal:this._abortController.signal});"POST"===a.method?a.body=r:(-1==i.indexOf("?")?i+="?":i+="&",i+=r.toString()),this._searchInput.classList.add(ja),fetch(i,a).then((t=>this._config.onServerResponse(t,this))).then((e=>{const n=function(t,e="window"){return t.split(".").reduce(((t,e)=>t[e]),e)}(this._config.serverDataKey,e)||e;this.setData(n),this._setHiddenVal(),this._abortController=null,t&&this._showSuggestions()})).catch((t=>{this._config.onServerError(t,this._abortController.signal,this)})).finally((t=>{this._searchInput.classList.remove(ja),this._config.onAfterFetch(this)}))}}})()})();