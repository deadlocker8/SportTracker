{% macro planned_tour_form_shared_users(plannedTour, users) -%}
    <div class="mb-3">
        <label for="track-participants" class="form-label">
            <div class="d-flex align-items-center">
                <span class="material-icons me-3">share</span>
                <span>{{ gettext('Share this tour with') }}</span>
            </div>
        </label>
        {% for user in users %}
            <div class="form-check input-field-margin">
                <input class="form-check-input participant-checkbox" type="checkbox" {% if plannedTour and user.id|string in plannedTour.sharedUsers %}checked{% endif %} id="sharedUser-{{ user.id }}" name="sharedUsers" value="{{ user.id }}">
                <label class="form-check-label" for="sharedUser-{{ user.id }}">
                    {{ user.name }}
                </label>
            </div>
        {% endfor %}

        {% if not users %}
            <div class="d-flex align-items-center input-field-margin">
                <span class="material-icons fs-4 me-2">info_outline</span>
                <span>{{ gettext('No other users available') }}</span>
            </div>
        {% endif %}
    </div>
{%- endmacro %}
